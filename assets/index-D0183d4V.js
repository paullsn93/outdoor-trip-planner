(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function PS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hd={exports:{}},Co={};var o_;function jS(){if(o_)return Co;o_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:n,type:a,key:h,ref:l!==void 0?l:null,props:u}}return Co.Fragment=t,Co.jsx=i,Co.jsxs=i,Co}var u_;function qS(){return u_||(u_=1,Hd.exports=jS()),Hd.exports}var F=qS(),Fd={exports:{}},St={};var c_;function HS(){if(c_)return St;c_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,U={};function K(V,J,ot){this.props=V,this.context=J,this.refs=U,this.updater=ot||P}K.prototype.isReactComponent={},K.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},K.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function X(){}X.prototype=K.prototype;function $(V,J,ot){this.props=V,this.context=J,this.refs=U,this.updater=ot||P}var it=$.prototype=new X;it.constructor=$,z(it,K.prototype),it.isPureReactComponent=!0;var at=Array.isArray;function st(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(V,J,ot){var ct=ot.ref;return{$$typeof:n,type:V,key:J,ref:ct!==void 0?ct:null,props:ot}}function M(V,J){return x(V.type,J,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function k(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ot){return J[ot]})}var N=/\/+/g;function kt(V,J){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):J.toString(36)}function le(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(st,st):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Z(V,J,ot,ct,_t){var yt=typeof V;(yt==="undefined"||yt==="boolean")&&(V=null);var Dt=!1;if(V===null)Dt=!0;else switch(yt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(V.$$typeof){case n:case t:Dt=!0;break;case E:return Dt=V._init,Z(Dt(V._payload),J,ot,ct,_t)}}if(Dt)return _t=_t(V),Dt=ct===""?"."+kt(V,0):ct,at(_t)?(ot="",Dt!=null&&(ot=Dt.replace(N,"$&/")+"/"),Z(_t,J,ot,"",function(Mt){return Mt})):_t!=null&&(O(_t)&&(_t=M(_t,ot+(_t.key==null||V&&V.key===_t.key?"":(""+_t.key).replace(N,"$&/")+"/")+Dt)),J.push(_t)),1;Dt=0;var te=ct===""?".":ct+":";if(at(V))for(var qt=0;qt<V.length;qt++)ct=V[qt],yt=te+kt(ct,qt),Dt+=Z(ct,J,ot,yt,_t);else if(qt=D(V),typeof qt=="function")for(V=qt.call(V),qt=0;!(ct=V.next()).done;)ct=ct.value,yt=te+kt(ct,qt++),Dt+=Z(ct,J,ot,yt,_t);else if(yt==="object"){if(typeof V.then=="function")return Z(le(V),J,ot,ct,_t);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function lt(V,J,ot){if(V==null)return V;var ct=[],_t=0;return Z(V,ct,"","",function(yt){return J.call(ot,yt,_t++)}),ct}function gt(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(ot){(V._status===0||V._status===-1)&&(V._status=1,V._result=ot)},function(ot){(V._status===0||V._status===-1)&&(V._status=2,V._result=ot)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var wt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Bt={map:lt,forEach:function(V,J,ot){lt(V,function(){J.apply(this,arguments)},ot)},count:function(V){var J=0;return lt(V,function(){J++}),J},toArray:function(V){return lt(V,function(J){return J})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return St.Activity=b,St.Children=Bt,St.Component=K,St.Fragment=i,St.Profiler=l,St.PureComponent=$,St.StrictMode=a,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},St.cache=function(V){return function(){return V.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(V,J,ot){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ct=z({},V.props),_t=V.key;if(J!=null)for(yt in J.key!==void 0&&(_t=""+J.key),J)!w.call(J,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&J.ref===void 0||(ct[yt]=J[yt]);var yt=arguments.length-2;if(yt===1)ct.children=ot;else if(1<yt){for(var Dt=Array(yt),te=0;te<yt;te++)Dt[te]=arguments[te+2];ct.children=Dt}return x(V.type,_t,ct)},St.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},St.createElement=function(V,J,ot){var ct,_t={},yt=null;if(J!=null)for(ct in J.key!==void 0&&(yt=""+J.key),J)w.call(J,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(_t[ct]=J[ct]);var Dt=arguments.length-2;if(Dt===1)_t.children=ot;else if(1<Dt){for(var te=Array(Dt),qt=0;qt<Dt;qt++)te[qt]=arguments[qt+2];_t.children=te}if(V&&V.defaultProps)for(ct in Dt=V.defaultProps,Dt)_t[ct]===void 0&&(_t[ct]=Dt[ct]);return x(V,yt,_t)},St.createRef=function(){return{current:null}},St.forwardRef=function(V){return{$$typeof:m,render:V}},St.isValidElement=O,St.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:gt}},St.memo=function(V,J){return{$$typeof:p,type:V,compare:J===void 0?null:J}},St.startTransition=function(V){var J=R.T,ot={};R.T=ot;try{var ct=V(),_t=R.S;_t!==null&&_t(ot,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(st,wt)}catch(yt){wt(yt)}finally{J!==null&&ot.types!==null&&(J.types=ot.types),R.T=J}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(V){return R.H.use(V)},St.useActionState=function(V,J,ot){return R.H.useActionState(V,J,ot)},St.useCallback=function(V,J){return R.H.useCallback(V,J)},St.useContext=function(V){return R.H.useContext(V)},St.useDebugValue=function(){},St.useDeferredValue=function(V,J){return R.H.useDeferredValue(V,J)},St.useEffect=function(V,J){return R.H.useEffect(V,J)},St.useEffectEvent=function(V){return R.H.useEffectEvent(V)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(V,J,ot){return R.H.useImperativeHandle(V,J,ot)},St.useInsertionEffect=function(V,J){return R.H.useInsertionEffect(V,J)},St.useLayoutEffect=function(V,J){return R.H.useLayoutEffect(V,J)},St.useMemo=function(V,J){return R.H.useMemo(V,J)},St.useOptimistic=function(V,J){return R.H.useOptimistic(V,J)},St.useReducer=function(V,J,ot){return R.H.useReducer(V,J,ot)},St.useRef=function(V){return R.H.useRef(V)},St.useState=function(V){return R.H.useState(V)},St.useSyncExternalStore=function(V,J,ot){return R.H.useSyncExternalStore(V,J,ot)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.4",St}var f_;function jm(){return f_||(f_=1,Fd.exports=HS()),Fd.exports}var C=jm();const Un=PS(C);var Gd={exports:{}},xo={},Yd={exports:{}},Qd={};var h_;function FS(){return h_||(h_=1,(function(n){function t(Z,lt){var gt=Z.length;Z.push(lt);t:for(;0<gt;){var wt=gt-1>>>1,Bt=Z[wt];if(0<l(Bt,lt))Z[wt]=lt,Z[gt]=Bt,gt=wt;else break t}}function i(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var lt=Z[0],gt=Z.pop();if(gt!==lt){Z[0]=gt;t:for(var wt=0,Bt=Z.length,V=Bt>>>1;wt<V;){var J=2*(wt+1)-1,ot=Z[J],ct=J+1,_t=Z[ct];if(0>l(ot,gt))ct<Bt&&0>l(_t,ot)?(Z[wt]=_t,Z[ct]=gt,wt=ct):(Z[wt]=ot,Z[J]=gt,wt=J);else if(ct<Bt&&0>l(_t,gt))Z[wt]=_t,Z[ct]=gt,wt=ct;else break t}}return lt}function l(Z,lt){var gt=Z.sortIndex-lt.sortIndex;return gt!==0?gt:Z.id-lt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],p=[],E=1,b=null,S=3,D=!1,P=!1,z=!1,U=!1,K=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function it(Z){for(var lt=i(p);lt!==null;){if(lt.callback===null)a(p);else if(lt.startTime<=Z)a(p),lt.sortIndex=lt.expirationTime,t(g,lt);else break;lt=i(p)}}function at(Z){if(z=!1,it(Z),!P)if(i(g)!==null)P=!0,st||(st=!0,k());else{var lt=i(p);lt!==null&&le(at,lt.startTime-Z)}}var st=!1,R=-1,w=5,x=-1;function M(){return U?!0:!(n.unstable_now()-x<w)}function O(){if(U=!1,st){var Z=n.unstable_now();x=Z;var lt=!0;try{t:{P=!1,z&&(z=!1,X(R),R=-1),D=!0;var gt=S;try{e:{for(it(Z),b=i(g);b!==null&&!(b.expirationTime>Z&&M());){var wt=b.callback;if(typeof wt=="function"){b.callback=null,S=b.priorityLevel;var Bt=wt(b.expirationTime<=Z);if(Z=n.unstable_now(),typeof Bt=="function"){b.callback=Bt,it(Z),lt=!0;break e}b===i(g)&&a(g),it(Z)}else a(g);b=i(g)}if(b!==null)lt=!0;else{var V=i(p);V!==null&&le(at,V.startTime-Z),lt=!1}}break t}finally{b=null,S=gt,D=!1}lt=void 0}}finally{lt?k():st=!1}}}var k;if(typeof $=="function")k=function(){$(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,kt=N.port2;N.port1.onmessage=O,k=function(){kt.postMessage(null)}}else k=function(){K(O,0)};function le(Z,lt){R=K(function(){Z(n.unstable_now())},lt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var lt=3;break;default:lt=S}var gt=S;S=lt;try{return Z()}finally{S=gt}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(Z,lt){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var gt=S;S=Z;try{return lt()}finally{S=gt}},n.unstable_scheduleCallback=function(Z,lt,gt){var wt=n.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?wt+gt:wt):gt=wt,Z){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=gt+Bt,Z={id:E++,callback:lt,priorityLevel:Z,startTime:gt,expirationTime:Bt,sortIndex:-1},gt>wt?(Z.sortIndex=gt,t(p,Z),i(g)===null&&Z===i(p)&&(z?(X(R),R=-1):z=!0,le(at,gt-wt))):(Z.sortIndex=Bt,t(g,Z),P||D||(P=!0,st||(st=!0,k()))),Z},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(Z){var lt=S;return function(){var gt=S;S=lt;try{return Z.apply(this,arguments)}finally{S=gt}}}})(Qd)),Qd}var d_;function GS(){return d_||(d_=1,Yd.exports=FS()),Yd.exports}var Kd={exports:{}},gn={};var m_;function YS(){if(m_)return gn;m_=1;var n=jm();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:p,implementation:E}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,gn.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(g,p,null,E)},gn.flushSync=function(g){var p=h.T,E=a.p;try{if(h.T=null,a.p=2,g)return g()}finally{h.T=p,a.p=E,a.d.f()}},gn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},gn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},gn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:D}):E==="script"&&a.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},gn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin);a.d.L(g,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gn.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},gn.requestFormReset=function(g){a.d.r(g)},gn.unstable_batchedUpdates=function(g,p){return g(p)},gn.useFormState=function(g,p,E){return h.H.useFormState(g,p,E)},gn.useFormStatus=function(){return h.H.useHostTransitionStatus()},gn.version="19.2.4",gn}var g_;function eE(){if(g_)return Kd.exports;g_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Kd.exports=YS(),Kd.exports}var p_;function QS(){if(p_)return xo;p_=1;var n=GS(),t=jm(),i=eE();function a(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(a(188))}function p(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(a(188));return r!==e?null:e}for(var s=e,o=r;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return g(f),e;if(d===o)return g(f),r;d=d.sibling}throw Error(a(188))}if(s.return!==o.return)s=f,o=d;else{for(var v=!1,T=f.child;T;){if(T===s){v=!0,s=f,o=d;break}if(T===o){v=!0,o=f,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,o=f;break}if(T===o){v=!0,o=d,s=f;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:r}function E(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=E(e),r!==null)return r;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),$=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function kt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case K:return"Profiler";case U:return"StrictMode";case at:return"Suspense";case st:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case $:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case it:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return r=e.displayName||null,r!==null?r:kt(e.type)||"Memo";case w:r=e._payload,e=e._init;try{return kt(e(r))}catch{}}return null}var le=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},wt=[],Bt=-1;function V(e){return{current:e}}function J(e){0>Bt||(e.current=wt[Bt],wt[Bt]=null,Bt--)}function ot(e,r){Bt++,wt[Bt]=e.current,e.current=r}var ct=V(null),_t=V(null),yt=V(null),Dt=V(null);function te(e,r){switch(ot(yt,r),ot(_t,e),ot(ct,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?Iv(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=Iv(r),e=Ov(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ct),ot(ct,e)}function qt(){J(ct),J(_t),J(yt)}function Mt(e){e.memoizedState!==null&&ot(Dt,e);var r=ct.current,s=Ov(r,e.type);r!==s&&(ot(_t,e),ot(ct,s))}function ti(e){_t.current===e&&(J(ct),J(_t)),Dt.current===e&&(J(Dt),So._currentValue=gt)}var tn,kn;function xe(e){if(tn===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);tn=r&&r[1]||"",kn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tn+e+kn}var ei=!1;function Rn(e,r){if(!e||ei)return"";ei=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var G=Q}Reflect.construct(e,[],et)}else{try{et.call()}catch(Q){G=Q}e.call(et.prototype)}}else{try{throw Error()}catch(Q){G=Q}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),H=T.split(`
`);for(f=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(o===I.length||f===H.length)for(o=I.length-1,f=H.length-1;1<=o&&0<=f&&I[o]!==H[f];)f--;for(;1<=o&&0<=f;o--,f--)if(I[o]!==H[f]){if(o!==1||f!==1)do if(o--,f--,0>f||I[o]!==H[f]){var W=`
`+I[o].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=o&&0<=f);break}}}finally{ei=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?xe(s):""}function Lr(e,r){switch(e.tag){case 26:case 27:case 5:return xe(e.type);case 16:return xe("Lazy");case 13:return e.child!==r&&r!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return Rn(e.type,!1);case 11:return Rn(e.type.render,!1);case 1:return Rn(e.type,!0);case 31:return xe("Activity");default:return""}}function Ur(e){try{var r="",s=null;do r+=Lr(e,s),s=e,e=e.return;while(e);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var fe=Object.prototype.hasOwnProperty,ee=n.unstable_scheduleCallback,Bn=n.unstable_cancelCallback,zr=n.unstable_shouldYield,Da=n.unstable_requestPaint,Qe=n.unstable_now,rr=n.unstable_getCurrentPriorityLevel,Na=n.unstable_ImmediatePriority,ni=n.unstable_UserBlockingPriority,_n=n.unstable_NormalPriority,ar=n.unstable_LowPriority,Ia=n.unstable_IdlePriority,Pn=n.log,Oa=n.unstable_setDisableYieldValue,jn=null,Be=null;function fn(e){if(typeof Pn=="function"&&Oa(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(jn,e)}catch{}}var he=Math.clz32?Math.clz32:ys,ps=Math.log,sr=Math.LN2;function ys(e){return e>>>=0,e===0?32:31-(ps(e)/sr|0)|0}var ii=256,lr=262144,Nt=4194304;function de(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function me(e,r,s){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?f=de(o):(v&=T,v!==0?f=de(v):s||(s=T&~e,s!==0&&(f=de(s))))):(T=o&~d,T!==0?f=de(T):v!==0?f=de(v):s||(s=o&~e,s!==0&&(f=de(s)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:f}function De(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function hn(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ke(){var e=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),e}function Te(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function Cn(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,r,s,o,f,d){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,H=e.hiddenUpdates;for(s=v&~s;0<s;){var W=31-he(s),et=1<<W;T[W]=0,I[W]=-1;var G=H[W];if(G!==null)for(H[W]=null,W=0;W<G.length;W++){var Q=G[W];Q!==null&&(Q.lane&=-536870913)}s&=~et}o!==0&&dn(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~r))}function dn(e,r,s){e.pendingLanes|=r,e.suspendedLanes&=~r;var o=31-he(r);e.entangledLanes|=r,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function mn(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var o=31-he(s),f=1<<o;f&r|e[o]&r&&(e[o]|=r),s&=~f}}function En(e,r){var s=r&-r;return s=(s&42)!==0?1:qn(s),(s&(e.suspendedLanes|r))!==0?0:s}function qn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hn(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:e_(e.type))}function en(e,r){var s=lt.p;try{return lt.p=e,r()}finally{lt.p=s}}var Tn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Tn,Xe="__reactProps$"+Tn,Oi="__reactContainer$"+Tn,vs="__reactEvents$"+Tn,Xf="__reactListeners$"+Tn,_u="__reactHandles$"+Tn,Eu="__reactResources$"+Tn,Mi="__reactMarker$"+Tn;function _s(e){delete e[Ne],delete e[Xe],delete e[vs],delete e[Xf],delete e[_u]}function Vi(e){var r=e[Ne];if(r)return r;for(var s=e.parentNode;s;){if(r=s[Oi]||s[Ne]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=Bv(e);e!==null;){if(s=e[Ne])return s;e=Bv(e)}return r}e=s,s=e.parentNode}return null}function ri(e){if(e=e[Ne]||e[Oi]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function Fn(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(a(33))}function Li(e){var r=e[Eu];return r||(r=e[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ie(e){e[Mi]=!0}var Dl=new Set,Nl={};function Ui(e,r){zi(e,r),zi(e+"Capture",r)}function zi(e,r){for(Nl[e]=r,e=0;e<r.length;e++)Dl.add(r[e])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},Ml={};function bu(e){return fe.call(Ml,e)?!0:fe.call(Ol,e)?!1:Il.test(e)?Ml[e]=!0:(Ol[e]=!0,!1)}function Es(e,r,s){if(bu(r))if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+s)}}function Gn(e,r,s){if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+s)}}function Oe(e,r,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(r,s,""+o)}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kr(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Vl(e,r,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,d=o.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){s=""+v,d.call(this,v)}}),Object.defineProperty(e,r,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Zt(e){if(!e._valueTracker){var r=kr(e)?"checked":"value";e._valueTracker=Vl(e,r,""+e[r])}}function Ma(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),o="";return e&&(o=kr(e)?e.checked?"true":"false":e.value),e=o,e!==s?(r.setValue(e),!0):!1}function ki(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Va=/[\n"\\]/g;function xn(e){return e.replace(Va,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bs(e,r,s,o,f,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),r!=null?v==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+$e(r)):e.value!==""+$e(r)&&(e.value=""+$e(r)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),r!=null?Ll(e,v,$e(r)):s!=null?Ll(e,v,$e(s)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+$e(T):e.removeAttribute("name")}function Tu(e,r,s,o,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Zt(e);return}s=s!=null?""+$e(s):"",r=r!=null?""+$e(r):s,T||r===e.value||(e.value=r),e.defaultValue=r}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Zt(e)}function Ll(e,r,s){r==="number"&&ki(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Br(e,r,s,o){if(e=e.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=r.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&o&&(e[s].defaultSelected=!0)}else{for(s=""+$e(s),r=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function Su(e,r,s){if(r!=null&&(r=""+$e(r),r!==e.value&&(e.value=r),s==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=s!=null?""+$e(s):""}function Pr(e,r,s,o){if(r==null){if(o!=null){if(s!=null)throw Error(a(92));if(le(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),r=s}s=$e(r),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Zt(e)}function Dn(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(e,r,s){var o=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":o?e.setProperty(r,s):typeof s!="number"||s===0||Au.has(r)?r==="float"?e.cssFloat=s:e[r]=(""+s).trim():e[r]=s+"px"}function zl(e,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in r)o=r[f],r.hasOwnProperty(f)&&s[f]!==o&&Ul(e,f,o)}else for(var d in r)r.hasOwnProperty(d)&&Ul(e,d,r[d])}function Ts(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(e){return jr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ei(){}var kl=null;function ai(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qr=null,Bi=null;function La(e){var r=ri(e);if(r&&(e=r.stateNode)){var s=e[Xe]||null;t:switch(e=r.stateNode,r.type){case"input":if(bs(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+xn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var o=s[r];if(o!==e&&o.form===e.form){var f=o[Xe]||null;if(!f)throw Error(a(90));bs(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)o=s[r],o.form===e.form&&Ma(o)}break t;case"textarea":Su(e,s.value,s.defaultValue);break t;case"select":r=s.value,r!=null&&Br(e,!!s.multiple,r,!1)}}}var As=!1;function Hr(e,r,s){if(As)return e(r,s);As=!0;try{var o=e(r);return o}finally{if(As=!1,(qr!==null||Bi!==null)&&(vc(),qr&&(r=qr,e=Bi,Bi=qr=null,La(r),e)))for(r=0;r<e.length;r++)La(e[r])}}function bi(e,r){var s=e.stateNode;if(s===null)return null;var o=s[Xe]||null;if(o===null)return null;s=o[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ua=!1;if(si)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Ua=!1}var Pi=null,Bl=null,za=null;function Pl(){if(za)return za;var e,r=Bl,s=r.length,o,f="value"in Pi?Pi.value:Pi.textContent,d=f.length;for(e=0;e<s&&r[e]===f[e];e++);var v=s-e;for(o=1;o<=v&&r[s-o]===f[d-o];o++);return za=f.slice(e,1<o?1-o:void 0)}function ka(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function or(){return!0}function Ti(){return!1}function nn(e){function r(s,o,f,d,v){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?or:Ti,this.isPropagationStopped=Ti,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),r}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=nn(ur),Fr=b({},ur,{view:0,detail:0}),jl=nn(Fr),Gr,ws,qi,Rs=b({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(Gr=e.screenX-qi.screenX,ws=e.screenY-qi.screenY):ws=Gr=0,qi=e),Gr)},movementY:function(e){return"movementY"in e?e.movementY:ws}}),ql=nn(Rs),Ba=b({},Rs,{dataTransfer:0}),Ru=nn(Ba),Cu=b({},Fr,{relatedTarget:0}),Pa=nn(Cu),Hl=b({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=nn(Hl),Cs=b({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Du=nn(Cs),Nu=b({},ur,{data:0}),Hi=nn(Nu),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Mu[e])?!!r[e]:!1}function Yr(){return Vu}var Sn=b({},Fr,{key:function(e){if(e.key){var r=Iu[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=ka(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ou[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(e){return e.type==="keypress"?ka(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ka(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lu=nn(Sn),Uu=b({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cr=nn(Uu),c=b({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),y=nn(c),_=b({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=nn(_),j=b({},Rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=nn(j),ut=b({},ur,{newState:0,oldState:0}),Rt=nn(ut),Ae=[9,13,27,32],Qt=si&&"CompositionEvent"in window,ge=null;si&&"documentMode"in document&&(ge=document.documentMode);var li=si&&"TextEvent"in window&&!ge,Fi=si&&(!Qt||ge&&8<ge&&11>=ge),Si=" ",Ai=!1;function ja(e,r){switch(e){case"keyup":return Ae.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ds=!1;function cT(e,r){switch(e){case"compositionend":return xs(r);case"keypress":return r.which!==32?null:(Ai=!0,Si);case"textInput":return e=r.data,e===Si&&Ai?null:e;default:return null}}function fT(e,r){if(Ds)return e==="compositionend"||!Qt&&ja(e,r)?(e=Pl(),za=Bl=Pi=null,Ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Fi&&r.locale!=="ko"?null:r.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!hT[e.type]:r==="textarea"}function Hg(e,r,s,o){qr?Bi?Bi.push(o):Bi=[o]:qr=o,r=wc(r,"onChange"),0<r.length&&(s=new ji("onChange","change",null,s,o),e.push({event:s,listeners:r}))}var Fl=null,Gl=null;function dT(e){wv(e,0)}function zu(e){var r=Fn(e);if(Ma(r))return e}function Fg(e,r){if(e==="change")return r}var Gg=!1;if(si){var $f;if(si){var Zf="oninput"in document;if(!Zf){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),Zf=typeof Yg.oninput=="function"}$f=Zf}else $f=!1;Gg=$f&&(!document.documentMode||9<document.documentMode)}function Qg(){Fl&&(Fl.detachEvent("onpropertychange",Kg),Gl=Fl=null)}function Kg(e){if(e.propertyName==="value"&&zu(Gl)){var r=[];Hg(r,Gl,e,ai(e)),Hr(dT,r)}}function mT(e,r,s){e==="focusin"?(Qg(),Fl=r,Gl=s,Fl.attachEvent("onpropertychange",Kg)):e==="focusout"&&Qg()}function gT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zu(Gl)}function pT(e,r){if(e==="click")return zu(r)}function yT(e,r){if(e==="input"||e==="change")return zu(r)}function vT(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Yn=typeof Object.is=="function"?Object.is:vT;function Yl(e,r){if(Yn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),o=Object.keys(r);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!fe.call(r,f)||!Yn(e[f],r[f]))return!1}return!0}function Xg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $g(e,r){var s=Xg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=r&&o>=r)return{node:s,offset:r-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Xg(s)}}function Zg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Zg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Jg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=ki(e.document);r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=ki(e.document)}return r}function Jf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var _T=si&&"documentMode"in document&&11>=document.documentMode,Ns=null,Wf=null,Ql=null,th=!1;function Wg(e,r,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;th||Ns==null||Ns!==ki(o)||(o=Ns,"selectionStart"in o&&Jf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ql&&Yl(Ql,o)||(Ql=o,o=wc(Wf,"onSelect"),0<o.length&&(r=new ji("onSelect","select",null,r,s),e.push({event:r,listeners:o}),r.target=Ns)))}function qa(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var Is={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},eh={},tp={};si&&(tp=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Ha(e){if(eh[e])return eh[e];if(!Is[e])return e;var r=Is[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in tp)return eh[e]=r[s];return e}var ep=Ha("animationend"),np=Ha("animationiteration"),ip=Ha("animationstart"),ET=Ha("transitionrun"),bT=Ha("transitionstart"),TT=Ha("transitioncancel"),rp=Ha("transitionend"),ap=new Map,nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nh.push("scrollEnd");function wi(e,r){ap.set(e,r),Ui(r,[e])}var ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},oi=[],Os=0,ih=0;function Bu(){for(var e=Os,r=ih=Os=0;r<e;){var s=oi[r];oi[r++]=null;var o=oi[r];oi[r++]=null;var f=oi[r];oi[r++]=null;var d=oi[r];if(oi[r++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}d!==0&&sp(s,f,d)}}function Pu(e,r,s,o){oi[Os++]=e,oi[Os++]=r,oi[Os++]=s,oi[Os++]=o,ih|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function rh(e,r,s,o){return Pu(e,r,s,o),ju(e)}function Fa(e,r){return Pu(e,null,null,r),ju(e)}function sp(e,r,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-he(s),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[r]:o.push(r),r.lane=s|536870912),d):null}function ju(e){if(50<po)throw po=0,dd=null,Error(a(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Ms={};function ST(e,r,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,r,s,o){return new ST(e,r,s,o)}function ah(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fr(e,r){var s=e.alternate;return s===null?(s=Qn(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function lp(e,r){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,r=s.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function qu(e,r,s,o,f,d){var v=0;if(o=e,typeof e=="function")ah(e)&&(v=1);else if(typeof e=="string")v=xS(e,s,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=Qn(31,s,r,f),e.elementType=x,e.lanes=d,e;case z:return Ga(s.children,f,d,r);case U:v=8,f|=24;break;case K:return e=Qn(12,s,r,f|2),e.elementType=K,e.lanes=d,e;case at:return e=Qn(13,s,r,f),e.elementType=at,e.lanes=d,e;case st:return e=Qn(19,s,r,f),e.elementType=st,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:v=10;break t;case X:v=9;break t;case it:v=11;break t;case R:v=14;break t;case w:v=16,o=null;break t}v=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return r=Qn(v,s,r,f),r.elementType=e,r.type=o,r.lanes=d,r}function Ga(e,r,s,o){return e=Qn(7,e,o,r),e.lanes=s,e}function sh(e,r,s){return e=Qn(6,e,null,r),e.lanes=s,e}function op(e){var r=Qn(18,null,null,0);return r.stateNode=e,r}function lh(e,r,s){return r=Qn(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var up=new WeakMap;function ui(e,r){if(typeof e=="object"&&e!==null){var s=up.get(e);return s!==void 0?s:(r={value:e,source:r,stack:Ur(r)},up.set(e,r),r)}return{value:e,source:r,stack:Ur(r)}}var Vs=[],Ls=0,Hu=null,Kl=0,ci=[],fi=0,Qr=null,Gi=1,Yi="";function hr(e,r){Vs[Ls++]=Kl,Vs[Ls++]=Hu,Hu=e,Kl=r}function cp(e,r,s){ci[fi++]=Gi,ci[fi++]=Yi,ci[fi++]=Qr,Qr=e;var o=Gi;e=Yi;var f=32-he(o)-1;o&=~(1<<f),s+=1;var d=32-he(r)+f;if(30<d){var v=f-f%5;d=(o&(1<<v)-1).toString(32),o>>=v,f-=v,Gi=1<<32-he(r)+f|s<<f|o,Yi=d+e}else Gi=1<<d|s<<f|o,Yi=e}function oh(e){e.return!==null&&(hr(e,1),cp(e,1,0))}function uh(e){for(;e===Hu;)Hu=Vs[--Ls],Vs[Ls]=null,Kl=Vs[--Ls],Vs[Ls]=null;for(;e===Qr;)Qr=ci[--fi],ci[fi]=null,Yi=ci[--fi],ci[fi]=null,Gi=ci[--fi],ci[fi]=null}function fp(e,r){ci[fi++]=Gi,ci[fi++]=Yi,ci[fi++]=Qr,Gi=r.id,Yi=r.overflow,Qr=e}var rn=null,oe=null,Pt=!1,Kr=null,hi=!1,ch=Error(a(519));function Xr(e){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl(ui(r,e)),ch}function hp(e){var r=e.stateNode,s=e.type,o=e.memoizedProps;switch(r[Ne]=e,r[Xe]=o,s){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(s=0;s<vo.length;s++)Ot(vo[s],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Tu(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Pr(r,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||o.suppressHydrationWarning===!0||Dv(r.textContent,s)?(o.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),o.onScroll!=null&&Ot("scroll",r),o.onScrollEnd!=null&&Ot("scrollend",r),o.onClick!=null&&(r.onclick=Ei),r=!0):r=!1,r||Xr(e,!0)}function dp(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:rn=rn.return}}function Us(e){if(e!==rn)return!1;if(!Pt)return dp(e),Pt=!0,!1;var r=e.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||xd(e.type,e.memoizedProps)),s=!s),s&&oe&&Xr(e),dp(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=kv(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=kv(e)}else r===27?(r=oe,ua(e.type)?(e=Md,Md=null,oe=e):oe=r):oe=rn?mi(e.stateNode.nextSibling):null;return!0}function Ya(){oe=rn=null,Pt=!1}function fh(){var e=Kr;return e!==null&&(Mn===null?Mn=e:Mn.push.apply(Mn,e),Kr=null),e}function Xl(e){Kr===null?Kr=[e]:Kr.push(e)}var hh=V(null),Qa=null,dr=null;function $r(e,r,s){ot(hh,r._currentValue),r._currentValue=s}function mr(e){e._currentValue=hh.current,J(hh)}function dh(e,r,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),e===s)break;e=e.return}}function mh(e,r,s,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=f;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),dh(d.return,s,e),o||(v=null);break t}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),dh(v,s,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function zs(e,r,s,o){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=f.type;Yn(f.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(f===Dt.current){if(v=f.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(So):e=[So])}f=f.return}e!==null&&mh(r,e,s,o),r.flags|=262144}function Fu(e){for(e=e.firstContext;e!==null;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ka(e){Qa=e,dr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function an(e){return mp(Qa,e)}function Gu(e,r){return Qa===null&&Ka(e),mp(e,r)}function mp(e,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},dr===null){if(e===null)throw Error(a(308));dr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else dr=dr.next=r;return s}var AT=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){r.aborted=!0,e.forEach(function(s){return s()})}},wT=n.unstable_scheduleCallback,RT=n.unstable_NormalPriority,Me={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gh(){return{controller:new AT,data:new Map,refCount:0}}function $l(e){e.refCount--,e.refCount===0&&wT(RT,function(){e.controller.abort()})}var Zl=null,ph=0,ks=0,Bs=null;function CT(e,r){if(Zl===null){var s=Zl=[];ph=0,ks=_d(),Bs={status:"pending",value:void 0,then:function(o){s.push(o)}}}return ph++,r.then(gp,gp),r}function gp(){if(--ph===0&&Zl!==null){Bs!==null&&(Bs.status="fulfilled");var e=Zl;Zl=null,ks=0,Bs=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function xT(e,r){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){o.status="fulfilled",o.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var pp=Z.S;Z.S=function(e,r){Wy=Qe(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&CT(e,r),pp!==null&&pp(e,r)};var Xa=V(null);function yh(){var e=Xa.current;return e!==null?e:se.pooledCache}function Yu(e,r){r===null?ot(Xa,Xa.current):ot(Xa,r.pool)}function yp(){var e=yh();return e===null?null:{parent:Me._currentValue,pool:e}}var Ps=Error(a(460)),vh=Error(a(474)),Qu=Error(a(542)),Ku={then:function(){}};function vp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _p(e,r,s){switch(s=e[s],s===void 0?e.push(r):s!==r&&(r.then(Ei,Ei),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,bp(e),e;default:if(typeof r.status=="string")r.then(Ei,Ei);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=r,e.status="pending",e.then(function(o){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=o}},function(o){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,bp(e),e}throw Za=r,Ps}}function $a(e){try{var r=e._init;return r(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Za=s,Ps):s}}var Za=null;function Ep(){if(Za===null)throw Error(a(459));var e=Za;return Za=null,e}function bp(e){if(e===Ps||e===Qu)throw Error(a(483))}var js=null,Jl=0;function Xu(e){var r=Jl;return Jl+=1,js===null&&(js=[]),_p(js,e,r)}function Wl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function $u(e,r){throw r.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(r),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Tp(e){function r(B,L){if(e){var q=B.deletions;q===null?(B.deletions=[L],B.flags|=16):q.push(L)}}function s(B,L){if(!e)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function o(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=fr(B,L),B.index=0,B.sibling=null,B}function d(B,L,q){return B.index=q,e?(q=B.alternate,q!==null?(q=q.index,q<L?(B.flags|=67108866,L):q):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function v(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function T(B,L,q,tt){return L===null||L.tag!==6?(L=sh(q,B.mode,tt),L.return=B,L):(L=f(L,q),L.return=B,L)}function I(B,L,q,tt){var pt=q.type;return pt===z?W(B,L,q.props.children,tt,q.key):L!==null&&(L.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&$a(pt)===L.type)?(L=f(L,q.props),Wl(L,q),L.return=B,L):(L=qu(q.type,q.key,q.props,null,B.mode,tt),Wl(L,q),L.return=B,L)}function H(B,L,q,tt){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=lh(q,B.mode,tt),L.return=B,L):(L=f(L,q.children||[]),L.return=B,L)}function W(B,L,q,tt,pt){return L===null||L.tag!==7?(L=Ga(q,B.mode,tt,pt),L.return=B,L):(L=f(L,q),L.return=B,L)}function et(B,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=sh(""+L,B.mode,q),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return q=qu(L.type,L.key,L.props,null,B.mode,q),Wl(q,L),q.return=B,q;case P:return L=lh(L,B.mode,q),L.return=B,L;case w:return L=$a(L),et(B,L,q)}if(le(L)||k(L))return L=Ga(L,B.mode,q,null),L.return=B,L;if(typeof L.then=="function")return et(B,Xu(L),q);if(L.$$typeof===$)return et(B,Gu(B,L),q);$u(B,L)}return null}function G(B,L,q,tt){var pt=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pt!==null?null:T(B,L,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case D:return q.key===pt?I(B,L,q,tt):null;case P:return q.key===pt?H(B,L,q,tt):null;case w:return q=$a(q),G(B,L,q,tt)}if(le(q)||k(q))return pt!==null?null:W(B,L,q,tt,null);if(typeof q.then=="function")return G(B,L,Xu(q),tt);if(q.$$typeof===$)return G(B,L,Gu(B,q),tt);$u(B,q)}return null}function Q(B,L,q,tt,pt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return B=B.get(q)||null,T(L,B,""+tt,pt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case D:return B=B.get(tt.key===null?q:tt.key)||null,I(L,B,tt,pt);case P:return B=B.get(tt.key===null?q:tt.key)||null,H(L,B,tt,pt);case w:return tt=$a(tt),Q(B,L,q,tt,pt)}if(le(tt)||k(tt))return B=B.get(q)||null,W(L,B,tt,pt,null);if(typeof tt.then=="function")return Q(B,L,q,Xu(tt),pt);if(tt.$$typeof===$)return Q(B,L,q,Gu(L,tt),pt);$u(L,tt)}return null}function ht(B,L,q,tt){for(var pt=null,Gt=null,dt=L,xt=L=0,Lt=null;dt!==null&&xt<q.length;xt++){dt.index>xt?(Lt=dt,dt=null):Lt=dt.sibling;var Yt=G(B,dt,q[xt],tt);if(Yt===null){dt===null&&(dt=Lt);break}e&&dt&&Yt.alternate===null&&r(B,dt),L=d(Yt,L,xt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt,dt=Lt}if(xt===q.length)return s(B,dt),Pt&&hr(B,xt),pt;if(dt===null){for(;xt<q.length;xt++)dt=et(B,q[xt],tt),dt!==null&&(L=d(dt,L,xt),Gt===null?pt=dt:Gt.sibling=dt,Gt=dt);return Pt&&hr(B,xt),pt}for(dt=o(dt);xt<q.length;xt++)Lt=Q(dt,B,xt,q[xt],tt),Lt!==null&&(e&&Lt.alternate!==null&&dt.delete(Lt.key===null?xt:Lt.key),L=d(Lt,L,xt),Gt===null?pt=Lt:Gt.sibling=Lt,Gt=Lt);return e&&dt.forEach(function(ma){return r(B,ma)}),Pt&&hr(B,xt),pt}function Et(B,L,q,tt){if(q==null)throw Error(a(151));for(var pt=null,Gt=null,dt=L,xt=L=0,Lt=null,Yt=q.next();dt!==null&&!Yt.done;xt++,Yt=q.next()){dt.index>xt?(Lt=dt,dt=null):Lt=dt.sibling;var ma=G(B,dt,Yt.value,tt);if(ma===null){dt===null&&(dt=Lt);break}e&&dt&&ma.alternate===null&&r(B,dt),L=d(ma,L,xt),Gt===null?pt=ma:Gt.sibling=ma,Gt=ma,dt=Lt}if(Yt.done)return s(B,dt),Pt&&hr(B,xt),pt;if(dt===null){for(;!Yt.done;xt++,Yt=q.next())Yt=et(B,Yt.value,tt),Yt!==null&&(L=d(Yt,L,xt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt);return Pt&&hr(B,xt),pt}for(dt=o(dt);!Yt.done;xt++,Yt=q.next())Yt=Q(dt,B,xt,Yt.value,tt),Yt!==null&&(e&&Yt.alternate!==null&&dt.delete(Yt.key===null?xt:Yt.key),L=d(Yt,L,xt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt);return e&&dt.forEach(function(BS){return r(B,BS)}),Pt&&hr(B,xt),pt}function ae(B,L,q,tt){if(typeof q=="object"&&q!==null&&q.type===z&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case D:t:{for(var pt=q.key;L!==null;){if(L.key===pt){if(pt=q.type,pt===z){if(L.tag===7){s(B,L.sibling),tt=f(L,q.props.children),tt.return=B,B=tt;break t}}else if(L.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&$a(pt)===L.type){s(B,L.sibling),tt=f(L,q.props),Wl(tt,q),tt.return=B,B=tt;break t}s(B,L);break}else r(B,L);L=L.sibling}q.type===z?(tt=Ga(q.props.children,B.mode,tt,q.key),tt.return=B,B=tt):(tt=qu(q.type,q.key,q.props,null,B.mode,tt),Wl(tt,q),tt.return=B,B=tt)}return v(B);case P:t:{for(pt=q.key;L!==null;){if(L.key===pt)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){s(B,L.sibling),tt=f(L,q.children||[]),tt.return=B,B=tt;break t}else{s(B,L);break}else r(B,L);L=L.sibling}tt=lh(q,B.mode,tt),tt.return=B,B=tt}return v(B);case w:return q=$a(q),ae(B,L,q,tt)}if(le(q))return ht(B,L,q,tt);if(k(q)){if(pt=k(q),typeof pt!="function")throw Error(a(150));return q=pt.call(q),Et(B,L,q,tt)}if(typeof q.then=="function")return ae(B,L,Xu(q),tt);if(q.$$typeof===$)return ae(B,L,Gu(B,q),tt);$u(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(s(B,L.sibling),tt=f(L,q),tt.return=B,B=tt):(s(B,L),tt=sh(q,B.mode,tt),tt.return=B,B=tt),v(B)):s(B,L)}return function(B,L,q,tt){try{Jl=0;var pt=ae(B,L,q,tt);return js=null,pt}catch(dt){if(dt===Ps||dt===Qu)throw dt;var Gt=Qn(29,dt,null,B.mode);return Gt.lanes=tt,Gt.return=B,Gt}}}var Ja=Tp(!0),Sp=Tp(!1),Zr=!1;function _h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eh(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wr(e,r,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var f=o.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),o.pending=r,r=ju(e),sp(e,null,s),r}return Pu(e,o,r,s),ju(e)}function to(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var o=r.lanes;o&=e.pendingLanes,s|=o,r.lanes=s,mn(e,s)}}function bh(e,r){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?f=d=r:d=d.next=r}else f=d=r;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}var Th=!1;function eo(){if(Th){var e=Bs;if(e!==null)throw e}}function no(e,r,s,o){Th=!1;var f=e.updateQueue;Zr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,H=I.next;I.next=null,v===null?d=H:v.next=H,v=I;var W=e.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=H:T.next=H,W.lastBaseUpdate=I))}if(d!==null){var et=f.baseState;v=0,W=H=I=null,T=d;do{var G=T.lane&-536870913,Q=G!==T.lane;if(Q?(Vt&G)===G:(o&G)===G){G!==0&&G===ks&&(Th=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ht=e,Et=T;G=r;var ae=s;switch(Et.tag){case 1:if(ht=Et.payload,typeof ht=="function"){et=ht.call(ae,et,G);break t}et=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=Et.payload,G=typeof ht=="function"?ht.call(ae,et,G):ht,G==null)break t;et=b({},et,G);break t;case 2:Zr=!0}}G=T.callback,G!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(H=W=Q,I=et):W=W.next=Q,v|=G;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);W===null&&(I=et),f.baseState=I,f.firstBaseUpdate=H,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),ra|=v,e.lanes=v,e.memoizedState=et}}function Ap(e,r){if(typeof e!="function")throw Error(a(191,e));e.call(r)}function wp(e,r){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Ap(s[e],r)}var qs=V(null),Zu=V(0);function Rp(e,r){e=Sr,ot(Zu,e),ot(qs,r),Sr=e|r.baseLanes}function Sh(){ot(Zu,Sr),ot(qs,qs.current)}function Ah(){Sr=Zu.current,J(qs),J(Zu)}var Kn=V(null),di=null;function ta(e){var r=e.alternate;ot(we,we.current&1),ot(Kn,e),di===null&&(r===null||qs.current!==null||r.memoizedState!==null)&&(di=e)}function wh(e){ot(we,we.current),ot(Kn,e),di===null&&(di=e)}function Cp(e){e.tag===22?(ot(we,we.current),ot(Kn,e),di===null&&(di=e)):ea()}function ea(){ot(we,we.current),ot(Kn,Kn.current)}function Xn(e){J(Kn),di===e&&(di=null),J(we)}var we=V(0);function Ju(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Id(s)||Od(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gr=0,Ct=null,ie=null,Ve=null,Wu=!1,Hs=!1,Wa=!1,tc=0,io=0,Fs=null,DT=0;function ve(){throw Error(a(321))}function Rh(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!Yn(e[s],r[s]))return!1;return!0}function Ch(e,r,s,o,f,d){return gr=d,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=e===null||e.memoizedState===null?cy:qh,Wa=!1,d=s(o,f),Wa=!1,Hs&&(d=Dp(r,s,o,f)),xp(e),d}function xp(e){Z.H=so;var r=ie!==null&&ie.next!==null;if(gr=0,Ve=ie=Ct=null,Wu=!1,io=0,Fs=null,r)throw Error(a(300));e===null||Le||(e=e.dependencies,e!==null&&Fu(e)&&(Le=!0))}function Dp(e,r,s,o){Ct=e;var f=0;do{if(Hs&&(Fs=null),io=0,Hs=!1,25<=f)throw Error(a(301));if(f+=1,Ve=ie=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Z.H=fy,d=r(s,o)}while(Hs);return d}function NT(){var e=Z.H,r=e.useState()[0];return r=typeof r.then=="function"?ro(r):r,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Ct.flags|=1024),r}function xh(){var e=tc!==0;return tc=0,e}function Dh(e,r,s){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s}function Nh(e){if(Wu){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}Wu=!1}gr=0,Ve=ie=Ct=null,Hs=!1,io=tc=0,Fs=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ct.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Re(){if(ie===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var r=Ve===null?Ct.memoizedState:Ve.next;if(r!==null)Ve=r,ie=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Ve===null?Ct.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ro(e){var r=io;return io+=1,Fs===null&&(Fs=[]),e=_p(Fs,e,r),r=Ct,(Ve===null?r.memoizedState:Ve.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?cy:qh),e}function nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ro(e);if(e.$$typeof===$)return an(e)}throw Error(a(438,String(e)))}function Ih(e){var r=null,s=Ct.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=ec(),Ct.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(e),o=0;o<e;o++)s[o]=M;return r.index++,s}function pr(e,r){return typeof r=="function"?r(e):r}function ic(e){var r=Re();return Oh(r,ie,e)}function Oh(e,r,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var T=v=null,I=null,H=r,W=!1;do{var et=H.lane&-536870913;if(et!==H.lane?(Vt&et)===et:(gr&et)===et){var G=H.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),et===ks&&(W=!0);else if((gr&G)===G){H=H.next,G===ks&&(W=!0);continue}else et={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=et,v=d):I=I.next=et,Ct.lanes|=G,ra|=G;et=H.action,Wa&&s(d,et),d=H.hasEagerState?H.eagerState:s(d,et)}else G={lane:et,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=G,v=d):I=I.next=G,Ct.lanes|=et,ra|=et;H=H.next}while(H!==null&&H!==r);if(I===null?v=d:I.next=T,!Yn(d,e.memoizedState)&&(Le=!0,W&&(s=Bs,s!==null)))throw s;e.memoizedState=d,e.baseState=v,e.baseQueue=I,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Mh(e){var r=Re(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,f=s.pending,d=r.memoizedState;if(f!==null){s.pending=null;var v=f=f.next;do d=e(d,v.action),v=v.next;while(v!==f);Yn(d,r.memoizedState)||(Le=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,o]}function Np(e,r,s){var o=Ct,f=Re(),d=Pt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var v=!Yn((ie||f).memoizedState,s);if(v&&(f.memoizedState=s,Le=!0),f=f.queue,Uh(Mp.bind(null,o,f,e),[e]),f.getSnapshot!==r||v||Ve!==null&&Ve.memoizedState.tag&1){if(o.flags|=2048,Gs(9,{destroy:void 0},Op.bind(null,o,f,s,r),null),se===null)throw Error(a(349));d||(gr&127)!==0||Ip(o,r,s)}return s}function Ip(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=Ct.updateQueue,r===null?(r=ec(),Ct.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function Op(e,r,s,o){r.value=s,r.getSnapshot=o,Vp(r)&&Lp(e)}function Mp(e,r,s){return s(function(){Vp(r)&&Lp(e)})}function Vp(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!Yn(e,s)}catch{return!0}}function Lp(e){var r=Fa(e,2);r!==null&&Vn(r,e,2)}function Vh(e){var r=An();if(typeof e=="function"){var s=e;if(e=s(),Wa){fn(!0);try{s()}finally{fn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:e},r}function Up(e,r,s,o){return e.baseState=s,Oh(e,ie,typeof o=="function"?o:pr)}function IT(e,r,s,o,f){if(sc(e))throw Error(a(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Z.T!==null?s(!0):d.isTransition=!1,o(d),s=r.pending,s===null?(d.next=r.pending=d,zp(r,d)):(d.next=s.next,r.pending=s.next=d)}}function zp(e,r){var s=r.action,o=r.payload,f=e.state;if(r.isTransition){var d=Z.T,v={};Z.T=v;try{var T=s(f,o),I=Z.S;I!==null&&I(v,T),kp(e,r,T)}catch(H){Lh(e,r,H)}finally{d!==null&&v.types!==null&&(d.types=v.types),Z.T=d}}else try{d=s(f,o),kp(e,r,d)}catch(H){Lh(e,r,H)}}function kp(e,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Bp(e,r,o)},function(o){return Lh(e,r,o)}):Bp(e,r,s)}function Bp(e,r,s){r.status="fulfilled",r.value=s,Pp(r),e.state=s,r=e.pending,r!==null&&(s=r.next,s===r?e.pending=null:(s=s.next,r.next=s,zp(e,s)))}function Lh(e,r,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=s,Pp(r),r=r.next;while(r!==o)}e.action=null}function Pp(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function jp(e,r){return r}function qp(e,r){if(Pt){var s=se.formState;if(s!==null){t:{var o=Ct;if(Pt){if(oe){e:{for(var f=oe,d=hi;f.nodeType!==8;){if(!d){f=null;break e}if(f=mi(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){oe=mi(f.nextSibling),o=f.data==="F!";break t}}Xr(o)}o=!1}o&&(r=s[0])}}return s=An(),s.memoizedState=s.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:r},s.queue=o,s=ly.bind(null,Ct,o),o.dispatch=s,o=Vh(!1),d=jh.bind(null,Ct,!1,o.queue),o=An(),f={state:r,dispatch:null,action:e,pending:null},o.queue=f,s=IT.bind(null,Ct,f,d,s),f.dispatch=s,o.memoizedState=e,[r,s,!1]}function Hp(e){var r=Re();return Fp(r,ie,e)}function Fp(e,r,s){if(r=Oh(e,r,jp)[0],e=ic(pr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=ro(r)}catch(v){throw v===Ps?Qu:v}else o=r;r=Re();var f=r.queue,d=f.dispatch;return s!==r.memoizedState&&(Ct.flags|=2048,Gs(9,{destroy:void 0},OT.bind(null,f,s),null)),[o,d,e]}function OT(e,r){e.action=r}function Gp(e){var r=Re(),s=ie;if(s!==null)return Fp(r,s,e);Re(),r=r.memoizedState,s=Re();var o=s.queue.dispatch;return s.memoizedState=e,[r,o,!1]}function Gs(e,r,s,o){return e={tag:e,create:s,deps:o,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=ec(),Ct.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,r.lastEffect=e),e}function Yp(){return Re().memoizedState}function rc(e,r,s,o){var f=An();Ct.flags|=e,f.memoizedState=Gs(1|r,{destroy:void 0},s,o===void 0?null:o)}function ac(e,r,s,o){var f=Re();o=o===void 0?null:o;var d=f.memoizedState.inst;ie!==null&&o!==null&&Rh(o,ie.memoizedState.deps)?f.memoizedState=Gs(r,d,s,o):(Ct.flags|=e,f.memoizedState=Gs(1|r,d,s,o))}function Qp(e,r){rc(8390656,8,e,r)}function Uh(e,r){ac(2048,8,e,r)}function MT(e){Ct.flags|=4;var r=Ct.updateQueue;if(r===null)r=ec(),Ct.updateQueue=r,r.events=[e];else{var s=r.events;s===null?r.events=[e]:s.push(e)}}function Kp(e){var r=Re().memoizedState;return MT({ref:r,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function Xp(e,r){return ac(4,2,e,r)}function $p(e,r){return ac(4,4,e,r)}function Zp(e,r){if(typeof r=="function"){e=e();var s=r(e);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Jp(e,r,s){s=s!=null?s.concat([e]):null,ac(4,4,Zp.bind(null,r,e),s)}function zh(){}function Wp(e,r){var s=Re();r=r===void 0?null:r;var o=s.memoizedState;return r!==null&&Rh(r,o[1])?o[0]:(s.memoizedState=[e,r],e)}function ty(e,r){var s=Re();r=r===void 0?null:r;var o=s.memoizedState;if(r!==null&&Rh(r,o[1]))return o[0];if(o=e(),Wa){fn(!0);try{e()}finally{fn(!1)}}return s.memoizedState=[o,r],o}function kh(e,r,s){return s===void 0||(gr&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=r:(e.memoizedState=s,e=ev(),Ct.lanes|=e,ra|=e,s)}function ey(e,r,s,o){return Yn(s,r)?s:qs.current!==null?(e=kh(e,s,o),Yn(e,r)||(Le=!0),e):(gr&42)===0||(gr&1073741824)!==0&&(Vt&261930)===0?(Le=!0,e.memoizedState=s):(e=ev(),Ct.lanes|=e,ra|=e,r)}function ny(e,r,s,o,f){var d=lt.p;lt.p=d!==0&&8>d?d:8;var v=Z.T,T={};Z.T=T,jh(e,!1,r,s);try{var I=f(),H=Z.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=xT(I,o);ao(e,r,W,Jn(e))}else ao(e,r,o,Jn(e))}catch(et){ao(e,r,{then:function(){},status:"rejected",reason:et},Jn())}finally{lt.p=d,v!==null&&T.types!==null&&(v.types=T.types),Z.T=v}}function VT(){}function Bh(e,r,s,o){if(e.tag!==5)throw Error(a(476));var f=iy(e).queue;ny(e,f,r,gt,s===null?VT:function(){return ry(e),s(o)})}function iy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:gt},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:s},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function ry(e){var r=iy(e);r.next===null&&(r=e.alternate.memoizedState),ao(e,r.next.queue,{},Jn())}function Ph(){return an(So)}function ay(){return Re().memoizedState}function sy(){return Re().memoizedState}function LT(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var s=Jn();e=Jr(s);var o=Wr(r,e,s);o!==null&&(Vn(o,r,s),to(o,r,s)),r={cache:gh()},e.payload=r;return}r=r.return}}function UT(e,r,s){var o=Jn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},sc(e)?oy(r,s):(s=rh(e,r,s,o),s!==null&&(Vn(s,e,o),uy(s,r,o)))}function ly(e,r,s){var o=Jn();ao(e,r,s,o)}function ao(e,r,s,o){var f={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(sc(e))oy(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,s);if(f.hasEagerState=!0,f.eagerState=T,Yn(T,v))return Pu(e,r,f,0),se===null&&Bu(),!1}catch{}if(s=rh(e,r,f,o),s!==null)return Vn(s,e,o),uy(s,r,o),!0}return!1}function jh(e,r,s,o){if(o={lane:2,revertLane:_d(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},sc(e)){if(r)throw Error(a(479))}else r=rh(e,s,o,2),r!==null&&Vn(r,e,2)}function sc(e){var r=e.alternate;return e===Ct||r!==null&&r===Ct}function oy(e,r){Hs=Wu=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function uy(e,r,s){if((s&4194048)!==0){var o=r.lanes;o&=e.pendingLanes,s|=o,r.lanes=s,mn(e,s)}}var so={readContext:an,use:nc,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};so.useEffectEvent=ve;var cy={readContext:an,use:nc,useCallback:function(e,r){return An().memoizedState=[e,r===void 0?null:r],e},useContext:an,useEffect:Qp,useImperativeHandle:function(e,r,s){s=s!=null?s.concat([e]):null,rc(4194308,4,Zp.bind(null,r,e),s)},useLayoutEffect:function(e,r){return rc(4194308,4,e,r)},useInsertionEffect:function(e,r){rc(4,2,e,r)},useMemo:function(e,r){var s=An();r=r===void 0?null:r;var o=e();if(Wa){fn(!0);try{e()}finally{fn(!1)}}return s.memoizedState=[o,r],o},useReducer:function(e,r,s){var o=An();if(s!==void 0){var f=s(r);if(Wa){fn(!0);try{s(r)}finally{fn(!1)}}}else f=r;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=UT.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var r=An();return e={current:e},r.memoizedState=e},useState:function(e){e=Vh(e);var r=e.queue,s=ly.bind(null,Ct,r);return r.dispatch=s,[e.memoizedState,s]},useDebugValue:zh,useDeferredValue:function(e,r){var s=An();return kh(s,e,r)},useTransition:function(){var e=Vh(!1);return e=ny.bind(null,Ct,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,s){var o=Ct,f=An();if(Pt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),se===null)throw Error(a(349));(Vt&127)!==0||Ip(o,r,s)}f.memoizedState=s;var d={value:s,getSnapshot:r};return f.queue=d,Qp(Mp.bind(null,o,d,e),[e]),o.flags|=2048,Gs(9,{destroy:void 0},Op.bind(null,o,d,s,r),null),s},useId:function(){var e=An(),r=se.identifierPrefix;if(Pt){var s=Yi,o=Gi;s=(o&~(1<<32-he(o)-1)).toString(32)+s,r="_"+r+"R_"+s,s=tc++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=DT++,r="_"+r+"r_"+s.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:Ph,useFormState:qp,useActionState:qp,useOptimistic:function(e){var r=An();r.memoizedState=r.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=jh.bind(null,Ct,!0,s),s.dispatch=r,[e,r]},useMemoCache:Ih,useCacheRefresh:function(){return An().memoizedState=LT.bind(null,Ct)},useEffectEvent:function(e){var r=An(),s={impl:e};return r.memoizedState=s,function(){if((Kt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},qh={readContext:an,use:nc,useCallback:Wp,useContext:an,useEffect:Uh,useImperativeHandle:Jp,useInsertionEffect:Xp,useLayoutEffect:$p,useMemo:ty,useReducer:ic,useRef:Yp,useState:function(){return ic(pr)},useDebugValue:zh,useDeferredValue:function(e,r){var s=Re();return ey(s,ie.memoizedState,e,r)},useTransition:function(){var e=ic(pr)[0],r=Re().memoizedState;return[typeof e=="boolean"?e:ro(e),r]},useSyncExternalStore:Np,useId:ay,useHostTransitionStatus:Ph,useFormState:Hp,useActionState:Hp,useOptimistic:function(e,r){var s=Re();return Up(s,ie,e,r)},useMemoCache:Ih,useCacheRefresh:sy};qh.useEffectEvent=Kp;var fy={readContext:an,use:nc,useCallback:Wp,useContext:an,useEffect:Uh,useImperativeHandle:Jp,useInsertionEffect:Xp,useLayoutEffect:$p,useMemo:ty,useReducer:Mh,useRef:Yp,useState:function(){return Mh(pr)},useDebugValue:zh,useDeferredValue:function(e,r){var s=Re();return ie===null?kh(s,e,r):ey(s,ie.memoizedState,e,r)},useTransition:function(){var e=Mh(pr)[0],r=Re().memoizedState;return[typeof e=="boolean"?e:ro(e),r]},useSyncExternalStore:Np,useId:ay,useHostTransitionStatus:Ph,useFormState:Gp,useActionState:Gp,useOptimistic:function(e,r){var s=Re();return ie!==null?Up(s,ie,e,r):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:sy};fy.useEffectEvent=Kp;function Hh(e,r,s,o){r=e.memoizedState,s=s(o,r),s=s==null?r:b({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Fh={enqueueSetState:function(e,r,s){e=e._reactInternals;var o=Jn(),f=Jr(o);f.payload=r,s!=null&&(f.callback=s),r=Wr(e,f,o),r!==null&&(Vn(r,e,o),to(r,e,o))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var o=Jn(),f=Jr(o);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=Wr(e,f,o),r!==null&&(Vn(r,e,o),to(r,e,o))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=Jn(),o=Jr(s);o.tag=2,r!=null&&(o.callback=r),r=Wr(e,o,s),r!==null&&(Vn(r,e,s),to(r,e,s))}};function hy(e,r,s,o,f,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):r.prototype&&r.prototype.isPureReactComponent?!Yl(s,o)||!Yl(f,d):!0}function dy(e,r,s,o){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,o),r.state!==e&&Fh.enqueueReplaceState(r,r.state,null)}function ts(e,r){var s=r;if("ref"in r){s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}if(e=e.defaultProps){s===r&&(s=b({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}function my(e){ku(e)}function gy(e){console.error(e)}function py(e){ku(e)}function lc(e,r){try{var s=e.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function yy(e,r,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gh(e,r,s){return s=Jr(s),s.tag=3,s.payload={element:null},s.callback=function(){lc(e,r)},s}function vy(e){return e=Jr(e),e.tag=3,e}function _y(e,r,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){yy(r,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){yy(r,s,o),typeof f!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function zT(e,r,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=s.alternate,r!==null&&zs(r,s,f,!0),s=Kn.current,s!==null){switch(s.tag){case 31:case 13:return di===null?_c():s.alternate===null&&_e===0&&(_e=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===Ku?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([o]):r.add(o),pd(e,o,f)),!1;case 22:return s.flags|=65536,o===Ku?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([o]):s.add(o)),pd(e,o,f)),!1}throw Error(a(435,s.tag))}return pd(e,o,f),_c(),!1}if(Pt)return r=Kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,o!==ch&&(e=Error(a(422),{cause:o}),Xl(ui(e,s)))):(o!==ch&&(r=Error(a(423),{cause:o}),Xl(ui(r,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=ui(o,s),f=Gh(e.stateNode,o,f),bh(e,f),_e!==4&&(_e=2)),!1;var d=Error(a(520),{cause:o});if(d=ui(d,s),go===null?go=[d]:go.push(d),_e!==4&&(_e=2),r===null)return!0;o=ui(o,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=Gh(s.stateNode,o,e),bh(s,e),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(aa===null||!aa.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=vy(f),_y(f,e,s,o),bh(s,f),!1}s=s.return}while(s!==null);return!1}var Yh=Error(a(461)),Le=!1;function sn(e,r,s,o){r.child=e===null?Sp(r,null,s,o):Ja(r,e.child,s,o)}function Ey(e,r,s,o,f){s=s.render;var d=r.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return Ka(r),o=Ch(e,r,s,v,d,f),T=xh(),e!==null&&!Le?(Dh(e,r,f),yr(e,r,f)):(Pt&&T&&oh(r),r.flags|=1,sn(e,r,o,f),r.child)}function by(e,r,s,o,f){if(e===null){var d=s.type;return typeof d=="function"&&!ah(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,Ty(e,r,d,o,f)):(e=qu(s.type,null,o,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!td(e,f)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Yl,s(v,o)&&e.ref===r.ref)return yr(e,r,f)}return r.flags|=1,e=fr(d,o),e.ref=r.ref,e.return=r,r.child=e}function Ty(e,r,s,o,f){if(e!==null){var d=e.memoizedProps;if(Yl(d,o)&&e.ref===r.ref)if(Le=!1,r.pendingProps=o=d,td(e,f))(e.flags&131072)!==0&&(Le=!0);else return r.lanes=e.lanes,yr(e,r,f)}return Qh(e,r,s,o,f)}function Sy(e,r,s,o){var f=o.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(o=r.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~d}else o=0,r.child=null;return Ay(e,r,d,s,o)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yu(r,d!==null?d.cachePool:null),d!==null?Rp(r,d):Sh(),Cp(r);else return o=r.lanes=536870912,Ay(e,r,d!==null?d.baseLanes|s:s,s,o)}else d!==null?(Yu(r,d.cachePool),Rp(r,d),ea(),r.memoizedState=null):(e!==null&&Yu(r,null),Sh(),ea());return sn(e,r,f,s),r.child}function lo(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ay(e,r,s,o,f){var d=yh();return d=d===null?null:{parent:Me._currentValue,pool:d},r.memoizedState={baseLanes:s,cachePool:d},e!==null&&Yu(r,null),Sh(),Cp(r),e!==null&&zs(e,r,o,!0),r.childLanes=f,null}function oc(e,r){return r=cc({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function wy(e,r,s){return Ja(r,e.child,null,s),e=oc(r,r.pendingProps),e.flags|=2,Xn(r),r.memoizedState=null,e}function kT(e,r,s){var o=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=oc(r,o),r.lanes=536870912,lo(null,e);if(wh(r),(e=oe)?(e=zv(e,hi),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Qr!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},s=op(e),s.return=r,r.child=s,rn=r,oe=null)):e=null,e===null)throw Xr(r);return r.lanes=536870912,null}return oc(r,o)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(wh(r),f)if(r.flags&256)r.flags&=-257,r=wy(e,r,s);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(a(558));else if(Le||zs(e,r,s,!1),f=(s&e.childLanes)!==0,Le||f){if(o=se,o!==null&&(v=En(o,s),v!==0&&v!==d.retryLane))throw d.retryLane=v,Fa(e,v),Vn(o,e,v),Yh;_c(),r=wy(e,r,s)}else e=d.treeContext,oe=mi(v.nextSibling),rn=r,Pt=!0,Kr=null,hi=!1,e!==null&&fp(r,e),r=oc(r,o),r.flags|=4096;return r}return e=fr(e.child,{mode:o.mode,children:o.children}),e.ref=r.ref,r.child=e,e.return=r,e}function uc(e,r){var s=r.ref;if(s===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(r.flags|=4194816)}}function Qh(e,r,s,o,f){return Ka(r),s=Ch(e,r,s,o,void 0,f),o=xh(),e!==null&&!Le?(Dh(e,r,f),yr(e,r,f)):(Pt&&o&&oh(r),r.flags|=1,sn(e,r,s,f),r.child)}function Ry(e,r,s,o,f,d){return Ka(r),r.updateQueue=null,s=Dp(r,o,s,f),xp(e),o=xh(),e!==null&&!Le?(Dh(e,r,d),yr(e,r,d)):(Pt&&o&&oh(r),r.flags|=1,sn(e,r,s,d),r.child)}function Cy(e,r,s,o,f){if(Ka(r),r.stateNode===null){var d=Ms,v=s.contextType;typeof v=="object"&&v!==null&&(d=an(v)),d=new s(o,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Fh,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=o,d.state=r.memoizedState,d.refs={},_h(r),v=s.contextType,d.context=typeof v=="object"&&v!==null?an(v):Ms,d.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Hh(r,s,v,o),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Fh.enqueueReplaceState(d,d.state,null),no(r,o,d,f),eo(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(e===null){d=r.stateNode;var T=r.memoizedProps,I=ts(s,T);d.props=I;var H=d.context,W=s.contextType;v=Ms,typeof W=="object"&&W!==null&&(v=an(W));var et=s.getDerivedStateFromProps;W=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==v)&&dy(r,d,o,v),Zr=!1;var G=r.memoizedState;d.state=G,no(r,o,d,f),eo(),H=r.memoizedState,T||G!==H||Zr?(typeof et=="function"&&(Hh(r,s,et,o),H=r.memoizedState),(I=Zr||hy(r,s,I,o,G,H,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=H),d.props=o,d.state=H,d.context=v,o=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{d=r.stateNode,Eh(e,r),v=r.memoizedProps,W=ts(s,v),d.props=W,et=r.pendingProps,G=d.context,H=s.contextType,I=Ms,typeof H=="object"&&H!==null&&(I=an(H)),T=s.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==et||G!==I)&&dy(r,d,o,I),Zr=!1,G=r.memoizedState,d.state=G,no(r,o,d,f),eo();var Q=r.memoizedState;v!==et||G!==Q||Zr||e!==null&&e.dependencies!==null&&Fu(e.dependencies)?(typeof T=="function"&&(Hh(r,s,T,o),Q=r.memoizedState),(W=Zr||hy(r,s,W,o,G,Q,I)||e!==null&&e.dependencies!==null&&Fu(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Q,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=Q),d.props=o,d.state=Q,d.context=I,o=W):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(r.flags|=1024),o=!1)}return d=o,uc(e,r),o=(r.flags&128)!==0,d||o?(d=r.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&o?(r.child=Ja(r,e.child,null,f),r.child=Ja(r,null,s,f)):sn(e,r,s,f),r.memoizedState=d.state,e=r.child):e=yr(e,r,f),e}function xy(e,r,s,o){return Ya(),r.flags|=256,sn(e,r,s,o),r.child}var Kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xh(e){return{baseLanes:e,cachePool:yp()}}function $h(e,r,s){return e=e!==null?e.childLanes&~s:0,r&&(e|=Zn),e}function Dy(e,r,s){var o=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,e===null){if(Pt){if(f?ta(r):ea(),(e=oe)?(e=zv(e,hi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Qr!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},s=op(e),s.return=r,r.child=s,rn=r,oe=null)):e=null,e===null)throw Xr(r);return Od(e)?r.lanes=32:r.lanes=536870912,null}var T=o.children;return o=o.fallback,f?(ea(),f=r.mode,T=cc({mode:"hidden",children:T},f),o=Ga(o,f,s,null),T.return=r,o.return=r,T.sibling=o,r.child=T,o=r.child,o.memoizedState=Xh(s),o.childLanes=$h(e,v,s),r.memoizedState=Kh,lo(null,o)):(ta(r),Zh(r,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(ta(r),r.flags&=-257,r=Jh(e,r,s)):r.memoizedState!==null?(ea(),r.child=e.child,r.flags|=128,r=null):(ea(),T=o.fallback,f=r.mode,o=cc({mode:"visible",children:o.children},f),T=Ga(T,f,s,null),T.flags|=2,o.return=r,T.return=r,o.sibling=T,r.child=o,Ja(r,e.child,null,s),o=r.child,o.memoizedState=Xh(s),o.childLanes=$h(e,v,s),r.memoizedState=Kh,r=lo(null,o));else if(ta(r),Od(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,o=Error(a(419)),o.stack="",o.digest=v,Xl({value:o,source:null,stack:null}),r=Jh(e,r,s)}else if(Le||zs(e,r,s,!1),v=(s&e.childLanes)!==0,Le||v){if(v=se,v!==null&&(o=En(v,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Fa(e,o),Vn(v,e,o),Yh;Id(T)||_c(),r=Jh(e,r,s)}else Id(T)?(r.flags|=192,r.child=e.child,r=null):(e=I.treeContext,oe=mi(T.nextSibling),rn=r,Pt=!0,Kr=null,hi=!1,e!==null&&fp(r,e),r=Zh(r,o.children),r.flags|=4096);return r}return f?(ea(),T=o.fallback,f=r.mode,I=e.child,H=I.sibling,o=fr(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,H!==null?T=fr(H,T):(T=Ga(T,f,s,null),T.flags|=2),T.return=r,o.return=r,o.sibling=T,r.child=o,lo(null,o),o=r.child,T=e.child.memoizedState,T===null?T=Xh(s):(f=T.cachePool,f!==null?(I=Me._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=yp(),T={baseLanes:T.baseLanes|s,cachePool:f}),o.memoizedState=T,o.childLanes=$h(e,v,s),r.memoizedState=Kh,lo(e.child,o)):(ta(r),s=e.child,e=s.sibling,s=fr(s,{mode:"visible",children:o.children}),s.return=r,s.sibling=null,e!==null&&(v=r.deletions,v===null?(r.deletions=[e],r.flags|=16):v.push(e)),r.child=s,r.memoizedState=null,s)}function Zh(e,r){return r=cc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function cc(e,r){return e=Qn(22,e,null,r),e.lanes=0,e}function Jh(e,r,s){return Ja(r,e.child,null,s),e=Zh(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Ny(e,r,s){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r),dh(e.return,r,s)}function Wh(e,r,s,o,f,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=s,v.tailMode=f,v.treeForkCount=d)}function Iy(e,r,s){var o=r.pendingProps,f=o.revealOrder,d=o.tail;o=o.children;var v=we.current,T=(v&2)!==0;if(T?(v=v&1|2,r.flags|=128):v&=1,ot(we,v),sn(e,r,o,s),o=Pt?Kl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ny(e,s,r);else if(e.tag===19)Ny(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(s=r.child,f=null;s!==null;)e=s.alternate,e!==null&&Ju(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),Wh(r,!1,f,s,d,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&Ju(e)===null){r.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Wh(r,!0,s,null,d,o);break;case"together":Wh(r,!1,null,null,void 0,o);break;default:r.memoizedState=null}return r.child}function yr(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),ra|=r.lanes,(s&r.childLanes)===0)if(e!==null){if(zs(e,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(a(153));if(r.child!==null){for(e=r.child,s=fr(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=fr(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function td(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Fu(e)))}function BT(e,r,s){switch(r.tag){case 3:te(r,r.stateNode.containerInfo),$r(r,Me,e.memoizedState.cache),Ya();break;case 27:case 5:Mt(r);break;case 4:te(r,r.stateNode.containerInfo);break;case 10:$r(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,wh(r),null;break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(ta(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Dy(e,r,s):(ta(r),e=yr(e,r,s),e!==null?e.sibling:null);ta(r);break;case 19:var f=(e.flags&128)!==0;if(o=(s&r.childLanes)!==0,o||(zs(e,r,s,!1),o=(s&r.childLanes)!==0),f){if(o)return Iy(e,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ot(we,we.current),o)break;return null;case 22:return r.lanes=0,Sy(e,r,s,r.pendingProps);case 24:$r(r,Me,e.memoizedState.cache)}return yr(e,r,s)}function Oy(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps)Le=!0;else{if(!td(e,s)&&(r.flags&128)===0)return Le=!1,BT(e,r,s);Le=(e.flags&131072)!==0}else Le=!1,Pt&&(r.flags&1048576)!==0&&cp(r,Kl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var o=r.pendingProps;if(e=$a(r.elementType),r.type=e,typeof e=="function")ah(e)?(o=ts(e,o),r.tag=1,r=Cy(null,r,e,o,s)):(r.tag=0,r=Qh(null,r,e,o,s));else{if(e!=null){var f=e.$$typeof;if(f===it){r.tag=11,r=Ey(null,r,e,o,s);break t}else if(f===R){r.tag=14,r=by(null,r,e,o,s);break t}}throw r=kt(e)||e,Error(a(306,r,""))}}return r;case 0:return Qh(e,r,r.type,r.pendingProps,s);case 1:return o=r.type,f=ts(o,r.pendingProps),Cy(e,r,o,f,s);case 3:t:{if(te(r,r.stateNode.containerInfo),e===null)throw Error(a(387));o=r.pendingProps;var d=r.memoizedState;f=d.element,Eh(e,r),no(r,o,null,s);var v=r.memoizedState;if(o=v.cache,$r(r,Me,o),o!==d.cache&&mh(r,[Me],s,!0),eo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=xy(e,r,o,s);break t}else if(o!==f){f=ui(Error(a(424)),r),Xl(f),r=xy(e,r,o,s);break t}else for(e=r.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,oe=mi(e.firstChild),rn=r,Pt=!0,Kr=null,hi=!0,s=Sp(r,null,o,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ya(),o===f){r=yr(e,r,s);break t}sn(e,r,o,s)}r=r.child}return r;case 26:return uc(e,r),e===null?(s=Hv(r.type,null,r.pendingProps,null))?r.memoizedState=s:Pt||(s=r.type,e=r.pendingProps,o=Rc(yt.current).createElement(s),o[Ne]=r,o[Xe]=e,ln(o,s,e),Ie(o),r.stateNode=o):r.memoizedState=Hv(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Mt(r),e===null&&Pt&&(o=r.stateNode=Pv(r.type,r.pendingProps,yt.current),rn=r,hi=!0,f=oe,ua(r.type)?(Md=f,oe=mi(o.firstChild)):oe=f),sn(e,r,r.pendingProps.children,s),uc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Pt&&((f=o=oe)&&(o=gS(o,r.type,r.pendingProps,hi),o!==null?(r.stateNode=o,rn=r,oe=mi(o.firstChild),hi=!1,f=!0):f=!1),f||Xr(r)),Mt(r),f=r.type,d=r.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,xd(f,d)?o=null:v!==null&&xd(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Ch(e,r,NT,null,null,s),So._currentValue=f),uc(e,r),sn(e,r,o,s),r.child;case 6:return e===null&&Pt&&((e=s=oe)&&(s=pS(s,r.pendingProps,hi),s!==null?(r.stateNode=s,rn=r,oe=null,e=!0):e=!1),e||Xr(r)),null;case 13:return Dy(e,r,s);case 4:return te(r,r.stateNode.containerInfo),o=r.pendingProps,e===null?r.child=Ja(r,null,o,s):sn(e,r,o,s),r.child;case 11:return Ey(e,r,r.type,r.pendingProps,s);case 7:return sn(e,r,r.pendingProps,s),r.child;case 8:return sn(e,r,r.pendingProps.children,s),r.child;case 12:return sn(e,r,r.pendingProps.children,s),r.child;case 10:return o=r.pendingProps,$r(r,r.type,o.value),sn(e,r,o.children,s),r.child;case 9:return f=r.type._context,o=r.pendingProps.children,Ka(r),f=an(f),o=o(f),r.flags|=1,sn(e,r,o,s),r.child;case 14:return by(e,r,r.type,r.pendingProps,s);case 15:return Ty(e,r,r.type,r.pendingProps,s);case 19:return Iy(e,r,s);case 31:return kT(e,r,s);case 22:return Sy(e,r,s,r.pendingProps);case 24:return Ka(r),o=an(Me),e===null?(f=yh(),f===null&&(f=se,d=gh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),r.memoizedState={parent:o,cache:f},_h(r),$r(r,Me,f)):((e.lanes&s)!==0&&(Eh(e,r),no(r,null,null,s),eo()),f=e.memoizedState,d=r.memoizedState,f.parent!==o?(f={parent:o,cache:o},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),$r(r,Me,o)):(o=d.cache,$r(r,Me,o),o!==f.cache&&mh(r,[Me],s,!0))),sn(e,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function vr(e){e.flags|=4}function ed(e,r,s,o,f){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(av())e.flags|=8192;else throw Za=Ku,vh}else e.flags&=-16777217}function My(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Kv(r))if(av())e.flags|=8192;else throw Za=Ku,vh}function fc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Ke():536870912,e.lanes|=r,Xs|=r)}function oo(e,r){if(!Pt)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ue(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(r)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=s,r}function PT(e,r,s){var o=r.pendingProps;switch(uh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(r),null;case 1:return ue(r),null;case 3:return s=r.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),mr(Me),qt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Us(r)?vr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,fh())),ue(r),null;case 26:var f=r.type,d=r.memoizedState;return e===null?(vr(r),d!==null?(ue(r),My(r,d)):(ue(r),ed(r,f,null,o,s))):d?d!==e.memoizedState?(vr(r),ue(r),My(r,d)):(ue(r),r.flags&=-16777217):(e=e.memoizedProps,e!==o&&vr(r),ue(r),ed(r,f,e,o,s)),null;case 27:if(ti(r),s=yt.current,f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==o&&vr(r);else{if(!o){if(r.stateNode===null)throw Error(a(166));return ue(r),null}e=ct.current,Us(r)?hp(r):(e=Pv(f,o,s),r.stateNode=e,vr(r))}return ue(r),null;case 5:if(ti(r),f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==o&&vr(r);else{if(!o){if(r.stateNode===null)throw Error(a(166));return ue(r),null}if(d=ct.current,Us(r))hp(r);else{var v=Rc(yt.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?v.createElement(f,{is:o.is}):v.createElement(f)}}d[Ne]=r,d[Xe]=o;t:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break t;for(;v.sibling===null;){if(v.return===null||v.return===r)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;t:switch(ln(d,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&vr(r)}}return ue(r),ed(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,s),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==o&&vr(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(a(166));if(e=yt.current,Us(r)){if(e=r.stateNode,s=r.memoizedProps,o=null,f=rn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Ne]=r,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Dv(e.nodeValue,s)),e||Xr(r,!0)}else e=Rc(e).createTextNode(o),e[Ne]=r,r.stateNode=e}return ue(r),null;case 31:if(s=r.memoizedState,e===null||e.memoizedState!==null){if(o=Us(r),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ne]=r}else Ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),e=!1}else s=fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return r.flags&256?(Xn(r),r):(Xn(r),null);if((r.flags&128)!==0)throw Error(a(558))}return ue(r),null;case 13:if(o=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Us(r),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ne]=r}else Ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),f=!1}else f=fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Xn(r),r):(Xn(r),null)}return Xn(r),(r.flags&128)!==0?(r.lanes=s,r):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=r.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)),s!==e&&s&&(r.child.flags|=8192),fc(r,r.updateQueue),ue(r),null);case 4:return qt(),e===null&&Sd(r.stateNode.containerInfo),ue(r),null;case 10:return mr(r.type),ue(r),null;case 19:if(J(we),o=r.memoizedState,o===null)return ue(r),null;if(f=(r.flags&128)!==0,d=o.rendering,d===null)if(f)oo(o,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=Ju(e),d!==null){for(r.flags|=128,oo(o,!1),e=d.updateQueue,r.updateQueue=e,fc(r,e),r.subtreeFlags=0,e=s,s=r.child;s!==null;)lp(s,e),s=s.sibling;return ot(we,we.current&1|2),Pt&&hr(r,o.treeForkCount),r.child}e=e.sibling}o.tail!==null&&Qe()>pc&&(r.flags|=128,f=!0,oo(o,!1),r.lanes=4194304)}else{if(!f)if(e=Ju(d),e!==null){if(r.flags|=128,f=!0,e=e.updateQueue,r.updateQueue=e,fc(r,e),oo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Pt)return ue(r),null}else 2*Qe()-o.renderingStartTime>pc&&s!==536870912&&(r.flags|=128,f=!0,oo(o,!1),r.lanes=4194304);o.isBackwards?(d.sibling=r.child,r.child=d):(e=o.last,e!==null?e.sibling=d:r.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Qe(),e.sibling=null,s=we.current,ot(we,f?s&1|2:s&1),Pt&&hr(r,o.treeForkCount),e):(ue(r),null);case 22:case 23:return Xn(r),Ah(),o=r.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(s&536870912)!==0&&(r.flags&128)===0&&(ue(r),r.subtreeFlags&6&&(r.flags|=8192)):ue(r),s=r.updateQueue,s!==null&&fc(r,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048),e!==null&&J(Xa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),mr(Me),ue(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function jT(e,r){switch(uh(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return mr(Me),qt(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return ti(r),null;case 31:if(r.memoizedState!==null){if(Xn(r),r.alternate===null)throw Error(a(340));Ya()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(Xn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Ya()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return J(we),null;case 4:return qt(),null;case 10:return mr(r.type),null;case 22:case 23:return Xn(r),Ah(),e!==null&&J(Xa),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return mr(Me),null;case 25:return null;default:return null}}function Vy(e,r){switch(uh(r),r.tag){case 3:mr(Me),qt();break;case 26:case 27:case 5:ti(r);break;case 4:qt();break;case 31:r.memoizedState!==null&&Xn(r);break;case 13:Xn(r);break;case 19:J(we);break;case 10:mr(r.type);break;case 22:case 23:Xn(r),Ah(),e!==null&&J(Xa);break;case 24:mr(Me)}}function uo(e,r){try{var s=r.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){o=void 0;var d=s.create,v=s.inst;o=d(),v.destroy=o}s=s.next}while(s!==f)}}catch(T){Wt(r,r.return,T)}}function na(e,r,s){try{var o=r.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=r;var I=s,H=T;try{H()}catch(W){Wt(f,I,W)}}}o=o.next}while(o!==d)}}catch(W){Wt(r,r.return,W)}}function Ly(e){var r=e.updateQueue;if(r!==null){var s=e.stateNode;try{wp(r,s)}catch(o){Wt(e,e.return,o)}}}function Uy(e,r,s){s.props=ts(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Wt(e,r,o)}}function co(e,r){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(f){Wt(e,r,f)}}function Qi(e,r){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){Wt(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Wt(e,r,f)}else s.current=null}function zy(e){var r=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){Wt(e,e.return,f)}}function nd(e,r,s){try{var o=e.stateNode;uS(o,e.type,s,r),o[Xe]=r}catch(f){Wt(e,e.return,f)}}function ky(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ua(e.type)||e.tag===4}function id(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ky(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rd(e,r,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(e),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Ei));else if(o!==4&&(o===27&&ua(e.type)&&(s=e.stateNode,r=null),e=e.child,e!==null))for(rd(e,r,s),e=e.sibling;e!==null;)rd(e,r,s),e=e.sibling}function hc(e,r,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(o!==4&&(o===27&&ua(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(hc(e,r,s),e=e.sibling;e!==null;)hc(e,r,s),e=e.sibling}function By(e){var r=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);ln(r,o,s),r[Ne]=e,r[Xe]=s}catch(d){Wt(e,e.return,d)}}var _r=!1,Ue=!1,ad=!1,Py=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function qT(e,r){if(e=e.containerInfo,Rd=Mc,e=Jg(e),Jf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var v=0,T=-1,I=-1,H=0,W=0,et=e,G=null;e:for(;;){for(var Q;et!==s||f!==0&&et.nodeType!==3||(T=v+f),et!==d||o!==0&&et.nodeType!==3||(I=v+o),et.nodeType===3&&(v+=et.nodeValue.length),(Q=et.firstChild)!==null;)G=et,et=Q;for(;;){if(et===e)break e;if(G===s&&++H===f&&(T=v),G===d&&++W===o&&(I=v),(Q=et.nextSibling)!==null)break;et=G,G=et.parentNode}et=Q}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Cd={focusedElem:e,selectionRange:s},Mc=!1,Ze=r;Ze!==null;)if(r=Ze,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Ze=e;else for(;Ze!==null;){switch(r=Ze,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)f=e[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=r,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var ht=ts(s.type,f);e=o.getSnapshotBeforeUpdate(ht,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Et){Wt(s,s.return,Et)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,s=e.nodeType,s===9)Nd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=r.sibling,e!==null){e.return=r.return,Ze=e;break}Ze=r.return}}function jy(e,r,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:br(e,s),o&4&&uo(5,s);break;case 1:if(br(e,s),o&4)if(e=s.stateNode,r===null)try{e.componentDidMount()}catch(v){Wt(s,s.return,v)}else{var f=ts(s.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Wt(s,s.return,v)}}o&64&&Ly(s),o&512&&co(s,s.return);break;case 3:if(br(e,s),o&64&&(e=s.updateQueue,e!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{wp(e,r)}catch(v){Wt(s,s.return,v)}}break;case 27:r===null&&o&4&&By(s);case 26:case 5:br(e,s),r===null&&o&4&&zy(s),o&512&&co(s,s.return);break;case 12:br(e,s);break;case 31:br(e,s),o&4&&Fy(e,s);break;case 13:br(e,s),o&4&&Gy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=ZT.bind(null,s),yS(e,s))));break;case 22:if(o=s.memoizedState!==null||_r,!o){r=r!==null&&r.memoizedState!==null||Ue,f=_r;var d=Ue;_r=o,(Ue=r)&&!d?Tr(e,s,(s.subtreeFlags&8772)!==0):br(e,s),_r=f,Ue=d}break;case 30:break;default:br(e,s)}}function qy(e){var r=e.alternate;r!==null&&(e.alternate=null,qy(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&_s(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,Nn=!1;function Er(e,r,s){for(s=s.child;s!==null;)Hy(e,r,s),s=s.sibling}function Hy(e,r,s){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(jn,s)}catch{}switch(s.tag){case 26:Ue||Qi(s,r),Er(e,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ue||Qi(s,r);var o=pe,f=Nn;ua(s.type)&&(pe=s.stateNode,Nn=!1),Er(e,r,s),Eo(s.stateNode),pe=o,Nn=f;break;case 5:Ue||Qi(s,r);case 6:if(o=pe,f=Nn,pe=null,Er(e,r,s),pe=o,Nn=f,pe!==null)if(Nn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(s.stateNode)}catch(d){Wt(s,r,d)}else try{pe.removeChild(s.stateNode)}catch(d){Wt(s,r,d)}break;case 18:pe!==null&&(Nn?(e=pe,Lv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),il(e)):Lv(pe,s.stateNode));break;case 4:o=pe,f=Nn,pe=s.stateNode.containerInfo,Nn=!0,Er(e,r,s),pe=o,Nn=f;break;case 0:case 11:case 14:case 15:na(2,s,r),Ue||na(4,s,r),Er(e,r,s);break;case 1:Ue||(Qi(s,r),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Uy(s,r,o)),Er(e,r,s);break;case 21:Er(e,r,s);break;case 22:Ue=(o=Ue)||s.memoizedState!==null,Er(e,r,s),Ue=o;break;default:Er(e,r,s)}}function Fy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{il(e)}catch(s){Wt(r,r.return,s)}}}function Gy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{il(e)}catch(s){Wt(r,r.return,s)}}function HT(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Py),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Py),r;default:throw Error(a(435,e.tag))}}function dc(e,r){var s=HT(e);r.forEach(function(o){if(!s.has(o)){s.add(o);var f=JT.bind(null,e,o);o.then(f,f)}})}function In(e,r){var s=r.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=e,v=r,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(ua(T.type)){pe=T.stateNode,Nn=!1;break t}break;case 5:pe=T.stateNode,Nn=!1;break t;case 3:case 4:pe=T.stateNode.containerInfo,Nn=!0;break t}T=T.return}if(pe===null)throw Error(a(160));Hy(d,v,f),pe=null,Nn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Yy(r,e),r=r.sibling}var Ri=null;function Yy(e,r){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:In(r,e),On(e),o&4&&(na(3,e,e.return),uo(3,e),na(5,e,e.return));break;case 1:In(r,e),On(e),o&512&&(Ue||s===null||Qi(s,s.return)),o&64&&_r&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=Ri;if(In(r,e),On(e),o&512&&(Ue||s===null||Qi(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Mi]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),ln(d,o,s),d[Ne]=e,Ie(d),o=d;break t;case"link":var v=Yv("link","href",f).get(o+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break e}}d=f.createElement(o),ln(d,o,s),f.head.appendChild(d);break;case"meta":if(v=Yv("meta","content",f).get(o+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break e}}d=f.createElement(o),ln(d,o,s),f.head.appendChild(d);break;default:throw Error(a(468,o))}d[Ne]=e,Ie(d),o=d}e.stateNode=o}else Qv(f,e.type,e.stateNode);else e.stateNode=Gv(f,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?Qv(f,e.type,e.stateNode):Gv(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&nd(e,e.memoizedProps,s.memoizedProps)}break;case 27:In(r,e),On(e),o&512&&(Ue||s===null||Qi(s,s.return)),s!==null&&o&4&&nd(e,e.memoizedProps,s.memoizedProps);break;case 5:if(In(r,e),On(e),o&512&&(Ue||s===null||Qi(s,s.return)),e.flags&32){f=e.stateNode;try{Dn(f,"")}catch(ht){Wt(e,e.return,ht)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,nd(e,f,s!==null?s.memoizedProps:f)),o&1024&&(ad=!0);break;case 6:if(In(r,e),On(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ht){Wt(e,e.return,ht)}}break;case 3:if(Dc=null,f=Ri,Ri=Cc(r.containerInfo),In(r,e),Ri=f,On(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{il(r.containerInfo)}catch(ht){Wt(e,e.return,ht)}ad&&(ad=!1,Qy(e));break;case 4:o=Ri,Ri=Cc(e.stateNode.containerInfo),In(r,e),On(e),Ri=o;break;case 12:In(r,e),On(e);break;case 31:In(r,e),On(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 13:In(r,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(gc=Qe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 22:f=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,H=_r,W=Ue;if(_r=H||f,Ue=W||I,In(r,e),Ue=W,_r=H,On(e),o&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(s===null||I||_r||Ue||es(e)),s=null,r=e;;){if(r.tag===5||r.tag===26){if(s===null){I=s=r;try{if(d=I.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var et=I.memoizedProps.style,G=et!=null&&et.hasOwnProperty("display")?et.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ht){Wt(I,I.return,ht)}}}else if(r.tag===6){if(s===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(ht){Wt(I,I.return,ht)}}}else if(r.tag===18){if(s===null){I=r;try{var Q=I.stateNode;f?Uv(Q,!0):Uv(I.stateNode,!1)}catch(ht){Wt(I,I.return,ht)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,dc(e,s))));break;case 19:In(r,e),On(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dc(e,o)));break;case 30:break;case 21:break;default:In(r,e),On(e)}}function On(e){var r=e.flags;if(r&2){try{for(var s,o=e.return;o!==null;){if(ky(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=id(e);hc(e,d,f);break;case 5:var v=s.stateNode;s.flags&32&&(Dn(v,""),s.flags&=-33);var T=id(e);hc(e,T,v);break;case 3:case 4:var I=s.stateNode.containerInfo,H=id(e);rd(e,H,I);break;default:throw Error(a(161))}}catch(W){Wt(e,e.return,W)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Qy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function br(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)jy(e,r.alternate,r),r=r.sibling}function es(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:na(4,r,r.return),es(r);break;case 1:Qi(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Uy(r,r.return,s),es(r);break;case 27:Eo(r.stateNode);case 26:case 5:Qi(r,r.return),es(r);break;case 22:r.memoizedState===null&&es(r);break;case 30:es(r);break;default:es(r)}e=e.sibling}}function Tr(e,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,f=e,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(f,d,s),uo(4,d);break;case 1:if(Tr(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Wt(o,o.return,H)}if(o=d,f=o.updateQueue,f!==null){var T=o.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Ap(I[f],T)}catch(H){Wt(o,o.return,H)}}s&&v&64&&Ly(d),co(d,d.return);break;case 27:By(d);case 26:case 5:Tr(f,d,s),s&&o===null&&v&4&&zy(d),co(d,d.return);break;case 12:Tr(f,d,s);break;case 31:Tr(f,d,s),s&&v&4&&Fy(f,d);break;case 13:Tr(f,d,s),s&&v&4&&Gy(f,d);break;case 22:d.memoizedState===null&&Tr(f,d,s),co(d,d.return);break;case 30:break;default:Tr(f,d,s)}r=r.sibling}}function sd(e,r){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&$l(s))}function ld(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&$l(e))}function Ci(e,r,s,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ky(e,r,s,o),r=r.sibling}function Ky(e,r,s,o){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ci(e,r,s,o),f&2048&&uo(9,r);break;case 1:Ci(e,r,s,o);break;case 3:Ci(e,r,s,o),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&$l(e)));break;case 12:if(f&2048){Ci(e,r,s,o),e=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Wt(r,r.return,I)}}else Ci(e,r,s,o);break;case 31:Ci(e,r,s,o);break;case 13:Ci(e,r,s,o);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Ci(e,r,s,o):fo(e,r):d._visibility&2?Ci(e,r,s,o):(d._visibility|=2,Ys(e,r,s,o,(r.subtreeFlags&10256)!==0||!1)),f&2048&&sd(v,r);break;case 24:Ci(e,r,s,o),f&2048&&ld(r.alternate,r);break;default:Ci(e,r,s,o)}}function Ys(e,r,s,o,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,v=r,T=s,I=o,H=v.flags;switch(v.tag){case 0:case 11:case 15:Ys(d,v,T,I,f),uo(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Ys(d,v,T,I,f):fo(d,v):(W._visibility|=2,Ys(d,v,T,I,f)),f&&H&2048&&sd(v.alternate,v);break;case 24:Ys(d,v,T,I,f),f&&H&2048&&ld(v.alternate,v);break;default:Ys(d,v,T,I,f)}r=r.sibling}}function fo(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=e,o=r,f=o.flags;switch(o.tag){case 22:fo(s,o),f&2048&&sd(o.alternate,o);break;case 24:fo(s,o),f&2048&&ld(o.alternate,o);break;default:fo(s,o)}r=r.sibling}}var ho=8192;function Qs(e,r,s){if(e.subtreeFlags&ho)for(e=e.child;e!==null;)Xy(e,r,s),e=e.sibling}function Xy(e,r,s){switch(e.tag){case 26:Qs(e,r,s),e.flags&ho&&e.memoizedState!==null&&DS(s,Ri,e.memoizedState,e.memoizedProps);break;case 5:Qs(e,r,s);break;case 3:case 4:var o=Ri;Ri=Cc(e.stateNode.containerInfo),Qs(e,r,s),Ri=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ho,ho=16777216,Qs(e,r,s),ho=o):Qs(e,r,s));break;default:Qs(e,r,s)}}function $y(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function mo(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];Ze=o,Jy(o,e)}$y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zy(e),e=e.sibling}function Zy(e){switch(e.tag){case 0:case 11:case 15:mo(e),e.flags&2048&&na(9,e,e.return);break;case 3:mo(e);break;case 12:mo(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,mc(e)):mo(e);break;default:mo(e)}}function mc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];Ze=o,Jy(o,e)}$y(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:na(8,r,r.return),mc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,mc(r));break;default:mc(r)}e=e.sibling}}function Jy(e,r){for(;Ze!==null;){var s=Ze;switch(s.tag){case 0:case 11:case 15:na(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:$l(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ze=o;else t:for(s=e;Ze!==null;){o=Ze;var f=o.sibling,d=o.return;if(qy(o),o===s){Ze=null;break t}if(f!==null){f.return=d,Ze=f;break t}Ze=d}}}var FT={getCacheForType:function(e){var r=an(Me),s=r.data.get(e);return s===void 0&&(s=e(),r.data.set(e,s)),s},cacheSignal:function(){return an(Me).controller.signal}},GT=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,It=null,Vt=0,Jt=0,$n=null,ia=!1,Ks=!1,od=!1,Sr=0,_e=0,ra=0,ns=0,ud=0,Zn=0,Xs=0,go=null,Mn=null,cd=!1,gc=0,Wy=0,pc=1/0,yc=null,aa=null,Pe=0,sa=null,$s=null,Ar=0,fd=0,hd=null,tv=null,po=0,dd=null;function Jn(){return(Kt&2)!==0&&Vt!==0?Vt&-Vt:Z.T!==null?_d():Hn()}function ev(){if(Zn===0)if((Vt&536870912)===0||Pt){var e=lr;lr<<=1,(lr&3932160)===0&&(lr=262144),Zn=e}else Zn=536870912;return e=Kn.current,e!==null&&(e.flags|=32),Zn}function Vn(e,r,s){(e===se&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Zs(e,0),la(e,Vt,Zn,!1)),Cn(e,s),((Kt&2)===0||e!==se)&&(e===se&&((Kt&2)===0&&(ns|=s),_e===4&&la(e,Vt,Zn,!1)),Ki(e))}function nv(e,r,s){if((Kt&6)!==0)throw Error(a(327));var o=!s&&(r&127)===0&&(r&e.expiredLanes)===0||De(e,r),f=o?KT(e,r):gd(e,r,!0),d=o;do{if(f===0){Ks&&!o&&la(e,r,0,!1);break}else{if(s=e.current.alternate,d&&!YT(s)){f=gd(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var T=e;f=go;var I=T.current.memoizedState.isDehydrated;if(I&&(Zs(T,v).flags|=256),v=gd(T,v,!1),v!==2){if(od&&!I){T.errorRecoveryDisabledLanes|=d,ns|=d,f=4;break t}d=Mn,Mn=f,d!==null&&(Mn===null?Mn=d:Mn.push.apply(Mn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Zs(e,0),la(e,r,0,!0);break}t:{switch(o=e,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:la(o,r,Zn,!ia);break t;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(f=gc+300-Qe(),10<f)){if(la(o,r,Zn,!ia),me(o,0,!0)!==0)break t;Ar=r,o.timeoutHandle=Mv(iv.bind(null,o,s,Mn,yc,cd,r,Zn,ns,Xs,ia,d,"Throttled",-0,0),f);break t}iv(o,s,Mn,yc,cd,r,Zn,ns,Xs,ia,d,null,-0,0)}}break}while(!0);Ki(e)}function iv(e,r,s,o,f,d,v,T,I,H,W,et,G,Q){if(e.timeoutHandle=-1,et=r.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ei},Xy(r,d,et);var ht=(d&62914560)===d?gc-Qe():(d&4194048)===d?Wy-Qe():0;if(ht=NS(et,ht),ht!==null){Ar=d,e.cancelPendingCommit=ht(fv.bind(null,e,r,d,s,o,f,v,T,I,W,et,null,G,Q)),la(e,d,v,!H);return}}fv(e,r,d,s,o,f,v,T,I)}function YT(e){for(var r=e;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!Yn(d(),f))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function la(e,r,s,o){r&=~ud,r&=~ns,e.suspendedLanes|=r,e.pingedLanes&=~r,o&&(e.warmLanes|=r),o=e.expirationTimes;for(var f=r;0<f;){var d=31-he(f),v=1<<d;o[d]=-1,f&=~v}s!==0&&dn(e,s,r)}function vc(){return(Kt&6)===0?(yo(0),!1):!0}function md(){if(It!==null){if(Jt===0)var e=It.return;else e=It,dr=Qa=null,Nh(e),js=null,Jl=0,e=It;for(;e!==null;)Vy(e.alternate,e),e=e.return;It=null}}function Zs(e,r){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,hS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ar=0,md(),se=e,It=s=fr(e.current,null),Vt=r,Jt=0,$n=null,ia=!1,Ks=De(e,r),od=!1,Xs=Zn=ud=ns=ra=_e=0,Mn=go=null,cd=!1,(r&8)!==0&&(r|=r&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=r;0<o;){var f=31-he(o),d=1<<f;r|=e[f],o&=~d}return Sr=r,Bu(),s}function rv(e,r){Ct=null,Z.H=so,r===Ps||r===Qu?(r=Ep(),Jt=3):r===vh?(r=Ep(),Jt=4):Jt=r===Yh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,$n=r,It===null&&(_e=1,lc(e,ui(r,e.current)))}function av(){var e=Kn.current;return e===null?!0:(Vt&4194048)===Vt?di===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===di:!1}function sv(){var e=Z.H;return Z.H=so,e===null?so:e}function lv(){var e=Z.A;return Z.A=FT,e}function _c(){_e=4,ia||(Vt&4194048)!==Vt&&Kn.current!==null||(Ks=!0),(ra&134217727)===0&&(ns&134217727)===0||se===null||la(se,Vt,Zn,!1)}function gd(e,r,s){var o=Kt;Kt|=2;var f=sv(),d=lv();(se!==e||Vt!==r)&&(yc=null,Zs(e,r)),r=!1;var v=_e;t:do try{if(Jt!==0&&It!==null){var T=It,I=$n;switch(Jt){case 8:md(),v=6;break t;case 3:case 2:case 9:case 6:Kn.current===null&&(r=!0);var H=Jt;if(Jt=0,$n=null,Js(e,T,I,H),s&&Ks){v=0;break t}break;default:H=Jt,Jt=0,$n=null,Js(e,T,I,H)}}QT(),v=_e;break}catch(W){rv(e,W)}while(!0);return r&&e.shellSuspendCounter++,dr=Qa=null,Kt=o,Z.H=f,Z.A=d,It===null&&(se=null,Vt=0,Bu()),v}function QT(){for(;It!==null;)ov(It)}function KT(e,r){var s=Kt;Kt|=2;var o=sv(),f=lv();se!==e||Vt!==r?(yc=null,pc=Qe()+500,Zs(e,r)):Ks=De(e,r);t:do try{if(Jt!==0&&It!==null){r=It;var d=$n;e:switch(Jt){case 1:Jt=0,$n=null,Js(e,r,d,1);break;case 2:case 9:if(vp(d)){Jt=0,$n=null,uv(r);break}r=function(){Jt!==2&&Jt!==9||se!==e||(Jt=7),Ki(e)},d.then(r,r);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:vp(d)?(Jt=0,$n=null,uv(r)):(Jt=0,$n=null,Js(e,r,d,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var T=It;if(v?Kv(v):T.stateNode.complete){Jt=0,$n=null;var I=T.sibling;if(I!==null)It=I;else{var H=T.return;H!==null?(It=H,Ec(H)):It=null}break e}}Jt=0,$n=null,Js(e,r,d,5);break;case 6:Jt=0,$n=null,Js(e,r,d,6);break;case 8:md(),_e=6;break t;default:throw Error(a(462))}}XT();break}catch(W){rv(e,W)}while(!0);return dr=Qa=null,Z.H=o,Z.A=f,Kt=s,It!==null?0:(se=null,Vt=0,Bu(),_e)}function XT(){for(;It!==null&&!zr();)ov(It)}function ov(e){var r=Oy(e.alternate,e,Sr);e.memoizedProps=e.pendingProps,r===null?Ec(e):It=r}function uv(e){var r=e,s=r.alternate;switch(r.tag){case 15:case 0:r=Ry(s,r,r.pendingProps,r.type,void 0,Vt);break;case 11:r=Ry(s,r,r.pendingProps,r.type.render,r.ref,Vt);break;case 5:Nh(r);default:Vy(s,r),r=It=lp(r,Sr),r=Oy(s,r,Sr)}e.memoizedProps=e.pendingProps,r===null?Ec(e):It=r}function Js(e,r,s,o){dr=Qa=null,Nh(r),js=null,Jl=0;var f=r.return;try{if(zT(e,f,r,s,Vt)){_e=1,lc(e,ui(s,e.current)),It=null;return}}catch(d){if(f!==null)throw It=f,d;_e=1,lc(e,ui(s,e.current)),It=null;return}r.flags&32768?(Pt||o===1?e=!0:Ks||(Vt&536870912)!==0?e=!1:(ia=e=!0,(o===2||o===9||o===3||o===6)&&(o=Kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),cv(r,e)):Ec(r)}function Ec(e){var r=e;do{if((r.flags&32768)!==0){cv(r,ia);return}e=r.return;var s=PT(r.alternate,r,Sr);if(s!==null){It=s;return}if(r=r.sibling,r!==null){It=r;return}It=r=e}while(r!==null);_e===0&&(_e=5)}function cv(e,r){do{var s=jT(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);_e=6,It=null}function fv(e,r,s,o,f,d,v,T,I){e.cancelPendingCommit=null;do bc();while(Pe!==0);if((Kt&6)!==0)throw Error(a(327));if(r!==null){if(r===e.current)throw Error(a(177));if(d=r.lanes|r.childLanes,d|=ih,Se(e,s,d,v,T,I),e===se&&(It=se=null,Vt=0),$s=r,sa=e,Ar=s,fd=d,hd=f,tv=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,WT(_n,function(){return pv(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null,f=lt.p,lt.p=2,v=Kt,Kt|=4;try{qT(e,r,s)}finally{Kt=v,lt.p=f,Z.T=o}}Pe=1,hv(),dv(),mv()}}function hv(){if(Pe===1){Pe=0;var e=sa,r=$s,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=Z.T,Z.T=null;var o=lt.p;lt.p=2;var f=Kt;Kt|=4;try{Yy(r,e);var d=Cd,v=Jg(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Zg(T.ownerDocument.documentElement,T)){if(I!==null&&Jf(T)){var H=I.start,W=I.end;if(W===void 0&&(W=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(W,T.value.length);else{var et=T.ownerDocument||document,G=et&&et.defaultView||window;if(G.getSelection){var Q=G.getSelection(),ht=T.textContent.length,Et=Math.min(I.start,ht),ae=I.end===void 0?Et:Math.min(I.end,ht);!Q.extend&&Et>ae&&(v=ae,ae=Et,Et=v);var B=$g(T,Et),L=$g(T,ae);if(B&&L&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var q=et.createRange();q.setStart(B.node,B.offset),Q.removeAllRanges(),Et>ae?(Q.addRange(q),Q.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),Q.addRange(q))}}}}for(et=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<et.length;T++){var tt=et[T];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Mc=!!Rd,Cd=Rd=null}finally{Kt=f,lt.p=o,Z.T=s}}e.current=r,Pe=2}}function dv(){if(Pe===2){Pe=0;var e=sa,r=$s,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=Z.T,Z.T=null;var o=lt.p;lt.p=2;var f=Kt;Kt|=4;try{jy(e,r.alternate,r)}finally{Kt=f,lt.p=o,Z.T=s}}Pe=3}}function mv(){if(Pe===4||Pe===3){Pe=0,Da();var e=sa,r=$s,s=Ar,o=tv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pe=5:(Pe=0,$s=sa=null,gv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(aa=null),bn(s),r=r.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(jn,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=Z.T,f=lt.p,lt.p=2,Z.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{Z.T=r,lt.p=f}}(Ar&3)!==0&&bc(),Ki(e),f=e.pendingLanes,(s&261930)!==0&&(f&42)!==0?e===dd?po++:(po=0,dd=e):po=0,yo(0)}}function gv(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,$l(r)))}function bc(){return hv(),dv(),mv(),pv()}function pv(){if(Pe!==5)return!1;var e=sa,r=fd;fd=0;var s=bn(Ar),o=Z.T,f=lt.p;try{lt.p=32>s?32:s,Z.T=null,s=hd,hd=null;var d=sa,v=Ar;if(Pe=0,$s=sa=null,Ar=0,(Kt&6)!==0)throw Error(a(331));var T=Kt;if(Kt|=4,Zy(d.current),Ky(d,d.current,v,s),Kt=T,yo(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(jn,d)}catch{}return!0}finally{lt.p=f,Z.T=o,gv(e,r)}}function yv(e,r,s){r=ui(s,r),r=Gh(e.stateNode,r,2),e=Wr(e,r,2),e!==null&&(Cn(e,2),Ki(e))}function Wt(e,r,s){if(e.tag===3)yv(e,e,s);else for(;r!==null;){if(r.tag===3){yv(r,e,s);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(aa===null||!aa.has(o))){e=ui(s,e),s=vy(2),o=Wr(r,s,2),o!==null&&(_y(s,o,r,e),Cn(o,2),Ki(o));break}}r=r.return}}function pd(e,r,s){var o=e.pingCache;if(o===null){o=e.pingCache=new GT;var f=new Set;o.set(r,f)}else f=o.get(r),f===void 0&&(f=new Set,o.set(r,f));f.has(s)||(od=!0,f.add(s),e=$T.bind(null,e,r,s),r.then(e,e))}function $T(e,r,s){var o=e.pingCache;o!==null&&o.delete(r),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,se===e&&(Vt&s)===s&&(_e===4||_e===3&&(Vt&62914560)===Vt&&300>Qe()-gc?(Kt&2)===0&&Zs(e,0):ud|=s,Xs===Vt&&(Xs=0)),Ki(e)}function vv(e,r){r===0&&(r=Ke()),e=Fa(e,r),e!==null&&(Cn(e,r),Ki(e))}function ZT(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),vv(e,s)}function JT(e,r){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(r),vv(e,s)}function WT(e,r){return ee(e,r)}var Tc=null,Ws=null,yd=!1,Sc=!1,vd=!1,oa=0;function Ki(e){e!==Ws&&e.next===null&&(Ws===null?Tc=Ws=e:Ws=Ws.next=e),Sc=!0,yd||(yd=!0,eS())}function yo(e,r){if(!vd&&Sc){vd=!0;do for(var s=!1,o=Tc;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-he(42|e)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Tv(o,d))}else d=Vt,d=me(o,o===se?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||De(o,d)||(s=!0,Tv(o,d));o=o.next}while(s);vd=!1}}function tS(){_v()}function _v(){Sc=yd=!1;var e=0;oa!==0&&fS()&&(e=oa);for(var r=Qe(),s=null,o=Tc;o!==null;){var f=o.next,d=Ev(o,r);d===0?(o.next=null,s===null?Tc=f:s.next=f,f===null&&(Ws=s)):(s=o,(e!==0||(d&3)!==0)&&(Sc=!0)),o=f}Pe!==0&&Pe!==5||yo(e),oa!==0&&(oa=0)}function Ev(e,r){for(var s=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-he(d),T=1<<v,I=f[v];I===-1?((T&s)===0||(T&o)!==0)&&(f[v]=hn(T,r)):I<=r&&(e.expiredLanes|=T),d&=~T}if(r=se,s=Vt,s=me(e,e===r?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===r&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Bn(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||De(e,s)){if(r=s&-s,r===e.callbackPriority)return r;switch(o!==null&&Bn(o),bn(s)){case 2:case 8:s=ni;break;case 32:s=_n;break;case 268435456:s=Ia;break;default:s=_n}return o=bv.bind(null,e),s=ee(s,o),e.callbackPriority=r,e.callbackNode=s,r}return o!==null&&o!==null&&Bn(o),e.callbackPriority=2,e.callbackNode=null,2}function bv(e,r){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(bc()&&e.callbackNode!==s)return null;var o=Vt;return o=me(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(nv(e,o,r),Ev(e,Qe()),e.callbackNode!=null&&e.callbackNode===s?bv.bind(null,e):null)}function Tv(e,r){if(bc())return null;nv(e,r,!0)}function eS(){dS(function(){(Kt&6)!==0?ee(Na,tS):_v()})}function _d(){if(oa===0){var e=ks;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),oa=e}return oa}function Sv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ss(""+e)}function Av(e,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,e.id&&s.setAttribute("form",e.id),r.parentNode.insertBefore(s,r),e=new FormData(e),s.parentNode.removeChild(s),e}function nS(e,r,s,o,f){if(r==="submit"&&s&&s.stateNode===f){var d=Sv((f[Xe]||null).action),v=o.submitter;v&&(r=(r=v[Xe]||null)?Sv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new ji("action","action",null,o,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(oa!==0){var I=v?Av(f,v):new FormData(f);Bh(s,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?Av(f,v):new FormData(f),Bh(s,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Ed=0;Ed<nh.length;Ed++){var bd=nh[Ed],iS=bd.toLowerCase(),rS=bd[0].toUpperCase()+bd.slice(1);wi(iS,"on"+rS)}wi(ep,"onAnimationEnd"),wi(np,"onAnimationIteration"),wi(ip,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(ET,"onTransitionRun"),wi(bT,"onTransitionStart"),wi(TT,"onTransitionCancel"),wi(rp,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vo));function wv(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],f=o.event;o=o.listeners;t:{var d=void 0;if(r)for(var v=o.length-1;0<=v;v--){var T=o[v],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=H;try{d(f)}catch(W){ku(W)}f.currentTarget=null,d=I}else for(v=0;v<o.length;v++){if(T=o[v],I=T.instance,H=T.currentTarget,T=T.listener,I!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=H;try{d(f)}catch(W){ku(W)}f.currentTarget=null,d=I}}}}function Ot(e,r){var s=r[vs];s===void 0&&(s=r[vs]=new Set);var o=e+"__bubble";s.has(o)||(Rv(r,e,2,!1),s.add(o))}function Td(e,r,s){var o=0;r&&(o|=4),Rv(s,e,o,r)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[Ac]){e[Ac]=!0,Dl.forEach(function(s){s!=="selectionchange"&&(aS.has(s)||Td(s,!1,e),Td(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Ac]||(r[Ac]=!0,Td("selectionchange",!1,r))}}function Rv(e,r,s,o){switch(e_(r)){case 2:var f=MS;break;case 8:f=VS;break;default:f=kd}s=f.bind(null,r,s,e),f=void 0,!Ua||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(r,s,{capture:!0,passive:f}):e.addEventListener(r,s,!0):f!==void 0?e.addEventListener(r,s,{passive:f}):e.addEventListener(r,s,!1)}function Ad(e,r,s,o,f){var d=o;if((r&1)===0&&(r&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=o.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=Vi(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){o=d=v;continue t}T=T.parentNode}}o=o.return}Hr(function(){var H=d,W=ai(s),et=[];t:{var G=ap.get(e);if(G!==void 0){var Q=ji,ht=e;switch(e){case"keypress":if(ka(s)===0)break t;case"keydown":case"keyup":Q=Lu;break;case"focusin":ht="focus",Q=Pa;break;case"focusout":ht="blur",Q=Pa;break;case"beforeblur":case"afterblur":Q=Pa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case ep:case np:case ip:Q=xu;break;case rp:Q=A;break;case"scroll":case"scrollend":Q=jl;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=cr;break;case"toggle":case"beforetoggle":Q=Rt}var Et=(r&4)!==0,ae=!Et&&(e==="scroll"||e==="scrollend"),B=Et?G!==null?G+"Capture":null:G;Et=[];for(var L=H,q;L!==null;){var tt=L;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||B===null||(tt=bi(L,B),tt!=null&&Et.push(_o(L,tt,q))),ae)break;L=L.return}0<Et.length&&(G=new Q(G,ht,null,s,W),et.push({event:G,listeners:Et}))}}if((r&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",G&&s!==kl&&(ht=s.relatedTarget||s.fromElement)&&(Vi(ht)||ht[Oi]))break t;if((Q||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(ht=s.relatedTarget||s.toElement,Q=H,ht=ht?Vi(ht):null,ht!==null&&(ae=u(ht),Et=ht.tag,ht!==ae||Et!==5&&Et!==27&&Et!==6)&&(ht=null)):(Q=null,ht=H),Q!==ht)){if(Et=ql,tt="onMouseLeave",B="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(Et=cr,tt="onPointerLeave",B="onPointerEnter",L="pointer"),ae=Q==null?G:Fn(Q),q=ht==null?G:Fn(ht),G=new Et(tt,L+"leave",Q,s,W),G.target=ae,G.relatedTarget=q,tt=null,Vi(W)===H&&(Et=new Et(B,L+"enter",ht,s,W),Et.target=q,Et.relatedTarget=ae,tt=Et),ae=tt,Q&&ht)e:{for(Et=sS,B=Q,L=ht,q=0,tt=B;tt;tt=Et(tt))q++;tt=0;for(var pt=L;pt;pt=Et(pt))tt++;for(;0<q-tt;)B=Et(B),q--;for(;0<tt-q;)L=Et(L),tt--;for(;q--;){if(B===L||L!==null&&B===L.alternate){Et=B;break e}B=Et(B),L=Et(L)}Et=null}else Et=null;Q!==null&&Cv(et,G,Q,Et,!1),ht!==null&&ae!==null&&Cv(et,ae,ht,Et,!0)}}t:{if(G=H?Fn(H):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Gt=Fg;else if(qg(G))if(Gg)Gt=yT;else{Gt=gT;var dt=mT}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Ts(H.elementType)&&(Gt=Fg):Gt=pT;if(Gt&&(Gt=Gt(e,H))){Hg(et,Gt,s,W);break t}dt&&dt(e,G,H),e==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Ll(G,"number",G.value)}switch(dt=H?Fn(H):window,e){case"focusin":(qg(dt)||dt.contentEditable==="true")&&(Ns=dt,Wf=H,Ql=null);break;case"focusout":Ql=Wf=Ns=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,Wg(et,s,W);break;case"selectionchange":if(_T)break;case"keydown":case"keyup":Wg(et,s,W)}var xt;if(Qt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ds?ja(e,s)&&(Lt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Lt="onCompositionStart");Lt&&(Fi&&s.locale!=="ko"&&(Ds||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ds&&(xt=Pl()):(Pi=W,Bl="value"in Pi?Pi.value:Pi.textContent,Ds=!0)),dt=wc(H,Lt),0<dt.length&&(Lt=new Hi(Lt,e,null,s,W),et.push({event:Lt,listeners:dt}),xt?Lt.data=xt:(xt=xs(s),xt!==null&&(Lt.data=xt)))),(xt=li?cT(e,s):fT(e,s))&&(Lt=wc(H,"onBeforeInput"),0<Lt.length&&(dt=new Hi("onBeforeInput","beforeinput",null,s,W),et.push({event:dt,listeners:Lt}),dt.data=xt)),nS(et,e,H,s,W)}wv(et,r)})}function _o(e,r,s){return{instance:e,listener:r,currentTarget:s}}function wc(e,r){for(var s=r+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=bi(e,s),f!=null&&o.unshift(_o(e,f,d)),f=bi(e,r),f!=null&&o.push(_o(e,f,d))),e.tag===3)return o;e=e.return}return[]}function sS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cv(e,r,s,o,f){for(var d=r._reactName,v=[];s!==null&&s!==o;){var T=s,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||H===null||(I=H,f?(H=bi(s,d),H!=null&&v.unshift(_o(s,H,I))):f||(H=bi(s,d),H!=null&&v.push(_o(s,H,I)))),s=s.return}v.length!==0&&e.push({event:r,listeners:v})}var lS=/\r\n?/g,oS=/\u0000|\uFFFD/g;function xv(e){return(typeof e=="string"?e:""+e).replace(lS,`
`).replace(oS,"")}function Dv(e,r){return r=xv(r),xv(e)===r}function re(e,r,s,o,f,d){switch(s){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||Dn(e,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&Dn(e,""+o);break;case"className":Gn(e,"class",o);break;case"tabIndex":Gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,s,o);break;case"style":zl(e,o,d);break;case"data":if(r!=="object"){Gn(e,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Ss(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&re(e,r,"name",f.name,f,null),re(e,r,"formEncType",f.formEncType,f,null),re(e,r,"formMethod",f.formMethod,f,null),re(e,r,"formTarget",f.formTarget,f,null)):(re(e,r,"encType",f.encType,f,null),re(e,r,"method",f.method,f,null),re(e,r,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Ss(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Ei);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Ss(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Es(e,"popover",o);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Es(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=wu.get(s)||s,Es(e,s,o))}}function wd(e,r,s,o,f,d){switch(s){case"style":zl(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Dn(e,o):(typeof o=="number"||typeof o=="bigint")&&Dn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),d=e[Xe]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(r,o,f);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Es(e,s,o)}}}function ln(e,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:re(e,r,d,v,s,null)}}f&&re(e,r,"srcSet",s.srcSet,s,null),o&&re(e,r,"src",s.src,s,null);return;case"input":Ot("invalid",e);var T=d=v=f=null,I=null,H=null;for(o in s)if(s.hasOwnProperty(o)){var W=s[o];if(W!=null)switch(o){case"name":f=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":H=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,r));break;default:re(e,r,o,W,s,null)}}Tu(e,d,T,I,H,v,f,!1);return;case"select":Ot("invalid",e),o=v=d=null;for(f in s)if(s.hasOwnProperty(f)&&(T=s[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:re(e,r,f,T,s,null)}r=d,s=v,e.multiple=!!o,r!=null?Br(e,!!o,r,!1):s!=null&&Br(e,!!o,s,!0);return;case"textarea":Ot("invalid",e),d=f=o=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:re(e,r,v,T,s,null)}Pr(e,o,f,d);return;case"option":for(I in s)s.hasOwnProperty(I)&&(o=s[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":re(e,r,I,o,s,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<vo.length;o++)Ot(vo[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(o=s[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:re(e,r,H,o,s,null)}return;default:if(Ts(r)){for(W in s)s.hasOwnProperty(W)&&(o=s[W],o!==void 0&&wd(e,r,W,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&re(e,r,T,o,s,null))}function uS(e,r,s,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,I=null,H=null,W=null;for(Q in s){var et=s[Q];if(s.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=et;default:o.hasOwnProperty(Q)||re(e,r,Q,null,o,et)}}for(var G in o){var Q=o[G];if(et=s[G],o.hasOwnProperty(G)&&(Q!=null||et!=null))switch(G){case"type":d=Q;break;case"name":f=Q;break;case"checked":H=Q;break;case"defaultChecked":W=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,r));break;default:Q!==et&&re(e,r,G,Q,o,et)}}bs(e,v,T,I,H,W,d,f);return;case"select":Q=v=T=G=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:o.hasOwnProperty(d)||re(e,r,d,null,o,I)}for(f in o)if(d=o[f],I=s[f],o.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&re(e,r,f,d,o,I)}r=T,s=v,o=Q,G!=null?Br(e,!!s,G,!1):!!o!=!!s&&(r!=null?Br(e,!!s,r,!0):Br(e,!!s,s?[]:"",!1));return;case"textarea":Q=G=null;for(T in s)if(f=s[T],s.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:re(e,r,T,null,o,f)}for(v in o)if(f=o[v],d=s[v],o.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&re(e,r,v,f,o,d)}Su(e,G,Q);return;case"option":for(var ht in s)G=s[ht],s.hasOwnProperty(ht)&&G!=null&&!o.hasOwnProperty(ht)&&(ht==="selected"?e.selected=!1:re(e,r,ht,null,o,G));for(I in o)G=o[I],Q=s[I],o.hasOwnProperty(I)&&G!==Q&&(G!=null||Q!=null)&&(I==="selected"?e.selected=G&&typeof G!="function"&&typeof G!="symbol":re(e,r,I,G,o,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)G=s[Et],s.hasOwnProperty(Et)&&G!=null&&!o.hasOwnProperty(Et)&&re(e,r,Et,null,o,G);for(H in o)if(G=o[H],Q=s[H],o.hasOwnProperty(H)&&G!==Q&&(G!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,r));break;default:re(e,r,H,G,o,Q)}return;default:if(Ts(r)){for(var ae in s)G=s[ae],s.hasOwnProperty(ae)&&G!==void 0&&!o.hasOwnProperty(ae)&&wd(e,r,ae,void 0,o,G);for(W in o)G=o[W],Q=s[W],!o.hasOwnProperty(W)||G===Q||G===void 0&&Q===void 0||wd(e,r,W,G,o,Q);return}}for(var B in s)G=s[B],s.hasOwnProperty(B)&&G!=null&&!o.hasOwnProperty(B)&&re(e,r,B,null,o,G);for(et in o)G=o[et],Q=s[et],!o.hasOwnProperty(et)||G===Q||G==null&&Q==null||re(e,r,et,G,o,Q)}function Nv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var f=s[o],d=f.transferSize,v=f.initiatorType,T=f.duration;if(d&&T&&Nv(v)){for(v=0,T=f.responseEnd,o+=1;o<s.length;o++){var I=s[o],H=I.startTime;if(H>T)break;var W=I.transferSize,et=I.initiatorType;W&&Nv(et)&&(I=I.responseEnd,v+=W*(I<T?1:(T-H)/(I-H)))}if(--o,r+=8*(d+v)/(f.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Rd=null,Cd=null;function Rc(e){return e.nodeType===9?e:e.ownerDocument}function Iv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ov(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function xd(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Dd=null;function fS(){var e=window.event;return e&&e.type==="popstate"?e===Dd?!1:(Dd=e,!0):(Dd=null,!1)}var Mv=typeof setTimeout=="function"?setTimeout:void 0,hS=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,dS=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(e){return Vv.resolve(null).then(e).catch(mS)}:Mv;function mS(e){setTimeout(function(){throw e})}function ua(e){return e==="head"}function Lv(e,r){var s=r,o=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(f),il(r);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Eo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Eo(s);for(var d=s.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[Mi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=v}}else s==="body"&&Eo(e.ownerDocument.body);s=f}while(s);il(r)}function Uv(e,r){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Nd(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Nd(s),_s(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function gS(e,r,s,o){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Mi])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=mi(e.nextSibling),e===null)break}return null}function pS(e,r,s){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=mi(e.nextSibling),e===null))return null;return e}function zv(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=mi(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function Od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yS(e,r){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||s.readyState!=="loading")r();else{var o=function(){r(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function mi(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var Md=null;function kv(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(r===0)return mi(e.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}e=e.nextSibling}return null}function Bv(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return e;r--}else s!=="/$"&&s!=="/&"||r++}e=e.previousSibling}return null}function Pv(e,r,s){switch(r=Rc(s),e){case"html":if(e=r.documentElement,!e)throw Error(a(452));return e;case"head":if(e=r.head,!e)throw Error(a(453));return e;case"body":if(e=r.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Eo(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);_s(e)}var gi=new Map,jv=new Set;function Cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wr=lt.d;lt.d={f:vS,r:_S,D:ES,C:bS,L:TS,m:SS,X:wS,S:AS,M:RS};function vS(){var e=wr.f(),r=vc();return e||r}function _S(e){var r=ri(e);r!==null&&r.tag===5&&r.type==="form"?ry(r):wr.r(e)}var tl=typeof document>"u"?null:document;function qv(e,r,s){var o=tl;if(o&&typeof r=="string"&&r){var f=xn(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),jv.has(f)||(jv.add(f),e={rel:e,crossOrigin:s,href:r},o.querySelector(f)===null&&(r=o.createElement("link"),ln(r,"link",e),Ie(r),o.head.appendChild(r)))}}function ES(e){wr.D(e),qv("dns-prefetch",e,null)}function bS(e,r){wr.C(e,r),qv("preconnect",e,r)}function TS(e,r,s){wr.L(e,r,s);var o=tl;if(o&&e&&r){var f='link[rel="preload"][as="'+xn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+xn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+xn(s.imageSizes)+'"]')):f+='[href="'+xn(e)+'"]';var d=f;switch(r){case"style":d=el(e);break;case"script":d=nl(e)}gi.has(d)||(e=b({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:e,as:r},s),gi.set(d,e),o.querySelector(f)!==null||r==="style"&&o.querySelector(bo(d))||r==="script"&&o.querySelector(To(d))||(r=o.createElement("link"),ln(r,"link",e),Ie(r),o.head.appendChild(r)))}}function SS(e,r){wr.m(e,r);var s=tl;if(s&&e){var o=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+xn(o)+'"][href="'+xn(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=nl(e)}if(!gi.has(d)&&(e=b({rel:"modulepreload",href:e},r),gi.set(d,e),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(To(d)))return}o=s.createElement("link"),ln(o,"link",e),Ie(o),s.head.appendChild(o)}}}function AS(e,r,s){wr.S(e,r,s);var o=tl;if(o&&e){var f=Li(o).hoistableStyles,d=el(e);r=r||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(bo(d)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":r},s),(s=gi.get(d))&&Vd(e,s);var I=v=o.createElement("link");Ie(I),ln(I,"link",e),I._p=new Promise(function(H,W){I.onload=H,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xc(v,r,o)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function wS(e,r){wr.X(e,r);var s=tl;if(s&&e){var o=Li(s).hoistableScripts,f=nl(e),d=o.get(f);d||(d=s.querySelector(To(f)),d||(e=b({src:e,async:!0},r),(r=gi.get(f))&&Ld(e,r),d=s.createElement("script"),Ie(d),ln(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function RS(e,r){wr.M(e,r);var s=tl;if(s&&e){var o=Li(s).hoistableScripts,f=nl(e),d=o.get(f);d||(d=s.querySelector(To(f)),d||(e=b({src:e,async:!0,type:"module"},r),(r=gi.get(f))&&Ld(e,r),d=s.createElement("script"),Ie(d),ln(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function Hv(e,r,s,o){var f=(f=yt.current)?Cc(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=el(s.href),s=Li(f).hoistableStyles,o=s.get(r),o||(o={type:"style",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=el(s.href);var d=Li(f).hoistableStyles,v=d.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=f.querySelector(bo(e)))&&!d._p&&(v.instance=d,v.state.loading=5),gi.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},gi.set(e,s),d||CS(f,e,s,v.state))),r&&o===null)throw Error(a(528,""));return v}if(r&&o!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=nl(s),s=Li(f).hoistableScripts,o=s.get(r),o||(o={type:"script",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function el(e){return'href="'+xn(e)+'"'}function bo(e){return'link[rel="stylesheet"]['+e+"]"}function Fv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function CS(e,r,s,o){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=e.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),ln(r,"link",s),Ie(r),e.head.appendChild(r))}function nl(e){return'[src="'+xn(e)+'"]'}function To(e){return"script[async]"+e}function Gv(e,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var o=e.querySelector('style[data-href~="'+xn(s.href)+'"]');if(o)return r.instance=o,Ie(o),o;var f=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ie(o),ln(o,"style",f),xc(o,s.precedence,e),r.instance=o;case"stylesheet":f=el(s.href);var d=e.querySelector(bo(f));if(d)return r.state.loading|=4,r.instance=d,Ie(d),d;o=Fv(s),(f=gi.get(f))&&Vd(o,f),d=(e.ownerDocument||e).createElement("link"),Ie(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),ln(d,"link",o),r.state.loading|=4,xc(d,s.precedence,e),r.instance=d;case"script":return d=nl(s.src),(f=e.querySelector(To(d)))?(r.instance=f,Ie(f),f):(o=s,(f=gi.get(d))&&(o=b({},s),Ld(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ie(f),ln(f,"link",o),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,xc(o,s.precedence,e));return r.instance}function xc(e,r,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(e,r.firstChild))}function Vd(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Ld(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Dc=null;function Yv(e,r,s){if(Dc===null){var o=new Map,f=Dc=new Map;f.set(s,o)}else f=Dc,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[Mi]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=e+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function Qv(e,r,s){e=e.ownerDocument||e,e.head.insertBefore(s,r==="title"?e.querySelector("head > title"):null)}function xS(e,r,s){if(s===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(e=r.disabled,typeof r.precedence=="string"&&e==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Kv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function DS(e,r,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=el(o.href),d=r.querySelector(bo(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Nc.bind(e),r.then(e,e)),s.state.loading|=4,s.instance=d,Ie(d);return}d=r.ownerDocument||r,o=Fv(o),(f=gi.get(f))&&Vd(o,f),d=d.createElement("link"),Ie(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),ln(d,"link",o),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Nc.bind(e),r.addEventListener("load",s),r.addEventListener("error",s))}}var Ud=0;function NS(e,r){return e.stylesheets&&e.count===0&&Oc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Oc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&Ud===0&&(Ud=62500*cS());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Oc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Ud?50:800)+r);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ic=null;function Oc(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ic=new Map,r.forEach(IS,e),Ic=null,Nc.call(e))}function IS(e,r){if(!(r.state.loading&4)){var s=Ic.get(e);if(s)var o=s.get(null);else{s=new Map,Ic.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}f=r.instance,v=f.getAttribute("data-precedence"),d=s.get(v)||o,d===o&&s.set(null,f),s.set(v,f),this.count++,o=Nc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var So={$$typeof:$,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function OS(e,r,s,o,f,d,v,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Xv(e,r,s,o,f,d,v,T,I,H,W,et){return e=new OS(e,r,s,v,I,H,W,et,T),r=1,d===!0&&(r|=24),d=Qn(3,null,null,r),e.current=d,d.stateNode=e,r=gh(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:r},_h(d),e}function $v(e){return e?(e=Ms,e):Ms}function Zv(e,r,s,o,f,d){f=$v(f),o.context===null?o.context=f:o.pendingContext=f,o=Jr(r),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Wr(e,o,r),s!==null&&(Vn(s,e,r),to(s,e,r))}function Jv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function zd(e,r){Jv(e,r),(e=e.alternate)&&Jv(e,r)}function Wv(e){if(e.tag===13||e.tag===31){var r=Fa(e,67108864);r!==null&&Vn(r,e,67108864),zd(e,67108864)}}function t_(e){if(e.tag===13||e.tag===31){var r=Jn();r=qn(r);var s=Fa(e,r);s!==null&&Vn(s,e,r),zd(e,r)}}var Mc=!0;function MS(e,r,s,o){var f=Z.T;Z.T=null;var d=lt.p;try{lt.p=2,kd(e,r,s,o)}finally{lt.p=d,Z.T=f}}function VS(e,r,s,o){var f=Z.T;Z.T=null;var d=lt.p;try{lt.p=8,kd(e,r,s,o)}finally{lt.p=d,Z.T=f}}function kd(e,r,s,o){if(Mc){var f=Bd(o);if(f===null)Ad(e,r,o,Vc,s),n_(e,o);else if(US(f,e,r,s,o))o.stopPropagation();else if(n_(e,o),r&4&&-1<LS.indexOf(e)){for(;f!==null;){var d=ri(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=de(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-he(v);T.entanglements[1]|=I,v&=~I}Ki(d),(Kt&6)===0&&(pc=Qe()+500,yo(0))}}break;case 31:case 13:T=Fa(d,2),T!==null&&Vn(T,d,2),vc(),zd(d,2)}if(d=Bd(o),d===null&&Ad(e,r,o,Vc,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else Ad(e,r,o,null,s)}}function Bd(e){return e=ai(e),Pd(e)}var Vc=null;function Pd(e){if(Vc=null,e=Vi(e),e!==null){var r=u(e);if(r===null)e=null;else{var s=r.tag;if(s===13){if(e=h(r),e!==null)return e;e=null}else if(s===31){if(e=m(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Vc=e,null}function e_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case Na:return 2;case ni:return 8;case _n:case ar:return 32;case Ia:return 268435456;default:return 32}default:return 32}}var jd=!1,ca=null,fa=null,ha=null,Ao=new Map,wo=new Map,da=[],LS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n_(e,r){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Ao.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(r.pointerId)}}function Ro(e,r,s,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ri(r),r!==null&&Wv(r)),e):(e.eventSystemFlags|=o,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function US(e,r,s,o,f){switch(r){case"focusin":return ca=Ro(ca,e,r,s,o,f),!0;case"dragenter":return fa=Ro(fa,e,r,s,o,f),!0;case"mouseover":return ha=Ro(ha,e,r,s,o,f),!0;case"pointerover":var d=f.pointerId;return Ao.set(d,Ro(Ao.get(d)||null,e,r,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,wo.set(d,Ro(wo.get(d)||null,e,r,s,o,f)),!0}return!1}function i_(e){var r=Vi(e.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=h(s),r!==null){e.blockedOn=r,en(e.priority,function(){t_(s)});return}}else if(r===31){if(r=m(s),r!==null){e.blockedOn=r,en(e.priority,function(){t_(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=Bd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);kl=o,s.target.dispatchEvent(o),kl=null}else return r=ri(s),r!==null&&Wv(r),e.blockedOn=s,!1;r.shift()}return!0}function r_(e,r,s){Lc(e)&&s.delete(r)}function zS(){jd=!1,ca!==null&&Lc(ca)&&(ca=null),fa!==null&&Lc(fa)&&(fa=null),ha!==null&&Lc(ha)&&(ha=null),Ao.forEach(r_),wo.forEach(r_)}function Uc(e,r){e.blockedOn===r&&(e.blockedOn=null,jd||(jd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zS)))}var zc=null;function a_(e){zc!==e&&(zc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zc===e&&(zc=null);for(var r=0;r<e.length;r+=3){var s=e[r],o=e[r+1],f=e[r+2];if(typeof o!="function"){if(Pd(o||s)===null)continue;break}var d=ri(s);d!==null&&(e.splice(r,3),r-=3,Bh(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function il(e){function r(I){return Uc(I,e)}ca!==null&&Uc(ca,e),fa!==null&&Uc(fa,e),ha!==null&&Uc(ha,e),Ao.forEach(r),wo.forEach(r);for(var s=0;s<da.length;s++){var o=da[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<da.length&&(s=da[0],s.blockedOn===null);)i_(s),s.blockedOn===null&&da.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],v=f[Xe]||null;if(typeof d=="function")v||a_(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Xe]||null)T=v.formAction;else if(Pd(f)!==null)continue}else T=v.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),a_(s)}}}function s_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function qd(e){this._internalRoot=e}kc.prototype.render=qd.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,o=Jn();Zv(s,o,e,r,null,null)},kc.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Zv(e.current,2,null,e,null,null),vc(),r[Oi]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var r=Hn();e={blockedOn:null,target:e,priority:r};for(var s=0;s<da.length&&r!==0&&r<da[s].priority;s++);da.splice(s,0,e),s===0&&i_(e)}};var l_=t.version;if(l_!=="19.2.4")throw Error(a(527,l_,"19.2.4"));lt.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(r),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var kS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{jn=Bc.inject(kS),Be=Bc}catch{}}return xo.createRoot=function(e,r){if(!l(e))throw Error(a(299));var s=!1,o="",f=my,d=gy,v=py;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=Xv(e,1,!1,null,null,s,o,null,f,d,v,s_),e[Oi]=r.current,Sd(e),new qd(r)},xo.hydrateRoot=function(e,r,s){if(!l(e))throw Error(a(299));var o=!1,f="",d=my,v=gy,T=py,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),r=Xv(e,1,!0,r,s??null,o,f,I,d,v,T,s_),r.context=$v(null),s=r.current,o=Jn(),o=qn(o),f=Jr(o),f.callback=null,Wr(s,f,o),s=o,r.current.lanes=s,Cn(r,s),Ki(r),e[Oi]=r.current,Sd(e),new kc(r)},xo.version="19.2.4",xo}var y_;function KS(){if(y_)return Gd.exports;y_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Gd.exports=QS(),Gd.exports}var XS=KS();const $S={async getCurrentWeather(n=24.513,t=121.609){try{const a=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${n}&longitude=${t}&current=temperature_2m,relative_humidity_2m,weather_code&timezone=auto`)).json();if(!a.current)throw new Error("No weather data");return{temp:a.current.temperature_2m,humidity:a.current.relative_humidity_2m,code:a.current.weather_code,desc:ZS(a.current.weather_code)}}catch(i){return console.error("Weather fetch failed:",i),null}}};function ZS(n){return{0:"",1:"",2:"",3:"",45:"",48:"",51:"",53:"",55:"",61:"",63:"",65:"",80:"",81:"",82:"",95:"",96:"",99:""}[n]||""}const nE=(...n)=>n.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const JS=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const WS=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const v_=n=>{const t=WS(n);return t.charAt(0).toUpperCase()+t.slice(1)};var tA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eA=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const nA=C.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:h,...m},g)=>C.createElement("svg",{ref:g,...tA,width:t,height:t,stroke:n,strokeWidth:a?Number(i)*24/Number(t):i,className:nE("lucide",l),...!u&&!eA(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,E])=>C.createElement(p,E)),...Array.isArray(u)?u:[u]]));const Ye=(n,t)=>{const i=C.forwardRef(({className:a,...l},u)=>C.createElement(nA,{ref:u,iconNode:t,className:nE(`lucide-${JS(v_(n))}`,`lucide-${n}`,a),...l}));return i.displayName=v_(n),i};const iA=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],rA=Ye("cloud-lightning",iA);const aA=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],sA=Ye("cloud-rain",aA);const lA=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],oA=Ye("cloud-sun",lA);const uA=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],cA=Ye("cloud",uA);const fA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],hA=Ye("copy",fA);const dA=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],mA=Ye("droplets",dA);const gA=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],pA=Ye("grip-vertical",gA);const yA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vA=Ye("image",yA);const _A=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],qm=Ye("loader",_A);const EA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bA=Ye("lock",EA);const TA=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],SA=Ye("mountain",TA);const AA=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wA=Ye("package",AA);const RA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],CA=Ye("plus",RA);const xA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],iE=Ye("save",xA);const DA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],NA=Ye("shield-alert",DA);const IA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],OA=Ye("sun",IA);const MA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],VA=Ye("trash-2",MA);const LA=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],UA=Ye("wallet",LA);const zA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kA=Ye("x",zA);function BA({className:n=""}){const[t,i]=C.useState(null),[a,l]=C.useState(!0);C.useEffect(()=>{async function h(){const m=await $S.getCurrentWeather();i(m),l(!1)}h()},[]);const u=h=>h===0||h===1?F.jsx(OA,{className:"text-warning",size:32}):h===2||h===3?F.jsx(cA,{className:"text-secondary",size:32}):h>=51&&h<=67?F.jsx(sA,{className:"text-secondary",size:32}):h>=95?F.jsx(rA,{className:"text-danger",size:32}):F.jsx(oA,{className:"text-warning",size:32});return a?F.jsxs("div",{className:`weather-widget glass-panel p-4 flex items-center justify-center gap-2 ${n}`,children:[F.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary"}),F.jsx("span",{className:"text-sm text-muted",children:"..."})]}):t?F.jsxs("div",{className:`weather-widget glass-panel ${n}`,style:{padding:"var(--space-4)"},children:[F.jsxs("div",{className:"flex-row justify-between items-center mb-2",children:[F.jsx("span",{className:"text-sm font-bold text-muted",children:" ()"}),u(t.code)]}),F.jsxs("div",{className:"flex-col gap-1",children:[F.jsxs("div",{className:"flex-row items-baseline gap-2",children:[F.jsxs("span",{className:"text-3xl font-bold",style:{color:"var(--color-text-main)"},children:[t.temp,""]}),F.jsx("span",{className:"text-md font-medium text-muted",children:t.desc})]}),F.jsxs("div",{className:"flex-row items-center gap-1 text-sm text-muted",children:[F.jsx(mA,{size:14}),F.jsxs("span",{children:[" ",t.humidity,"%"]})]})]}),F.jsx("style",{children:`
                .text-warning { color: var(--color-warning); }
                .text-secondary { color: var(--color-secondary); }
                .text-danger { color: var(--color-danger); }
                .text-primary { color: var(--color-primary); }
                .text-muted { color: var(--color-text-muted); }
            `})]}):F.jsx("div",{className:`weather-widget glass-panel p-4 ${n}`,children:F.jsx("div",{className:"text-sm text-muted",children:""})})}function PA({children:n}){const t=useMediaQuery("(min-width: 1024px)"),[i,a]=React.useState(!1),{logout:l,role:u}=useAuth();return t?F.jsxs("div",{className:"layout-desktop",children:[F.jsxs("aside",{className:"sidebar glass-panel",style:{margin:"16px",borderRadius:"24px",height:"calc(100vh - 32px)",border:"1px solid rgba(255,255,255,0.2)"},children:[F.jsxs("div",{className:"logo-area",children:[F.jsx("span",{style:{fontSize:"1.5rem"},children:""})," Outdoor Planner"]}),F.jsxs("nav",{style:{display:"flex",flexDirection:"column",height:"calc(100% - 80px)",gap:"8px"},children:[F.jsxs("div",{className:"nav-item active",children:[F.jsx(Calendar,{size:20})," "]}),F.jsxs("div",{className:"nav-item",children:[F.jsx(Settings,{size:20})," "]}),F.jsxs("div",{style:{marginTop:"auto"},children:[F.jsx(BA,{className:"mb-4"}),F.jsxs("div",{style:{borderTop:"1px solid var(--glass-border)",paddingTop:"1rem"},children:[F.jsxs("div",{style:{padding:"0 0.5rem 0.5rem",fontSize:"0.8rem",color:"var(--color-text-muted)"},children:[": ",F.jsx("span",{className:"badge",children:u})]}),F.jsx("button",{onClick:l,className:"nav-item danger",style:{width:"100%",border:"none",background:"transparent"},children:""})]})]})]})]}),F.jsx("main",{className:"main-content",children:n}),F.jsx("aside",{className:"map-panel glass-panel",style:{margin:"16px 16px 16px 0",borderRadius:"24px",height:"calc(100vh - 32px)",overflow:"hidden"},children:F.jsx(MapContainer,{})}),F.jsx("style",{children:`
          .layout-desktop {
            display: grid;
            grid-template-columns: 260px 1fr 380px;
            height: 100vh;
            /* Background handled by body gradient */
          }
          .sidebar {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            padding: var(--space-6);
            display: flex;
            flex-direction: column;
          }
          .map-panel {
            background: var(--glass-bg);
            position: relative;
          }
          .main-content {
            padding: var(--space-6);
            overflow-y: auto;
          }
          
          .nav-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: 12px 16px;
            border-radius: var(--radius-full);
            cursor: pointer;
            color: var(--color-text-muted);
            font-weight: 500;
            transition: all 0.2s;
            font-family: 'Noto Sans TC', sans-serif;
          }
          .nav-item:hover {
             background: rgba(255,255,255,0.4);
             color: var(--color-primary);
             transform: translateX(4px);
          }
          .nav-item.active {
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
            color: white;
            box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
          }
          .nav-item.danger:hover {
            color: var(--color-danger);
            background: rgba(239, 68, 68, 0.1);
          }
          
          .logo-area {
            font-weight: 800;
            font-size: 1.4rem;
            margin-bottom: var(--space-8);
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 8px;
          }
          
          .badge {
            display: inline-block;
            padding: 2px 8px;
            background: rgba(0,0,0,0.05);
            border-radius: 99px;
            font-size: 0.75rem;
            font-weight: bold;
          }
        `})]}):F.jsxs("div",{className:"layout-mobile",children:[F.jsxs("header",{className:"mobile-header",children:[F.jsx(Menu,{size:24}),F.jsx("span",{className:"mobile-title",children:"Outdoor Planner"}),F.jsx("button",{onClick:l,style:{border:"none",background:"none",fontSize:"0.9rem",color:"var(--color-text-muted)"},children:""})]}),F.jsx("main",{className:"mobile-content",children:n}),F.jsx(MobileFocusPanel,{}),F.jsx("style",{children:`
        .layout-mobile {
          min-height: 100vh;
          background-color: hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l));
          padding-bottom: 80px;
        }
        .mobile-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--space-4);
          background-color: hsl(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l));
          border-bottom: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
          position: sticky;
          top: 0;
          z-index: 10;
        }
        .mobile-title {
          font-weight: bold;
          font-size: 1.1rem;
        }
        .mobile-content {
          padding: var(--space-4);
        }
      `})]})}const rE=C.createContext(null),ol={ADMIN:"ADMIN",PARTICIPANT:"PARTICIPANT",VIEWER:"VIEWER"},jA={admin123:ol.ADMIN,team2026:ol.PARTICIPANT,viewonly:ol.VIEWER};function qA({children:n}){const[t,i]=C.useState(null),[a,l]=C.useState(!0);C.useEffect(()=>{const m=localStorage.getItem("trip_role");m&&ol[m]&&i(m),l(!1)},[]);const u=m=>{const g=jA[m];return g?(i(g),localStorage.setItem("trip_role",g),!0):!1},h=()=>{i(null),localStorage.removeItem("trip_role")};return F.jsx(rE.Provider,{value:{role:t,login:u,logout:h,loading:a},children:n})}function Hm(){return C.useContext(rE)}function HA(){const{login:n}=Hm(),[t,i]=C.useState(""),[a,l]=C.useState(!1),u=h=>{h.preventDefault(),n(t)||(l(!0),i(""))};return F.jsxs("div",{className:"login-container",children:[F.jsxs("div",{className:"login-card",children:[F.jsxs("div",{className:"logo-section",children:[F.jsx(SA,{size:48,className:"logo-icon"}),F.jsx("h1",{children:"Outdoor Planner"}),F.jsx("p",{className:"subtitle",children:""})]}),F.jsxs("form",{onSubmit:u,className:"login-form",children:[F.jsxs("div",{className:"input-group",children:[F.jsx(bA,{size:20,className:"input-icon"}),F.jsx("input",{type:"password",placeholder:"...",value:t,onChange:h=>{i(h.target.value),l(!1)},className:"password-input",autoFocus:!0})]}),a&&F.jsx("div",{className:"error-msg",children:""}),F.jsx("button",{type:"submit",className:"btn btn-primary login-btn",children:""})]}),F.jsx("div",{className:"role-hint",children:F.jsx("small",{children:": admin123 () / team2026 () / viewonly ()"})})]}),F.jsx("style",{children:`
        .login-container {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l)) 0%, rgba(0,0,0,0.8) 100%);
          padding: var(--space-4);
        }
        .login-card {
          background: var(--glass-bg);
          backdrop-filter: blur(12px);
          -webkit-backdrop-filter: blur(12px);
          padding: var(--space-8) var(--space-6);
          border-radius: var(--radius-xl);
          width: 100%;
          max-width: 400px;
          border: 1px solid var(--glass-border);
          box-shadow: var(--shadow-lg);
          text-align: center;
        }
        .logo-section {
          margin-bottom: var(--space-8);
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: var(--space-2);
        }
        .logo-icon {
          color: var(--color-primary);
        }
        .subtitle {
          color: var(--color-text-muted);
          font-size: 0.9rem;
        }
        .login-form {
          display: flex;
          flex-direction: column;
          gap: var(--space-4);
        }
        .input-group {
          position: relative;
        }
        .input-icon {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: var(--color-text-muted);
        }
        .password-input {
          width: 100%;
          padding: var(--space-3) var(--space-3) var(--space-3) 40px;
          border: 1px solid var(--glass-border);
          background: rgba(255,255,255,0.1);
          border-radius: var(--radius-md);
          font-size: 1rem;
          outline: none;
          color: var(--color-text-main);
          transition: all 0.2s;
        }
        .password-input:focus {
          border-color: var(--color-primary);
          box-shadow: 0 0 0 2px rgba(5, 150, 105, 0.2);
          background: rgba(255,255,255,0.2);
        }
        .login-btn {
          width: 100%;
          padding: var(--space-3);
          font-size: 1rem;
        }
        .error-msg {
          color: var(--color-danger);
          font-size: 0.85rem;
          text-align: left;
        }
        .role-hint {
          margin-top: var(--space-6);
          color: var(--color-text-muted);
          opacity: 0.7;
        }
      `})]})}function FA({children:n}){const{role:t,loading:i}=Hm();return i?F.jsx("div",{className:"loading-screen",children:"..."}):t?n:F.jsx(HA,{})}function GA({children:n,restrictedTo:t=[],fallback:i=null}){const{role:a}=Hm();return!a||!t.includes(a)?i:n}const YA=({children:n,fallback:t})=>F.jsx(GA,{restrictedTo:[ol.ADMIN,ol.PARTICIPANT],fallback:t,children:n});var Vo=eE();function QA(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return C.useMemo(()=>a=>{t.forEach(l=>l(a))},t)}const xf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function El(n){const t=Object.prototype.toString.call(n);return t==="[object Window]"||t==="[object global]"}function Fm(n){return"nodeType"in n}function zn(n){var t,i;return n?El(n)?n:Fm(n)&&(t=(i=n.ownerDocument)==null?void 0:i.defaultView)!=null?t:window:window}function Gm(n){const{Document:t}=zn(n);return n instanceof t}function lu(n){return El(n)?!1:n instanceof zn(n).HTMLElement}function aE(n){return n instanceof zn(n).SVGElement}function bl(n){return n?El(n)?n.document:Fm(n)?Gm(n)?n:lu(n)||aE(n)?n.ownerDocument:document:document:document}const tr=xf?C.useLayoutEffect:C.useEffect;function Ym(n){const t=C.useRef(n);return tr(()=>{t.current=n}),C.useCallback(function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t.current==null?void 0:t.current(...a)},[])}function KA(){const n=C.useRef(null),t=C.useCallback((a,l)=>{n.current=setInterval(a,l)},[]),i=C.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[t,i]}function Ko(n,t){t===void 0&&(t=[n]);const i=C.useRef(n);return tr(()=>{i.current!==n&&(i.current=n)},t),i}function ou(n,t){const i=C.useRef();return C.useMemo(()=>{const a=n(i.current);return i.current=a,a},[...t])}function lf(n){const t=Ym(n),i=C.useRef(null),a=C.useCallback(l=>{l!==i.current&&t?.(l,i.current),i.current=l},[]);return[i,a]}function dm(n){const t=C.useRef();return C.useEffect(()=>{t.current=n},[n]),t.current}let Xd={};function uu(n,t){return C.useMemo(()=>{if(t)return t;const i=Xd[n]==null?0:Xd[n]+1;return Xd[n]=i,n+"-"+i},[n,t])}function sE(n){return function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];return a.reduce((u,h)=>{const m=Object.entries(h);for(const[g,p]of m){const E=u[g];E!=null&&(u[g]=E+n*p)}return u},{...t})}}const ul=sE(1),Xo=sE(-1);function XA(n){return"clientX"in n&&"clientY"in n}function Qm(n){if(!n)return!1;const{KeyboardEvent:t}=zn(n.target);return t&&n instanceof t}function $A(n){if(!n)return!1;const{TouchEvent:t}=zn(n.target);return t&&n instanceof t}function mm(n){if($A(n)){if(n.touches&&n.touches.length){const{clientX:t,clientY:i}=n.touches[0];return{x:t,y:i}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:t,clientY:i}=n.changedTouches[0];return{x:t,y:i}}}return XA(n)?{x:n.clientX,y:n.clientY}:null}const $o=Object.freeze({Translate:{toString(n){if(!n)return;const{x:t,y:i}=n;return"translate3d("+(t?Math.round(t):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:t,scaleY:i}=n;return"scaleX("+t+") scaleY("+i+")"}},Transform:{toString(n){if(n)return[$o.Translate.toString(n),$o.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:t,duration:i,easing:a}=n;return t+" "+i+"ms "+a}}}),__="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ZA(n){return n.matches(__)?n:n.querySelector(__)}const JA={display:"none"};function WA(n){let{id:t,value:i}=n;return Un.createElement("div",{id:t,style:JA},i)}function tw(n){let{id:t,announcement:i,ariaLiveType:a="assertive"}=n;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Un.createElement("div",{id:t,style:l,role:"status","aria-live":a,"aria-atomic":!0},i)}function ew(){const[n,t]=C.useState("");return{announce:C.useCallback(a=>{a!=null&&t(a)},[]),announcement:n}}const lE=C.createContext(null);function nw(n){const t=C.useContext(lE);C.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(n)},[n,t])}function iw(){const[n]=C.useState(()=>new Set),t=C.useCallback(a=>(n.add(a),()=>n.delete(a)),[n]);return[C.useCallback(a=>{let{type:l,event:u}=a;n.forEach(h=>{var m;return(m=h[l])==null?void 0:m.call(h,u)})},[n]),t]}const rw={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},aw={onDragStart(n){let{active:t}=n;return"Picked up draggable item "+t.id+"."},onDragOver(n){let{active:t,over:i}=n;return i?"Draggable item "+t.id+" was moved over droppable area "+i.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(n){let{active:t,over:i}=n;return i?"Draggable item "+t.id+" was dropped over droppable area "+i.id:"Draggable item "+t.id+" was dropped."},onDragCancel(n){let{active:t}=n;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function sw(n){let{announcements:t=aw,container:i,hiddenTextDescribedById:a,screenReaderInstructions:l=rw}=n;const{announce:u,announcement:h}=ew(),m=uu("DndLiveRegion"),[g,p]=C.useState(!1);if(C.useEffect(()=>{p(!0)},[]),nw(C.useMemo(()=>({onDragStart(b){let{active:S}=b;u(t.onDragStart({active:S}))},onDragMove(b){let{active:S,over:D}=b;t.onDragMove&&u(t.onDragMove({active:S,over:D}))},onDragOver(b){let{active:S,over:D}=b;u(t.onDragOver({active:S,over:D}))},onDragEnd(b){let{active:S,over:D}=b;u(t.onDragEnd({active:S,over:D}))},onDragCancel(b){let{active:S,over:D}=b;u(t.onDragCancel({active:S,over:D}))}}),[u,t])),!g)return null;const E=Un.createElement(Un.Fragment,null,Un.createElement(WA,{id:a,value:l.draggable}),Un.createElement(tw,{id:m,announcement:h}));return i?Vo.createPortal(E,i):E}var je;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(je||(je={}));function of(){}function E_(n,t){return C.useMemo(()=>({sensor:n,options:t??{}}),[n,t])}function lw(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return C.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Ii=Object.freeze({x:0,y:0});function oE(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function uE(n,t){let{data:{value:i}}=n,{data:{value:a}}=t;return i-a}function ow(n,t){let{data:{value:i}}=n,{data:{value:a}}=t;return a-i}function b_(n){let{left:t,top:i,height:a,width:l}=n;return[{x:t,y:i},{x:t+l,y:i},{x:t,y:i+a},{x:t+l,y:i+a}]}function cE(n,t){if(!n||n.length===0)return null;const[i]=n;return i[t]}function T_(n,t,i){return t===void 0&&(t=n.left),i===void 0&&(i=n.top),{x:t+n.width*.5,y:i+n.height*.5}}const uw=n=>{let{collisionRect:t,droppableRects:i,droppableContainers:a}=n;const l=T_(t,t.left,t.top),u=[];for(const h of a){const{id:m}=h,g=i.get(m);if(g){const p=oE(T_(g),l);u.push({id:m,data:{droppableContainer:h,value:p}})}}return u.sort(uE)},cw=n=>{let{collisionRect:t,droppableRects:i,droppableContainers:a}=n;const l=b_(t),u=[];for(const h of a){const{id:m}=h,g=i.get(m);if(g){const p=b_(g),E=l.reduce((S,D,P)=>S+oE(p[P],D),0),b=Number((E/4).toFixed(4));u.push({id:m,data:{droppableContainer:h,value:b}})}}return u.sort(uE)};function fw(n,t){const i=Math.max(t.top,n.top),a=Math.max(t.left,n.left),l=Math.min(t.left+t.width,n.left+n.width),u=Math.min(t.top+t.height,n.top+n.height),h=l-a,m=u-i;if(a<l&&i<u){const g=t.width*t.height,p=n.width*n.height,E=h*m,b=E/(g+p-E);return Number(b.toFixed(4))}return 0}const hw=n=>{let{collisionRect:t,droppableRects:i,droppableContainers:a}=n;const l=[];for(const u of a){const{id:h}=u,m=i.get(h);if(m){const g=fw(m,t);g>0&&l.push({id:h,data:{droppableContainer:u,value:g}})}}return l.sort(ow)};function dw(n,t,i){return{...n,scaleX:t&&i?t.width/i.width:1,scaleY:t&&i?t.height/i.height:1}}function fE(n,t){return n&&t?{x:n.left-t.left,y:n.top-t.top}:Ii}function mw(n){return function(i){for(var a=arguments.length,l=new Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];return l.reduce((h,m)=>({...h,top:h.top+n*m.y,bottom:h.bottom+n*m.y,left:h.left+n*m.x,right:h.right+n*m.x}),{...i})}}const gw=mw(1);function pw(n){if(n.startsWith("matrix3d(")){const t=n.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(n.startsWith("matrix(")){const t=n.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function yw(n,t,i){const a=pw(t);if(!a)return n;const{scaleX:l,scaleY:u,x:h,y:m}=a,g=n.left-h-(1-l)*parseFloat(i),p=n.top-m-(1-u)*parseFloat(i.slice(i.indexOf(" ")+1)),E=l?n.width/l:n.width,b=u?n.height/u:n.height;return{width:E,height:b,top:p,right:g+E,bottom:p+b,left:g}}const vw={ignoreTransform:!1};function Tl(n,t){t===void 0&&(t=vw);let i=n.getBoundingClientRect();if(t.ignoreTransform){const{transform:p,transformOrigin:E}=zn(n).getComputedStyle(n);p&&(i=yw(i,p,E))}const{top:a,left:l,width:u,height:h,bottom:m,right:g}=i;return{top:a,left:l,width:u,height:h,bottom:m,right:g}}function S_(n){return Tl(n,{ignoreTransform:!0})}function _w(n){const t=n.innerWidth,i=n.innerHeight;return{top:0,left:0,right:t,bottom:i,width:t,height:i}}function Ew(n,t){return t===void 0&&(t=zn(n).getComputedStyle(n)),t.position==="fixed"}function bw(n,t){t===void 0&&(t=zn(n).getComputedStyle(n));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const u=t[l];return typeof u=="string"?i.test(u):!1})}function Df(n,t){const i=[];function a(l){if(t!=null&&i.length>=t||!l)return i;if(Gm(l)&&l.scrollingElement!=null&&!i.includes(l.scrollingElement))return i.push(l.scrollingElement),i;if(!lu(l)||aE(l)||i.includes(l))return i;const u=zn(n).getComputedStyle(l);return l!==n&&bw(l,u)&&i.push(l),Ew(l,u)?i:a(l.parentNode)}return n?a(n):i}function hE(n){const[t]=Df(n,1);return t??null}function $d(n){return!xf||!n?null:El(n)?n:Fm(n)?Gm(n)||n===bl(n).scrollingElement?window:lu(n)?n:null:null}function dE(n){return El(n)?n.scrollX:n.scrollLeft}function mE(n){return El(n)?n.scrollY:n.scrollTop}function gm(n){return{x:dE(n),y:mE(n)}}var We;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(We||(We={}));function gE(n){return!xf||!n?!1:n===document.scrollingElement}function pE(n){const t={x:0,y:0},i=gE(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},a={x:n.scrollWidth-i.width,y:n.scrollHeight-i.height},l=n.scrollTop<=t.y,u=n.scrollLeft<=t.x,h=n.scrollTop>=a.y,m=n.scrollLeft>=a.x;return{isTop:l,isLeft:u,isBottom:h,isRight:m,maxScroll:a,minScroll:t}}const Tw={x:.2,y:.2};function Sw(n,t,i,a,l){let{top:u,left:h,right:m,bottom:g}=i;a===void 0&&(a=10),l===void 0&&(l=Tw);const{isTop:p,isBottom:E,isLeft:b,isRight:S}=pE(n),D={x:0,y:0},P={x:0,y:0},z={height:t.height*l.y,width:t.width*l.x};return!p&&u<=t.top+z.height?(D.y=We.Backward,P.y=a*Math.abs((t.top+z.height-u)/z.height)):!E&&g>=t.bottom-z.height&&(D.y=We.Forward,P.y=a*Math.abs((t.bottom-z.height-g)/z.height)),!S&&m>=t.right-z.width?(D.x=We.Forward,P.x=a*Math.abs((t.right-z.width-m)/z.width)):!b&&h<=t.left+z.width&&(D.x=We.Backward,P.x=a*Math.abs((t.left+z.width-h)/z.width)),{direction:D,speed:P}}function Aw(n){if(n===document.scrollingElement){const{innerWidth:u,innerHeight:h}=window;return{top:0,left:0,right:u,bottom:h,width:u,height:h}}const{top:t,left:i,right:a,bottom:l}=n.getBoundingClientRect();return{top:t,left:i,right:a,bottom:l,width:n.clientWidth,height:n.clientHeight}}function yE(n){return n.reduce((t,i)=>ul(t,gm(i)),Ii)}function ww(n){return n.reduce((t,i)=>t+dE(i),0)}function Rw(n){return n.reduce((t,i)=>t+mE(i),0)}function Cw(n,t){if(t===void 0&&(t=Tl),!n)return;const{top:i,left:a,bottom:l,right:u}=t(n);hE(n)&&(l<=0||u<=0||i>=window.innerHeight||a>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const xw=[["x",["left","right"],ww],["y",["top","bottom"],Rw]];class Km{constructor(t,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Df(i),l=yE(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,h,m]of xw)for(const g of h)Object.defineProperty(this,g,{get:()=>{const p=m(a),E=l[u]-p;return this.rect[g]+E},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Bo{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...i)})},this.target=t}add(t,i,a){var l;(l=this.target)==null||l.addEventListener(t,i,a),this.listeners.push([t,i,a])}}function Dw(n){const{EventTarget:t}=zn(n);return n instanceof t?n:bl(n)}function Zd(n,t){const i=Math.abs(n.x),a=Math.abs(n.y);return typeof t=="number"?Math.sqrt(i**2+a**2)>t:"x"in t&&"y"in t?i>t.x&&a>t.y:"x"in t?i>t.x:"y"in t?a>t.y:!1}var pi;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(pi||(pi={}));function A_(n){n.preventDefault()}function Nw(n){n.stopPropagation()}var jt;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(jt||(jt={}));const vE={start:[jt.Space,jt.Enter],cancel:[jt.Esc],end:[jt.Space,jt.Enter,jt.Tab]},Iw=(n,t)=>{let{currentCoordinates:i}=t;switch(n.code){case jt.Right:return{...i,x:i.x+25};case jt.Left:return{...i,x:i.x-25};case jt.Down:return{...i,y:i.y+25};case jt.Up:return{...i,y:i.y-25}}};class Xm{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:i}}=t;this.props=t,this.listeners=new Bo(bl(i)),this.windowListeners=new Bo(zn(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(pi.Resize,this.handleCancel),this.windowListeners.add(pi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(pi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:i}=this.props,a=t.node.current;a&&Cw(a),i(Ii)}handleKeyDown(t){if(Qm(t)){const{active:i,context:a,options:l}=this.props,{keyboardCodes:u=vE,coordinateGetter:h=Iw,scrollBehavior:m="smooth"}=l,{code:g}=t;if(u.end.includes(g)){this.handleEnd(t);return}if(u.cancel.includes(g)){this.handleCancel(t);return}const{collisionRect:p}=a.current,E=p?{x:p.left,y:p.top}:Ii;this.referenceCoordinates||(this.referenceCoordinates=E);const b=h(t,{active:i,context:a.current,currentCoordinates:E});if(b){const S=Xo(b,E),D={x:0,y:0},{scrollableAncestors:P}=a.current;for(const z of P){const U=t.code,{isTop:K,isRight:X,isLeft:$,isBottom:it,maxScroll:at,minScroll:st}=pE(z),R=Aw(z),w={x:Math.min(U===jt.Right?R.right-R.width/2:R.right,Math.max(U===jt.Right?R.left:R.left+R.width/2,b.x)),y:Math.min(U===jt.Down?R.bottom-R.height/2:R.bottom,Math.max(U===jt.Down?R.top:R.top+R.height/2,b.y))},x=U===jt.Right&&!X||U===jt.Left&&!$,M=U===jt.Down&&!it||U===jt.Up&&!K;if(x&&w.x!==b.x){const O=z.scrollLeft+S.x,k=U===jt.Right&&O<=at.x||U===jt.Left&&O>=st.x;if(k&&!S.y){z.scrollTo({left:O,behavior:m});return}k?D.x=z.scrollLeft-O:D.x=U===jt.Right?z.scrollLeft-at.x:z.scrollLeft-st.x,D.x&&z.scrollBy({left:-D.x,behavior:m});break}else if(M&&w.y!==b.y){const O=z.scrollTop+S.y,k=U===jt.Down&&O<=at.y||U===jt.Up&&O>=st.y;if(k&&!S.x){z.scrollTo({top:O,behavior:m});return}k?D.y=z.scrollTop-O:D.y=U===jt.Down?z.scrollTop-at.y:z.scrollTop-st.y,D.y&&z.scrollBy({top:-D.y,behavior:m});break}}this.handleMove(t,ul(Xo(b,this.referenceCoordinates),D))}}}handleMove(t,i){const{onMove:a}=this.props;t.preventDefault(),a(i)}handleEnd(t){const{onEnd:i}=this.props;t.preventDefault(),this.detach(),i()}handleCancel(t){const{onCancel:i}=this.props;t.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Xm.activators=[{eventName:"onKeyDown",handler:(n,t,i)=>{let{keyboardCodes:a=vE,onActivation:l}=t,{active:u}=i;const{code:h}=n.nativeEvent;if(a.start.includes(h)){const m=u.activatorNode.current;return m&&n.target!==m?!1:(n.preventDefault(),l?.({event:n.nativeEvent}),!0)}return!1}}];function w_(n){return!!(n&&"distance"in n)}function R_(n){return!!(n&&"delay"in n)}class $m{constructor(t,i,a){var l;a===void 0&&(a=Dw(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=i;const{event:u}=t,{target:h}=u;this.props=t,this.events=i,this.document=bl(h),this.documentListeners=new Bo(this.document),this.listeners=new Bo(a),this.windowListeners=new Bo(zn(h)),this.initialCoordinates=(l=mm(u))!=null?l:Ii,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:i,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(pi.Resize,this.handleCancel),this.windowListeners.add(pi.DragStart,A_),this.windowListeners.add(pi.VisibilityChange,this.handleCancel),this.windowListeners.add(pi.ContextMenu,A_),this.documentListeners.add(pi.Keydown,this.handleKeydown),i){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(R_(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(w_(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,i){const{active:a,onPending:l}=this.props;l(a,t,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:t}=this,{onStart:i}=this.props;t&&(this.activated=!0,this.documentListeners.add(pi.Click,Nw,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(pi.SelectionChange,this.removeTextSelection),i(t))}handleMove(t){var i;const{activated:a,initialCoordinates:l,props:u}=this,{onMove:h,options:{activationConstraint:m}}=u;if(!l)return;const g=(i=mm(t))!=null?i:Ii,p=Xo(l,g);if(!a&&m){if(w_(m)){if(m.tolerance!=null&&Zd(p,m.tolerance))return this.handleCancel();if(Zd(p,m.distance))return this.handleStart()}if(R_(m)&&Zd(p,m.tolerance))return this.handleCancel();this.handlePending(m,p);return}t.cancelable&&t.preventDefault(),h(g)}handleEnd(){const{onAbort:t,onEnd:i}=this.props;this.detach(),this.activated||t(this.props.active),i()}handleCancel(){const{onAbort:t,onCancel:i}=this.props;this.detach(),this.activated||t(this.props.active),i()}handleKeydown(t){t.code===jt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Ow={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Zm extends $m{constructor(t){const{event:i}=t,a=bl(i.target);super(t,Ow,a)}}Zm.activators=[{eventName:"onPointerDown",handler:(n,t)=>{let{nativeEvent:i}=n,{onActivation:a}=t;return!i.isPrimary||i.button!==0?!1:(a?.({event:i}),!0)}}];const Mw={move:{name:"mousemove"},end:{name:"mouseup"}};var pm;(function(n){n[n.RightClick=2]="RightClick"})(pm||(pm={}));class Vw extends $m{constructor(t){super(t,Mw,bl(t.event.target))}}Vw.activators=[{eventName:"onMouseDown",handler:(n,t)=>{let{nativeEvent:i}=n,{onActivation:a}=t;return i.button===pm.RightClick?!1:(a?.({event:i}),!0)}}];const Jd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Lw extends $m{constructor(t){super(t,Jd)}static setup(){return window.addEventListener(Jd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Jd.move.name,t)};function t(){}}}Lw.activators=[{eventName:"onTouchStart",handler:(n,t)=>{let{nativeEvent:i}=n,{onActivation:a}=t;const{touches:l}=i;return l.length>1?!1:(a?.({event:i}),!0)}}];var Po;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Po||(Po={}));var uf;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(uf||(uf={}));function Uw(n){let{acceleration:t,activator:i=Po.Pointer,canScroll:a,draggingRect:l,enabled:u,interval:h=5,order:m=uf.TreeOrder,pointerCoordinates:g,scrollableAncestors:p,scrollableAncestorRects:E,delta:b,threshold:S}=n;const D=kw({delta:b,disabled:!u}),[P,z]=KA(),U=C.useRef({x:0,y:0}),K=C.useRef({x:0,y:0}),X=C.useMemo(()=>{switch(i){case Po.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Po.DraggableRect:return l}},[i,l,g]),$=C.useRef(null),it=C.useCallback(()=>{const st=$.current;if(!st)return;const R=U.current.x*K.current.x,w=U.current.y*K.current.y;st.scrollBy(R,w)},[]),at=C.useMemo(()=>m===uf.TreeOrder?[...p].reverse():p,[m,p]);C.useEffect(()=>{if(!u||!p.length||!X){z();return}for(const st of at){if(a?.(st)===!1)continue;const R=p.indexOf(st),w=E[R];if(!w)continue;const{direction:x,speed:M}=Sw(st,w,X,t,S);for(const O of["x","y"])D[O][x[O]]||(M[O]=0,x[O]=0);if(M.x>0||M.y>0){z(),$.current=st,P(it,h),U.current=M,K.current=x;return}}U.current={x:0,y:0},K.current={x:0,y:0},z()},[t,it,a,z,u,h,JSON.stringify(X),JSON.stringify(D),P,p,at,E,JSON.stringify(S)])}const zw={x:{[We.Backward]:!1,[We.Forward]:!1},y:{[We.Backward]:!1,[We.Forward]:!1}};function kw(n){let{delta:t,disabled:i}=n;const a=dm(t);return ou(l=>{if(i||!a||!l)return zw;const u={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[We.Backward]:l.x[We.Backward]||u.x===-1,[We.Forward]:l.x[We.Forward]||u.x===1},y:{[We.Backward]:l.y[We.Backward]||u.y===-1,[We.Forward]:l.y[We.Forward]||u.y===1}}},[i,t,a])}function Bw(n,t){const i=t!=null?n.get(t):void 0,a=i?i.node.current:null;return ou(l=>{var u;return t==null?null:(u=a??l)!=null?u:null},[a,t])}function Pw(n,t){return C.useMemo(()=>n.reduce((i,a)=>{const{sensor:l}=a,u=l.activators.map(h=>({eventName:h.eventName,handler:t(h.handler,a)}));return[...i,...u]},[]),[n,t])}var Zo;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Zo||(Zo={}));var ym;(function(n){n.Optimized="optimized"})(ym||(ym={}));const C_=new Map;function jw(n,t){let{dragging:i,dependencies:a,config:l}=t;const[u,h]=C.useState(null),{frequency:m,measure:g,strategy:p}=l,E=C.useRef(n),b=U(),S=Ko(b),D=C.useCallback(function(K){K===void 0&&(K=[]),!S.current&&h(X=>X===null?K:X.concat(K.filter($=>!X.includes($))))},[S]),P=C.useRef(null),z=ou(K=>{if(b&&!i)return C_;if(!K||K===C_||E.current!==n||u!=null){const X=new Map;for(let $ of n){if(!$)continue;if(u&&u.length>0&&!u.includes($.id)&&$.rect.current){X.set($.id,$.rect.current);continue}const it=$.node.current,at=it?new Km(g(it),it):null;$.rect.current=at,at&&X.set($.id,at)}return X}return K},[n,u,i,b,g]);return C.useEffect(()=>{E.current=n},[n]),C.useEffect(()=>{b||D()},[i,b]),C.useEffect(()=>{u&&u.length>0&&h(null)},[JSON.stringify(u)]),C.useEffect(()=>{b||typeof m!="number"||P.current!==null||(P.current=setTimeout(()=>{D(),P.current=null},m))},[m,b,D,...a]),{droppableRects:z,measureDroppableContainers:D,measuringScheduled:u!=null};function U(){switch(p){case Zo.Always:return!1;case Zo.BeforeDragging:return i;default:return!i}}}function _E(n,t){return ou(i=>n?i||(typeof t=="function"?t(n):n):null,[t,n])}function qw(n,t){return _E(n,t)}function Hw(n){let{callback:t,disabled:i}=n;const a=Ym(t),l=C.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(a)},[a,i]);return C.useEffect(()=>()=>l?.disconnect(),[l]),l}function Nf(n){let{callback:t,disabled:i}=n;const a=Ym(t),l=C.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(a)},[i]);return C.useEffect(()=>()=>l?.disconnect(),[l]),l}function Fw(n){return new Km(Tl(n),n)}function x_(n,t,i){t===void 0&&(t=Fw);const[a,l]=C.useState(null);function u(){l(g=>{if(!n)return null;if(n.isConnected===!1){var p;return(p=g??i)!=null?p:null}const E=t(n);return JSON.stringify(g)===JSON.stringify(E)?g:E})}const h=Hw({callback(g){if(n)for(const p of g){const{type:E,target:b}=p;if(E==="childList"&&b instanceof HTMLElement&&b.contains(n)){u();break}}}}),m=Nf({callback:u});return tr(()=>{u(),n?(m?.observe(n),h?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),h?.disconnect())},[n]),a}function Gw(n){const t=_E(n);return fE(n,t)}const D_=[];function Yw(n){const t=C.useRef(n),i=ou(a=>n?a&&a!==D_&&n&&t.current&&n.parentNode===t.current.parentNode?a:Df(n):D_,[n]);return C.useEffect(()=>{t.current=n},[n]),i}function Qw(n){const[t,i]=C.useState(null),a=C.useRef(n),l=C.useCallback(u=>{const h=$d(u.target);h&&i(m=>m?(m.set(h,gm(h)),new Map(m)):null)},[]);return C.useEffect(()=>{const u=a.current;if(n!==u){h(u);const m=n.map(g=>{const p=$d(g);return p?(p.addEventListener("scroll",l,{passive:!0}),[p,gm(p)]):null}).filter(g=>g!=null);i(m.length?new Map(m):null),a.current=n}return()=>{h(n),h(u)};function h(m){m.forEach(g=>{const p=$d(g);p?.removeEventListener("scroll",l)})}},[l,n]),C.useMemo(()=>n.length?t?Array.from(t.values()).reduce((u,h)=>ul(u,h),Ii):yE(n):Ii,[n,t])}function N_(n,t){t===void 0&&(t=[]);const i=C.useRef(null);return C.useEffect(()=>{i.current=null},t),C.useEffect(()=>{const a=n!==Ii;a&&!i.current&&(i.current=n),!a&&i.current&&(i.current=null)},[n]),i.current?Xo(n,i.current):Ii}function Kw(n){C.useEffect(()=>{if(!xf)return;const t=n.map(i=>{let{sensor:a}=i;return a.setup==null?void 0:a.setup()});return()=>{for(const i of t)i?.()}},n.map(t=>{let{sensor:i}=t;return i}))}function Xw(n,t){return C.useMemo(()=>n.reduce((i,a)=>{let{eventName:l,handler:u}=a;return i[l]=h=>{u(h,t)},i},{}),[n,t])}function EE(n){return C.useMemo(()=>n?_w(n):null,[n])}const I_=[];function $w(n,t){t===void 0&&(t=Tl);const[i]=n,a=EE(i?zn(i):null),[l,u]=C.useState(I_);function h(){u(()=>n.length?n.map(g=>gE(g)?a:new Km(t(g),g)):I_)}const m=Nf({callback:h});return tr(()=>{m?.disconnect(),h(),n.forEach(g=>m?.observe(g))},[n]),l}function Zw(n){if(!n)return null;if(n.children.length>1)return n;const t=n.children[0];return lu(t)?t:n}function Jw(n){let{measure:t}=n;const[i,a]=C.useState(null),l=C.useCallback(p=>{for(const{target:E}of p)if(lu(E)){a(b=>{const S=t(E);return b?{...b,width:S.width,height:S.height}:S});break}},[t]),u=Nf({callback:l}),h=C.useCallback(p=>{const E=Zw(p);u?.disconnect(),E&&u?.observe(E),a(E?t(E):null)},[t,u]),[m,g]=lf(h);return C.useMemo(()=>({nodeRef:m,rect:i,setRef:g}),[i,m,g])}const Ww=[{sensor:Zm,options:{}},{sensor:Xm,options:{}}],t2={current:{}},$c={draggable:{measure:S_},droppable:{measure:S_,strategy:Zo.WhileDragging,frequency:ym.Optimized},dragOverlay:{measure:Tl}};class jo extends Map{get(t){var i;return t!=null&&(i=super.get(t))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:i}=t;return!i})}getNodeFor(t){var i,a;return(i=(a=this.get(t))==null?void 0:a.node.current)!=null?i:void 0}}const e2={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new jo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:of},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:$c,measureDroppableContainers:of,windowRect:null,measuringScheduled:!1},n2={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:of,draggableNodes:new Map,over:null,measureDroppableContainers:of},If=C.createContext(n2),bE=C.createContext(e2);function i2(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new jo}}}function r2(n,t){switch(t.type){case je.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case je.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:t.coordinates.x-n.draggable.initialCoordinates.x,y:t.coordinates.y-n.draggable.initialCoordinates.y}}};case je.DragEnd:case je.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case je.RegisterDroppable:{const{element:i}=t,{id:a}=i,l=new jo(n.droppable.containers);return l.set(a,i),{...n,droppable:{...n.droppable,containers:l}}}case je.SetDroppableDisabled:{const{id:i,key:a,disabled:l}=t,u=n.droppable.containers.get(i);if(!u||a!==u.key)return n;const h=new jo(n.droppable.containers);return h.set(i,{...u,disabled:l}),{...n,droppable:{...n.droppable,containers:h}}}case je.UnregisterDroppable:{const{id:i,key:a}=t,l=n.droppable.containers.get(i);if(!l||a!==l.key)return n;const u=new jo(n.droppable.containers);return u.delete(i),{...n,droppable:{...n.droppable,containers:u}}}default:return n}}function a2(n){let{disabled:t}=n;const{active:i,activatorEvent:a,draggableNodes:l}=C.useContext(If),u=dm(a),h=dm(i?.id);return C.useEffect(()=>{if(!t&&!a&&u&&h!=null){if(!Qm(u)||document.activeElement===u.target)return;const m=l.get(h);if(!m)return;const{activatorNode:g,node:p}=m;if(!g.current&&!p.current)return;requestAnimationFrame(()=>{for(const E of[g.current,p.current]){if(!E)continue;const b=ZA(E);if(b){b.focus();break}}})}},[a,t,l,h,u]),null}function s2(n,t){let{transform:i,...a}=t;return n!=null&&n.length?n.reduce((l,u)=>u({transform:l,...a}),i):i}function l2(n){return C.useMemo(()=>({draggable:{...$c.draggable,...n?.draggable},droppable:{...$c.droppable,...n?.droppable},dragOverlay:{...$c.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function o2(n){let{activeNode:t,measure:i,initialRect:a,config:l=!0}=n;const u=C.useRef(!1),{x:h,y:m}=typeof l=="boolean"?{x:l,y:l}:l;tr(()=>{if(!h&&!m||!t){u.current=!1;return}if(u.current||!a)return;const p=t?.node.current;if(!p||p.isConnected===!1)return;const E=i(p),b=fE(E,a);if(h||(b.x=0),m||(b.y=0),u.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const S=hE(p);S&&S.scrollBy({top:b.y,left:b.x})}},[t,h,m,a,i])}const TE=C.createContext({...Ii,scaleX:1,scaleY:1});var ga;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(ga||(ga={}));const u2=C.memo(function(t){var i,a,l,u;let{id:h,accessibility:m,autoScroll:g=!0,children:p,sensors:E=Ww,collisionDetection:b=hw,measuring:S,modifiers:D,...P}=t;const z=C.useReducer(r2,void 0,i2),[U,K]=z,[X,$]=iw(),[it,at]=C.useState(ga.Uninitialized),st=it===ga.Initialized,{draggable:{active:R,nodes:w,translate:x},droppable:{containers:M}}=U,O=R!=null?w.get(R):null,k=C.useRef({initial:null,translated:null}),N=C.useMemo(()=>{var Nt;return R!=null?{id:R,data:(Nt=O?.data)!=null?Nt:t2,rect:k}:null},[R,O]),kt=C.useRef(null),[le,Z]=C.useState(null),[lt,gt]=C.useState(null),wt=Ko(P,Object.values(P)),Bt=uu("DndDescribedBy",h),V=C.useMemo(()=>M.getEnabled(),[M]),J=l2(S),{droppableRects:ot,measureDroppableContainers:ct,measuringScheduled:_t}=jw(V,{dragging:st,dependencies:[x.x,x.y],config:J.droppable}),yt=Bw(w,R),Dt=C.useMemo(()=>lt?mm(lt):null,[lt]),te=lr(),qt=qw(yt,J.draggable.measure);o2({activeNode:R!=null?w.get(R):null,config:te.layoutShiftCompensation,initialRect:qt,measure:J.draggable.measure});const Mt=x_(yt,J.draggable.measure,qt),ti=x_(yt?yt.parentElement:null),tn=C.useRef({activatorEvent:null,active:null,activeNode:yt,collisionRect:null,collisions:null,droppableRects:ot,draggableNodes:w,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),kn=M.getNodeFor((i=tn.current.over)==null?void 0:i.id),xe=Jw({measure:J.dragOverlay.measure}),ei=(a=xe.nodeRef.current)!=null?a:yt,Rn=st?(l=xe.rect)!=null?l:Mt:null,Lr=!!(xe.nodeRef.current&&xe.rect),Ur=Gw(Lr?null:Mt),fe=EE(ei?zn(ei):null),ee=Yw(st?kn??yt:null),Bn=$w(ee),zr=s2(D,{transform:{x:x.x-Ur.x,y:x.y-Ur.y,scaleX:1,scaleY:1},activatorEvent:lt,active:N,activeNodeRect:Mt,containerNodeRect:ti,draggingNodeRect:Rn,over:tn.current.over,overlayNodeRect:xe.rect,scrollableAncestors:ee,scrollableAncestorRects:Bn,windowRect:fe}),Da=Dt?ul(Dt,x):null,Qe=Qw(ee),rr=N_(Qe),Na=N_(Qe,[Mt]),ni=ul(zr,rr),_n=Rn?gw(Rn,zr):null,ar=N&&_n?b({active:N,collisionRect:_n,droppableRects:ot,droppableContainers:V,pointerCoordinates:Da}):null,Ia=cE(ar,"id"),[Pn,Oa]=C.useState(null),jn=Lr?zr:ul(zr,Na),Be=dw(jn,(u=Pn?.rect)!=null?u:null,Mt),fn=C.useRef(null),he=C.useCallback((Nt,de)=>{let{sensor:me,options:De}=de;if(kt.current==null)return;const hn=w.get(kt.current);if(!hn)return;const Ke=Nt.nativeEvent,Te=new me({active:kt.current,activeNode:hn,event:Ke,options:De,context:tn,onAbort(Se){if(!w.get(Se))return;const{onDragAbort:mn}=wt.current,En={id:Se};mn?.(En),X({type:"onDragAbort",event:En})},onPending(Se,dn,mn,En){if(!w.get(Se))return;const{onDragPending:bn}=wt.current,Hn={id:Se,constraint:dn,initialCoordinates:mn,offset:En};bn?.(Hn),X({type:"onDragPending",event:Hn})},onStart(Se){const dn=kt.current;if(dn==null)return;const mn=w.get(dn);if(!mn)return;const{onDragStart:En}=wt.current,qn={activatorEvent:Ke,active:{id:dn,data:mn.data,rect:k}};Vo.unstable_batchedUpdates(()=>{En?.(qn),at(ga.Initializing),K({type:je.DragStart,initialCoordinates:Se,active:dn}),X({type:"onDragStart",event:qn}),Z(fn.current),gt(Ke)})},onMove(Se){K({type:je.DragMove,coordinates:Se})},onEnd:Cn(je.DragEnd),onCancel:Cn(je.DragCancel)});fn.current=Te;function Cn(Se){return async function(){const{active:mn,collisions:En,over:qn,scrollAdjustedTranslate:bn}=tn.current;let Hn=null;if(mn&&bn){const{cancelDrop:en}=wt.current;Hn={activatorEvent:Ke,active:mn,collisions:En,delta:bn,over:qn},Se===je.DragEnd&&typeof en=="function"&&await Promise.resolve(en(Hn))&&(Se=je.DragCancel)}kt.current=null,Vo.unstable_batchedUpdates(()=>{K({type:Se}),at(ga.Uninitialized),Oa(null),Z(null),gt(null),fn.current=null;const en=Se===je.DragEnd?"onDragEnd":"onDragCancel";if(Hn){const Tn=wt.current[en];Tn?.(Hn),X({type:en,event:Hn})}})}}},[w]),ps=C.useCallback((Nt,de)=>(me,De)=>{const hn=me.nativeEvent,Ke=w.get(De);if(kt.current!==null||!Ke||hn.dndKit||hn.defaultPrevented)return;const Te={active:Ke};Nt(me,de.options,Te)===!0&&(hn.dndKit={capturedBy:de.sensor},kt.current=De,he(me,de))},[w,he]),sr=Pw(E,ps);Kw(E),tr(()=>{Mt&&it===ga.Initializing&&at(ga.Initialized)},[Mt,it]),C.useEffect(()=>{const{onDragMove:Nt}=wt.current,{active:de,activatorEvent:me,collisions:De,over:hn}=tn.current;if(!de||!me)return;const Ke={active:de,activatorEvent:me,collisions:De,delta:{x:ni.x,y:ni.y},over:hn};Vo.unstable_batchedUpdates(()=>{Nt?.(Ke),X({type:"onDragMove",event:Ke})})},[ni.x,ni.y]),C.useEffect(()=>{const{active:Nt,activatorEvent:de,collisions:me,droppableContainers:De,scrollAdjustedTranslate:hn}=tn.current;if(!Nt||kt.current==null||!de||!hn)return;const{onDragOver:Ke}=wt.current,Te=De.get(Ia),Cn=Te&&Te.rect.current?{id:Te.id,rect:Te.rect.current,data:Te.data,disabled:Te.disabled}:null,Se={active:Nt,activatorEvent:de,collisions:me,delta:{x:hn.x,y:hn.y},over:Cn};Vo.unstable_batchedUpdates(()=>{Oa(Cn),Ke?.(Se),X({type:"onDragOver",event:Se})})},[Ia]),tr(()=>{tn.current={activatorEvent:lt,active:N,activeNode:yt,collisionRect:_n,collisions:ar,droppableRects:ot,draggableNodes:w,draggingNode:ei,draggingNodeRect:Rn,droppableContainers:M,over:Pn,scrollableAncestors:ee,scrollAdjustedTranslate:ni},k.current={initial:Rn,translated:_n}},[N,yt,ar,_n,w,ei,Rn,ot,M,Pn,ee,ni]),Uw({...te,delta:x,draggingRect:_n,pointerCoordinates:Da,scrollableAncestors:ee,scrollableAncestorRects:Bn});const ys=C.useMemo(()=>({active:N,activeNode:yt,activeNodeRect:Mt,activatorEvent:lt,collisions:ar,containerNodeRect:ti,dragOverlay:xe,draggableNodes:w,droppableContainers:M,droppableRects:ot,over:Pn,measureDroppableContainers:ct,scrollableAncestors:ee,scrollableAncestorRects:Bn,measuringConfiguration:J,measuringScheduled:_t,windowRect:fe}),[N,yt,Mt,lt,ar,ti,xe,w,M,ot,Pn,ct,ee,Bn,J,_t,fe]),ii=C.useMemo(()=>({activatorEvent:lt,activators:sr,active:N,activeNodeRect:Mt,ariaDescribedById:{draggable:Bt},dispatch:K,draggableNodes:w,over:Pn,measureDroppableContainers:ct}),[lt,sr,N,Mt,K,Bt,w,Pn,ct]);return Un.createElement(lE.Provider,{value:$},Un.createElement(If.Provider,{value:ii},Un.createElement(bE.Provider,{value:ys},Un.createElement(TE.Provider,{value:Be},p)),Un.createElement(a2,{disabled:m?.restoreFocus===!1})),Un.createElement(sw,{...m,hiddenTextDescribedById:Bt}));function lr(){const Nt=le?.autoScrollEnabled===!1,de=typeof g=="object"?g.enabled===!1:g===!1,me=st&&!Nt&&!de;return typeof g=="object"?{...g,enabled:me}:{enabled:me}}}),c2=C.createContext(null),O_="button",f2="Draggable";function h2(n){let{id:t,data:i,disabled:a=!1,attributes:l}=n;const u=uu(f2),{activators:h,activatorEvent:m,active:g,activeNodeRect:p,ariaDescribedById:E,draggableNodes:b,over:S}=C.useContext(If),{role:D=O_,roleDescription:P="draggable",tabIndex:z=0}=l??{},U=g?.id===t,K=C.useContext(U?TE:c2),[X,$]=lf(),[it,at]=lf(),st=Xw(h,t),R=Ko(i);tr(()=>(b.set(t,{id:t,key:u,node:X,activatorNode:it,data:R}),()=>{const x=b.get(t);x&&x.key===u&&b.delete(t)}),[b,t]);const w=C.useMemo(()=>({role:D,tabIndex:z,"aria-disabled":a,"aria-pressed":U&&D===O_?!0:void 0,"aria-roledescription":P,"aria-describedby":E.draggable}),[a,D,z,U,P,E.draggable]);return{active:g,activatorEvent:m,activeNodeRect:p,attributes:w,isDragging:U,listeners:a?void 0:st,node:X,over:S,setNodeRef:$,setActivatorNodeRef:at,transform:K}}function d2(){return C.useContext(bE)}const m2="Droppable",g2={timeout:25};function p2(n){let{data:t,disabled:i=!1,id:a,resizeObserverConfig:l}=n;const u=uu(m2),{active:h,dispatch:m,over:g,measureDroppableContainers:p}=C.useContext(If),E=C.useRef({disabled:i}),b=C.useRef(!1),S=C.useRef(null),D=C.useRef(null),{disabled:P,updateMeasurementsFor:z,timeout:U}={...g2,...l},K=Ko(z??a),X=C.useCallback(()=>{if(!b.current){b.current=!0;return}D.current!=null&&clearTimeout(D.current),D.current=setTimeout(()=>{p(Array.isArray(K.current)?K.current:[K.current]),D.current=null},U)},[U]),$=Nf({callback:X,disabled:P||!h}),it=C.useCallback((w,x)=>{$&&(x&&($.unobserve(x),b.current=!1),w&&$.observe(w))},[$]),[at,st]=lf(it),R=Ko(t);return C.useEffect(()=>{!$||!at.current||($.disconnect(),b.current=!1,$.observe(at.current))},[at,$]),C.useEffect(()=>(m({type:je.RegisterDroppable,element:{id:a,key:u,disabled:i,node:at,rect:S,data:R}}),()=>m({type:je.UnregisterDroppable,key:u,id:a})),[a]),C.useEffect(()=>{i!==E.current.disabled&&(m({type:je.SetDroppableDisabled,id:a,key:u,disabled:i}),E.current.disabled=i)},[a,u,i,m]),{active:h,rect:S,isOver:g?.id===a,node:at,over:g,setNodeRef:st}}function Jm(n,t,i){const a=n.slice();return a.splice(i<0?a.length+i:i,0,a.splice(t,1)[0]),a}function y2(n,t){return n.reduce((i,a,l)=>{const u=t.get(a);return u&&(i[l]=u),i},Array(n.length))}function Pc(n){return n!==null&&n>=0}function v2(n,t){if(n===t)return!0;if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0}function _2(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const SE=n=>{let{rects:t,activeIndex:i,overIndex:a,index:l}=n;const u=Jm(t,a,i),h=t[l],m=u[l];return!m||!h?null:{x:m.left-h.left,y:m.top-h.top,scaleX:m.width/h.width,scaleY:m.height/h.height}},jc={scaleX:1,scaleY:1},E2=n=>{var t;let{activeIndex:i,activeNodeRect:a,index:l,rects:u,overIndex:h}=n;const m=(t=u[i])!=null?t:a;if(!m)return null;if(l===i){const p=u[h];return p?{x:0,y:i<h?p.top+p.height-(m.top+m.height):p.top-m.top,...jc}:null}const g=b2(u,l,i);return l>i&&l<=h?{x:0,y:-m.height-g,...jc}:l<i&&l>=h?{x:0,y:m.height+g,...jc}:{x:0,y:0,...jc}};function b2(n,t,i){const a=n[t],l=n[t-1],u=n[t+1];return a?i<t?l?a.top-(l.top+l.height):u?u.top-(a.top+a.height):0:u?u.top-(a.top+a.height):l?a.top-(l.top+l.height):0:0}const AE="Sortable",wE=Un.createContext({activeIndex:-1,containerId:AE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:SE,disabled:{draggable:!1,droppable:!1}});function T2(n){let{children:t,id:i,items:a,strategy:l=SE,disabled:u=!1}=n;const{active:h,dragOverlay:m,droppableRects:g,over:p,measureDroppableContainers:E}=d2(),b=uu(AE,i),S=m.rect!==null,D=C.useMemo(()=>a.map(st=>typeof st=="object"&&"id"in st?st.id:st),[a]),P=h!=null,z=h?D.indexOf(h.id):-1,U=p?D.indexOf(p.id):-1,K=C.useRef(D),X=!v2(D,K.current),$=U!==-1&&z===-1||X,it=_2(u);tr(()=>{X&&P&&E(D)},[X,D,P,E]),C.useEffect(()=>{K.current=D},[D]);const at=C.useMemo(()=>({activeIndex:z,containerId:b,disabled:it,disableTransforms:$,items:D,overIndex:U,useDragOverlay:S,sortedRects:y2(D,g),strategy:l}),[z,b,it.draggable,it.droppable,$,D,U,g,S,l]);return Un.createElement(wE.Provider,{value:at},t)}const S2=n=>{let{id:t,items:i,activeIndex:a,overIndex:l}=n;return Jm(i,a,l).indexOf(t)},A2=n=>{let{containerId:t,isSorting:i,wasDragging:a,index:l,items:u,newIndex:h,previousItems:m,previousContainerId:g,transition:p}=n;return!p||!a||m!==u&&l===h?!1:i?!0:h!==l&&t===g},w2={duration:200,easing:"ease"},RE="transform",R2=$o.Transition.toString({property:RE,duration:0,easing:"linear"}),C2={roleDescription:"sortable"};function x2(n){let{disabled:t,index:i,node:a,rect:l}=n;const[u,h]=C.useState(null),m=C.useRef(i);return tr(()=>{if(!t&&i!==m.current&&a.current){const g=l.current;if(g){const p=Tl(a.current,{ignoreTransform:!0}),E={x:g.left-p.left,y:g.top-p.top,scaleX:g.width/p.width,scaleY:g.height/p.height};(E.x||E.y)&&h(E)}}i!==m.current&&(m.current=i)},[t,i,a,l]),C.useEffect(()=>{u&&h(null)},[u]),u}function D2(n){let{animateLayoutChanges:t=A2,attributes:i,disabled:a,data:l,getNewIndex:u=S2,id:h,strategy:m,resizeObserverConfig:g,transition:p=w2}=n;const{items:E,containerId:b,activeIndex:S,disabled:D,disableTransforms:P,sortedRects:z,overIndex:U,useDragOverlay:K,strategy:X}=C.useContext(wE),$=N2(a,D),it=E.indexOf(h),at=C.useMemo(()=>({sortable:{containerId:b,index:it,items:E},...l}),[b,l,it,E]),st=C.useMemo(()=>E.slice(E.indexOf(h)),[E,h]),{rect:R,node:w,isOver:x,setNodeRef:M}=p2({id:h,data:at,disabled:$.droppable,resizeObserverConfig:{updateMeasurementsFor:st,...g}}),{active:O,activatorEvent:k,activeNodeRect:N,attributes:kt,setNodeRef:le,listeners:Z,isDragging:lt,over:gt,setActivatorNodeRef:wt,transform:Bt}=h2({id:h,data:at,attributes:{...C2,...i},disabled:$.draggable}),V=QA(M,le),J=!!O,ot=J&&!P&&Pc(S)&&Pc(U),ct=!K&&lt,_t=ct&&ot?Bt:null,Dt=ot?_t??(m??X)({rects:z,activeNodeRect:N,activeIndex:S,overIndex:U,index:it}):null,te=Pc(S)&&Pc(U)?u({id:h,items:E,activeIndex:S,overIndex:U}):it,qt=O?.id,Mt=C.useRef({activeId:qt,items:E,newIndex:te,containerId:b}),ti=E!==Mt.current.items,tn=t({active:O,containerId:b,isDragging:lt,isSorting:J,id:h,index:it,items:E,newIndex:Mt.current.newIndex,previousItems:Mt.current.items,previousContainerId:Mt.current.containerId,transition:p,wasDragging:Mt.current.activeId!=null}),kn=x2({disabled:!tn,index:it,node:w,rect:R});return C.useEffect(()=>{J&&Mt.current.newIndex!==te&&(Mt.current.newIndex=te),b!==Mt.current.containerId&&(Mt.current.containerId=b),E!==Mt.current.items&&(Mt.current.items=E)},[J,te,b,E]),C.useEffect(()=>{if(qt===Mt.current.activeId)return;if(qt!=null&&Mt.current.activeId==null){Mt.current.activeId=qt;return}const ei=setTimeout(()=>{Mt.current.activeId=qt},50);return()=>clearTimeout(ei)},[qt]),{active:O,activeIndex:S,attributes:kt,data:at,rect:R,index:it,newIndex:te,items:E,isOver:x,isSorting:J,isDragging:lt,listeners:Z,node:w,overIndex:U,over:gt,setNodeRef:V,setActivatorNodeRef:wt,setDroppableNodeRef:M,setDraggableNodeRef:le,transform:kn??Dt,transition:xe()};function xe(){if(kn||ti&&Mt.current.newIndex===it)return R2;if(!(ct&&!Qm(k)||!p)&&(J||tn))return $o.Transition.toString({...p,property:RE})}}function N2(n,t){var i,a;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(i=n?.draggable)!=null?i:t.draggable,droppable:(a=n?.droppable)!=null?a:t.droppable}}function cf(n){if(!n)return!1;const t=n.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const I2=[jt.Down,jt.Right,jt.Up,jt.Left],O2=(n,t)=>{let{context:{active:i,collisionRect:a,droppableRects:l,droppableContainers:u,over:h,scrollableAncestors:m}}=t;if(I2.includes(n.code)){if(n.preventDefault(),!i||!a)return;const g=[];u.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const S=l.get(b.id);if(S)switch(n.code){case jt.Down:a.top<S.top&&g.push(b);break;case jt.Up:a.top>S.top&&g.push(b);break;case jt.Left:a.left>S.left&&g.push(b);break;case jt.Right:a.left<S.left&&g.push(b);break}});const p=cw({collisionRect:a,droppableRects:l,droppableContainers:g});let E=cE(p,"id");if(E===h?.id&&p.length>1&&(E=p[1].id),E!=null){const b=u.get(i.id),S=u.get(E),D=S?l.get(S.id):null,P=S?.node.current;if(P&&D&&b&&S){const U=Df(P).some((st,R)=>m[R]!==st),K=CE(b,S),X=M2(b,S),$=U||!K?{x:0,y:0}:{x:X?a.width-D.width:0,y:X?a.height-D.height:0},it={x:D.left,y:D.top};return $.x&&$.y?it:Xo(it,$)}}}};function CE(n,t){return!cf(n)||!cf(t)?!1:n.data.current.sortable.containerId===t.data.current.sortable.containerId}function M2(n,t){return!cf(n)||!cf(t)||!CE(n,t)?!1:n.data.current.sortable.index<t.data.current.sortable.index}const V2=()=>{};var M_={};const xE=function(n){const t=[];let i=0;for(let a=0;a<n.length;a++){let l=n.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},L2=function(n){const t=[];let i=0,a=0;for(;i<n.length;){const l=n[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[i++];t[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[i++],h=n[i++],m=n[i++],g=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(g>>10)),t[a++]=String.fromCharCode(56320+(g&1023))}else{const u=n[i++],h=n[i++];t[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return t.join("")},DE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<n.length;l+=3){const u=n[l],h=l+1<n.length,m=h?n[l+1]:0,g=l+2<n.length,p=g?n[l+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,D=p&63;g||(D=64,h||(S=64)),a.push(i[E],i[b],i[S],i[D])}return a.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(xE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):L2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<n.length;){const u=i[n.charAt(l++)],m=l<n.length?i[n.charAt(l)]:0;++l;const p=l<n.length?i[n.charAt(l)]:64;++l;const b=l<n.length?i[n.charAt(l)]:64;if(++l,u==null||m==null||p==null||b==null)throw new U2;const S=u<<2|m>>4;if(a.push(S),p!==64){const D=m<<4&240|p>>2;if(a.push(D),b!==64){const P=p<<6&192|b;a.push(P)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class U2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z2=function(n){const t=xE(n);return DE.encodeByteArray(t,!0)},ff=function(n){return z2(n).replace(/\./g,"")},k2=function(n){try{return DE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function B2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const P2=()=>B2().__FIREBASE_DEFAULTS__,j2=()=>{if(typeof process>"u"||typeof M_>"u")return;const n=M_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},q2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&k2(n[1]);return t&&JSON.parse(t)},Wm=()=>{try{return V2()||P2()||j2()||q2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},H2=n=>Wm()?.emulatorHosts?.[n],NE=n=>{const t=H2(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},IE=()=>Wm()?.config;class F2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function cu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OE(n){return(await fetch(n,{credentials:"include"})).ok}function ME(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ff(JSON.stringify(i)),ff(JSON.stringify(h)),""].join(".")}const qo={};function G2(){const n={prod:[],emulator:[]};for(const t of Object.keys(qo))qo[t]?n.emulator.push(t):n.prod.push(t);return n}function Y2(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let V_=!1;function VE(n,t){if(typeof window>"u"||typeof document>"u"||!cu(window.location.host)||qo[n]===t||qo[n]||V_)return;qo[n]=t;function i(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=G2().prod.length>0;function h(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{V_=!0,h()},S}function E(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=Y2(a),D=i("text"),P=document.getElementById(D)||document.createElement("span"),z=i("learnmore"),U=document.getElementById(z)||document.createElement("a"),K=i("preprendIcon"),X=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;m($),E(U,z);const it=p();g(X,K),$.append(X,P,U,it),document.body.appendChild($)}u?(P.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Q2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K2(){const n=Wm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X2(){return!K2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $2(){try{return typeof indexedDB=="object"}catch{return!1}}function Z2(){return new Promise((n,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),n(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const J2="FirebaseError";class cs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=J2,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,LE.prototype.create)}}class LE{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,u=this.errors[t],h=u?W2(u,a):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new cs(l,m,a)}}function W2(n,t){return n.replace(tR,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const tR=/\{\$([^}]+)}/g;function hf(n,t){if(n===t)return!0;const i=Object.keys(n),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const u=n[l],h=t[l];if(L_(u)&&L_(h)){if(!hf(u,h))return!1}else if(u!==h)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function L_(n){return n!==null&&typeof n=="object"}function xr(n){return n&&n._delegate?n._delegate:n}class dl{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const is="[DEFAULT]";class eR{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new F2;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iR(t))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(t=is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=is){return this.instances.has(t)}getOptions(t=is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&t(u,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:nR(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=is){return this.component?this.component.multipleInstances?t:is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nR(n){return n===is?void 0:n}function iR(n){return n.instantiationMode==="EAGER"}class rR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new eR(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ft||(Ft={}));const aR={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},sR=Ft.INFO,lR={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},oR=(n,t,...i)=>{if(t<n.logLevel)return;const a=new Date().toISOString(),l=lR[t];if(l)console[l](`[${a}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class UE{constructor(t){this.name=t,this._logLevel=sR,this._logHandler=oR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const uR=(n,t)=>t.some(i=>n instanceof i);let U_,z_;function cR(){return U_||(U_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fR(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zE=new WeakMap,vm=new WeakMap,kE=new WeakMap,Wd=new WeakMap,tg=new WeakMap;function hR(n){const t=new Promise((i,a)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{i(va(n.result)),l()},h=()=>{a(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&zE.set(i,n)}).catch(()=>{}),tg.set(t,n),t}function dR(n){if(vm.has(n))return;const t=new Promise((i,a)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{i(),l()},h=()=>{a(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});vm.set(n,t)}let _m={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return vm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||kE.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return va(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function mR(n){_m=n(_m)}function gR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=n.call(tm(this),t,...i);return kE.set(a,t.sort?t.sort():[t]),va(a)}:fR().includes(n)?function(...t){return n.apply(tm(this),t),va(zE.get(this))}:function(...t){return va(n.apply(tm(this),t))}}function pR(n){return typeof n=="function"?gR(n):(n instanceof IDBTransaction&&dR(n),uR(n,cR())?new Proxy(n,_m):n)}function va(n){if(n instanceof IDBRequest)return hR(n);if(Wd.has(n))return Wd.get(n);const t=pR(n);return t!==n&&(Wd.set(n,t),tg.set(t,n)),t}const tm=n=>tg.get(n);function yR(n,t,{blocked:i,upgrade:a,blocking:l,terminated:u}={}){const h=indexedDB.open(n,t),m=va(h);return a&&h.addEventListener("upgradeneeded",g=>{a(va(h.result),g.oldVersion,g.newVersion,va(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const vR=["get","getKey","getAll","getAllKeys","count"],_R=["put","add","delete","clear"],em=new Map;function k_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(em.get(t))return em.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=_R.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||vR.includes(i)))return;const u=async function(h,...m){const g=this.transaction(h,l?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),l&&g.done]))[0]};return em.set(t,u),u}mR(n=>({...n,get:(t,i,a)=>k_(t,i)||n.get(t,i,a),has:(t,i)=>!!k_(t,i)||n.has(t,i)}));class ER{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(bR(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function bR(n){return n.getComponent()?.type==="VERSION"}const Em="@firebase/app",B_="0.14.7";const Dr=new UE("@firebase/app"),TR="@firebase/app-compat",SR="@firebase/analytics-compat",AR="@firebase/analytics",wR="@firebase/app-check-compat",RR="@firebase/app-check",CR="@firebase/auth",xR="@firebase/auth-compat",DR="@firebase/database",NR="@firebase/data-connect",IR="@firebase/database-compat",OR="@firebase/functions",MR="@firebase/functions-compat",VR="@firebase/installations",LR="@firebase/installations-compat",UR="@firebase/messaging",zR="@firebase/messaging-compat",kR="@firebase/performance",BR="@firebase/performance-compat",PR="@firebase/remote-config",jR="@firebase/remote-config-compat",qR="@firebase/storage",HR="@firebase/storage-compat",FR="@firebase/firestore",GR="@firebase/ai",YR="@firebase/firestore-compat",QR="firebase",KR="12.8.0";const bm="[DEFAULT]",XR={[Em]:"fire-core",[TR]:"fire-core-compat",[AR]:"fire-analytics",[SR]:"fire-analytics-compat",[RR]:"fire-app-check",[wR]:"fire-app-check-compat",[CR]:"fire-auth",[xR]:"fire-auth-compat",[DR]:"fire-rtdb",[NR]:"fire-data-connect",[IR]:"fire-rtdb-compat",[OR]:"fire-fn",[MR]:"fire-fn-compat",[VR]:"fire-iid",[LR]:"fire-iid-compat",[UR]:"fire-fcm",[zR]:"fire-fcm-compat",[kR]:"fire-perf",[BR]:"fire-perf-compat",[PR]:"fire-rc",[jR]:"fire-rc-compat",[qR]:"fire-gcs",[HR]:"fire-gcs-compat",[FR]:"fire-fst",[YR]:"fire-fst-compat",[GR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};const df=new Map,$R=new Map,Tm=new Map;function P_(n,t){try{n.container.addComponent(t)}catch(i){Dr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function Jo(n){const t=n.name;if(Tm.has(t))return Dr.debug(`There were multiple attempts to register component ${t}.`),!1;Tm.set(t,n);for(const i of df.values())P_(i,n);for(const i of $R.values())P_(i,n);return!0}function BE(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function PE(n){return n==null?!1:n.settings!==void 0}const ZR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_a=new LE("app","Firebase",ZR);class JR{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new dl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _a.create("app-deleted",{appName:this._name})}}const jE=KR;function qE(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const a={name:bm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw _a.create("bad-app-name",{appName:String(l)});if(i||(i=IE()),!i)throw _a.create("no-options");const u=df.get(l);if(u){if(hf(i,u.options)&&hf(a,u.config))return u;throw _a.create("duplicate-app",{appName:l})}const h=new rR(l);for(const g of Tm.values())h.addComponent(g);const m=new JR(i,a,h);return df.set(l,m),m}function HE(n=bm){const t=df.get(n);if(!t&&n===bm&&IE())return qE();if(!t)throw _a.create("no-app",{appName:n});return t}function Ea(n,t,i){let a=XR[n]??n;i&&(a+=`-${i}`);const l=a.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${t}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dr.warn(h.join(" "));return}Jo(new dl(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const WR="firebase-heartbeat-database",tC=1,Wo="firebase-heartbeat-store";let nm=null;function FE(){return nm||(nm=yR(WR,tC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Wo)}catch(i){console.warn(i)}}}}).catch(n=>{throw _a.create("idb-open",{originalErrorMessage:n.message})})),nm}async function eC(n){try{const i=(await FE()).transaction(Wo),a=await i.objectStore(Wo).get(GE(n));return await i.done,a}catch(t){if(t instanceof cs)Dr.warn(t.message);else{const i=_a.create("idb-get",{originalErrorMessage:t?.message});Dr.warn(i.message)}}}async function j_(n,t){try{const a=(await FE()).transaction(Wo,"readwrite");await a.objectStore(Wo).put(t,GE(n)),await a.done}catch(i){if(i instanceof cs)Dr.warn(i.message);else{const a=_a.create("idb-set",{originalErrorMessage:i?.message});Dr.warn(a.message)}}}function GE(n){return`${n.name}!${n.options.appId}`}const nC=1024,iC=30;class rC{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sC(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=q_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>iC){const l=lC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Dr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=q_(),{heartbeatsToSend:i,unsentEntries:a}=aC(this._heartbeatsCache.heartbeats),l=ff(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Dr.warn(t),""}}}function q_(){return new Date().toISOString().substring(0,10)}function aC(n,t=nC){const i=[];let a=n.slice();for(const l of n){const u=i.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),H_(i)>t){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),H_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class sC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $2()?Z2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await eC(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return j_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return j_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function H_(n){return ff(JSON.stringify({version:2,heartbeats:n})).length}function lC(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let a=1;a<n.length;a++)n[a].date<i&&(i=n[a].date,t=a);return t}function oC(n){Jo(new dl("platform-logger",t=>new ER(t),"PRIVATE")),Jo(new dl("heartbeat",t=>new rC(t),"PRIVATE")),Ea(Em,B_,n),Ea(Em,B_,"esm2020"),Ea("fire-js","")}oC("");var uC="firebase",cC="12.8.0";Ea(uC,cC,"app");var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ba,YE;(function(){var n;function t(R,w){function x(){}x.prototype=w.prototype,R.F=w.prototype,R.prototype=new x,R.prototype.constructor=R,R.D=function(M,O,k){for(var N=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)N[kt-2]=arguments[kt];return w.prototype[O].apply(M,N)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,w,x){x||(x=0);const M=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)M[O]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(O=0;O<16;++O)M[O]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=R.g[0],x=R.g[1],O=R.g[2];let k=R.g[3],N;N=w+(k^x&(O^k))+M[0]+3614090360&4294967295,w=x+(N<<7&4294967295|N>>>25),N=k+(O^w&(x^O))+M[1]+3905402710&4294967295,k=w+(N<<12&4294967295|N>>>20),N=O+(x^k&(w^x))+M[2]+606105819&4294967295,O=k+(N<<17&4294967295|N>>>15),N=x+(w^O&(k^w))+M[3]+3250441966&4294967295,x=O+(N<<22&4294967295|N>>>10),N=w+(k^x&(O^k))+M[4]+4118548399&4294967295,w=x+(N<<7&4294967295|N>>>25),N=k+(O^w&(x^O))+M[5]+1200080426&4294967295,k=w+(N<<12&4294967295|N>>>20),N=O+(x^k&(w^x))+M[6]+2821735955&4294967295,O=k+(N<<17&4294967295|N>>>15),N=x+(w^O&(k^w))+M[7]+4249261313&4294967295,x=O+(N<<22&4294967295|N>>>10),N=w+(k^x&(O^k))+M[8]+1770035416&4294967295,w=x+(N<<7&4294967295|N>>>25),N=k+(O^w&(x^O))+M[9]+2336552879&4294967295,k=w+(N<<12&4294967295|N>>>20),N=O+(x^k&(w^x))+M[10]+4294925233&4294967295,O=k+(N<<17&4294967295|N>>>15),N=x+(w^O&(k^w))+M[11]+2304563134&4294967295,x=O+(N<<22&4294967295|N>>>10),N=w+(k^x&(O^k))+M[12]+1804603682&4294967295,w=x+(N<<7&4294967295|N>>>25),N=k+(O^w&(x^O))+M[13]+4254626195&4294967295,k=w+(N<<12&4294967295|N>>>20),N=O+(x^k&(w^x))+M[14]+2792965006&4294967295,O=k+(N<<17&4294967295|N>>>15),N=x+(w^O&(k^w))+M[15]+1236535329&4294967295,x=O+(N<<22&4294967295|N>>>10),N=w+(O^k&(x^O))+M[1]+4129170786&4294967295,w=x+(N<<5&4294967295|N>>>27),N=k+(x^O&(w^x))+M[6]+3225465664&4294967295,k=w+(N<<9&4294967295|N>>>23),N=O+(w^x&(k^w))+M[11]+643717713&4294967295,O=k+(N<<14&4294967295|N>>>18),N=x+(k^w&(O^k))+M[0]+3921069994&4294967295,x=O+(N<<20&4294967295|N>>>12),N=w+(O^k&(x^O))+M[5]+3593408605&4294967295,w=x+(N<<5&4294967295|N>>>27),N=k+(x^O&(w^x))+M[10]+38016083&4294967295,k=w+(N<<9&4294967295|N>>>23),N=O+(w^x&(k^w))+M[15]+3634488961&4294967295,O=k+(N<<14&4294967295|N>>>18),N=x+(k^w&(O^k))+M[4]+3889429448&4294967295,x=O+(N<<20&4294967295|N>>>12),N=w+(O^k&(x^O))+M[9]+568446438&4294967295,w=x+(N<<5&4294967295|N>>>27),N=k+(x^O&(w^x))+M[14]+3275163606&4294967295,k=w+(N<<9&4294967295|N>>>23),N=O+(w^x&(k^w))+M[3]+4107603335&4294967295,O=k+(N<<14&4294967295|N>>>18),N=x+(k^w&(O^k))+M[8]+1163531501&4294967295,x=O+(N<<20&4294967295|N>>>12),N=w+(O^k&(x^O))+M[13]+2850285829&4294967295,w=x+(N<<5&4294967295|N>>>27),N=k+(x^O&(w^x))+M[2]+4243563512&4294967295,k=w+(N<<9&4294967295|N>>>23),N=O+(w^x&(k^w))+M[7]+1735328473&4294967295,O=k+(N<<14&4294967295|N>>>18),N=x+(k^w&(O^k))+M[12]+2368359562&4294967295,x=O+(N<<20&4294967295|N>>>12),N=w+(x^O^k)+M[5]+4294588738&4294967295,w=x+(N<<4&4294967295|N>>>28),N=k+(w^x^O)+M[8]+2272392833&4294967295,k=w+(N<<11&4294967295|N>>>21),N=O+(k^w^x)+M[11]+1839030562&4294967295,O=k+(N<<16&4294967295|N>>>16),N=x+(O^k^w)+M[14]+4259657740&4294967295,x=O+(N<<23&4294967295|N>>>9),N=w+(x^O^k)+M[1]+2763975236&4294967295,w=x+(N<<4&4294967295|N>>>28),N=k+(w^x^O)+M[4]+1272893353&4294967295,k=w+(N<<11&4294967295|N>>>21),N=O+(k^w^x)+M[7]+4139469664&4294967295,O=k+(N<<16&4294967295|N>>>16),N=x+(O^k^w)+M[10]+3200236656&4294967295,x=O+(N<<23&4294967295|N>>>9),N=w+(x^O^k)+M[13]+681279174&4294967295,w=x+(N<<4&4294967295|N>>>28),N=k+(w^x^O)+M[0]+3936430074&4294967295,k=w+(N<<11&4294967295|N>>>21),N=O+(k^w^x)+M[3]+3572445317&4294967295,O=k+(N<<16&4294967295|N>>>16),N=x+(O^k^w)+M[6]+76029189&4294967295,x=O+(N<<23&4294967295|N>>>9),N=w+(x^O^k)+M[9]+3654602809&4294967295,w=x+(N<<4&4294967295|N>>>28),N=k+(w^x^O)+M[12]+3873151461&4294967295,k=w+(N<<11&4294967295|N>>>21),N=O+(k^w^x)+M[15]+530742520&4294967295,O=k+(N<<16&4294967295|N>>>16),N=x+(O^k^w)+M[2]+3299628645&4294967295,x=O+(N<<23&4294967295|N>>>9),N=w+(O^(x|~k))+M[0]+4096336452&4294967295,w=x+(N<<6&4294967295|N>>>26),N=k+(x^(w|~O))+M[7]+1126891415&4294967295,k=w+(N<<10&4294967295|N>>>22),N=O+(w^(k|~x))+M[14]+2878612391&4294967295,O=k+(N<<15&4294967295|N>>>17),N=x+(k^(O|~w))+M[5]+4237533241&4294967295,x=O+(N<<21&4294967295|N>>>11),N=w+(O^(x|~k))+M[12]+1700485571&4294967295,w=x+(N<<6&4294967295|N>>>26),N=k+(x^(w|~O))+M[3]+2399980690&4294967295,k=w+(N<<10&4294967295|N>>>22),N=O+(w^(k|~x))+M[10]+4293915773&4294967295,O=k+(N<<15&4294967295|N>>>17),N=x+(k^(O|~w))+M[1]+2240044497&4294967295,x=O+(N<<21&4294967295|N>>>11),N=w+(O^(x|~k))+M[8]+1873313359&4294967295,w=x+(N<<6&4294967295|N>>>26),N=k+(x^(w|~O))+M[15]+4264355552&4294967295,k=w+(N<<10&4294967295|N>>>22),N=O+(w^(k|~x))+M[6]+2734768916&4294967295,O=k+(N<<15&4294967295|N>>>17),N=x+(k^(O|~w))+M[13]+1309151649&4294967295,x=O+(N<<21&4294967295|N>>>11),N=w+(O^(x|~k))+M[4]+4149444226&4294967295,w=x+(N<<6&4294967295|N>>>26),N=k+(x^(w|~O))+M[11]+3174756917&4294967295,k=w+(N<<10&4294967295|N>>>22),N=O+(w^(k|~x))+M[2]+718787259&4294967295,O=k+(N<<15&4294967295|N>>>17),N=x+(k^(O|~w))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+k&4294967295}a.prototype.v=function(R,w){w===void 0&&(w=R.length);const x=w-this.blockSize,M=this.C;let O=this.h,k=0;for(;k<w;){if(O==0)for(;k<=x;)l(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<w;)if(M[O++]=R.charCodeAt(k++),O==this.blockSize){l(this,M),O=0;break}}else for(;k<w;)if(M[O++]=R[k++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=w},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var x=R.length-8;x<R.length;++x)R[x]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)R[w++]=this.g[x]>>>M&255;return R};function u(R,w){var x=m;return Object.prototype.hasOwnProperty.call(x,R)?x[R]:x[R]=w(R)}function h(R,w){this.h=w;const x=[];let M=!0;for(let O=R.length-1;O>=0;O--){const k=R[O]|0;M&&k==w||(x[O]=k,M=!1)}this.g=x}var m={};function g(R){return-128<=R&&R<128?u(R,function(w){return new h([w|0],w<0?-1:0)}):new h([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return U(p(-R));const w=[];let x=1;for(let M=0;R>=x;M++)w[M]=R/x|0,x*=4294967296;return new h(w,0)}function E(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return U(E(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=p(Math.pow(w,8));let M=b;for(let k=0;k<R.length;k+=8){var O=Math.min(8,R.length-k);const N=parseInt(R.substring(k,k+O),w);O<8?(O=p(Math.pow(w,O)),M=M.j(O).add(p(N))):(M=M.j(x),M=M.add(p(N)))}return M}var b=g(0),S=g(1),D=g(16777216);n=h.prototype,n.m=function(){if(z(this))return-U(this).m();let R=0,w=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);R+=(M>=0?M:4294967296+M)*w,w*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(z(this))return"-"+U(this).toString(R);const w=p(Math.pow(R,6));var x=this;let M="";for(;;){const O=it(x,w).g;x=K(x,O.j(w));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(R);if(x=O,P(x))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function z(R){return R.h==-1}n.l=function(R){return R=K(this,R),z(R)?-1:P(R)?0:1};function U(R){const w=R.g.length,x=[];for(let M=0;M<w;M++)x[M]=~R.g[M];return new h(x,~R.h).add(S)}n.abs=function(){return z(this)?U(this):this},n.add=function(R){const w=Math.max(this.g.length,R.g.length),x=[];let M=0;for(let O=0;O<=w;O++){let k=M+(this.i(O)&65535)+(R.i(O)&65535),N=(k>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);M=N>>>16,k&=65535,N&=65535,x[O]=N<<16|k}return new h(x,x[x.length-1]&-2147483648?-1:0)};function K(R,w){return R.add(U(w))}n.j=function(R){if(P(this)||P(R))return b;if(z(this))return z(R)?U(this).j(U(R)):U(U(this).j(R));if(z(R))return U(this.j(U(R)));if(this.l(D)<0&&R.l(D)<0)return p(this.m()*R.m());const w=this.g.length+R.g.length,x=[];for(var M=0;M<2*w;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<R.g.length;O++){const k=this.i(M)>>>16,N=this.i(M)&65535,kt=R.i(O)>>>16,le=R.i(O)&65535;x[2*M+2*O]+=N*le,X(x,2*M+2*O),x[2*M+2*O+1]+=k*le,X(x,2*M+2*O+1),x[2*M+2*O+1]+=N*kt,X(x,2*M+2*O+1),x[2*M+2*O+2]+=k*kt,X(x,2*M+2*O+2)}for(R=0;R<w;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=w;R<2*w;R++)x[R]=0;return new h(x,0)};function X(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function $(R,w){this.g=R,this.h=w}function it(R,w){if(P(w))throw Error("division by zero");if(P(R))return new $(b,b);if(z(R))return w=it(U(R),w),new $(U(w.g),U(w.h));if(z(w))return w=it(R,U(w)),new $(U(w.g),w.h);if(R.g.length>30){if(z(R)||z(w))throw Error("slowDivide_ only works with positive integers.");for(var x=S,M=w;M.l(R)<=0;)x=at(x),M=at(M);var O=st(x,1),k=st(M,1);for(M=st(M,2),x=st(x,2);!P(M);){var N=k.add(M);N.l(R)<=0&&(O=O.add(x),k=N),M=st(M,1),x=st(x,1)}return w=K(R,O.j(w)),new $(O,w)}for(O=b;R.l(w)>=0;){for(x=Math.max(1,Math.floor(R.m()/w.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=p(x),N=k.j(w);z(N)||N.l(R)>0;)x-=M,k=p(x),N=k.j(w);P(k)&&(k=S),O=O.add(k),R=K(R,N)}return new $(O,R)}n.B=function(R){return it(this,R).h},n.and=function(R){const w=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<w;M++)x[M]=this.i(M)&R.i(M);return new h(x,this.h&R.h)},n.or=function(R){const w=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<w;M++)x[M]=this.i(M)|R.i(M);return new h(x,this.h|R.h)},n.xor=function(R){const w=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<w;M++)x[M]=this.i(M)^R.i(M);return new h(x,this.h^R.h)};function at(R){const w=R.g.length+1,x=[];for(let M=0;M<w;M++)x[M]=R.i(M)<<1|R.i(M-1)>>>31;return new h(x,R.h)}function st(R,w){const x=w>>5;w%=32;const M=R.g.length-x,O=[];for(let k=0;k<M;k++)O[k]=w>0?R.i(k+x)>>>w|R.i(k+x+1)<<32-w:R.i(k+x);return new h(O,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,YE=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=E,ba=h}).apply(typeof F_<"u"?F_:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var QE,Lo,KE,Zc,Sm,XE,$E,ZE;(function(){var n,t=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(c,y){if(y)t:{var _=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in _))break t;_=_[j]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(y){var _=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&_.push([A,y[A]]);return _}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,_){return c.call.apply(c.bind,arguments)}function p(c,y,_){return p=g,p.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,j,Y){for(var ut=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ut[Rt-2]=arguments[Rt];return y.prototype[j].apply(A,ut)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const y=c.length;if(y>0){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function P(c,y){for(let A=1;A<arguments.length;A++){const j=arguments[A];var _=typeof j;if(_=_!="object"?_:j?Array.isArray(j)?"array":_:"null",_=="array"||_=="object"&&typeof j.length=="number"){_=c.length||0;const Y=j.length||0;c.length=_+Y;for(let ut=0;ut<Y;ut++)c[_+ut]=j[ut]}else c.push(j)}}class z{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){h.setTimeout(()=>{throw c},0)}function K(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,_){const A=$.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var $=new z(()=>new it,c=>c.reset());class it{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,st=!1,R=new X,w=()=>{const c=Promise.resolve(void 0);at=()=>{c.then(x)}};function x(){for(var c;c=K();){try{c.h.call(c.g)}catch(_){U(_)}var y=$;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}st=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,y),h.removeEventListener("test",_,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function kt(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(kt,O),kt.prototype.init=function(c,y){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&kt.Z.h.call(this)},kt.prototype.h=function(){kt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),Z=0;function lt(c,y,_,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=j,this.key=++Z,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wt(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function Bt(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function V(c){const y={};for(const _ in c)y[_]=c[_];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(c,y){let _,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(_ in A)c[_]=A[_];for(let Y=0;Y<J.length;Y++)_=J[Y],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function ct(c){this.src=c,this.g={},this.h=0}ct.prototype.add=function(c,y,_,A,j){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const ut=yt(c,y,A,j);return ut>-1?(y=c[ut],_||(y.fa=!1)):(y=new lt(y,this.src,Y,!!A,j),y.fa=_,c.push(y)),y};function _t(c,y){const _=y.type;if(_ in c.g){var A=c.g[_],j=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=j>=0)&&Array.prototype.splice.call(A,j,1),Y&&(gt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function yt(c,y,_,A){for(let j=0;j<c.length;++j){const Y=c[j];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==A)return j}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),te={};function qt(c,y,_,A,j){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)qt(c,y[Y],_,A,j);return null}return _=Ur(_),c&&c[le]?c.J(y,_,m(A)?!!A.capture:!1,j):Mt(c,y,_,!1,A,j)}function Mt(c,y,_,A,j,Y){if(!y)throw Error("Invalid event type");const ut=m(j)?!!j.capture:!!j;let Rt=Rn(c);if(Rt||(c[Dt]=Rt=new ct(c)),_=Rt.add(y,_,A,ut,Y),_.proxy)return _;if(A=ti(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)k||(j=ut),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(xe(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ti(){function c(_){return y.call(c.src,c.listener,_)}const y=ei;return c}function tn(c,y,_,A,j){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)tn(c,y[Y],_,A,j);else A=m(A)?!!A.capture:!!A,_=Ur(_),c&&c[le]?(c=c.i,Y=String(y).toString(),Y in c.g&&(y=c.g[Y],_=yt(y,_,A,j),_>-1&&(gt(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[Y],c.h--)))):c&&(c=Rn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=yt(y,_,A,j)),(_=c>-1?y[c]:null)&&kn(_))}function kn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[le])_t(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(xe(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Rn(y))?(_t(_,c),_.h==0&&(_.src=null,y[Dt]=null)):gt(c)}}}function xe(c){return c in te?te[c]:te[c]="on"+c}function ei(c,y){if(c.da)c=!0;else{y=new kt(y,this);const _=c.listener,A=c.ha||c.src;c.fa&&kn(c),c=_.call(A,y)}return c}function Rn(c){return c=c[Dt],c instanceof ct?c:null}var Lr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ur(c){return typeof c=="function"?c:(c[Lr]||(c[Lr]=function(y){return c.handleEvent(y)}),c[Lr])}function fe(){M.call(this),this.i=new ct(this),this.M=this,this.G=null}b(fe,M),fe.prototype[le]=!0,fe.prototype.removeEventListener=function(c,y,_,A){tn(this,c,y,_,A)};function ee(c,y){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var j=y;y=new O(A,c),ot(y,j)}j=!0;let Y,ut;if(_)for(ut=_.length-1;ut>=0;ut--)Y=y.g=_[ut],j=Bn(Y,A,!0,y)&&j;if(Y=y.g=c,j=Bn(Y,A,!0,y)&&j,j=Bn(Y,A,!1,y)&&j,_)for(ut=0;ut<_.length;ut++)Y=y.g=_[ut],j=Bn(Y,A,!1,y)&&j}fe.prototype.N=function(){if(fe.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let A=0;A<_.length;A++)gt(_[A]);delete c.g[y],c.h--}}this.G=null},fe.prototype.J=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},fe.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Bn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let Y=0;Y<y.length;++Y){const ut=y[Y];if(ut&&!ut.da&&ut.capture==_){const Rt=ut.listener,Ae=ut.ha||ut.src;ut.fa&&_t(c.i,ut),j=Rt.call(Ae,A)!==!1&&j}}return j&&!A.defaultPrevented}function zr(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Da(c){c.g=zr(()=>{c.g=null,c.i&&(c.i=!1,Da(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Qe extends M{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Da(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(c){M.call(this),this.h=c,this.g={}}b(rr,M);var Na=[];function ni(c){wt(c.g,function(y,_){this.g.hasOwnProperty(_)&&kn(y)},c),c.g={}}rr.prototype.N=function(){rr.Z.N.call(this),ni(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=h.JSON.stringify,ar=h.JSON.parse,Ia=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Pn(){}function Oa(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){O.call(this,"d")}b(Be,O);function fn(){O.call(this,"c")}b(fn,O);var he={},ps=null;function sr(){return ps=ps||new fe}he.Ia="serverreachability";function ys(c){O.call(this,he.Ia,c)}b(ys,O);function ii(c){const y=sr();ee(y,new ys(y))}he.STAT_EVENT="statevent";function lr(c,y){O.call(this,he.STAT_EVENT,c),this.stat=y}b(lr,O);function Nt(c){const y=sr();ee(y,new lr(y,c))}he.Ja="timingevent";function de(c,y){O.call(this,he.Ja,c),this.size=y}b(de,O);function me(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function De(){this.g=!0}De.prototype.ua=function(){this.g=!1};function hn(c,y,_,A,j,Y){c.info(function(){if(c.g)if(Y){var ut="",Rt=Y.split("&");for(let Qt=0;Qt<Rt.length;Qt++){var Ae=Rt[Qt].split("=");if(Ae.length>1){const ge=Ae[0];Ae=Ae[1];const li=ge.split("_");ut=li.length>=2&&li[1]=="type"?ut+(ge+"="+Ae+"&"):ut+(ge+"=redacted&")}}}else ut=null;else ut=Y;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+_+`
`+ut})}function Ke(c,y,_,A,j,Y,ut){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+_+`
`+Y+" "+ut})}function Te(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Se(c,_)+(A?" "+A:"")})}function Cn(c,y){c.info(function(){return"TIMEOUT: "+y})}De.prototype.info=function(){};function Se(c,y){if(!c.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var _=Y[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ut=1;ut<A.length;ut++)A[ut]=""}}}}return _n(Y)}catch{return y}}var dn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},En;function qn(){}b(qn,Pn),qn.prototype.g=function(){return new XMLHttpRequest},En=new qn;function bn(c){return encodeURIComponent(String(c))}function Hn(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function en(c,y,_,A){this.j=c,this.i=y,this.l=_,this.S=A||1,this.V=new rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Tn}function Tn(){this.i=null,this.g="",this.h=!1}var Ne={},Xe={};function Oi(c,y,_){c.M=1,c.A=Ma(Oe(y)),c.u=_,c.R=!0,vs(c,null)}function vs(c,y){c.F=Date.now(),Mi(c),c.B=Oe(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ts(_.i,"t",A),c.C=0,_=c.j.L,c.h=new Tn,c.g=Mu(c.j,_?y:null,!c.u),c.P>0&&(c.O=new Qe(p(c.Y,c,c.g),c.P)),y=c.V,_=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Na[0]=j.toString()),j=Na);for(let Y=0;Y<j.length;Y++){const ut=qt(_,j[Y],A||y.handleEvent,!1,y.h||y);if(!ut)break;y.g[ut.key]=ut}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ii(),hn(c.i,c.v,c.B,c.l,c.S,c.u)}en.prototype.ba=function(c){c=c.target;const y=this.O;y&&Ti(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)t:{const Rt=Ti(this.g),Ae=this.g.ya(),Qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Rt!=4||Ae==7||(Ae==8||Qt<=0?ii(3):ii(2)),Vi(this);var y=this.g.ca();this.X=y;var _=Xf(this);if(this.o=y==200,Ke(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var Y=A;break e}}Y=null}if(c=Y)Te(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,c);else{this.o=!1,this.m=3,Nt(12),Fn(this),ri(this);break t}}if(this.R){c=!0;let ge;for(;!this.K&&this.C<_.length;)if(ge=Eu(this,_),ge==Xe){Rt==4&&(this.m=4,Nt(14),c=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==Ne){this.m=4,Nt(15),Te(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Te(this.i,this.l,ge,null),Li(this,ge);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||_.length!=0||this.h.h||(this.m=1,Nt(16),c=!1),this.o=this.o&&c,!c)Te(this.i,this.l,_,"[Invalid Chunked Response]"),Fn(this),ri(this);else if(_.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Hl(ut),ut.P=!0,Nt(11))}}else Te(this.i,this.l,_,null),Li(this,_);Rt==4&&Fn(this),this.o&&!this.K&&(Rt==4?Du(this.j,this):(this.o=!1,Mi(this)))}else ur(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),Fn(this),ri(this)}}}catch{}};function Xf(c){if(!_u(c))return c.g.la();const y=nn(c.g);if(y==="")return"";let _="";const A=y.length,j=Ti(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Fn(c),ri(c),"";c.h.i=new h.TextDecoder}for(let Y=0;Y<A;Y++)c.h.h=!0,_+=c.h.i.decode(y[Y],{stream:!(j&&Y==A-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function _u(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Eu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?Xe:(_=Number(y.substring(_,A)),isNaN(_)?Ne:(A+=1,A+_>y.length?Xe:(y=y.slice(A,A+_),c.C=A+_,y)))}en.prototype.cancel=function(){this.K=!0,Fn(this)};function Mi(c){c.T=Date.now()+c.H,_s(c,c.H)}function _s(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=me(p(c.aa,c),y)}function Vi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}en.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Cn(this.i,this.B),this.M!=2&&(ii(),Nt(17)),Fn(this),this.m=2,ri(this)):_s(this,this.T-c)};function ri(c){c.j.I==0||c.K||Du(c.j,c)}function Fn(c){Vi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,ni(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Li(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||zi(_.h,c))){if(!c.L&&zi(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Cs(_),Gr(_);else break t;Pa(_),Nt(18)}}else _.xa=j[1],0<_.xa-_.K&&j[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=me(p(_.Va,_),6e3));Ui(_.h)<=1&&_.ta&&(_.ta=void 0)}else Hi(_,11)}else if((c.L||_.g==c)&&Cs(_),!N(y))for(j=_.Ba.g.parse(y),y=0;y<j.length;y++){let Qt=j[y];const ge=Qt[0];if(!(ge<=_.K))if(_.K=ge,Qt=Qt[1],_.I==2)if(Qt[0]=="c"){_.M=Qt[1],_.ba=Qt[2];const li=Qt[3];li!=null&&(_.ka=li,_.j.info("VER="+_.ka));const Fi=Qt[4];Fi!=null&&(_.za=Fi,_.j.info("SVER="+_.za));const Si=Qt[5];Si!=null&&typeof Si=="number"&&Si>0&&(A=1.5*Si,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ai=c.g;if(Ai){const ja=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var Y=A.h;Y.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Il(Y,Y.h),Y.h=null))}if(A.G){const xs=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;xs&&(A.wa=xs,Zt(A.J,A.G,xs))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var ut=c;if(A.na=Ou(A,A.L?A.ba:null,A.W),ut.L){Ol(A.h,ut);var Rt=ut,Ae=A.O;Ae&&(Rt.H=Ae),Rt.D&&(Vi(Rt),Mi(Rt)),A.g=ut}else Cu(A);_.i.length>0&&qi(_)}else Qt[0]!="stop"&&Qt[0]!="close"||Hi(_,7);else _.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Hi(_,7):jl(_):Qt[0]!="noop"&&_.l&&_.l.qa(Qt),_.A=0)}}ii(4)}catch{}}var Ie=class{constructor(c,y){this.g=c,this.map=y}};function Dl(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ui(c){return c.h?1:c.g?c.g.size:0}function zi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Il(c,y){c.g?c.g.add(y):c.h=y}function Ol(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Dl.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ml(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return D(c.i)}var bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Es(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let j,Y=null;A>=0?(j=c[_].substring(0,A),Y=c[_].substring(A+1)):j=c[_],y(j,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Gn?(this.l=c.l,$e(this,c.j),this.o=c.o,this.g=c.g,kr(this,c.u),this.h=c.h,Vl(this,wu(c.i)),this.m=c.m):c&&(y=String(c).match(bu))?(this.l=!1,$e(this,y[1]||"",!0),this.o=ki(y[2]||""),this.g=ki(y[3]||"",!0),kr(this,y[4]),this.h=ki(y[5]||"",!0),Vl(this,y[6]||"",!0),this.m=ki(y[7]||"")):(this.l=!1,this.i=new Pr(null,this.l))}Gn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Va(y,bs,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Va(y,bs,!0),"@"),c.push(bn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Va(_,_.charAt(0)=="/"?Ll:Tu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Va(_,Su)),c.join("")},Gn.prototype.resolve=function(c){const y=Oe(this);let _=!!c.j;_?$e(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var A=c.h;if(_)kr(y,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=y.h.lastIndexOf("/");j!=-1&&(A=y.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const Y=[];for(let ut=0;ut<j.length;){const Rt=j[ut++];Rt=="."?A&&ut==j.length&&Y.push(""):Rt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&ut==j.length&&Y.push("")):(Y.push(Rt),A=!0)}A=Y.join("/")}else A=j}return _?y.h=A:_=c.i.toString()!=="",_?Vl(y,wu(c.i)):_=!!c.m,_&&(y.m=c.m),y};function Oe(c){return new Gn(c)}function $e(c,y,_){c.j=_?ki(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function kr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Vl(c,y,_){y instanceof Pr?(c.i=y,Ss(c.i,c.l)):(_||(y=Va(y,Br)),c.i=new Pr(y,c.l))}function Zt(c,y,_){c.i.set(y,_)}function Ma(c){return Zt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ki(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Va(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,xn),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var bs=/[#\/\?@]/g,Tu=/[#\?:]/g,Ll=/[#\?]/g,Br=/[#\?@]/g,Su=/#/g;function Pr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Es(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Pr.prototype,n.add=function(c,y){Dn(this),this.i=null,c=jr(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Au(c,y){Dn(c),y=jr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ul(c,y){return Dn(c),y=jr(c,y),c.g.has(y)}n.forEach=function(c,y){Dn(this),this.g.forEach(function(_,A){_.forEach(function(j){c.call(y,j,A,this)},this)},this)};function zl(c,y){Dn(c);let _=[];if(typeof y=="string")Ul(c,y)&&(_=_.concat(c.g.get(jr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}n.set=function(c,y){return Dn(this),this.i=null,c=jr(this,c),Ul(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=zl(this,c),c.length>0?String(c[0]):y):y};function Ts(c,y,_){Au(c,y),_.length>0&&(c.i=null,c.g.set(jr(c,y),D(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var _=y[A];const j=bn(_);_=zl(this,_);for(let Y=0;Y<_.length;Y++){let ut=j;_[Y]!==""&&(ut+="="+bn(_[Y])),c.push(ut)}}return this.i=c.join("&")};function wu(c){const y=new Pr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function jr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ss(c,y){y&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(_,A){const j=A.toLowerCase();A!=j&&(Au(this,A),Ts(this,j,_))},c)),c.j=y}function Ei(c,y){const _=new De;if(h.Image){const A=new Image;A.onload=E(ai,_,"TestLoadImage: loaded",!0,y,A),A.onerror=E(ai,_,"TestLoadImage: error",!1,y,A),A.onabort=E(ai,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(ai,_,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function kl(c,y){const _=new De,A=new AbortController,j=setTimeout(()=>{A.abort(),ai(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(j),Y.ok?ai(_,"TestPingServer: ok",!0,y):ai(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),ai(_,"TestPingServer: error",!1,y)})}function ai(c,y,_,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(_)}catch{}}function qr(){this.g=new Ia}function Bi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Bi,Pn),Bi.prototype.g=function(){return new La(this.i,this.h)};function La(c,y){fe.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(La,fe),n=La.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,bi(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;As(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function As(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Hr(this):bi(this),this.readyState==3&&As(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,Hr(this))},n.Na=function(c){this.g&&(this.response=c,Hr(this))},n.ga=function(){this.g&&Hr(this)};function Hr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,bi(c)}n.setRequestHeader=function(c,y){this.A.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function bi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(La.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function si(c){let y="";return wt(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Ua(c,y,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=si(_),typeof c=="string"?_!=null&&bn(_):Zt(c,y,_))}function ne(c){fe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ne,fe);var Pi=/^https?$/i,Bl=["POST","PUT"];n=ne.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():En.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){za(this,Y);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)_.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())_.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Bl,y,void 0)>=0)||A||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ut]of _)this.g.setRequestHeader(Y,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){za(this,Y)}};function za(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Pl(c),or(c)}function Pl(c){c.A||(c.A=!0,ee(c,"complete"),ee(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ee(this,"complete"),ee(this,"abort"),or(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),ne.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ka(this):this.Xa())},n.Xa=function(){ka(this)};function ka(c){if(c.h&&typeof u<"u"){if(c.v&&Ti(c)==4)setTimeout(c.Ca.bind(c),0);else if(ee(c,"readystatechange"),Ti(c)==4){c.h=!1;try{const Y=c.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var A;if(A=Y===0){let ut=String(c.D).match(bu)[1]||null;!ut&&h.self&&h.self.location&&(ut=h.self.location.protocol.slice(0,-1)),A=!Pi.test(ut?ut.toLowerCase():"")}_=A}if(_)ee(c,"complete"),ee(c,"success");else{c.o=6;try{var j=Ti(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Pl(c)}}finally{or(c)}}}}function or(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||ee(c,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ti(c){return c.g?c.g.readyState:0}n.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ar(y)}};function nn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ur(c){const y={};c=(c.g&&Ti(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var _=Hn(c[A]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[j]||[];y[j]=Y,Y.push(_)}Bt(y,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Fr(c){this.za=0,this.i=[],this.j=new De,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,c),this.Za=ji("retryDelaySeedMs",1e4,c),this.Ta=ji("forwardChannelMaxRetries",2,c),this.va=ji("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(c&&c.concurrentRequestLimit),this.Ba=new qr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Fr.prototype,n.ka=8,n.I=1,n.connect=function(c,y,_,A){Nt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=Ou(this,null,this.W),qi(this)};function jl(c){if(ws(c),c.I==3){var y=c.V++,_=Oe(c.J);if(Zt(_,"SID",c.M),Zt(_,"RID",y),Zt(_,"TYPE","terminate"),Ba(c,_),y=new en(c,c.j,y),y.M=2,y.A=Ma(Oe(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&h.Image&&(new Image().src=y.A,_=!0),_||(y.g=Mu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Mi(y)}Iu(c)}function Gr(c){c.g&&(Hl(c),c.g.cancel(),c.g=null)}function ws(c){Gr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Cs(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function qi(c){if(!Nl(c.h)&&!c.m){c.m=!0;var y=c.Ea;at||w(),st||(at(),st=!0),R.add(y,c),c.D=0}}function Rs(c,y){return Ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=me(p(c.Ea,c,y),Nu(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new en(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=V(Y),ot(Y,this.U)):Y=this.U),this.u!==null||this.R||(j.J=Y,Y=null),this.S)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Ru(this,j,y),_=Oe(this.J),Zt(_,"RID",c),Zt(_,"CVER",22),this.G&&Zt(_,"X-HTTP-Session-Id",this.G),Ba(this,_),Y&&(this.R?y="headers="+bn(si(Y))+"&"+y:this.u&&Ua(_,this.u,Y)),Il(this.h,j),this.Ra&&Zt(_,"TYPE","init"),this.S?(Zt(_,"$req",y),Zt(_,"SID","null"),j.U=!0,Oi(j,_,null)):Oi(j,_,y),this.I=2}}else this.I==3&&(c?ql(this,c):this.i.length==0||Nl(this.h)||ql(this))};function ql(c,y){var _;y?_=y.l:_=c.V++;const A=Oe(c.J);Zt(A,"SID",c.M),Zt(A,"RID",_),Zt(A,"AID",c.K),Ba(c,A),c.u&&c.o&&Ua(A,c.u,c.o),_=new en(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ru(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Il(c.h,_),Oi(_,A,y)}function Ba(c,y){c.H&&wt(c.H,function(_,A){Zt(y,A,_)}),c.l&&wt({},function(_,A){Zt(y,A,_)})}function Ru(c,y,_){_=Math.min(c.i.length,_);const A=c.l?p(c.l.Ka,c.l,c):null;t:{var j=c.i;let Rt=-1;for(;;){const Ae=["count="+_];Rt==-1?_>0?(Rt=j[0].g,Ae.push("ofs="+Rt)):Rt=0:Ae.push("ofs="+Rt);let Qt=!0;for(let ge=0;ge<_;ge++){var Y=j[ge].g;const li=j[ge].map;if(Y-=Rt,Y<0)Rt=Math.max(0,j[ge].g-100),Qt=!1;else try{Y="req"+Y+"_"||"";try{var ut=li instanceof Map?li:Object.entries(li);for(const[Fi,Si]of ut){let Ai=Si;m(Si)&&(Ai=_n(Si)),Ae.push(Y+Fi+"="+encodeURIComponent(Ai))}}catch(Fi){throw Ae.push(Y+"type="+encodeURIComponent("_badmap")),Fi}}catch{A&&A(li)}}if(Qt){ut=Ae.join("&");break t}}ut=void 0}return c=c.i.splice(0,_),y.G=c,ut}function Cu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;at||w(),st||(at(),st=!0),R.add(y,c),c.A=0}}function Pa(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=me(p(c.Da,c),Nu(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=me(p(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Gr(this),xu(this))};function Hl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function xu(c){c.g=new en(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Oe(c.na);Zt(y,"RID","rpc"),Zt(y,"SID",c.M),Zt(y,"AID",c.K),Zt(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Zt(y,"TO",c.ia),Zt(y,"TYPE","xmlhttp"),Ba(c,y),c.u&&c.o&&Ua(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Ma(Oe(y)),_.u=null,_.R=!0,vs(_,c)}n.Va=function(){this.C!=null&&(this.C=null,Gr(this),Pa(this),Nt(19))};function Cs(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Du(c,y){var _=null;if(c.g==y){Cs(c),Hl(c),c.g=null;var A=2}else if(zi(c.h,y))_=y.G,Ol(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;A=sr(),ee(A,new de(A,_)),qi(c)}else Cu(c);else if(j=y.m,j==3||j==0&&y.X>0||!(A==1&&Rs(c,y)||A==2&&Pa(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Hi(c,5);break;case 4:Hi(c,10);break;case 3:Hi(c,6);break;default:Hi(c,2)}}}function Nu(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Hi(c,y){if(c.j.info("Error code "+y),y==2){var _=p(c.bb,c),A=c.Ua;const j=!A;A=new Gn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||$e(A,"https"),Ma(A),j?Ei(A.toString(),_):kl(A.toString(),_)}else Nt(2);c.I=0,c.l&&c.l.pa(y),Iu(c),ws(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Iu(c){if(c.I=0,c.ja=[],c.l){const y=Ml(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ja,y),P(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function Ou(c,y,_){var A=_ instanceof Gn?Oe(_):new Gn(_);if(A.g!="")y&&(A.g=y+"."+A.g),kr(A,A.u);else{var j=h.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const Y=new Gn(null);A&&$e(Y,A),y&&(Y.g=y),j&&kr(Y,j),_&&(Y.h=_),A=Y}return _=c.G,y=c.wa,_&&y&&Zt(A,_,y),Zt(A,"VER",c.ka),Ba(c,A),A}function Mu(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new ne(new Bi({ab:_})):new ne(c.ma),y.Fa(c.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}n=Vu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Yr(){}Yr.prototype.g=function(c,y){return new Sn(c,y)};function Sn(c,y){fe.call(this),this.g=new Fr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new cr(this)}b(Sn,fe),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){jl(this.g)},Sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=_n(c),c=_);y.i.push(new Ie(y.Ya++,c)),y.I==3&&qi(y)},Sn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,Sn.Z.N.call(this)};function Lu(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Lu,Be);function Uu(){fn.call(this),this.status=1}b(Uu,fn);function cr(c){this.g=c}b(cr,Vu),cr.prototype.ra=function(){ee(this.g,"a")},cr.prototype.qa=function(c){ee(this.g,new Lu(c))},cr.prototype.pa=function(c){ee(this.g,new Uu)},cr.prototype.oa=function(){ee(this.g,"b")},Yr.prototype.createWebChannel=Yr.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,ZE=function(){return new Yr},$E=function(){return sr()},XE=he,Sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dn.NO_ERROR=0,dn.TIMEOUT=8,dn.HTTP_ERROR=6,Zc=dn,mn.COMPLETE="complete",KE=mn,Oa.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",fe.prototype.listen=fe.prototype.J,Lo=Oa,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,QE=ne}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});class yn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let Sl="12.8.0";function fC(n){Sl=n}const ls=new UE("@firebase/firestore");function rl(){return ls.logLevel}function ft(n,...t){if(ls.logLevel<=Ft.DEBUG){const i=t.map(eg);ls.debug(`Firestore (${Sl}): ${n}`,...i)}}function Nr(n,...t){if(ls.logLevel<=Ft.ERROR){const i=t.map(eg);ls.error(`Firestore (${Sl}): ${n}`,...i)}}function ml(n,...t){if(ls.logLevel<=Ft.WARN){const i=t.map(eg);ls.warn(`Firestore (${Sl}): ${n}`,...i)}}function eg(n){if(typeof n=="string")return n;try{return(function(i){return JSON.stringify(i)})(n)}catch{return n}}function bt(n,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,JE(n,a,i)}function JE(n,t,i){let a=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Nr(a),new Error(a)}function $t(n,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,n||JE(t,l,a)}function At(n,t){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends cs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class WE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(yn.UNAUTHENTICATED)))}shutdown(){}}class dC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class mC{constructor(t){this.t=t,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){$t(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let u=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Rr,t.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},m=g=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Rr)}}),0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($t(typeof a.accessToken=="string",31837,{l:a}),new WE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new yn(t)}}class gC{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class pC{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new gC(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class G_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yC{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,PE(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){$t(this.o===void 0,3512);const a=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>a(u)))};const l=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new G_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new G_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vC(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<n;a++)i[a]=Math.floor(256*Math.random());return i}class ng{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=vC(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<i&&(a+=t.charAt(l[u]%62))}return a}}function Ut(n,t){return n<t?-1:n>t?1:0}function Am(n,t){const i=Math.min(n.length,t.length);for(let a=0;a<i;a++){const l=n.charAt(a),u=t.charAt(a);if(l!==u)return im(l)===im(u)?Ut(l,u):im(l)?1:-1}return Ut(n.length,t.length)}const _C=55296,EC=57343;function im(n){const t=n.charCodeAt(0);return t>=_C&&t<=EC}function gl(n,t,i){return n.length===t.length&&n.every(((a,l)=>i(a,t[l])))}const Y_="__name__";class Xi{constructor(t,i,a){i===void 0?i=0:i>t.length&&bt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&bt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Xi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Xi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const u=Xi.compareSegments(t.get(l),i.get(l));if(u!==0)return u}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Xi.isNumericId(t),l=Xi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Xi.extractNumericId(t).compare(Xi.extractNumericId(i)):Am(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ba.fromString(t.substring(4,t.length-2))}}class ce extends Xi{construct(t,i,a){return new ce(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new mt(rt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ce(i)}static emptyPath(){return new ce([])}}const bC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Xi{construct(t,i,a){return new un(t,i,a)}static isValidIdentifier(t){return bC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new un([Y_])}static fromServerFormat(t){const i=[];let a="",l=0;const u=()=>{if(a.length===0)throw new mt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let h=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new mt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new mt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=g,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(a+=m,l++):(u(),l++)}if(u(),h)throw new mt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new un(i)}static emptyPath(){return new un([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ce.fromString(t))}static fromName(t){return new vt(ce.fromString(t).popFirst(5))}static empty(){return new vt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ce.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ce(t.slice()))}}function t1(n,t,i){if(!i)throw new mt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function TC(n,t,i,a){if(t===!0&&a===!0)throw new mt(rt.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function Q_(n){if(!vt.isDocumentKey(n))throw new mt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function K_(n){if(vt.isDocumentKey(n))throw new mt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function e1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ig(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":bt(12329,{type:typeof n})}function Ir(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ig(n);throw new mt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}function ke(n,t){const i={typeString:n};return t&&(i.value=t),i}function fu(n,t){if(!e1(n))throw new mt(rt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,u="value"in t[a]?{value:t[a].value}:void 0;if(!(a in n)){i=`JSON missing required field: '${a}'`;break}const h=n[a];if(l&&typeof h!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&h!==u.value){i=`Expected '${a}' field to equal '${u.value}'`;break}}if(i)throw new mt(rt.INVALID_ARGUMENT,i);return!0}const X_=-62135596800,$_=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(t){return Xt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*$_);return new Xt(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new mt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<X_)throw new mt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(fu(t,Xt._jsonSchema))return new Xt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-X_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xt._jsonSchemaVersion="firestore/timestamp/1.0",Xt._jsonSchema={type:ke("string",Xt._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Xt(0,0))}static max(){return new Tt(new Xt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function SC(n,t){const i=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new Xt(i+1,0):new Xt(i,a));return new Sa(l,vt.empty(),t)}function AC(n){return new Sa(n.readTime,n.key,tu)}class Sa{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Sa(Tt.min(),vt.empty(),tu)}static max(){return new Sa(Tt.max(),vt.empty(),tu)}}function wC(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(n.documentKey,t.documentKey),i!==0?i:Ut(n.largestBatchId,t.largestBatchId))}const RC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Al(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==RC)throw n;ft("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new nt(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):nt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):nt.reject(i)}static resolve(t){return new nt(((i,a)=>{i(t)}))}static reject(t){return new nt(((i,a)=>{a(t)}))}static waitFor(t){return new nt(((i,a)=>{let l=0,u=0,h=!1;t.forEach((m=>{++l,m.next((()=>{++u,h&&u===l&&i()}),(g=>a(g)))})),h=!0,u===l&&i()}))}static or(t){let i=nt.resolve(!1);for(const a of t)i=i.next((l=>l?nt.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,u)=>{a.push(i.call(this,l,u))})),this.waitFor(a)}static mapArray(t,i){return new nt(((a,l)=>{const u=t.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;i(t[p]).next((E=>{h[p]=E,++m,m===u&&a(h)}),(E=>l(E)))}}))}static doWhile(t,i){return new nt(((a,l)=>{const u=()=>{t()===!0?i().next((()=>{u()}),l):a()};u()}))}}function xC(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wl(n){return n.name==="IndexedDbTransactionError"}class Of{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Of.ce=-1;const rg=-1;function Mf(n){return n==null}function mf(n){return n===0&&1/n==-1/0}function DC(n){return typeof n=="number"&&Number.isInteger(n)&&!mf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const n1="";function NC(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=Z_(t)),t=IC(n.get(i),t);return Z_(t)}function IC(n,t){let i=t;const a=n.length;for(let l=0;l<a;l++){const u=n.charAt(l);switch(u){case"\0":i+="";break;case n1:i+="";break;default:i+=u}}return i}function Z_(n){return n+n1+""}function J_(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function fs(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function i1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ye{constructor(t,i){this.comparator=t,this.root=i||on.EMPTY}insert(t,i){return new ye(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hc(this.root,t,this.comparator,!0)}}class Hc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?a(t.key,i):1,i&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,i,a,l,u){this.key=t,this.value=i,this.color=a??on.RED,this.left=l??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,u){return new on(t??this.key,i??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const u=a(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,i,a),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return on.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,i,a,l,u){return this}insert(t,i,a){return new on(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(t){return new W_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Fe(this.comparator);return i.data=t,i}}class W_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xi{constructor(t){this.fields=t,t.sort(un.comparator)}static empty(){return new xi([])}unionWith(t){let i=new Fe(un.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new xi(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return gl(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class r1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new r1("Invalid base64 string: "+u):u}})(t);return new cn(i)}static fromUint8Array(t){const i=(function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u})(t);return new cn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const OC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(n){if($t(!!n,39018),typeof n=="string"){let t=0;const i=OC.exec(n);if($t(!!i,46558,{timestamp:n}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ce(n.seconds),nanos:Ce(n.nanos)}}function Ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wa(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}const a1="server_timestamp",s1="__type__",l1="__previous_value__",o1="__local_write_time__";function ag(n){return(n?.mapValue?.fields||{})[s1]?.stringValue===a1}function Vf(n){const t=n.mapValue.fields[l1];return ag(t)?Vf(t):t}function eu(n){const t=Aa(n.mapValue.fields[o1].timestampValue);return new Xt(t.seconds,t.nanos)}class MC{constructor(t,i,a,l,u,h,m,g,p,E,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E,this.apiKey=b}}const gf="(default)";class nu{constructor(t,i){this.projectId=t,this.database=i||gf}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===gf}isEqual(t){return t instanceof nu&&t.projectId===this.projectId&&t.database===this.database}}function VC(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new mt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(n.options.projectId,t)}const u1="__type__",LC="__max__",Fc={mapValue:{}},c1="__vector__",pf="value";function Ra(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ag(n)?4:zC(n)?9007199254740991:UC(n)?10:11:bt(28295,{value:n})}function er(n,t){if(n===t)return!0;const i=Ra(n);if(i!==Ra(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return eu(n).isEqual(eu(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=Aa(l.timestampValue),m=Aa(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(l,u){return wa(l.bytesValue).isEqual(wa(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(l,u){return Ce(l.geoPointValue.latitude)===Ce(u.geoPointValue.latitude)&&Ce(l.geoPointValue.longitude)===Ce(u.geoPointValue.longitude)})(n,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Ce(l.integerValue)===Ce(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=Ce(l.doubleValue),m=Ce(u.doubleValue);return h===m?mf(h)===mf(m):isNaN(h)&&isNaN(m)}return!1})(n,t);case 9:return gl(n.arrayValue.values||[],t.arrayValue.values||[],er);case 10:case 11:return(function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(J_(h)!==J_(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!er(h[g],m[g])))return!1;return!0})(n,t);default:return bt(52216,{left:n})}}function iu(n,t){return(n.values||[]).find((i=>er(i,t)))!==void 0}function pl(n,t){if(n===t)return 0;const i=Ra(n),a=Ra(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=Ce(u.integerValue||u.doubleValue),g=Ce(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(n,t);case 3:return t0(n.timestampValue,t.timestampValue);case 4:return t0(eu(n),eu(t));case 5:return Am(n.stringValue,t.stringValue);case 6:return(function(u,h){const m=wa(u),g=wa(h);return m.compareTo(g)})(n.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Ut(m[p],g[p]);if(E!==0)return E}return Ut(m.length,g.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=Ut(Ce(u.latitude),Ce(h.latitude));return m!==0?m:Ut(Ce(u.longitude),Ce(h.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return e0(n.arrayValue,t.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[pf]?.arrayValue,E=g[pf]?.arrayValue,b=Ut(p?.values?.length||0,E?.values?.length||0);return b!==0?b:e0(p,E)})(n.mapValue,t.mapValue);case 11:return(function(u,h){if(u===Fc.mapValue&&h===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(h===Fc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const S=Am(g[b],E[b]);if(S!==0)return S;const D=pl(m[g[b]],p[E[b]]);if(D!==0)return D}return Ut(g.length,E.length)})(n.mapValue,t.mapValue);default:throw bt(23264,{he:i})}}function t0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ut(n,t);const i=Aa(n),a=Aa(t),l=Ut(i.seconds,a.seconds);return l!==0?l:Ut(i.nanos,a.nanos)}function e0(n,t){const i=n.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const u=pl(i[l],a[l]);if(u)return u}return Ut(i.length,a.length)}function yl(n){return wm(n)}function wm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const a=Aa(i);return`time(${a.seconds},${a.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return wa(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return vt.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let a="[",l=!0;for(const u of i.values||[])l?l=!1:a+=",",a+=wm(u);return a+"]"})(n.arrayValue):"mapValue"in n?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const h of a)u?u=!1:l+=",",l+=`${h}:${wm(i.fields[h])}`;return l+"}"})(n.mapValue):bt(61005,{value:n})}function Jc(n){switch(Ra(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vf(n);return t?16+Jc(t):16;case 5:return 2*n.stringValue.length;case 6:return wa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+Jc(u)),0)})(n.arrayValue);case 10:case 11:return(function(a){let l=0;return fs(a.fields,((u,h)=>{l+=u.length+Jc(h)})),l})(n.mapValue);default:throw bt(13486,{value:n})}}function Rm(n){return!!n&&"integerValue"in n}function sg(n){return!!n&&"arrayValue"in n}function n0(n){return!!n&&"nullValue"in n}function i0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wc(n){return!!n&&"mapValue"in n}function UC(n){return(n?.mapValue?.fields||{})[u1]?.stringValue===c1}function Ho(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return fs(n.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ho(a))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ho(n.arrayValue.values[i]);return t}return{...n}}function zC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===LC}class yi{constructor(t){this.value=t}static empty(){return new yi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Wc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ho(i)}setAll(t){let i=un.emptyPath(),a={},l=[];t.forEach(((h,m)=>{if(!i.isImmediateParentOf(m)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=m.popLast()}h?a[m.lastSegment()]=Ho(h):l.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,a,l)}delete(t){const i=this.field(t.popLast());Wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return er(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Wc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){fs(i,((l,u)=>t[l]=u));for(const l of a)delete t[l]}clone(){return new yi(Ho(this.value))}}function f1(n){const t=[];return fs(n.fields,((i,a)=>{const l=new un([i]);if(Wc(a)){const u=f1(a.mapValue).fields;if(u.length===0)t.push(l);else for(const h of u)t.push(l.child(h))}else t.push(l)})),new xi(t)}class vn{constructor(t,i,a,l,u,h,m){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new vn(t,0,Tt.min(),Tt.min(),Tt.min(),yi.empty(),0)}static newFoundDocument(t,i,a,l){return new vn(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new vn(t,2,i,Tt.min(),Tt.min(),yi.empty(),0)}static newUnknownDocument(t,i){return new vn(t,3,i,Tt.min(),Tt.min(),yi.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yf{constructor(t,i){this.position=t,this.inclusive=i}}function r0(n,t,i){let a=0;for(let l=0;l<n.position.length;l++){const u=t[l],h=n.position[l];if(u.field.isKeyField()?a=vt.comparator(vt.fromName(h.referenceValue),i.key):a=pl(h,i.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function a0(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!er(n.position[i],t.position[i]))return!1;return!0}class vf{constructor(t,i="asc"){this.field=t,this.dir=i}}function kC(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class h1{}class qe extends h1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new PC(t,i,a):i==="array-contains"?new HC(t,a):i==="in"?new FC(t,a):i==="not-in"?new GC(t,a):i==="array-contains-any"?new YC(t,a):new qe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new jC(t,a):new qC(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(pl(i,this.value)):i!==null&&Ra(this.value)===Ra(i)&&this.matchesComparison(pl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends h1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new nr(t,i)}matches(t){return d1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function d1(n){return n.op==="and"}function m1(n){return BC(n)&&d1(n)}function BC(n){for(const t of n.filters)if(t instanceof nr)return!1;return!0}function Cm(n){if(n instanceof qe)return n.field.canonicalString()+n.op.toString()+yl(n.value);if(m1(n))return n.filters.map((t=>Cm(t))).join(",");{const t=n.filters.map((i=>Cm(i))).join(",");return`${n.op}(${t})`}}function g1(n,t){return n instanceof qe?(function(a,l){return l instanceof qe&&a.op===l.op&&a.field.isEqual(l.field)&&er(a.value,l.value)})(n,t):n instanceof nr?(function(a,l){return l instanceof nr&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,h,m)=>u&&g1(h,l.filters[m])),!0):!1})(n,t):void bt(19439)}function p1(n){return n instanceof qe?(function(i){return`${i.field.canonicalString()} ${i.op} ${yl(i.value)}`})(n):n instanceof nr?(function(i){return i.op.toString()+" {"+i.getFilters().map(p1).join(" ,")+"}"})(n):"Filter"}class PC extends qe{constructor(t,i,a){super(t,i,a),this.key=vt.fromName(a.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class jC extends qe{constructor(t,i){super(t,"in",i),this.keys=y1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class qC extends qe{constructor(t,i){super(t,"not-in",i),this.keys=y1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function y1(n,t){return(t.arrayValue?.values||[]).map((i=>vt.fromName(i.referenceValue)))}class HC extends qe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return sg(i)&&iu(i.arrayValue,this.value)}}class FC extends qe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&iu(this.value.arrayValue,i)}}class GC extends qe{constructor(t,i){super(t,"not-in",i)}matches(t){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!iu(this.value.arrayValue,i)}}class YC extends qe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!sg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>iu(this.value.arrayValue,a)))}}class QC{constructor(t,i=null,a=[],l=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function s0(n,t=null,i=[],a=[],l=null,u=null,h=null){return new QC(n,t,i,a,l,u,h)}function lg(n){const t=At(n);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Cm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Mf(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>yl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>yl(a))).join(",")),t.Te=i}return t.Te}function og(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!kC(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!g1(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!a0(n.startAt,t.startAt)&&a0(n.endAt,t.endAt)}function xm(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Lf{constructor(t,i=null,a=[],l=[],u=null,h="F",m=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function KC(n,t,i,a,l,u,h,m){return new Lf(n,t,i,a,l,u,h,m)}function ug(n){return new Lf(n)}function l0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function XC(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function $C(n){return n.collectionGroup!==null}function Fo(n){const t=At(n);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Fe(un.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new vf(u,a))})),i.has(un.keyField().canonicalString())||t.Ie.push(new vf(un.keyField(),a))}return t.Ie}function Zi(n){const t=At(n);return t.Ee||(t.Ee=ZC(t,Fo(n))),t.Ee}function ZC(n,t){if(n.limitType==="F")return s0(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new vf(l.field,u)}));const i=n.endAt?new yf(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new yf(n.startAt.position,n.startAt.inclusive):null;return s0(n.path,n.collectionGroup,t,n.filters,n.limit,i,a)}}function Dm(n,t,i){return new Lf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function Uf(n,t){return og(Zi(n),Zi(t))&&n.limitType===t.limitType}function v1(n){return`${lg(Zi(n))}|lt:${n.limitType}`}function al(n){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>p1(l))).join(", ")}]`),Mf(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>yl(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>yl(l))).join(",")),`Target(${a})`})(Zi(n))}; limitType=${n.limitType})`}function zf(n,t){return t.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):vt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(n,t)&&(function(a,l){for(const u of Fo(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(n,t)&&(function(a,l){return!(a.startAt&&!(function(h,m,g){const p=r0(h,m,g);return h.inclusive?p<=0:p<0})(a.startAt,Fo(a),l)||a.endAt&&!(function(h,m,g){const p=r0(h,m,g);return h.inclusive?p>=0:p>0})(a.endAt,Fo(a),l))})(n,t)}function JC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _1(n){return(t,i)=>{let a=!1;for(const l of Fo(n)){const u=WC(l,t,i);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function WC(n,t,i){const a=n.field.isKeyField()?vt.comparator(t.key,i.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?pl(g,p):bt(42886)})(n.field,t,i);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return bt(19790,{direction:n.dir})}}class hs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){fs(this.inner,((i,a)=>{for(const[l,u]of a)t(l,u)}))}isEmpty(){return i1(this.inner)}size(){return this.innerSize}}const tx=new ye(vt.comparator);function Or(){return tx}const E1=new ye(vt.comparator);function Uo(...n){let t=E1;for(const i of n)t=t.insert(i.key,i);return t}function b1(n){let t=E1;return n.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function rs(){return Go()}function T1(){return Go()}function Go(){return new hs((n=>n.toString()),((n,t)=>n.isEqual(t)))}const ex=new ye(vt.comparator),nx=new Fe(vt.comparator);function zt(...n){let t=nx;for(const i of n)t=t.add(i);return t}const ix=new Fe(Ut);function rx(){return ix}function cg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(t)?"-0":t}}function S1(n){return{integerValue:""+n}}function ax(n,t){return DC(t)?S1(t):cg(n,t)}class kf{constructor(){this._=void 0}}function sx(n,t,i){return n instanceof _f?(function(l,u){const h={fields:{[s1]:{stringValue:a1},[o1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&ag(u)&&(u=Vf(u)),u&&(h.fields[l1]=u),{mapValue:h}})(i,t):n instanceof ru?w1(n,t):n instanceof au?R1(n,t):(function(l,u){const h=A1(l,u),m=o0(h)+o0(l.Ae);return Rm(h)&&Rm(l.Ae)?S1(m):cg(l.serializer,m)})(n,t)}function lx(n,t,i){return n instanceof ru?w1(n,t):n instanceof au?R1(n,t):i}function A1(n,t){return n instanceof Ef?(function(a){return Rm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(t)?t:{integerValue:0}:null}class _f extends kf{}class ru extends kf{constructor(t){super(),this.elements=t}}function w1(n,t){const i=C1(t);for(const a of n.elements)i.some((l=>er(l,a)))||i.push(a);return{arrayValue:{values:i}}}class au extends kf{constructor(t){super(),this.elements=t}}function R1(n,t){let i=C1(t);for(const a of n.elements)i=i.filter((l=>!er(l,a)));return{arrayValue:{values:i}}}class Ef extends kf{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function o0(n){return Ce(n.integerValue||n.doubleValue)}function C1(n){return sg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ox(n,t){return n.field.isEqual(t.field)&&(function(a,l){return a instanceof ru&&l instanceof ru||a instanceof au&&l instanceof au?gl(a.elements,l.elements,er):a instanceof Ef&&l instanceof Ef?er(a.Ae,l.Ae):a instanceof _f&&l instanceof _f})(n.transform,t.transform)}class ux{constructor(t,i){this.version=t,this.transformResults=i}}class Di{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Di}static exists(t){return new Di(void 0,t)}static updateTime(t){return new Di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function tf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Bf{}function x1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new fg(n.key,Di.none()):new hu(n.key,n.data,Di.none());{const i=n.data,a=yi.empty();let l=new Fe(un.comparator);for(let u of t.fields)if(!l.has(u)){let h=i.field(u);h===null&&u.length>1&&(u=u.popLast(),h=i.field(u)),h===null?a.delete(u):a.set(u,h),l=l.add(u)}return new ds(n.key,a,new xi(l.toArray()),Di.none())}}function cx(n,t,i){n instanceof hu?(function(l,u,h){const m=l.value.clone(),g=c0(l.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(n,t,i):n instanceof ds?(function(l,u,h){if(!tf(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=c0(l.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(D1(l)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(n,t,i):(function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,i)}function Yo(n,t,i,a){return n instanceof hu?(function(u,h,m,g){if(!tf(u.precondition,h))return m;const p=u.value.clone(),E=f0(u.fieldTransforms,g,h);return p.setAll(E),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(n,t,i,a):n instanceof ds?(function(u,h,m,g){if(!tf(u.precondition,h))return m;const p=f0(u.fieldTransforms,g,h),E=h.data;return E.setAll(D1(u)),E.setAll(p),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(n,t,i,a):(function(u,h,m){return tf(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(n,t,i)}function fx(n,t){let i=null;for(const a of n.fieldTransforms){const l=t.data.field(a.field),u=A1(a.transform,l||null);u!=null&&(i===null&&(i=yi.empty()),i.set(a.field,u))}return i||null}function u0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&gl(a,l,((u,h)=>ox(u,h)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class hu extends Bf{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ds extends Bf{constructor(t,i,a,l,u=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function D1(n){const t=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=n.data.field(i);t.set(i,a)}})),t}function c0(n,t,i){const a=new Map;$t(n.length===i.length,32656,{Ve:i.length,de:n.length});for(let l=0;l<i.length;l++){const u=n[l],h=u.transform,m=t.data.field(u.field);a.set(u.field,lx(h,m,i[l]))}return a}function f0(n,t,i){const a=new Map;for(const l of n){const u=l.transform,h=i.data.field(l.field);a.set(l.field,sx(u,h,t))}return a}class fg extends Bf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hx extends Bf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dx{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&cx(u,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Yo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Yo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=T1();return this.mutations.forEach((l=>{const u=t.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=i.has(l.key)?null:m;const g=x1(h,m);g!==null&&a.set(l.key,g),h.isValidDocument()||h.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&gl(this.mutations,t.mutations,((i,a)=>u0(i,a)))&&gl(this.baseMutations,t.baseMutations,((i,a)=>u0(i,a)))}}class hg{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){$t(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return ex})();const u=t.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,a[h].version);return new hg(t,i,a,l)}}class mx{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gx{constructor(t,i){this.count=t,this.unchangedNames=i}}var ze,Ht;function px(n){switch(n){case rt.OK:return bt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return bt(15467,{code:n})}}function N1(n){if(n===void 0)return Nr("GRPC error has no .code"),rt.UNKNOWN;switch(n){case ze.OK:return rt.OK;case ze.CANCELLED:return rt.CANCELLED;case ze.UNKNOWN:return rt.UNKNOWN;case ze.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case ze.INTERNAL:return rt.INTERNAL;case ze.UNAVAILABLE:return rt.UNAVAILABLE;case ze.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case ze.NOT_FOUND:return rt.NOT_FOUND;case ze.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case ze.ABORTED:return rt.ABORTED;case ze.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case ze.DATA_LOSS:return rt.DATA_LOSS;default:return bt(39323,{code:n})}}(Ht=ze||(ze={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function yx(){return new TextEncoder}const vx=new ba([4294967295,4294967295],0);function h0(n){const t=yx().encode(n),i=new YE;return i.update(t),new Uint8Array(i.digest())}function d0(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ba([i,a],0),new ba([l,u],0)]}class dg{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new zo(`Invalid padding: ${i}`);if(a<0)throw new zo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new zo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new zo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ba.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ba.fromNumber(a)));return l.compare(vx)===1&&(l=new ba([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=h0(t),[a,l]=d0(i);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,l,u);if(!this.we(h))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new dg(u,l,i);return a.forEach((m=>h.insert(m))),h}insert(t){if(this.ge===0)return;const i=h0(t),[a,l]=d0(i);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,l,u);this.be(h)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class zo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pf{constructor(t,i,a,l,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,du.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Pf(Tt.min(),l,new ye(Ut),Or(),zt())}}class du{constructor(t,i,a,l,u){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new du(a,i,zt(),zt(),zt())}}class ef{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class I1{constructor(t,i){this.targetId=t,this.Ce=i}}class O1{constructor(t,i,a=cn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class m0{constructor(){this.ve=0,this.Fe=g0(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:bt(38017,{changeType:u})}})),new du(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=g0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class _x{constructor(t){this.Ge=t,this.ze=new Map,this.je=Or(),this.He=Gc(),this.Je=Gc(),this.Ze=new ye(Ut)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const u=l.target;if(xm(u))if(a===0){const h=new vt(u.path);this.et(i,h,vn.newNoDocument(h,Tt.min()))}else $t(a===1,20013,{expectedCount:a});else{const h=this._t(i);if(h!==a){const m=this.ut(t),g=m?this.ct(m,t,h):1;if(g!==0){this.it(i);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,p)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=i;let h,m;try{h=wa(a).toUint8Array()}catch(g){if(g instanceof r1)return ml("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new dg(h,l,u)}catch(g){return ml(g instanceof zo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(i,u,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&xm(m.target)){const g=new vt(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,vn.newNoDocument(g,t))}u.Be&&(i.set(h,u.ke()),u.Ke())}}));let a=zt();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(t)));const l=new Pf(t,i,this.Ze,this.je,a);return this.je=Or(),this.He=Gc(),this.Je=Gc(),this.Ze=new ye(Ut),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new m0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Fe(Ut),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Fe(Ut),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ft("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new m0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Gc(){return new ye(vt.comparator)}function g0(){return new ye(vt.comparator)}const Ex={asc:"ASCENDING",desc:"DESCENDING"},bx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tx={and:"AND",or:"OR"};class Sx{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Nm(n,t){return n.useProto3Json||Mf(t)?t:{value:t}}function bf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function M1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Ax(n,t){return bf(n,t.toTimestamp())}function Ji(n){return $t(!!n,49232),Tt.fromTimestamp((function(i){const a=Aa(i);return new Xt(a.seconds,a.nanos)})(n))}function mg(n,t){return Im(n,t).canonicalString()}function Im(n,t){const i=(function(l){return new ce(["projects",l.projectId,"databases",l.database])})(n).child("documents");return t===void 0?i:i.child(t)}function V1(n){const t=ce.fromString(n);return $t(B1(t),10190,{key:t.toString()}),t}function Om(n,t){return mg(n.databaseId,t.path)}function rm(n,t){const i=V1(t);if(i.get(1)!==n.databaseId.projectId)throw new mt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new mt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new vt(U1(i))}function L1(n,t){return mg(n.databaseId,t)}function wx(n){const t=V1(n);return t.length===4?ce.emptyPath():U1(t)}function Mm(n){return new ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function U1(n){return $t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function p0(n,t,i){return{name:Om(n,t),fields:i.value.mapValue.fields}}function Rx(n,t){let i;if("targetChange"in t){t.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:bt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?($t(E===void 0||typeof E=="string",58123),cn.fromBase64String(E||"")):($t(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),cn.fromUint8Array(E||new Uint8Array))})(n,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(p){const E=p.code===void 0?rt.UNKNOWN:N1(p.code);return new mt(E,p.message||"")})(h);i=new O1(a,l,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=rm(n,a.document.name),u=Ji(a.document.updateTime),h=a.document.createTime?Ji(a.document.createTime):Tt.min(),m=new yi({mapValue:{fields:a.document.fields}}),g=vn.newFoundDocument(l,u,h,m),p=a.targetIds||[],E=a.removedTargetIds||[];i=new ef(p,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=rm(n,a.document),u=a.readTime?Ji(a.readTime):Tt.min(),h=vn.newNoDocument(l,u),m=a.removedTargetIds||[];i=new ef([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=rm(n,a.document),u=a.removedTargetIds||[];i=new ef([],u,l,null)}else{if(!("filter"in t))return bt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,h=new gx(l,u),m=a.targetId;i=new I1(m,h)}}return i}function Cx(n,t){let i;if(t instanceof hu)i={update:p0(n,t.key,t.value)};else if(t instanceof fg)i={delete:Om(n,t.key)};else if(t instanceof ds)i={update:p0(n,t.key,t.data),updateMask:Ux(t.fieldMask)};else{if(!(t instanceof hx))return bt(16599,{dt:t.type});i={verify:Om(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(u,h){const m=h.transform;if(m instanceof _f)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ef)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw bt(20930,{transform:h.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:Ax(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:bt(27497)})(n,t.precondition)),i}function xx(n,t){return n&&n.length>0?($t(t!==void 0,14353),n.map((i=>(function(l,u){let h=l.updateTime?Ji(l.updateTime):Ji(u);return h.isEqual(Tt.min())&&(h=Ji(u)),new ux(h,l.transformResults||[])})(i,t)))):[]}function Dx(n,t){return{documents:[L1(n,t.path)]}}function Nx(n,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=L1(n,l);const u=(function(p){if(p.length!==0)return k1(nr.create(p,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((E=>(function(S){return{field:sl(S.field),direction:Mx(S.dir)}})(E)))})(t.orderBy);h&&(i.structuredQuery.orderBy=h);const m=Nm(n,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:i,parent:l}}function Ix(n){let t=wx(n.parent);const i=n.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){$t(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];i.where&&(u=(function(b){const S=z1(b);return S instanceof nr&&m1(S)?S.getFilters():[S]})(i.where));let h=[];i.orderBy&&(h=(function(b){return b.map((S=>(function(P){return new vf(ll(P.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(S)))})(i.orderBy));let m=null;i.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,Mf(S)?null:S})(i.limit));let g=null;i.startAt&&(g=(function(b){const S=!!b.before,D=b.values||[];return new yf(D,S)})(i.startAt));let p=null;return i.endAt&&(p=(function(b){const S=!b.before,D=b.values||[];return new yf(D,S)})(i.endAt)),KC(t,l,h,u,m,"F",g,p)}function Ox(n,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function z1(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ll(i.unaryFilter.field);return qe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ll(i.unaryFilter.field);return qe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ll(i.unaryFilter.field);return qe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ll(i.unaryFilter.field);return qe.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(n):n.fieldFilter!==void 0?(function(i){return qe.create(ll(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return nr.create(i.compositeFilter.filters.map((a=>z1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(n):bt(30097,{filter:n})}function Mx(n){return Ex[n]}function Vx(n){return bx[n]}function Lx(n){return Tx[n]}function sl(n){return{fieldPath:n.canonicalString()}}function ll(n){return un.fromServerFormat(n.fieldPath)}function k1(n){return n instanceof qe?(function(i){if(i.op==="=="){if(i0(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NAN"}};if(n0(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(i0(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NOT_NAN"}};if(n0(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(i.field),op:Vx(i.op),value:i.value}}})(n):n instanceof nr?(function(i){const a=i.getFilters().map((l=>k1(l)));return a.length===1?a[0]:{compositeFilter:{op:Lx(i.op),filters:a}}})(n):bt(54877,{filter:n})}function Ux(n){const t=[];return n.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function B1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function P1(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class ya{constructor(t,i,a,l,u=Tt.min(),h=Tt.min(),m=cn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new ya(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class zx{constructor(t){this.yt=t}}function kx(n){const t=Ix({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Dm(t,t.limit,"L"):t}class Bx{constructor(){this.Sn=new Px}addToCollectionParentIndex(t,i){return this.Sn.add(i),nt.resolve()}getCollectionParents(t,i){return nt.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return nt.resolve()}deleteFieldIndex(t,i){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,i){return nt.resolve()}getDocumentsMatchingTarget(t,i){return nt.resolve(null)}getIndexType(t,i){return nt.resolve(0)}getFieldIndexes(t,i){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,i){return nt.resolve(Sa.min())}getMinOffsetFromCollectionGroup(t,i){return nt.resolve(Sa.min())}updateCollectionGroup(t,i,a){return nt.resolve()}updateIndexEntries(t,i){return nt.resolve()}}class Px{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Fe(ce.comparator),u=!l.has(a);return this.index[i]=l.add(a),u}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Fe(ce.comparator)).toArray()}}const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j1=41943040;class Ln{static withCacheSize(t){return new Ln(t,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(j1,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class vl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new vl(0)}static ar(){return new vl(-1)}}const v0="LruGarbageCollector",jx=1048576;function _0([n,t],[i,a]){const l=Ut(n,i);return l===0?Ut(t,a):l}class qx{constructor(t){this.Pr=t,this.buffer=new Fe(_0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();_0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Hx{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ft(v0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wl(i)?ft(v0,"Ignoring IndexedDB error during garbage collection: ",i):await Al(i)}await this.Ar(3e5)}))}}class Fx{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return nt.resolve(Of.ce);const a=new qx(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(y0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,u,h,m,g,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,h=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,m=Date.now(),this.removeTargets(t,a,i)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(p=Date.now(),rl()<=Ft.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b}))))}}function Gx(n,t){return new Fx(n,t)}class Yx{constructor(){this.changes=new hs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,vn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?nt.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Qx{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Kx{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Yo(a.mutation,l,xi.empty(),Xt.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=rs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((u=>{let h=Uo();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(t,i){const a=rs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((h,m)=>{i.set(h,m)}))}))}computeViews(t,i,a,l){let u=Or();const h=Go(),m=(function(){return Go()})();return i.forEach(((g,p)=>{const E=a.get(p.key);l.has(p.key)&&(E===void 0||E.mutation instanceof ds)?u=u.insert(p.key,p):E!==void 0?(h.set(p.key,E.mutation.getFieldMask()),Yo(E.mutation,p,E.mutation.getFieldMask(),Xt.now())):h.set(p.key,xi.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((p,E)=>h.set(p,E))),i.forEach(((p,E)=>m.set(p,new Qx(E,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(t,i){const a=Go();let l=new ye(((h,m)=>h-m)),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=i.get(g);if(p===null)return;let E=a.get(g)||xi.empty();E=m.applyToLocalView(p,E),a.set(g,E);const b=(l.get(m.batchId)||zt()).add(g);l=l.insert(m.batchId,b)}))})).next((()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,b=T1();E.forEach((S=>{if(!u.has(S)){const D=x1(i.get(S),a.get(S));D!==null&&b.set(S,D),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(t,p,b))}return nt.waitFor(h)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return XC(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):$C(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-u.size):nt.resolve(rs());let m=tu,g=u;return h.next((p=>nt.forEach(p,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?nt.resolve():this.remoteDocumentCache.getEntry(t,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,g,p,zt()))).next((E=>({batchId:m,changes:b1(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next((a=>{let l=Uo();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const u=i.collectionGroup;let h=Uo();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(g=>{const p=(function(b,S){return new Lf(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,a,l).next((E=>{E.forEach(((b,S)=>{h=h.insert(b,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,u,l)))).next((h=>{u.forEach(((g,p)=>{const E=p.getKey();h.get(E)===null&&(h=h.insert(E,vn.newInvalidDocument(E)))}));let m=Uo();return h.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&Yo(E.mutation,p,xi.empty(),Xt.now()),zf(i,p)&&(m=m.insert(g,p))})),m}))}}class Xx{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return nt.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ji(l.createTime)}})(i)),nt.resolve()}getNamedQuery(t,i){return nt.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:kx(l.bundledQuery),readTime:Ji(l.readTime)}})(i)),nt.resolve()}}class $x{constructor(){this.overlays=new ye(vt.comparator),this.Lr=new Map}getOverlay(t,i){return nt.resolve(this.overlays.get(i))}getOverlays(t,i){const a=rs();return nt.forEach(i,(l=>this.getOverlay(t,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,u)=>{this.bt(t,i,u)})),nt.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(a)),nt.resolve()}getOverlaysForCollection(t,i,a){const l=rs(),u=i.length+1,h=new vt(i.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>a&&l.set(g.getKey(),g)}return nt.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let u=new ye(((p,E)=>p-E));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>a){let E=u.get(p.largestBatchId);E===null&&(E=rs(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=rs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=l)););return nt.resolve(m)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const h=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new mx(i,a));let u=this.Lr.get(i);u===void 0&&(u=zt(),this.Lr.set(i,u)),this.Lr.set(i,u.add(a.key))}}class Zx{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,nt.resolve()}}class gg{constructor(){this.kr=new Fe(Je.Kr),this.qr=new Fe(Je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Je(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Je(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new vt(new ce([])),a=new Je(i,t),l=new Je(i,t+1),u=[];return this.qr.forEachInRange([a,l],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new vt(new ce([])),a=new Je(i,t),l=new Je(i,t+1);let u=zt();return this.qr.forEachInRange([a,l],(h=>{u=u.add(h.key)})),u}containsKey(t){const i=new Je(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Je{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return vt.comparator(t.key,i.key)||Ut(t.Hr,i.Hr)}static Ur(t,i){return Ut(t.Hr,i.Hr)||vt.comparator(t.key,i.key)}}class Jx{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Fe(Je.Kr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new dx(u,i,a,l);this.mutationQueue.push(h);for(const m of l)this.Jr=this.Jr.add(new Je(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(h)}lookupMutationBatch(t,i){return nt.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),u=l<0?0:l;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?rg:this.Yn-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Je(i,0),l=new Je(i,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([a,l],(h=>{const m=this.Zr(h.Hr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Fe(Ut);return i.forEach((l=>{const u=new Je(l,0),h=new Je(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{a=a.add(m.Hr)}))})),nt.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let u=a;vt.isDocumentKey(u)||(u=u.child(""));const h=new Je(new vt(u),0);let m=new Fe(Ut);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!a.isPrefixOf(p)&&(p.length===l&&(m=m.add(g.Hr)),!0)}),h),nt.resolve(this.Yr(m))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){$t(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return nt.forEach(i.mutations,(l=>{const u=new Je(l.key,i.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Je(i,0),l=this.Jr.firstAfterOrEqual(a);return nt.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Wx{constructor(t){this.ti=t,this.docs=(function(){return new ye(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),u=l?l.size:0,h=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return nt.resolve(a?a.document.mutableCopy():vn.newInvalidDocument(i))}getEntries(t,i){let a=Or();return i.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():vn.newInvalidDocument(l))})),nt.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let u=Or();const h=i.path,m=new vt(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||wC(AC(E),a)<=0||(l.has(E.key)||zf(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,i,a,l){bt(9500)}ni(t,i){return nt.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new tD(this)}getSize(t){return nt.resolve(this.size)}}class tD extends Yx{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),nt.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class eD{constructor(t){this.persistence=t,this.ri=new hs((i=>lg(i)),og),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new gg,this.targetCount=0,this.oi=vl._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),nt.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new vl(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,nt.resolve()}updateTargetData(t,i){return this.lr(i),nt.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,i,a){let l=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=i&&a.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)})),nt.waitFor(u).next((()=>l))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return nt.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),nt.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((h=>{u.push(l.markPotentiallyOrphaned(t,h))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),nt.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return nt.resolve(a)}containsKey(t,i){return nt.resolve(this.si.containsKey(i))}}class q1{constructor(t,i){this._i={},this.overlays={},this.ai=new Of(0),this.ui=!1,this.ui=!0,this.ci=new Zx,this.referenceDelegate=t(this),this.li=new eD(this),this.indexManager=new Bx,this.remoteDocumentCache=(function(l){return new Wx(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new zx(i),this.Pi=new Xx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new $x,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new Jx(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){ft("MemoryPersistence","Starting transaction:",t);const l=new nD(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(t,i){return nt.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class nD extends CC{constructor(t){super(),this.currentSequenceNumber=t}}class pg{constructor(t){this.persistence=t,this.Ri=new gg,this.Ai=null}static Vi(t){return new pg(t)}get di(){if(this.Ai)return this.Ai;throw bt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),nt.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),nt.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),nt.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(a=>{const l=vt.fromPath(a);return this.mi(t,l).next((u=>{u||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return nt.or([()=>nt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Tf{constructor(t,i){this.persistence=t,this.fi=new hs((a=>NC(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Gx(this,i)}static Vi(t,i){return new Tf(t,i)}Ti(){}Ii(t){return nt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return nt.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((u=>u?nt.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(t,(h=>this.wr(t,h,i).next((m=>{m||(a++,u.removeEntry(h,Tt.min()))})))).next((()=>u.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),nt.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),nt.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),nt.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Jc(t.data.value)),i}wr(t,i,a){return nt.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return nt.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class yg{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=zt(),l=zt();for(const u of i.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new yg(t,i.fromCache,a,l)}}class iD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class rD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return X2()?8:xC(Q2())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const u={result:null};return this.gs(t,i).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(t,i,l,a).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new iD;return this.ys(t,i,h).next((m=>{if(u.result=m,this.As)return this.ws(t,i,h,m.size)}))})).next((()=>u.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(rl()<=Ft.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",al(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(rl()<=Ft.DEBUG&&ft("QueryEngine","Query:",al(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(rl()<=Ft.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",al(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zi(i))):nt.resolve())}gs(t,i){if(l0(i))return nt.resolve(null);let a=Zi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Dm(i,null,"F"),a=Zi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((u=>{const h=zt(...u);return this.fs.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,a).next((g=>{const p=this.bs(i,m);return this.Ss(i,p,h,g.readTime)?this.gs(t,Dm(i,null,"F")):this.Ds(t,p,i,g)}))))})))))}ps(t,i,a,l){return l0(i)||l.isEqual(Tt.min())?nt.resolve(null):this.fs.getDocuments(t,a).next((u=>{const h=this.bs(i,u);return this.Ss(i,h,a,l)?nt.resolve(null):(rl()<=Ft.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),al(i)),this.Ds(t,h,i,SC(l,tu)).next((m=>m)))}))}bs(t,i){let a=new Fe(_1(t));return i.forEach(((l,u)=>{zf(t,u)&&(a=a.add(u))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(t,i,a){return rl()<=Ft.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",al(i)),this.fs.getDocumentsMatchingQuery(t,i,Sa.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((u=>(i.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const vg="LocalStore",aD=3e8;class sD{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ye(Ut),this.Fs=new hs((u=>lg(u)),og),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Kx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function lD(n,t,i,a){return new sD(n,t,i,a)}async function H1(n,t){const i=At(n);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((u=>{const h=[],m=[];let g=zt();for(const p of l){h.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(a,g).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function oD(n,t){const i=At(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),u=i.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const b=p.batch,S=b.keys();let D=nt.resolve();return S.forEach((P=>{D=D.next((()=>E.getEntry(g,P))).next((z=>{const U=p.docVersions.get(P);$t(U!==null,48541),z.version.compareTo(U)<0&&(b.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),E.addEntry(z)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(i,a,t,u).next((()=>u.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let g=zt();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function F1(n){const t=At(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function uD(n,t){const i=At(n),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const m=[];t.targetChanges.forEach(((E,b)=>{const S=l.get(b);if(!S)return;m.push(i.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>i.li.addMatchingKeys(u,E.addedDocuments,b))));let D=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?D=D.withResumeToken(cn.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,a)),l=l.insert(b,D),(function(z,U,K){return z.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=aD?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(S,D,E)&&m.push(i.li.updateTargetData(u,D))}));let g=Or(),p=zt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(cD(u,h,t.documentUpdates).next((E=>{g=E.Bs,p=E.Ls}))),!a.isEqual(Tt.min())){const E=i.li.getLastRemoteSnapshotVersion(u).next((b=>i.li.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return nt.waitFor(m).next((()=>h.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(i.vs=l,u)))}function cD(n,t,i){let a=zt(),l=zt();return i.forEach((u=>a=a.add(u))),t.getEntries(n,a).next((u=>{let h=Or();return i.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(Tt.min())?(t.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(g),h=h.insert(m,g)):ft(vg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:h,Ls:l}}))}function fD(n,t){const i=At(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=rg),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function hD(n,t){const i=At(n);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((u=>u?(l=u,nt.resolve(l)):i.li.allocateTargetId(a).next((h=>(l=new ya(t,h,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function Vm(n,t,i){const a=At(n),l=a.vs.get(t),u=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",u,(h=>a.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!wl(h))throw h;ft(vg,`Failed to update sequence numbers for target ${t}: ${h}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function E0(n,t,i){const a=At(n);let l=Tt.min(),u=zt();return a.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,E){const b=At(g),S=b.Fs.get(E);return S!==void 0?nt.resolve(b.vs.get(S)):b.li.getTargetData(p,E)})(a,h,Zi(t)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>a.Cs.getDocumentsMatchingQuery(h,t,i?l:Tt.min(),i?u:zt()))).next((m=>(dD(a,JC(t),m),{documents:m,ks:u})))))}function dD(n,t,i){let a=n.Ms.get(t)||Tt.min();i.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),n.Ms.set(t,a)}class b0{constructor(){this.activeTargetIds=rx()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class mD{constructor(){this.vo=new b0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new b0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class gD{Mo(t){}shutdown(){}}const T0="ConnectivityMonitor";class S0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ft(T0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ft(T0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yc=null;function Lm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}const am="RestConnection",pD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class yD{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===gf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,u){const h=Lm(),m=this.Qo(t,i.toUriEncodedString());ft(am,`Sending RPC '${t}' ${h}:`,m,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,u);const{host:p}=new URL(m),E=cu(p);return this.zo(t,m,g,a,E).then((b=>(ft(am,`Received RPC '${t}' ${h}: `,b),b)),(b=>{throw ml(am,`RPC '${t}' ${h} failed with error: `,b,"url: ",m,"request:",a),b}))}jo(t,i,a,l,u,h){return this.Wo(t,i,a,l,u)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>t[u]=l)),a&&a.headers.forEach(((l,u)=>t[u]=l))}Qo(t,i){const a=pD[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class vD{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const pn="WebChannelConnection",Do=(n,t,i)=>{n.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class cl extends yD{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!cl.c_){const t=$E();Do(t,XE.STAT_EVENT,(i=>{i.stat===Sm.PROXY?ft(pn,"STAT_EVENT: detected buffering proxy"):i.stat===Sm.NOPROXY&&ft(pn,"STAT_EVENT: detected no buffering proxy")})),cl.c_=!0}}zo(t,i,a,l,u){const h=Lm();return new Promise(((m,g)=>{const p=new QE;p.setWithCredentials(!0),p.listenOnce(KE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Zc.NO_ERROR:const b=p.getResponseJson();ft(pn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(b)),m(b);break;case Zc.TIMEOUT:ft(pn,`RPC '${t}' ${h} timed out`),g(new mt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const S=p.getStatus();if(ft(pn,`RPC '${t}' ${h} failed with status:`,S,"response text:",p.getResponseText()),S>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const P=D?.error;if(P&&P.status&&P.message){const z=(function(K){const X=K.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(X)>=0?X:rt.UNKNOWN})(P.status);g(new mt(z,P.message))}else g(new mt(rt.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new mt(rt.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ft(pn,`RPC '${t}' ${h} completed.`)}}));const E=JSON.stringify(l);ft(pn,`RPC '${t}' ${h} sending request:`,l),p.send(i,"POST",E,a,15)}))}T_(t,i,a){const l=Lm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,i,a),m.encodeInitMessageHeaders=!0;const p=u.join("");ft(pn,`Creating RPC '${t}' stream ${l}: ${p}`,m);const E=h.createWebChannel(p,m);this.I_(E);let b=!1,S=!1;const D=new vD({Ho:P=>{S?ft(pn,`Not sending because RPC '${t}' stream ${l} is closed:`,P):(b||(ft(pn,`Opening RPC '${t}' stream ${l} transport.`),E.open(),b=!0),ft(pn,`RPC '${t}' stream ${l} sending:`,P),E.send(P))},Jo:()=>E.close()});return Do(E,Lo.EventType.OPEN,(()=>{S||(ft(pn,`RPC '${t}' stream ${l} transport opened.`),D.i_())})),Do(E,Lo.EventType.CLOSE,(()=>{S||(S=!0,ft(pn,`RPC '${t}' stream ${l} transport closed`),D.o_(),this.E_(E))})),Do(E,Lo.EventType.ERROR,(P=>{S||(S=!0,ml(pn,`RPC '${t}' stream ${l} transport errored. Name:`,P.name,"Message:",P.message),D.o_(new mt(rt.UNAVAILABLE,"The operation could not be completed")))})),Do(E,Lo.EventType.MESSAGE,(P=>{if(!S){const z=P.data[0];$t(!!z,16349);const U=z,K=U?.error||U[0]?.error;if(K){ft(pn,`RPC '${t}' stream ${l} received error:`,K);const X=K.status;let $=(function(st){const R=ze[st];if(R!==void 0)return N1(R)})(X),it=K.message;$===void 0&&($=rt.INTERNAL,it="Unknown error status: "+X+" with message "+K.message),S=!0,D.o_(new mt($,it)),E.close()}else ft(pn,`RPC '${t}' stream ${l} received:`,z),D.__(z)}})),cl.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ZE()}}function _D(n){return new cl(n)}function sm(){return typeof document<"u"?document:null}function jf(n){return new Sx(n,!0)}cl.c_=!1;class G1{constructor(t,i,a=1e3,l=1.5,u=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ft("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const A0="PersistentStream";class Y1{constructor(t,i,a,l,u,h,m,g){this.Ci=t,this.b_=a,this.S_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===rt.RESOURCE_EXHAUSTED?(Nr(i.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new mt(rt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(A0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ft(A0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ED extends Y1{constructor(t,i,a,l,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,h),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Rx(this.serializer,t),a=(function(u){if(!("targetChange"in u))return Tt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Tt.min():h.readTime?Ji(h.readTime):Tt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=Mm(this.serializer),i.addTarget=(function(u,h){let m;const g=h.target;if(m=xm(g)?{documents:Dx(u,g)}:{query:Nx(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=M1(u,h.resumeToken);const p=Nm(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Tt.min())>0){m.readTime=bf(u,h.snapshotVersion.toTimestamp());const p=Nm(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,t);const a=Ox(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=Mm(this.serializer),i.removeTarget=t,this.K_(i)}}class bD extends Y1{constructor(t,i,a,l,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=xx(t.writeResults,t.commitTime),a=Ji(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Mm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Cx(this.serializer,a)))};this.K_(i)}}class TD{}class SD extends TD{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new mt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(t,Im(i,a),l,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt(rt.UNKNOWN,u.toString())}))}jo(t,i,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(t,Im(i,a),l,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new mt(rt.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function AD(n,t,i,a){return new SD(n,t,i,a)}class wD{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nr(i),this.aa=!1):ft("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const os="RemoteStore";class RD{constructor(t,i,a,l,u){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{a.enqueueAndForget((async()=>{ms(this)&&(ft(os,"Restarting streams for network reachability change."),await(async function(g){const p=At(g);p.Ea.add(4),await mu(p),p.Va.set("Unknown"),p.Ea.delete(4),await qf(p)})(this))}))})),this.Va=new wD(a,l)}}async function qf(n){if(ms(n))for(const t of n.Ra)await t(!0)}async function mu(n){for(const t of n.Ra)await t(!1)}function Q1(n,t){const i=At(n);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Tg(i)?bg(i):Rl(i).O_()&&Eg(i,t))}function _g(n,t){const i=At(n),a=Rl(i);i.Ia.delete(t),a.O_()&&K1(i,t),i.Ia.size===0&&(a.O_()?a.L_():ms(i)&&i.Va.set("Unknown"))}function Eg(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Rl(n).Z_(t)}function K1(n,t){n.da.$e(t),Rl(n).X_(t)}function bg(n){n.da=new _x({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Rl(n).start(),n.Va.ua()}function Tg(n){return ms(n)&&!Rl(n).x_()&&n.Ia.size>0}function ms(n){return At(n).Ea.size===0}function X1(n){n.da=void 0}async function CD(n){n.Va.set("Online")}async function xD(n){n.Ia.forEach(((t,i)=>{Eg(n,t)}))}async function DD(n,t){X1(n),Tg(n)?(n.Va.ha(t),bg(n)):n.Va.set("Unknown")}async function ND(n,t,i){if(n.Va.set("Online"),t instanceof O1&&t.state===2&&t.cause)try{await(async function(l,u){const h=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.Ia.delete(m),l.da.removeTarget(m))})(n,t)}catch(a){ft(os,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Sf(n,a)}else if(t instanceof ef?n.da.Xe(t):t instanceof I1?n.da.st(t):n.da.tt(t),!i.isEqual(Tt.min()))try{const a=await F1(n.localStore);i.compareTo(a)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(cn.EMPTY_BYTE_STRING,E.snapshotVersion)),K1(u,g);const b=new ya(E.target,g,p,E.sequenceNumber);Eg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(n,i)}catch(a){ft(os,"Failed to raise snapshot:",a),await Sf(n,a)}}async function Sf(n,t,i){if(!wl(t))throw t;n.Ea.add(1),await mu(n),n.Va.set("Offline"),i||(i=()=>F1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ft(os,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await qf(n)}))}function $1(n,t){return t().catch((i=>Sf(n,i,t)))}async function Hf(n){const t=At(n),i=Ca(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:rg;for(;ID(t);)try{const l=await fD(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,OD(t,l)}catch(l){await Sf(t,l)}Z1(t)&&J1(t)}function ID(n){return ms(n)&&n.Ta.length<10}function OD(n,t){n.Ta.push(t);const i=Ca(n);i.O_()&&i.Y_&&i.ea(t.mutations)}function Z1(n){return ms(n)&&!Ca(n).x_()&&n.Ta.length>0}function J1(n){Ca(n).start()}async function MD(n){Ca(n).ra()}async function VD(n){const t=Ca(n);for(const i of n.Ta)t.ea(i.mutations)}async function LD(n,t,i){const a=n.Ta.shift(),l=hg.from(a,t,i);await $1(n,(()=>n.remoteSyncer.applySuccessfulWrite(l))),await Hf(n)}async function UD(n,t){t&&Ca(n).Y_&&await(async function(a,l){if((function(h){return px(h)&&h!==rt.ABORTED})(l.code)){const u=a.Ta.shift();Ca(a).B_(),await $1(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Hf(a)}})(n,t),Z1(n)&&J1(n)}async function w0(n,t){const i=At(n);i.asyncQueue.verifyOperationInProgress(),ft(os,"RemoteStore received new credentials");const a=ms(i);i.Ea.add(3),await mu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await qf(i)}async function zD(n,t){const i=At(n);t?(i.Ea.delete(2),await qf(i)):t||(i.Ea.add(2),await mu(i),i.Va.set("Unknown"))}function Rl(n){return n.ma||(n.ma=(function(i,a,l){const u=At(i);return u.sa(),new ED(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(n.datastore,n.asyncQueue,{Zo:CD.bind(null,n),Yo:xD.bind(null,n),t_:DD.bind(null,n),J_:ND.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),Tg(n)?bg(n):n.Va.set("Unknown")):(await n.ma.stop(),X1(n))}))),n.ma}function Ca(n){return n.fa||(n.fa=(function(i,a,l){const u=At(i);return u.sa(),new bD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:MD.bind(null,n),t_:UD.bind(null,n),ta:VD.bind(null,n),na:LD.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await Hf(n)):(await n.fa.stop(),n.Ta.length>0&&(ft(os,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Sg{constructor(t,i,a,l,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,u){const h=Date.now()+a,m=new Sg(t,i,h,l,u);return m.start(a),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(n,t){if(Nr("AsyncQueue",`${t}: ${n}`),wl(n))return new mt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}class fl{static emptySet(t){return new fl(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||vt.comparator(i.key,a.key):(i,a)=>vt.comparator(i.key,a.key),this.keyedMap=Uo(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof fl)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new fl;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class R0{constructor(){this.ga=new ye(vt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):bt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class _l{constructor(t,i,a,l,u,h,m,g,p){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(t,i,a,l,u){const h=[];return i.forEach((m=>{h.push({type:0,doc:m})})),new _l(t,i,fl.emptySet(i),h,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class kD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class BD{constructor(){this.queries=C0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),u=l.queries;l.queries=C0(),u.forEach(((h,m)=>{for(const g of m.ba)g.onError(a)}))})(this,new mt(rt.ABORTED,"Firestore shutting down"))}}function C0(){return new hs((n=>v1(n)),Uf)}async function W1(n,t){const i=At(n);let a=3;const l=t.query;let u=i.queries.get(l);u?!u.Sa()&&t.Da()&&(a=2):(u=new kD,a=t.Da()?0:1);try{switch(a){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(h){const m=Ag(h,`Initialization of query '${al(t.query)}' failed`);return void t.onError(m)}i.queries.set(l,u),u.ba.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&wg(i)}async function tb(n,t){const i=At(n),a=t.query;let l=3;const u=i.queries.get(a);if(u){const h=u.ba.indexOf(t);h>=0&&(u.ba.splice(h,1),u.ba.length===0?l=t.Da()?0:1:!u.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function PD(n,t){const i=At(n);let a=!1;for(const l of t){const u=l.query,h=i.queries.get(u);if(h){for(const m of h.ba)m.Fa(l)&&(a=!0);h.wa=l}}a&&wg(i)}function jD(n,t,i){const a=At(n),l=a.queries.get(t);if(l)for(const u of l.ba)u.onError(i);a.queries.delete(t)}function wg(n){n.Ca.forEach((t=>{t.next()}))}var Um,x0;(x0=Um||(Um={})).Ma="default",x0.Cache="cache";class eb{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new _l(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=_l.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Um.Cache}}class nb{constructor(t){this.key=t}}class ib{constructor(t){this.key=t}}class qD{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=_1(t),this.tu=new fl(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new R0,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,h=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,b)=>{const S=l.get(E),D=zf(this.query,b)?b:null,P=!!S&&this.mutatedKeys.has(S.key),z=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;S&&D?S.data.isEqual(D.data)?P!==z&&(a.track({type:3,doc:D}),U=!0):this.su(S,D)||(a.track({type:2,doc:D}),U=!0,(g&&this.eu(D,g)>0||p&&this.eu(D,p)<0)&&(m=!0)):!S&&D?(a.track({type:0,doc:D}),U=!0):S&&!D&&(a.track({type:1,doc:S}),U=!0,(g||p)&&(m=!0)),U&&(D?(h=h.add(D),u=z?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:h,iu:a,Ss:m,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort(((E,b)=>(function(D,P){const z=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Vt:U})}};return z(D)-z(P)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(a),l=l??!1;const m=i&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,p=g!==this.Xa;return this.Xa=g,h.length!==0||p?{snapshot:new _l(this.query,t.tu,u,h,t.mutatedKeys,g===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new ib(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new nb(a))})),i}cu(t){this.Za=t.ks,this.Ya=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Rg="SyncEngine";class HD{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class FD{constructor(t){this.key=t,this.hu=!1}}class GD{constructor(t,i,a,l,u,h){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new hs((m=>v1(m)),Uf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ye(vt.comparator),this.Au=new Map,this.Vu=new gg,this.du={},this.mu=new Map,this.fu=vl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YD(n,t,i=!0){const a=ub(n);let l;const u=a.Tu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await rb(a,t,i,!0),l}async function QD(n,t){const i=ub(n);await rb(i,t,!0,!1)}async function rb(n,t,i,a){const l=await hD(n.localStore,Zi(t)),u=l.targetId,h=n.sharedClientState.addLocalQueryTarget(u,i);let m;return a&&(m=await KD(n,t,u,h==="current",l.resumeToken)),n.isPrimaryClient&&i&&Q1(n.remoteStore,l),m}async function KD(n,t,i,a,l){n.pu=(b,S,D)=>(async function(z,U,K,X){let $=U.view.ru(K);$.Ss&&($=await E0(z.localStore,U.query,!1).then((({documents:R})=>U.view.ru(R,$))));const it=X&&X.targetChanges.get(U.targetId),at=X&&X.targetMismatches.get(U.targetId)!=null,st=U.view.applyChanges($,z.isPrimaryClient,it,at);return N0(z,U.targetId,st.au),st.snapshot})(n,b,S,D);const u=await E0(n.localStore,t,!0),h=new qD(t,u.ks),m=h.ru(u.documents),g=du.createSynthesizedTargetChangeForCurrentChange(i,a&&n.onlineState!=="Offline",l),p=h.applyChanges(m,n.isPrimaryClient,g);N0(n,i,p.au);const E=new HD(t,i,h);return n.Tu.set(t,E),n.Iu.has(i)?n.Iu.get(i).push(t):n.Iu.set(i,[t]),p.snapshot}async function XD(n,t,i){const a=At(n),l=a.Tu.get(t),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((h=>!Uf(h,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Vm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&_g(a.remoteStore,l.targetId),zm(a,l.targetId)})).catch(Al)):(zm(a,l.targetId),await Vm(a.localStore,l.targetId,!0))}async function $D(n,t){const i=At(n),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),_g(i.remoteStore,a.targetId))}async function ZD(n,t,i){const a=r4(n);try{const l=await(function(h,m){const g=At(h),p=Xt.now(),E=m.reduce(((D,P)=>D.add(P.key)),zt());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let P=Or(),z=zt();return g.xs.getEntries(D,E).next((U=>{P=U,P.forEach(((K,X)=>{X.isValidDocument()||(z=z.add(K))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,P))).next((U=>{b=U;const K=[];for(const X of m){const $=fx(X,b.get(X.key).overlayedDocument);$!=null&&K.push(new ds(X.key,$,f1($.value.mapValue),Di.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,K,m)})).next((U=>{S=U;const K=U.applyToLocalDocumentSet(b,z);return g.documentOverlayCache.saveOverlays(D,U.batchId,K)}))})).then((()=>({batchId:S.batchId,changes:b1(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(h,m,g){let p=h.du[h.currentUser.toKey()];p||(p=new ye(Ut)),p=p.insert(m,g),h.du[h.currentUser.toKey()]=p})(a,l.batchId,i),await gu(a,l.changes),await Hf(a.remoteStore)}catch(l){const u=Ag(l,"Failed to persist write");i.reject(u)}}async function ab(n,t){const i=At(n);try{const a=await uD(i.localStore,t);t.targetChanges.forEach(((l,u)=>{const h=i.Au.get(u);h&&($t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?$t(h.hu,14607):l.removedDocuments.size>0&&($t(h.hu,42227),h.hu=!1))})),await gu(i,a,t)}catch(a){await Al(a)}}function D0(n,t,i){const a=At(n);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&l.push(m.snapshot)})),(function(h,m){const g=At(h);g.onlineState=m;let p=!1;g.queries.forEach(((E,b)=>{for(const S of b.ba)S.va(m)&&(p=!0)})),p&&wg(g)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function JD(n,t,i){const a=At(n);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),u=l&&l.key;if(u){let h=new ye(vt.comparator);h=h.insert(u,vn.newNoDocument(u,Tt.min()));const m=zt().add(u),g=new Pf(Tt.min(),new Map,new ye(Ut),h,m);await ab(a,g),a.Ru=a.Ru.remove(u),a.Au.delete(t),Cg(a)}else await Vm(a.localStore,t,!1).then((()=>zm(a,t,i))).catch(Al)}async function WD(n,t){const i=At(n),a=t.batch.batchId;try{const l=await oD(i.localStore,t);lb(i,a,null),sb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await gu(i,l)}catch(l){await Al(l)}}async function t4(n,t,i){const a=At(n);try{const l=await(function(h,m){const g=At(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>($t(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(a.localStore,t);lb(a,t,i),sb(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await gu(a,l)}catch(l){await Al(l)}}function sb(n,t){(n.mu.get(t)||[]).forEach((i=>{i.resolve()})),n.mu.delete(t)}function lb(n,t,i){const a=At(n);let l=a.du[a.currentUser.toKey()];if(l){const u=l.get(t);u&&(i?u.reject(i):u.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function zm(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const a of n.Iu.get(t))n.Tu.delete(a),i&&n.Pu.yu(a,i);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((a=>{n.Vu.containsKey(a)||ob(n,a)}))}function ob(n,t){n.Eu.delete(t.path.canonicalString());const i=n.Ru.get(t);i!==null&&(_g(n.remoteStore,i),n.Ru=n.Ru.remove(t),n.Au.delete(i),Cg(n))}function N0(n,t,i){for(const a of i)a instanceof nb?(n.Vu.addReference(a.key,t),e4(n,a)):a instanceof ib?(ft(Rg,"Document no longer in limbo: "+a.key),n.Vu.removeReference(a.key,t),n.Vu.containsKey(a.key)||ob(n,a.key)):bt(19791,{wu:a})}function e4(n,t){const i=t.key,a=i.path.canonicalString();n.Ru.get(i)||n.Eu.has(a)||(ft(Rg,"New document in limbo: "+i),n.Eu.add(a),Cg(n))}function Cg(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const i=new vt(ce.fromString(t)),a=n.fu.next();n.Au.set(a,new FD(i)),n.Ru=n.Ru.insert(i,a),Q1(n.remoteStore,new ya(Zi(ug(i.path)),a,"TargetPurposeLimboResolution",Of.ce))}}async function gu(n,t,i){const a=At(n),l=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,g)=>{h.push(a.pu(g,t,i).then((p=>{if((p||i)&&a.isPrimaryClient){const E=p?!p.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){l.push(p);const E=yg.Es(g.targetId,p);u.push(E)}})))})),await Promise.all(h),a.Pu.J_(l),await(async function(g,p){const E=At(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>nt.forEach(p,(S=>nt.forEach(S.Ts,(D=>E.persistence.referenceDelegate.addReference(b,S.targetId,D))).next((()=>nt.forEach(S.Is,(D=>E.persistence.referenceDelegate.removeReference(b,S.targetId,D)))))))))}catch(b){if(!wl(b))throw b;ft(vg,"Failed to update sequence numbers: "+b)}for(const b of p){const S=b.targetId;if(!b.fromCache){const D=E.vs.get(S),P=D.snapshotVersion,z=D.withLastLimboFreeSnapshotVersion(P);E.vs=E.vs.insert(S,z)}}})(a.localStore,u))}async function n4(n,t){const i=At(n);if(!i.currentUser.isEqual(t)){ft(Rg,"User change. New user:",t.toKey());const a=await H1(i.localStore,t);i.currentUser=t,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new mt(rt.CANCELLED,h))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await gu(i,a.Ns)}}function i4(n,t){const i=At(n),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const u=i.Iu.get(t);if(!u)return l;for(const h of u){const m=i.Tu.get(h);l=l.unionWith(m.view.nu)}return l}}function ub(n){const t=At(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=ab.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=i4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JD.bind(null,t),t.Pu.J_=PD.bind(null,t.eventManager),t.Pu.yu=jD.bind(null,t.eventManager),t}function r4(n){const t=At(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=t4.bind(null,t),t}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return lD(this.persistence,new rD,t.initialUser,this.serializer)}Cu(t){return new q1(pg.Vi,this.serializer)}Du(t){return new mD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class a4 extends Af{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){$t(this.persistence.referenceDelegate instanceof Tf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Hx(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new q1((a=>Tf.Vi(a,i)),this.serializer)}}class km{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>D0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=n4.bind(null,this.syncEngine),await zD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new BD})()}createDatastore(t){const i=jf(t.databaseInfo.databaseId),a=_D(t.databaseInfo);return AD(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,u,h,m){return new RD(a,l,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(i=>D0(this.syncEngine,i,0)),(function(){return S0.v()?new S0:new gD})())}createSyncEngine(t,i){return(function(l,u,h,m,g,p,E){const b=new GD(l,u,h,m,g,p);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);ft(os,"RemoteStore shutting down."),a.Ea.add(5),await mu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}km.provider={build:()=>new km};class cb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Nr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const xa="FirestoreClient";class s4{constructor(t,i,a,l,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=yn.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async h=>{ft(xa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(a,(h=>(ft(xa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Ag(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function lm(n,t){n.asyncQueue.verifyOperationInProgress(),ft(xa,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let a=i.initialUser;n.setCredentialChangeListener((async l=>{a.isEqual(l)||(await H1(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function I0(n,t){n.asyncQueue.verifyOperationInProgress();const i=await l4(n);ft(xa,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener((a=>w0(t.remoteStore,a))),n.setAppCheckTokenChangeListener(((a,l)=>w0(t.remoteStore,l))),n._onlineComponents=t}async function l4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(xa,"Using user provided OfflineComponentProvider");try{await lm(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===rt.FAILED_PRECONDITION||l.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ml("Error using user provided cache. Falling back to memory cache: "+i),await lm(n,new Af)}}else ft(xa,"Using default OfflineComponentProvider"),await lm(n,new a4(void 0));return n._offlineComponents}async function fb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(xa,"Using user provided OnlineComponentProvider"),await I0(n,n._uninitializedComponentsProvider._online)):(ft(xa,"Using default OnlineComponentProvider"),await I0(n,new km))),n._onlineComponents}function o4(n){return fb(n).then((t=>t.syncEngine))}async function hb(n){const t=await fb(n),i=t.eventManager;return i.onListen=YD.bind(null,t.syncEngine),i.onUnlisten=XD.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=QD.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=$D.bind(null,t.syncEngine),i}function u4(n,t,i={}){const a=new Rr;return n.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const E=new cb({next:S=>{E.Nu(),h.enqueueAndForget((()=>tb(u,b)));const D=S.docs.has(m);!D&&S.fromCache?p.reject(new mt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&g&&g.source==="server"?p.reject(new mt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),b=new eb(ug(m.path),E,{includeMetadataChanges:!0,Ka:!0});return W1(u,b)})(await hb(n),n.asyncQueue,t,i,a))),a.promise}function c4(n,t,i={}){const a=new Rr;return n.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const E=new cb({next:S=>{E.Nu(),h.enqueueAndForget((()=>tb(u,b))),S.fromCache&&g.source==="server"?p.reject(new mt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),b=new eb(m,E,{includeMetadataChanges:!0,Ka:!0});return W1(u,b)})(await hb(n),n.asyncQueue,t,i,a))),a.promise}function f4(n,t){const i=new Rr;return n.asyncQueue.enqueueAndForget((async()=>ZD(await o4(n),t,i))),i.promise}function db(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const h4="ComponentProvider",O0=new Map;function d4(n,t,i,a,l){return new MC(n,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,db(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const mb="firestore.googleapis.com",M0=!0;class V0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mb,this.ssl=M0}else this.host=t.host,this.ssl=t.ssl??M0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=j1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<jx)throw new mt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}TC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=db(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ff{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new hC;switch(a.type){case"firstParty":return new pC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new mt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=O0.get(i);a&&(ft(h4,"Removing Datastore"),O0.delete(i),a.terminate())})(this),Promise.resolve()}}function m4(n,t,i,a={}){n=Ir(n,Ff);const l=cu(t),u=n._getSettings(),h={...u,emulatorOptions:n._getEmulatorOptions()},m=`${t}:${i}`;l&&(OE(`https://${m}`),VE("Firestore",!0)),u.host!==mb&&u.host!==m&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:l,emulatorOptions:a};if(!hf(g,h)&&(n._setSettings(g),a.mockUserToken)){let p,E;if(typeof a.mockUserToken=="string")p=a.mockUserToken,E=yn.MOCK_USER;else{p=ME(a.mockUserToken,n._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new mt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new yn(b)}n._authCredentials=new dC(new WE(p,E))}}class Gf{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Gf(this.firestore,t,this._query)}}class He{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new He(this.firestore,t,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(fu(i,He._jsonSchema))return new He(t,a||null,new vt(ce.fromString(i.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:ke("string",He._jsonSchemaVersion),referencePath:ke("string")};class Ta extends Gf{constructor(t,i,a){super(t,i,ug(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new He(this.firestore,null,new vt(t))}withConverter(t){return new Ta(this.firestore,t,this._path)}}function L0(n,t,...i){if(n=xr(n),t1("collection","path",t),n instanceof Ff){const a=ce.fromString(t,...i);return K_(a),new Ta(n,null,a)}{if(!(n instanceof He||n instanceof Ta))throw new mt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(ce.fromString(t,...i));return K_(a),new Ta(n.firestore,null,a)}}function nf(n,t,...i){if(n=xr(n),arguments.length===1&&(t=ng.newId()),t1("doc","path",t),n instanceof Ff){const a=ce.fromString(t,...i);return Q_(a),new He(n,null,new vt(a))}{if(!(n instanceof He||n instanceof Ta))throw new mt(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(ce.fromString(t,...i));return Q_(a),new He(n.firestore,n instanceof Ta?n.converter:null,new vt(a))}}const U0="AsyncQueue";class z0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G1(this,"async_queue_retry"),this._c=()=>{const a=sm();a&&ft(U0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!wl(t))throw t;ft(U0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Nr("INTERNAL UNHANDLED ERROR: ",k0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Sg.createAndSchedule(this,t,i,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&bt(47125,{Pc:k0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function k0(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Cl extends Ff{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new z0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new z0(t),this._firestoreClient=void 0,await t}}}function g4(n,t){const i=typeof n=="object"?n:HE(),a=typeof n=="string"?n:gf,l=BE(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=NE("firestore");u&&m4(l,...u)}return l}function xg(n){if(n._terminated)throw new mt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||p4(n),n._firestoreClient}function p4(n){const t=n._freezeSettings(),i=d4(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new s4(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(n._componentsProvider))}class vi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vi(cn.fromBase64String(t))}catch(i){throw new mt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new vi(cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(fu(t,vi._jsonSchema))return vi.fromBase64String(t.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:ke("string",vi._jsonSchemaVersion),bytes:ke("string")};class gb{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new mt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class pb{constructor(t){this._methodName=t}}class Wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new mt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new mt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(t){if(fu(t,Wi._jsonSchema))return new Wi(t.latitude,t.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:ke("string",Wi._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};class Ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(fu(t,Ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ni(t.vectorValues);throw new mt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:ke("string",Ni._jsonSchemaVersion),vectorValues:ke("object")};const y4=/^__.*__$/;class v4{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ds(t,this.data,this.fieldMask,i,this.fieldTransforms):new hu(t,this.data,i,this.fieldTransforms)}}function yb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{dataSource:n})}}class Dg{constructor(t,i,a,l,u,h){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Dg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return wf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(yb(this.dataSource)&&y4.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class _4{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||jf(t)}createContext(t,i,a,l=!1){return new Dg({dataSource:t,methodName:i,targetDoc:a,path:un.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vb(n){const t=n._freezeSettings(),i=jf(n._databaseId);return new _4(n._databaseId,!!t.ignoreUndefinedProperties,i)}function _b(n,t,i,a,l,u={}){const h=n.createContext(u.merge||u.mergeFields?2:0,t,i,l);Sb("Data must be an object, but it was:",h,a);const m=bb(a,h);let g,p;if(u.merge)g=new xi(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=Ng(t,b,i);if(!h.contains(S))throw new mt(rt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);T4(E,S)||E.push(S)}g=new xi(E),p=h.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,p=h.fieldTransforms;return new v4(new yi(m),g,p)}function Eb(n,t){if(Tb(n=xr(n)))return Sb("Unsupported field value:",t,n),bb(n,t);if(n instanceof pb)return(function(a,l){if(!yb(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const u=[];let h=0;for(const m of a){let g=Eb(m,l.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(n,t)}return(function(a,l){if((a=xr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ax(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Xt.fromDate(a);return{timestampValue:bf(l.serializer,u)}}if(a instanceof Xt){const u=new Xt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:bf(l.serializer,u)}}if(a instanceof Wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof vi)return{bytesValue:M1(l.serializer,a._byteString)};if(a instanceof He){const u=l.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw l.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ni)return(function(h,m){const g=h instanceof Ni?h.toArray():h;return{mapValue:{fields:{[u1]:{stringValue:c1},[pf]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return cg(m.serializer,E)}))}}}}}})(a,l);if(P1(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${ig(a)}`)})(n,t)}function bb(n,t){const i={};return i1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fs(n,((a,l)=>{const u=Eb(l,t.childContextForField(a));u!=null&&(i[a]=u)})),{mapValue:{fields:i}}}function Tb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xt||n instanceof Wi||n instanceof vi||n instanceof He||n instanceof pb||n instanceof Ni||P1(n))}function Sb(n,t,i){if(!Tb(i)||!e1(i)){const a=ig(i);throw a==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+a)}}function Ng(n,t,i){if((t=xr(t))instanceof gb)return t._internalPath;if(typeof t=="string")return b4(n,t);throw wf("Field path arguments must be of type string or ",n,!1,void 0,i)}const E4=new RegExp("[~\\*/\\[\\]]");function b4(n,t,i){if(t.search(E4)>=0)throw wf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new gb(...t.split("."))._internalPath}catch{throw wf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function wf(n,t,i,a,l){const u=a&&!a.isEmpty(),h=l!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${a}`),h&&(g+=` in document ${l}`),g+=")"),new mt(rt.INVALID_ARGUMENT,m+n+g)}function T4(n,t){return n.some((i=>i.isEqual(t)))}class S4{convertValue(t,i="none"){switch(Ra(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(wa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return fs(t,((l,u)=>{a[l]=this.convertValue(u,i)})),a}convertVectorValue(t){const i=t.fields?.[pf].arrayValue?.values?.map((a=>Ce(a.doubleValue)));return new Ni(i)}convertGeoPoint(t){return new Wi(Ce(t.latitude),Ce(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Vf(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(eu(t));default:return null}}convertTimestamp(t){const i=Aa(t);return new Xt(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ce.fromString(t);$t(B1(a),9688,{name:t});const l=new nu(a.get(1),a.get(3)),u=new vt(a.popFirst(5));return l.isEqual(i)||Nr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}class Ab extends S4{constructor(t){super(),this.firestore=t}convertBytes(t){return new vi(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new He(this.firestore,null,i)}}const B0="@firebase/firestore",P0="4.10.0";class wb{constructor(t,i,a,l,u){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new A4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Ng("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class A4 extends wb{data(){return super.data()}}function w4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Rb(n,t,i){let a;return a=n?i&&(i.merge||i.mergeFields)?n.toFirestore(t,i):n.toFirestore(t):t,a}class ko{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class as extends wb{constructor(t,i,a,l,u,h){super(t,i,a,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Ng("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=as._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}as._jsonSchemaVersion="firestore/documentSnapshot/1.0",as._jsonSchema={type:ke("string",as._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class rf extends as{data(t={}){return super.data(t)}}class hl{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ko(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new rf(this._firestore,this._userDataWriter,a.key,a,new ko(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map((m=>{const g=new rf(l._firestore,l._userDataWriter,m.doc.key,m.doc,new ko(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new rf(l._firestore,l._userDataWriter,m.doc.key,m.doc,new ko(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,E=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:R4(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=hl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function R4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:n})}}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:ke("string",hl._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};function C4(n){n=Ir(n,He);const t=Ir(n.firestore,Cl),i=xg(t);return u4(i,n._key).then((a=>O4(t,n,a)))}function x4(n){n=Ir(n,Gf);const t=Ir(n.firestore,Cl),i=xg(t),a=new Ab(t);return w4(n._query),c4(i,n._query).then((l=>new hl(t,a,n,l)))}function D4(n,t,i){n=Ir(n,He);const a=Ir(n.firestore,Cl),l=Rb(n.converter,t,i),u=vb(a);return Ig(a,[_b(u,"setDoc",n._key,l,n.converter!==null,i).toMutation(n._key,Di.none())])}function N4(n){return Ig(Ir(n.firestore,Cl),[new fg(n._key,Di.none())])}function I4(n,t){const i=Ir(n.firestore,Cl),a=nf(n),l=Rb(n.converter,t),u=vb(n.firestore);return Ig(i,[_b(u,"addDoc",a._key,l,n.converter!==null,{}).toMutation(a._key,Di.exists(!1))]).then((()=>a))}function Ig(n,t){const i=xg(n);return f4(i,t)}function O4(n,t,i){const a=i.docs.get(t._key),l=new Ab(n);return new as(n,l,t._key,a,new ko(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){fC(jE),Jo(new dl("firestore",((a,{instanceIdentifier:l,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new Cl(new mC(a.getProvider("auth-internal")),new yC(h,a.getProvider("app-check-internal")),VC(h,l),h);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ea(B0,P0,t),Ea(B0,P0,"esm2020")})();const Cb="firebasestorage.googleapis.com",xb="storageBucket",M4=120*1e3,V4=600*1e3;class be extends cs{constructor(t,i,a=0){super(om(t),`Firebase Storage: ${i} (${om(t)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,be.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return om(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ee;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ee||(Ee={}));function om(n){return"storage/"+n}function Og(){const n="An unknown error occurred, please check the error payload for server response.";return new be(Ee.UNKNOWN,n)}function L4(n){return new be(Ee.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function U4(n){return new be(Ee.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function z4(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new be(Ee.UNAUTHENTICATED,n)}function k4(){return new be(Ee.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function B4(n){return new be(Ee.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function P4(){return new be(Ee.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function j4(){return new be(Ee.CANCELED,"User canceled the upload/download.")}function q4(n){return new be(Ee.INVALID_URL,"Invalid URL '"+n+"'.")}function H4(n){return new be(Ee.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function F4(){return new be(Ee.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xb+"' property when initializing the app?")}function G4(){return new be(Ee.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Y4(){return new be(Ee.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Q4(n){return new be(Ee.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Bm(n){return new be(Ee.INVALID_ARGUMENT,n)}function Db(){return new be(Ee.APP_DELETED,"The Firebase app was deleted.")}function K4(n){return new be(Ee.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qo(n,t){return new be(Ee.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function No(n){throw new be(Ee.INTERNAL_ERROR,"Internal error: "+n)}class Wn{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let a;try{a=Wn.makeFromUrl(t,i)}catch{return new Wn(t,"")}if(a.path==="")return a;throw H4(t)}static makeFromUrl(t,i){let a=null;const l="([A-Za-z0-9.\\-_]+)";function u(it){it.path.charAt(it.path.length-1)==="/"&&(it.path_=it.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+l+h,"i"),g={bucket:1,path:3};function p(it){it.path_=decodeURIComponent(it.path)}const E="v[A-Za-z0-9_]+",b=i.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",D=new RegExp(`^https?://${b}/${E}/b/${l}/o${S}`,"i"),P={bucket:1,path:3},z=i===Cb?"(?:storage.googleapis.com|storage.cloud.google.com)":i,U="([^?#]*)",K=new RegExp(`^https?://${z}/${l}/${U}`,"i"),$=[{regex:m,indices:g,postModify:u},{regex:D,indices:P,postModify:p},{regex:K,indices:{bucket:1,path:2},postModify:p}];for(let it=0;it<$.length;it++){const at=$[it],st=at.regex.exec(t);if(st){const R=st[at.indices.bucket];let w=st[at.indices.path];w||(w=""),a=new Wn(R,w),at.postModify(a);break}}if(a==null)throw q4(t);return a}}class X4{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function $4(n,t,i){let a=1,l=null,u=null,h=!1,m=0;function g(){return m===2}let p=!1;function E(...U){p||(p=!0,t.apply(null,U))}function b(U){l=setTimeout(()=>{l=null,n(D,g())},U)}function S(){u&&clearTimeout(u)}function D(U,...K){if(p){S();return}if(U){S(),E.call(null,U,...K);return}if(g()||h){S(),E.call(null,U,...K);return}a<64&&(a*=2);let $;m===1?(m=2,$=0):$=(a+Math.random())*1e3,b($)}let P=!1;function z(U){P||(P=!0,S(),!p&&(l!==null?(U||(m=2),clearTimeout(l),b(0)):U||(m=1)))}return b(0),u=setTimeout(()=>{h=!0,z(!0)},i),z}function Z4(n){n(!1)}function J4(n){return n!==void 0}function W4(n){return typeof n=="object"&&!Array.isArray(n)}function Mg(n){return typeof n=="string"||n instanceof String}function j0(n){return Vg()&&n instanceof Blob}function Vg(){return typeof Blob<"u"}function q0(n,t,i,a){if(a<t)throw Bm(`Invalid value for '${n}'. Expected ${t} or greater.`);if(a>i)throw Bm(`Invalid value for '${n}'. Expected ${i} or less.`)}function Lg(n,t,i){let a=t;return i==null&&(a=`https://${t}`),`${i}://${a}/v0${n}`}function Nb(n){const t=encodeURIComponent;let i="?";for(const a in n)if(n.hasOwnProperty(a)){const l=t(a)+"="+t(n[a]);i=i+l+"&"}return i=i.slice(0,-1),i}var ss;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ss||(ss={}));function tN(n,t){const i=n>=500&&n<600,l=[408,429].indexOf(n)!==-1,u=t.indexOf(n)!==-1;return i||l||u}class eN{constructor(t,i,a,l,u,h,m,g,p,E,b,S=!0,D=!1){this.url_=t,this.method_=i,this.headers_=a,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=E,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,z)=>{this.resolve_=P,this.reject_=z,this.start_()})}start_(){const t=(a,l)=>{if(l){a(!1,new Qc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===ss.NO_ERROR,g=u.getStatus();if(!m||tN(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ss.ABORT;a(!1,new Qc(!1,null,E));return}const p=this.successCodes_.indexOf(g)!==-1;a(!0,new Qc(p,u))})},i=(a,l)=>{const u=this.resolve_,h=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());J4(g)?u(g):u()}catch(g){h(g)}else if(m!==null){const g=Og();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(l.canceled){const g=this.appDelete_?Db():j4();h(g)}else{const g=P4();h(g)}};this.canceled_?i(!1,new Qc(!1,null,!0)):this.backoffId_=$4(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Z4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qc{constructor(t,i,a){this.wasSuccessCode=t,this.connection=i,this.canceled=!!a}}function nN(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function iN(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function rN(n,t){t&&(n["X-Firebase-GMPID"]=t)}function aN(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function sN(n,t,i,a,l,u,h=!0,m=!1){const g=Nb(n.urlParams),p=n.url+g,E=Object.assign({},n.headers);return rN(E,t),nN(E,i),iN(E,u),aN(E,a),new eN(p,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,l,h,m)}function lN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function oN(...n){const t=lN();if(t!==void 0){const i=new t;for(let a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}else{if(Vg())return new Blob(n);throw new be(Ee.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uN(n,t,i){return n.webkitSlice?n.webkitSlice(t,i):n.mozSlice?n.mozSlice(t,i):n.slice?n.slice(t,i):null}function cN(n){if(typeof atob>"u")throw Q4("base-64");return atob(n)}const $i={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class um{constructor(t,i){this.data=t,this.contentType=i||null}}function fN(n,t){switch(n){case $i.RAW:return new um(Ib(t));case $i.BASE64:case $i.BASE64URL:return new um(Ob(n,t));case $i.DATA_URL:return new um(dN(t),mN(t))}throw Og()}function Ib(n){const t=[];for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);if(a<=127)t.push(a);else if(a<=2047)t.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(i<n.length-1&&(n.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{const u=a,h=n.charCodeAt(++i);a=65536|(u&1023)<<10|h&1023,t.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?t.push(239,191,189):t.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(t)}function hN(n){let t;try{t=decodeURIComponent(n)}catch{throw Qo($i.DATA_URL,"Malformed data URL.")}return Ib(t)}function Ob(n,t){switch(n){case $i.BASE64:{const l=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(l||u)throw Qo(n,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case $i.BASE64URL:{const l=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(l||u)throw Qo(n,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=cN(t)}catch(l){throw l.message.includes("polyfill")?l:Qo(n,"Invalid character found")}const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a}class Mb{constructor(t){this.base64=!1,this.contentType=null;const i=t.match(/^data:([^,]+)?,/);if(i===null)throw Qo($i.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=i[1]||null;a!=null&&(this.base64=gN(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=t.substring(t.indexOf(",")+1)}}function dN(n){const t=new Mb(n);return t.base64?Ob($i.BASE64,t.rest):hN(t.rest)}function mN(n){return new Mb(n).contentType}function gN(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}class pa{constructor(t,i){let a=0,l="";j0(t)?(this.data_=t,a=t.size,l=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),a=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),a=t.length),this.size_=a,this.type_=l}size(){return this.size_}type(){return this.type_}slice(t,i){if(j0(this.data_)){const a=this.data_,l=uN(a,t,i);return l===null?null:new pa(l)}else{const a=new Uint8Array(this.data_.buffer,t,i-t);return new pa(a,!0)}}static getBlob(...t){if(Vg()){const i=t.map(a=>a instanceof pa?a.data_:a);return new pa(oN.apply(null,i))}else{const i=t.map(h=>Mg(h)?fN($i.RAW,h).data:h.data_);let a=0;i.forEach(h=>{a+=h.byteLength});const l=new Uint8Array(a);let u=0;return i.forEach(h=>{for(let m=0;m<h.length;m++)l[u++]=h[m]}),new pa(l,!0)}}uploadData(){return this.data_}}function Vb(n){let t;try{t=JSON.parse(n)}catch{return null}return W4(t)?t:null}function pN(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function yN(n,t){const i=t.split("/").filter(a=>a.length>0).join("/");return n.length===0?i:n+"/"+i}function Lb(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}function vN(n,t){return t}class wn{constructor(t,i,a,l){this.server=t,this.local=i||t,this.writable=!!a,this.xform=l||vN}}let Kc=null;function _N(n){return!Mg(n)||n.length<2?n:Lb(n)}function Ub(){if(Kc)return Kc;const n=[];n.push(new wn("bucket")),n.push(new wn("generation")),n.push(new wn("metageneration")),n.push(new wn("name","fullPath",!0));function t(u,h){return _N(h)}const i=new wn("name");i.xform=t,n.push(i);function a(u,h){return h!==void 0?Number(h):h}const l=new wn("size");return l.xform=a,n.push(l),n.push(new wn("timeCreated")),n.push(new wn("updated")),n.push(new wn("md5Hash",null,!0)),n.push(new wn("cacheControl",null,!0)),n.push(new wn("contentDisposition",null,!0)),n.push(new wn("contentEncoding",null,!0)),n.push(new wn("contentLanguage",null,!0)),n.push(new wn("contentType",null,!0)),n.push(new wn("metadata","customMetadata",!0)),Kc=n,Kc}function EN(n,t){function i(){const a=n.bucket,l=n.fullPath,u=new Wn(a,l);return t._makeStorageReference(u)}Object.defineProperty(n,"ref",{get:i})}function bN(n,t,i){const a={};a.type="file";const l=i.length;for(let u=0;u<l;u++){const h=i[u];a[h.local]=h.xform(a,t[h.server])}return EN(a,n),a}function zb(n,t,i){const a=Vb(t);return a===null?null:bN(n,a,i)}function TN(n,t,i,a){const l=Vb(t);if(l===null||!Mg(l.downloadTokens))return null;const u=l.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(p=>{const E=n.bucket,b=n.fullPath,S="/b/"+h(E)+"/o/"+h(b),D=Lg(S,i,a),P=Nb({alt:"media",token:p});return D+P})[0]}function SN(n,t){const i={},a=t.length;for(let l=0;l<a;l++){const u=t[l];u.writable&&(i[u.server]=n[u.local])}return JSON.stringify(i)}class kb{constructor(t,i,a,l){this.url=t,this.method=i,this.handler=a,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Bb(n){if(!n)throw Og()}function AN(n,t){function i(a,l){const u=zb(n,l,t);return Bb(u!==null),u}return i}function wN(n,t){function i(a,l){const u=zb(n,l,t);return Bb(u!==null),TN(u,l,n.host,n._protocol)}return i}function Pb(n){function t(i,a){let l;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?l=k4():l=z4():i.getStatus()===402?l=U4(n.bucket):i.getStatus()===403?l=B4(n.path):l=a,l.status=i.getStatus(),l.serverResponse=a.serverResponse,l}return t}function RN(n){const t=Pb(n);function i(a,l){let u=t(a,l);return a.getStatus()===404&&(u=L4(n.path)),u.serverResponse=l.serverResponse,u}return i}function CN(n,t,i){const a=t.fullServerUrl(),l=Lg(a,n.host,n._protocol),u="GET",h=n.maxOperationRetryTime,m=new kb(l,u,wN(n,i),h);return m.errorHandler=RN(t),m}function xN(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function DN(n,t,i){const a=Object.assign({},i);return a.fullPath=n.path,a.size=t.size(),a.contentType||(a.contentType=xN(null,t)),a}function NN(n,t,i,a,l){const u=t.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let $="";for(let it=0;it<2;it++)$=$+Math.random().toString().slice(2);return $}const g=m();h["Content-Type"]="multipart/related; boundary="+g;const p=DN(t,a,l),E=SN(p,i),b="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,S=`\r
--`+g+"--",D=pa.getBlob(b,a,S);if(D===null)throw G4();const P={name:p.fullPath},z=Lg(u,n.host,n._protocol),U="POST",K=n.maxUploadRetryTime,X=new kb(z,U,AN(n,i),K);return X.urlParams=P,X.headers=h,X.body=D.uploadData(),X.errorHandler=Pb(t),X}class IN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ss.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ss.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ss.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,a,l,u){if(this.sent_)throw No("cannot .send() more than once");if(cu(t)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,t,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw No("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw No("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw No("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw No("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class ON extends IN{initXhr(){this.xhr_.responseType="text"}}function jb(){return new ON}class us{constructor(t,i){this._service=t,i instanceof Wn?this._location=i:this._location=Wn.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new us(t,i)}get root(){const t=new Wn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Lb(this._location.path)}get storage(){return this._service}get parent(){const t=pN(this._location.path);if(t===null)return null;const i=new Wn(this._location.bucket,t);return new us(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw K4(t)}}function MN(n,t,i){n._throwIfRoot("uploadBytes");const a=NN(n.storage,n._location,Ub(),new pa(t,!0),i);return n.storage.makeRequestWithTokens(a,jb).then(l=>({metadata:l,ref:n}))}function VN(n){n._throwIfRoot("getDownloadURL");const t=CN(n.storage,n._location,Ub());return n.storage.makeRequestWithTokens(t,jb).then(i=>{if(i===null)throw Y4();return i})}function LN(n,t){const i=yN(n._location.path,t),a=new Wn(n._location.bucket,i);return new us(n.storage,a)}function UN(n){return/^[A-Za-z]+:\/\//.test(n)}function zN(n,t){return new us(n,t)}function qb(n,t){if(n instanceof Ug){const i=n;if(i._bucket==null)throw F4();const a=new us(i,i._bucket);return t!=null?qb(a,t):a}else return t!==void 0?LN(n,t):n}function kN(n,t){if(t&&UN(t)){if(n instanceof Ug)return zN(n,t);throw Bm("To use ref(service, url), the first argument must be a Storage instance.")}else return qb(n,t)}function H0(n,t){const i=t?.[xb];return i==null?null:Wn.makeFromBucketSpec(i,n)}function BN(n,t,i,a={}){n.host=`${t}:${i}`;const l=cu(t);l&&(OE(`https://${n.host}/b`),VE("Storage",!0)),n._isUsingEmulator=!0,n._protocol=l?"https":"http";const{mockUserToken:u}=a;u&&(n._overrideAuthToken=typeof u=="string"?u:ME(u,n.app.options.projectId))}class Ug{constructor(t,i,a,l,u,h=!1){this.app=t,this._authProvider=i,this._appCheckProvider=a,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=Cb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=M4,this._maxUploadRetryTime=V4,this._requests=new Set,l!=null?this._bucket=Wn.makeFromBucketSpec(l,this._host):this._bucket=H0(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,t):this._bucket=H0(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){q0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){q0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(PE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new us(this,t)}_makeRequest(t,i,a,l,u=!0){if(this._deleted)return new X4(Db());{const h=sN(t,this._appId,a,l,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(t,i){const[a,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,a,l).getPromise()}}const F0="@firebase/storage",G0="0.14.0";const Hb="storage";function PN(n,t,i){return n=xr(n),MN(n,t,i)}function jN(n){return n=xr(n),VN(n)}function qN(n,t){return n=xr(n),kN(n,t)}function HN(n=HE(),t){n=xr(n);const a=BE(n,Hb).getImmediate({identifier:t}),l=NE("storage");return l&&FN(a,...l),a}function FN(n,t,i,a={}){BN(n,t,i,a)}function GN(n,{instanceIdentifier:t}){const i=n.getProvider("app").getImmediate(),a=n.getProvider("auth-internal"),l=n.getProvider("app-check-internal");return new Ug(i,a,l,t,jE)}function YN(){Jo(new dl(Hb,GN,"PUBLIC").setMultipleInstances(!0)),Ea(F0,G0,""),Ea(F0,G0,"esm2020")}YN();const QN={apiKey:"AIzaSyC7DPgSTDQ2OjGzxIooVSYTQaiwH8JKg9Y",authDomain:"outdoor-trip-planner-32836.firebaseapp.com",projectId:"outdoor-trip-planner-32836",storageBucket:"outdoor-trip-planner-32836.firebasestorage.app",messagingSenderId:"102100531874",appId:"1:102100531874:web:b6928eb1745dbf0355f5fb"},Fb=qE(QN),Io=g4(Fb),KN=HN(Fb);let XN=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((t,i)=>(i&=63,i<36?t+=i.toString(36):i<62?t+=(i-26).toString(36).toUpperCase():i>62?t+="-":t+="_",t),"");const $N={async uploadImage(n,t="uploads"){try{const i=`${XN()}_${n.name}`,a=`${t}/${i}`,l=qN(KN,a),u=await PN(l,n);return{url:await jN(u.ref),path:a}}catch(i){throw console.error("Error uploading image: ",i),i}}};function ZN({day:n,onDelete:t,onDuplicate:i,onStatusChange:a,onUpdate:l,index:u}){const{attributes:h,listeners:m,setNodeRef:g,transform:p,transition:E,isDragging:b}=D2({id:n.id}),[S,D]=C.useState(!1),P={transform:$o.Transform.toString(p),transition:E,opacity:b?.5:1,marginBottom:"1rem",position:"relative"},z=async K=>{const X=K.target.files[0];if(X){D(!0);try{const $=await $N.uploadImage(X);l(n.id,"image",$.url)}catch($){alert(": "+$.message)}D(!1)}},U=()=>{confirm("")&&l(n.id,"image",null)};return F.jsxs("div",{ref:g,style:P,className:`card day-card ${n.status||"todo"}`,children:[F.jsxs("div",{className:"day-header",children:[F.jsx("div",{className:"drag-handle",...h,...m,children:F.jsx(pA,{size:20,className:"text-muted"})}),F.jsxs("select",{className:"status-select",value:n.status||"todo",onChange:K=>a(n.id,K.target.value),children:[F.jsx("option",{value:"todo",children:""}),F.jsx("option",{value:"active",children:""}),F.jsx("option",{value:"done",children:""})]}),F.jsx("input",{type:"text",value:n.title||"",onChange:K=>l(n.id,"title",K.target.value),className:"day-title-input",placeholder:`Day ${u+1} ...`}),F.jsxs("div",{className:"card-actions",children:[F.jsxs("label",{className:"icon-btn",title:"",style:{cursor:S?"wait":"pointer"},children:[S?F.jsx(qm,{size:18,className:"animate-spin"}):F.jsx(vA,{size:18}),F.jsx("input",{type:"file",accept:"image/*",onChange:z,style:{display:"none"},disabled:S})]}),F.jsx("button",{className:"icon-btn",onClick:()=>i(n.id),title:"",children:F.jsx(hA,{size:18})}),F.jsx("button",{className:"icon-btn danger",onClick:()=>t(n.id),title:"",children:F.jsx(VA,{size:18})})]})]}),F.jsxs("div",{className:"day-content",children:[F.jsx("textarea",{className:"content-editor",value:n.content||"",onChange:K=>l(n.id,"content",K.target.value),placeholder:"...",rows:3}),n.image&&F.jsxs("div",{className:"day-image-preview",children:[F.jsx("img",{src:n.image,alt:"Trip memory"}),F.jsx("button",{className:"remove-image-btn",onClick:U,title:"",children:F.jsx(kA,{size:16})})]})]}),F.jsx("style",{children:`
        .day-card {
          border-left: 4px solid var(--color-primary);
          background: var(--glass-bg);
          backdrop-filter: blur(8px);
          -webkit-backdrop-filter: blur(8px);
          border: 1px solid var(--glass-border);
          border-radius: var(--radius-lg);
          padding: var(--space-4);
          box-shadow: var(--shadow-sm);
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .day-card:hover {
          transform: translateY(-2px);
          box-shadow: var(--shadow-lg);
          border-color: var(--color-primary-light);
        }
        .day-card.active { border-left-color: var(--color-warning); }
        .day-card.done { border-left-color: var(--color-text-muted); opacity: 0.8; }
        
        .day-header {
          display: flex;
          align-items: center;
          gap: var(--space-2);
          margin-bottom: var(--space-2);
          padding-bottom: var(--space-2);
          border-bottom: 1px dashed var(--color-text-muted);
          opacity: 0.7;
        }
        .day-header:hover { opacity: 1; }

        .status-select {
          padding: 6px 10px;
          border-radius: var(--radius-full);
          border: 1px solid var(--glass-border);
          font-size: 0.85rem;
          background: rgba(255, 255, 255, 0.5);
          color: var(--color-text-main);
          font-weight: 500;
          cursor: pointer;
        }
        .drag-handle {
          cursor: grab;
          padding: 6px;
          border-radius: var(--radius-md);
          color: var(--color-text-muted);
        }
        .drag-handle:hover {
          background: rgba(0,0,0,0.05);
          color: var(--color-primary);
        }
        .day-title-input {
          flex: 1;
          border: none;
          font-size: 1.15rem;
          font-weight: 700;
          padding: 4px 8px;
          border-radius: var(--radius-md);
          background: transparent;
          color: var(--color-text-main);
          font-family: 'Noto Sans TC', sans-serif;
          transition: all 0.2s;
        }
        .day-title-input:focus {
          background: rgba(255,255,255,0.8);
          box-shadow: 0 0 0 2px var(--color-primary-light);
          outline: none;
        }
        .card-actions {
          display: flex;
          gap: 4px;
        }
        .icon-btn {
          background: transparent;
          border: none;
          padding: 8px;
          cursor: pointer;
          color: var(--color-text-muted);
          border-radius: 50%;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s;
        }
        .icon-btn:hover {
          background: rgba(5, 150, 105, 0.1);
          color: var(--color-primary);
          transform: scale(1.1);
        }
        .icon-btn.danger:hover {
          background: #fee2e2;
          color: #ef4444;
        }
        .content-editor {
          width: 100%;
          border: 1px solid transparent;
          padding: var(--space-3);
          border-radius: var(--radius-md);
          resize: vertical;
          font-family: 'Inter', 'Noto Sans TC', sans-serif;
          background: rgba(255,255,255,0.3);
          color: var(--color-text-main);
          line-height: 1.6;
          transition: all 0.2s;
        }
        .content-editor:focus {
          background: rgba(255,255,255,0.8);
          border-color: var(--color-primary);
          outline: none;
          box-shadow: var(--shadow-sm);
        }
        
        .day-image-preview {
            margin-top: var(--space-3);
            position: relative;
            border-radius: var(--radius-lg);
            overflow: hidden;
            max-width: 100%;
            display: inline-block;
            box-shadow: var(--shadow-md);
        }
        .day-image-preview img {
            max-height: 240px;
            width: 100%;
            object-fit: cover;
            display: block;
        }
        .remove-image-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(4px);
            color: white;
            border: 1px solid rgba(255,255,255,0.5);
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        .remove-image-btn:hover {
            background: #ef4444;
            border-color: #ef4444;
            transform: scale(1.1);
        }
      `})]})}const Oo="trips",Y0=(n={})=>({title:"",category:"hiking",status:"planning",startDate:Xt.now(),endDate:Xt.now(),passwords:{admin_pwd:"admin",participant_pwd:"team",viewer_pwd:"view"},is_private:!1,itinerary:[],gearList:[],...n}),Rf={async getAllTrips(){try{return(await x4(L0(Io,Oo))).docs.map(t=>({id:t.id,...t.data()}))}catch(n){throw console.error("Error getting trips: ",n),n}},async getTripById(n){try{const t=nf(Io,Oo,n),i=await C4(t);return i.exists()?{id:i.id,...i.data()}:null}catch(t){return console.error("Error getting trip: ",t),null}},async saveTrip(n,t){try{const i={...t};if(i.startDate instanceof Date&&(i.startDate=Xt.fromDate(i.startDate)),i.endDate instanceof Date&&(i.endDate=Xt.fromDate(i.endDate)),i.lastUpdated=Xt.now(),n){const a=nf(Io,Oo,n);return await D4(a,i,{merge:!0}),n}else return(await I4(L0(Io,Oo),i)).id}catch(i){throw console.error("Error saving trip: ",i),i}},async deleteTrip(n){try{await N4(nf(Io,Oo,n))}catch(t){throw console.error("Error deleting trip: ",t),t}}},Q0=()=>Math.random().toString(36).substr(2,9);function JN(){const[n,t]=C.useState([]),[i,a]=C.useState(null),[l,u]=C.useState(null),[h,m]=C.useState(!1),[g,p]=C.useState(!1),[E,b]=C.useState(null);C.useEffect(()=>{async function it(){m(!0),b(null);try{const st=(await Rf.getAllTrips()).sort((R,w)=>{const x=R.lastUpdated?.seconds||0;return(w.lastUpdated?.seconds||0)-x});if(st.length>0){const R=st[0];console.log("Loaded Trip:",R),u(R.id),a(R),R.itinerary&&R.itinerary.length>0?t(R.itinerary):R.days&&R.days.length>0&&t(R.days)}else{const R=Y0({title:"",itinerary:[{id:"1",title:"Day 1: ",content:"08:00 ",status:"done"},{id:"2",title:"Day 2: ",content:"05:00 ",status:"active"}]});a(R),t(R.itinerary)}}catch(at){console.error(at),b(": "+at.message);const st=Y0({title:" (/)",itinerary:[{id:"1",title:"Day 1: ",content:"08:00 ",status:"done"},{id:"2",title:"Day 2: ",content:"05:00 ",status:"active"}]});a(st),t(st.itinerary)}m(!1)}it()},[]);const S=async()=>{p(!0);try{const it={itinerary:n,lastUpdated:new Date};let at=it;!l&&i&&(at={...i,...it});const st=await Rf.saveTrip(l,at);u(st),alert("")}catch(it){alert(""+it.message)}p(!1)},D=lw(E_(Zm),E_(Xm,{coordinateGetter:O2}));function P(it){const{active:at,over:st}=it;at.id!==st.id&&t(R=>{const w=R.findIndex(M=>M.id===at.id),x=R.findIndex(M=>M.id===st.id);return Jm(R,w,x)})}const z=()=>{t([...n,{id:Q0(),title:"",content:"",status:"todo"}])},U=it=>{confirm("")&&t(n.filter(at=>at.id!==it))},K=it=>{const at=n.find(st=>st.id===it);if(at){const st={...at,id:Q0(),title:`${at.title} ()`,status:"todo"},R=n.findIndex(x=>x.id===it),w=[...n];w.splice(R+1,0,st),t(w)}},X=(it,at)=>{t(n.map(st=>st.id===it?{...st,status:at}:st))},$=(it,at,st)=>{t(n.map(R=>R.id===it?{...R,[at]:st}:R))};return F.jsxs("div",{className:"itinerary-manager",children:[F.jsxs("div",{className:"manager-header flex-col",style:{marginBottom:"1rem"},children:[F.jsxs("div",{className:"flex-row justify-between items-center",children:[F.jsxs("h2",{children:[" (",n.length," )"]}),F.jsxs("div",{className:"flex-row gap-2",children:[F.jsxs("button",{className:"btn btn-secondary",onClick:S,disabled:g,children:[g?F.jsx(qm,{className:"animate-spin",size:18}):F.jsx(iE,{size:18}),g?"...":""]}),F.jsxs("button",{className:"btn btn-primary",onClick:z,children:[F.jsx(CA,{size:18})," "]})]})]}),E&&F.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"#fee2e2",color:"#b91c1c",borderRadius:"4px",fontSize:"0.9rem"},children:[" ",E]})]}),F.jsx(u2,{sensors:D,collisionDetection:uw,onDragEnd:P,children:F.jsx(T2,{items:n.map(it=>it.id),strategy:E2,children:n.map((it,at)=>F.jsx(ZN,{day:it,index:at,onDelete:U,onDuplicate:K,onStatusChange:X,onUpdate:$},it.id))})})]})}const K0={hiking_day:{id:"hiking_day",label:"",categories:[{id:"essentials",name:"",items:[{id:"backpack",name:" (15-25L)",checked:!1},{id:"shoes",name:"/",checked:!1},{id:"water",name:" (1-2L)",checked:!1},{id:"rain",name:"/",checked:!1}]},{id:"navigation",name:"",items:[{id:"phone",name:" & ",checked:!1},{id:"powerbank",name:" & ",checked:!1}]}]},hiking_multiday:{id:"hiking_multiday",label:"",categories:[{id:"sleep",name:"",items:[{id:"tent",name:"",checked:!1},{id:"sleeping_bag",name:"",checked:!1},{id:"mat",name:"",checked:!1}]},{id:"cook",name:"",items:[{id:"stove",name:"",checked:!1},{id:"gas",name:"",checked:!1},{id:"pot",name:"",checked:!1}]}]},camping:{id:"camping",label:"",categories:[{id:"living",name:"",items:[{id:"tarp",name:"/",checked:!1},{id:"chair",name:"",checked:!1},{id:"table",name:"",checked:!1}]}]}};function WN(){const[n,t]=C.useState([]),[i,a]=C.useState(null),[l,u]=C.useState(!1),[h,m]=C.useState(!1);C.useEffect(()=>{async function S(){u(!0);try{const P=(await Rf.getAllTrips()).sort((z,U)=>{const K=z.lastUpdated?.seconds||0;return(U.lastUpdated?.seconds||0)-K});if(P.length>0){const z=P[0];a(z.id),z.gearList&&t(z.gearList)}}catch(D){console.error("Failed to load gear list:",D)}u(!1)}S()},[]);const g=async()=>{if(!i){alert("");return}m(!0);try{await Rf.saveTrip(i,{gearList:n,lastUpdated:new Date}),alert("")}catch(S){alert(""+S.message)}m(!1)},p=S=>{const D=K0[S];if(!D)return;const P=[...n];D.categories.forEach(z=>{const U=P.find(K=>K.name===z.name);if(U){const K=new Set(U.items.map($=>$.name)),X=z.items.filter($=>!K.has($.name));U.items=[...U.items,...X]}else P.push({...z,id:Math.random().toString(36).substr(2,9)})}),t(P)},E=(S,D)=>{const P=[...n];P[S].items[D].checked=!P[S].items[D].checked,t(P)},b=()=>{let S=0,D=0;return n.forEach(P=>{P.items.forEach(z=>{S++,z.checked&&D++})}),S===0?0:Math.round(D/S*100)};return F.jsxs("div",{className:"gear-manager card",children:[F.jsxs("div",{className:"manager-header",style:{marginBottom:"1.5rem"},children:[F.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[F.jsxs("h2",{className:"flex-row items-center gap-2",children:[F.jsx(wA,{size:24,className:"text-primary"}),""]}),F.jsxs("button",{className:"btn btn-secondary",onClick:g,disabled:h||!i,children:[h?F.jsx(qm,{className:"animate-spin",size:16}):F.jsx(iE,{size:16}),h?"...":""]})]}),F.jsxs("div",{className:"progress-bar-container",children:[F.jsxs("div",{className:"progress-text",children:[": ",b(),"%"]}),F.jsx("div",{className:"progress-track",children:F.jsx("div",{className:"progress-fill",style:{width:`${b()}%`}})})]})]}),F.jsxs("div",{className:"import-actions",style:{marginBottom:"1.5rem",display:"flex",gap:"8px",flexWrap:"wrap"},children:[F.jsx("span",{className:"text-muted",style:{fontSize:"0.9rem",alignSelf:"center"},children:""}),Object.entries(K0).map(([S,D])=>F.jsxs("button",{className:"btn btn-secondary",style:{fontSize:"0.85rem",padding:"4px 12px"},onClick:()=>p(S),children:["+ ",D.label]},S))]}),F.jsx("div",{className:"gear-categories",children:n.length===0?F.jsx("div",{className:"empty-state",children:F.jsx("p",{children:""})}):n.map((S,D)=>F.jsxs("div",{className:"gear-category",style:{marginBottom:"1.5rem"},children:[F.jsx("h3",{className:"category-title",style:{fontSize:"1rem",fontWeight:"bold",marginBottom:"0.5rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"4px"},children:S.name}),F.jsx("div",{className:"items-grid",children:S.items.map((P,z)=>F.jsxs("label",{className:`gear-item ${P.checked?"checked":""}`,children:[F.jsx("input",{type:"checkbox",checked:P.checked,onChange:()=>E(D,z)}),F.jsx("span",{className:"item-name",children:P.name})]},P.id))})]},S.id))}),F.jsx("style",{children:`
        .text-primary { color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l)); }
        .text-muted { color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l)); }
        
        .progress-bar-container {
            margin-top: 8px;
        }
        .progress-text {
            font-size: 0.85rem;
            color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
            margin-bottom: 4px;
            text-align: right;
        }
        .progress-track {
            height: 6px;
            background: #e5e7eb;
            border-radius: 99px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
            transition: width 0.3s ease;
        }

        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 8px;
        }
        .gear-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .gear-item:hover {
            background: rgba(0,0,0,0.03);
        }
        .gear-item.checked .item-name {
            text-decoration: line-through;
            color: #9ca3af;
        }
        .gear-item input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
        }
        
        .empty-state {
            padding: 2rem;
            text-align: center;
            color: #9ca3af;
            background: #f9fafb;
            border-radius: 8px;
            border: 1px dashed #d1d5db;
        }
      `})]})}function tI(){return F.jsx(PA,{children:F.jsxs("div",{className:"trip-content",children:[F.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem"},children:""}),F.jsx(YA,{children:F.jsxs("div",{className:"card",style:{marginBottom:"2rem",borderLeft:"4px solid var(--color-warning)"},children:[F.jsxs("h2",{style:{fontSize:"1.2rem",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"8px"},children:[F.jsx(NA,{size:20})," "]}),F.jsxs("div",{style:{display:"grid",gap:"8px"},children:[F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[F.jsx(UA,{size:16}),"  $3,500 ()"]}),F.jsx("div",{children:" 05001234567"}),F.jsx("div",{children:" 0912-345-678"})]}),F.jsx("p",{style:{marginTop:"8px",fontSize:"0.85rem",color:"var(--color-danger)"},children:"*  (Viewer )"})]})}),F.jsx(JN,{}),F.jsx("div",{style:{marginTop:"2rem"},children:F.jsx(WN,{})})]})})}function eI(){return F.jsx(qA,{children:F.jsx(FA,{children:F.jsx(tI,{})})})}var X0="popstate";function nI(n={}){function t(a,l){let{pathname:u,search:h,hash:m}=a.location;return Pm("",{pathname:u,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(a,l){return typeof l=="string"?l:su(l)}return rI(t,i,null,n)}function Ge(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ir(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iI(){return Math.random().toString(36).substring(2,10)}function $0(n,t){return{usr:n.state,key:n.key,idx:t}}function Pm(n,t,i=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?pu(t):t,state:i,key:t&&t.key||a||iI()}}function su({pathname:n="/",search:t="",hash:i=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function pu(n){let t={};if(n){let i=n.indexOf("#");i>=0&&(t.hash=n.substring(i),n=n.substring(0,i));let a=n.indexOf("?");a>=0&&(t.search=n.substring(a),n=n.substring(0,a)),n&&(t.pathname=n)}return t}function rI(n,t,i,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,h=l.history,m="POP",g=null,p=E();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let U=E(),K=U==null?null:U-p;p=U,g&&g({action:m,location:z.location,delta:K})}function S(U,K){m="PUSH";let X=Pm(z.location,U,K);p=E()+1;let $=$0(X,p),it=z.createHref(X);try{h.pushState($,"",it)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;l.location.assign(it)}u&&g&&g({action:m,location:z.location,delta:1})}function D(U,K){m="REPLACE";let X=Pm(z.location,U,K);p=E();let $=$0(X,p),it=z.createHref(X);h.replaceState($,"",it),u&&g&&g({action:m,location:z.location,delta:0})}function P(U){return aI(U)}let z={get action(){return m},get location(){return n(l,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(X0,b),g=U,()=>{l.removeEventListener(X0,b),g=null}},createHref(U){return t(l,U)},createURL:P,encodeLocation(U){let K=P(U);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:D,go(U){return h.go(U)}};return z}function aI(n,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(i,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:su(n);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function Gb(n,t,i="/"){return sI(n,t,i,!1)}function sI(n,t,i,a){let l=typeof t=="string"?pu(t):t,u=Mr(l.pathname||"/",i);if(u==null)return null;let h=Yb(n);lI(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=vI(u);m=pI(h[g],p,a)}return m}function Yb(n,t=[],i=[],a="",l=!1){let u=(h,m,g=l,p)=>{let E={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(a)&&g)return;Ge(E.relativePath.startsWith(a),`Absolute route path "${E.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(a.length)}let b=Cr([a,E.relativePath]),S=i.concat(E);h.children&&h.children.length>0&&(Ge(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Yb(h.children,t,S,b,g)),!(h.path==null&&!h.index)&&t.push({path:b,score:mI(b,h.index),routesMeta:S})};return n.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of Qb(h.path))u(h,m,!0,g)}),t}function Qb(n){let t=n.split("/");if(t.length===0)return[];let[i,...a]=t,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let h=Qb(a.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...h),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function lI(n){n.sort((t,i)=>t.score!==i.score?i.score-t.score:gI(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var oI=/^:[\w-]+$/,uI=3,cI=2,fI=1,hI=10,dI=-2,Z0=n=>n==="*";function mI(n,t){let i=n.split("/"),a=i.length;return i.some(Z0)&&(a+=dI),t&&(a+=cI),i.filter(l=>!Z0(l)).reduce((l,u)=>l+(oI.test(u)?uI:u===""?fI:hI),a)}function gI(n,t){return n.length===t.length&&n.slice(0,-1).every((a,l)=>a===t[l])?n[n.length-1]-t[t.length-1]:0}function pI(n,t,i=!1){let{routesMeta:a}=n,l={},u="/",h=[];for(let m=0;m<a.length;++m){let g=a[m],p=m===a.length-1,E=u==="/"?t:t.slice(u.length)||"/",b=Cf({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),S=g.route;if(!b&&p&&i&&!a[a.length-1].route.index&&(b=Cf({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(l,b.params),h.push({params:l,pathname:Cr([u,b.pathname]),pathnameBase:TI(Cr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=Cr([u,b.pathnameBase]))}return h}function Cf(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,a]=yI(n.path,n.caseSensitive,n.end),l=t.match(i);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((p,{paramName:E,isOptional:b},S)=>{if(E==="*"){let P=m[S]||"";h=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const D=m[S];return b&&!D?p[E]=void 0:p[E]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:n}}function yI(n,t=!1,i=!0){ir(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function vI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ir(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Mr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=n.charAt(i);return a&&a!=="/"?null:n.slice(i)||"/"}var _I=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function EI(n,t="/"){let{pathname:i,search:a="",hash:l=""}=typeof n=="string"?pu(n):n,u;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?u=J0(i.substring(1),"/"):u=J0(i,t)):u=t,{pathname:u,search:SI(a),hash:AI(l)}}function J0(n,t){let i=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function cm(n,t,i,a){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bI(n){return n.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Kb(n){let t=bI(n);return t.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase)}function Xb(n,t,i,a=!1){let l;typeof n=="string"?l=pu(n):(l={...n},Ge(!l.pathname||!l.pathname.includes("?"),cm("?","pathname","search",l)),Ge(!l.pathname||!l.pathname.includes("#"),cm("#","pathname","hash",l)),Ge(!l.search||!l.search.includes("#"),cm("#","search","hash",l)));let u=n===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=i;else{let b=t.length-1;if(!a&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;l.pathname=S.join("/")}m=b>=0?t[b]:"/"}let g=EI(l,m),p=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var Cr=n=>n.join("/").replace(/\/\/+/g,"/"),TI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,AI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,wI=class{constructor(n,t,i,a=!1){this.status=n,this.statusText=t||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function RI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function CI(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zb(n,t){let i=n;if(typeof i!="string"||!_I.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let a=i,l=!1;if($b)try{let u=new URL(window.location.href),h=i.startsWith("//")?new URL(u.protocol+i):new URL(i),m=Mr(h.pathname,t);h.origin===u.origin&&m!=null?i=m+h.search+h.hash:l=!0}catch{ir(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:l,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Jb=["POST","PUT","PATCH","DELETE"];new Set(Jb);var xI=["GET",...Jb];new Set(xI);var xl=C.createContext(null);xl.displayName="DataRouter";var Yf=C.createContext(null);Yf.displayName="DataRouterState";var DI=C.createContext(!1),Wb=C.createContext({isTransitioning:!1});Wb.displayName="ViewTransition";var NI=C.createContext(new Map);NI.displayName="Fetchers";var II=C.createContext(null);II.displayName="Await";var _i=C.createContext(null);_i.displayName="Navigation";var Qf=C.createContext(null);Qf.displayName="Location";var Vr=C.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var zg=C.createContext(null);zg.displayName="RouteError";var tT="REACT_ROUTER_ERROR",OI="REDIRECT",MI="ROUTE_ERROR_RESPONSE";function VI(n){if(n.startsWith(`${tT}:${OI}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function LI(n){if(n.startsWith(`${tT}:${MI}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new wI(t.status,t.statusText,t.data)}catch{}}function UI(n,{relative:t}={}){Ge(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=C.useContext(_i),{hash:l,pathname:u,search:h}=vu(n,{relative:t}),m=u;return i!=="/"&&(m=u==="/"?i:Cr([i,u])),a.createHref({pathname:m,search:h,hash:l})}function yu(){return C.useContext(Qf)!=null}function gs(){return Ge(yu(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Qf).location}var eT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nT(n){C.useContext(_i).static||C.useLayoutEffect(n)}function zI(){let{isDataRoute:n}=C.useContext(Vr);return n?$I():kI()}function kI(){Ge(yu(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(xl),{basename:t,navigator:i}=C.useContext(_i),{matches:a}=C.useContext(Vr),{pathname:l}=gs(),u=JSON.stringify(Kb(a)),h=C.useRef(!1);return nT(()=>{h.current=!0}),C.useCallback((g,p={})=>{if(ir(h.current,eT),!h.current)return;if(typeof g=="number"){i.go(g);return}let E=Xb(g,JSON.parse(u),l,p.relative==="path");n==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Cr([t,E.pathname])),(p.replace?i.replace:i.push)(E,p.state,p)},[t,i,u,l,n])}C.createContext(null);function vu(n,{relative:t}={}){let{matches:i}=C.useContext(Vr),{pathname:a}=gs(),l=JSON.stringify(Kb(i));return C.useMemo(()=>Xb(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function BI(n,t,i,a,l){Ge(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=C.useContext(_i),{matches:h}=C.useContext(Vr),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let X=b&&b.path||"";rT(p,!b||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=gs(),D;D=S;let P=D.pathname||"/",z=P;if(E!=="/"){let X=E.replace(/^\//,"").split("/");z="/"+P.replace(/^\//,"").split("/").slice(X.length).join("/")}let U=Gb(n,{pathname:z});return ir(b||U!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),ir(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),FI(U&&U.map(X=>Object.assign({},X,{params:Object.assign({},g,X.params),pathname:Cr([E,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:Cr([E,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),h,i,a,l)}function PI(){let n=XI(),t=RI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),i?C.createElement("pre",{style:l},i):null,h)}var jI=C.createElement(PI,null),iT=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const i=LI(n.digest);i&&(n=i)}let t=n!==void 0?C.createElement(Vr.Provider,{value:this.props.routeContext},C.createElement(zg.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?C.createElement(qI,{error:n},t):t}};iT.contextType=DI;var fm=new WeakMap;function qI({children:n,error:t}){let{basename:i}=C.useContext(_i);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=VI(t.digest);if(a){let l=fm.get(t);if(l)throw l;let u=Zb(a.location,i);if($b&&!fm.get(t))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw fm.set(t,h),h}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function HI({routeContext:n,match:t,children:i}){let a=C.useContext(xl);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Vr.Provider,{value:n},i)}function FI(n,t=[],i=null,a=null,l=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let u=n,h=i?.errors;if(h!=null){let E=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);Ge(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(i)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=E),b.route.id){let{loaderData:S,errors:D}=i,P=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!D||D[b.route.id]===void 0);if(b.route.lazy||P){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=i&&a?(E,b)=>{a(E,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:CI(i.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,S)=>{let D,P=!1,z=null,U=null;i&&(D=h&&b.route.id?h[b.route.id]:void 0,z=b.route.errorElement||jI,m&&(g<0&&S===0?(rT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,U=null):g===S&&(P=!0,U=b.route.hydrateFallbackElement||null)));let K=t.concat(u.slice(0,S+1)),X=()=>{let $;return D?$=z:P?$=U:b.route.Component?$=C.createElement(b.route.Component,null):b.route.element?$=b.route.element:$=E,C.createElement(HI,{match:b,routeContext:{outlet:E,matches:K,isDataRoute:i!=null},children:$})};return i&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?C.createElement(iT,{location:i.location,revalidation:i.revalidation,component:z,error:D,children:X(),routeContext:{outlet:null,matches:K,isDataRoute:!0},onError:p}):X()},null)}function kg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GI(n){let t=C.useContext(xl);return Ge(t,kg(n)),t}function YI(n){let t=C.useContext(Yf);return Ge(t,kg(n)),t}function QI(n){let t=C.useContext(Vr);return Ge(t,kg(n)),t}function Bg(n){let t=QI(n),i=t.matches[t.matches.length-1];return Ge(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function KI(){return Bg("useRouteId")}function XI(){let n=C.useContext(zg),t=YI("useRouteError"),i=Bg("useRouteError");return n!==void 0?n:t.errors?.[i]}function $I(){let{router:n}=GI("useNavigate"),t=Bg("useNavigate"),i=C.useRef(!1);return nT(()=>{i.current=!0}),C.useCallback(async(l,u={})=>{ir(i.current,eT),i.current&&(typeof l=="number"?await n.navigate(l):await n.navigate(l,{fromRouteId:t,...u}))},[n,t])}var W0={};function rT(n,t,i){!t&&!W0[n]&&(W0[n]=!0,ir(!1,i))}C.memo(ZI);function ZI({routes:n,future:t,state:i,onError:a}){return BI(n,void 0,i,a,t)}function JI({basename:n="/",children:t=null,location:i,navigationType:a="POP",navigator:l,static:u=!1,unstable_useTransitions:h}){Ge(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),g=C.useMemo(()=>({basename:m,navigator:l,static:u,unstable_useTransitions:h,future:{}}),[m,l,u,h]);typeof i=="string"&&(i=pu(i));let{pathname:p="/",search:E="",hash:b="",state:S=null,key:D="default"}=i,P=C.useMemo(()=>{let z=Mr(p,m);return z==null?null:{location:{pathname:z,search:E,hash:b,state:S,key:D},navigationType:a}},[m,p,E,b,S,D,a]);return ir(P!=null,`<Router basename="${m}"> is not able to match the URL "${p}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:C.createElement(_i.Provider,{value:g},C.createElement(Qf.Provider,{children:t,value:P}))}var af="get",sf="application/x-www-form-urlencoded";function Kf(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function WI(n){return Kf(n)&&n.tagName.toLowerCase()==="button"}function tO(n){return Kf(n)&&n.tagName.toLowerCase()==="form"}function eO(n){return Kf(n)&&n.tagName.toLowerCase()==="input"}function nO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iO(n,t){return n.button===0&&(!t||t==="_self")&&!nO(n)}var Xc=null;function rO(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var aO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(n){return n!=null&&!aO.has(n)?(ir(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sf}"`),null):n}function sO(n,t){let i,a,l,u,h;if(tO(n)){let m=n.getAttribute("action");a=m?Mr(m,t):null,i=n.getAttribute("method")||af,l=hm(n.getAttribute("enctype"))||sf,u=new FormData(n)}else if(WI(n)||eO(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(a=g?Mr(g,t):null,i=n.getAttribute("formmethod")||m.getAttribute("method")||af,l=hm(n.getAttribute("formenctype"))||hm(m.getAttribute("enctype"))||sf,u=new FormData(m,n),!rO()){let{name:p,type:E,value:b}=n;if(E==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,b)}}else{if(Kf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=af,a=null,l=sf,h=n}return u&&l==="text/plain"&&(h=u,u=void 0),{action:a,method:i.toLowerCase(),encType:l,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pg(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function lO(n,t,i,a){let l=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${a}`:l.pathname=`${l.pathname}.${a}`:l.pathname==="/"?l.pathname=`_root.${a}`:t&&Mr(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function oO(n,t){if(n.id in t)return t[n.id];try{let i=await import(n.module);return t[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function cO(n,t,i){let a=await Promise.all(n.map(async l=>{let u=t.routes[l.route.id];if(u){let h=await oO(u,i);return h.links?h.links():[]}return[]}));return mO(a.flat(1).filter(uO).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function tE(n,t,i,a,l,u){let h=(g,p)=>i[p]?g.route.id!==i[p].route.id:!0,m=(g,p)=>i[p].pathname!==g.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?t.filter((g,p)=>{let E=a.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function fO(n,t,{includeHydrateFallback:i}={}){return hO(n.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function hO(n){return[...new Set(n)]}function dO(n){let t={},i=Object.keys(n).sort();for(let a of i)t[a]=n[a];return t}function mO(n,t){let i=new Set;return new Set(t),n.reduce((a,l)=>{let u=JSON.stringify(dO(l));return i.has(u)||(i.add(u),a.push({key:u,link:l})),a},[])}function aT(){let n=C.useContext(xl);return Pg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gO(){let n=C.useContext(Yf);return Pg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jg=C.createContext(void 0);jg.displayName="FrameworkContext";function sT(){let n=C.useContext(jg);return Pg(n,"You must render this element inside a <HydratedRouter> element"),n}function pO(n,t){let i=C.useContext(jg),[a,l]=C.useState(!1),[u,h]=C.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:b}=t,S=C.useRef(null);C.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let z=K=>{K.forEach(X=>{h(X.isIntersecting)})},U=new IntersectionObserver(z,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[n]),C.useEffect(()=>{if(a){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[a]);let D=()=>{l(!0)},P=()=>{l(!1),h(!1)};return i?n!=="intent"?[u,S,{}]:[u,S,{onFocus:Mo(m,D),onBlur:Mo(g,P),onMouseEnter:Mo(p,D),onMouseLeave:Mo(E,P),onTouchStart:Mo(b,D)}]:[!1,S,{}]}function Mo(n,t){return i=>{n&&n(i),i.defaultPrevented||t(i)}}function yO({page:n,...t}){let{router:i}=aT(),a=C.useMemo(()=>Gb(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?C.createElement(_O,{page:n,matches:a,...t}):null}function vO(n){let{manifest:t,routeModules:i}=sT(),[a,l]=C.useState([]);return C.useEffect(()=>{let u=!1;return cO(n,t,i).then(h=>{u||l(h)}),()=>{u=!0}},[n,t,i]),a}function _O({page:n,matches:t,...i}){let a=gs(),{future:l,manifest:u,routeModules:h}=sT(),{basename:m}=aT(),{loaderData:g,matches:p}=gO(),E=C.useMemo(()=>tE(n,t,p,u,a,"data"),[n,t,p,u,a]),b=C.useMemo(()=>tE(n,t,p,u,a,"assets"),[n,t,p,u,a]),S=C.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let z=new Set,U=!1;if(t.forEach(X=>{let $=u.routes[X.route.id];!$||!$.hasLoader||(!E.some(it=>it.route.id===X.route.id)&&X.route.id in g&&h[X.route.id]?.shouldRevalidate||$.hasClientLoader?U=!0:z.add(X.route.id))}),z.size===0)return[];let K=lO(n,m,l.unstable_trailingSlashAwareDataRequests,"data");return U&&z.size>0&&K.searchParams.set("_routes",t.filter(X=>z.has(X.route.id)).map(X=>X.route.id).join(",")),[K.pathname+K.search]},[m,l.unstable_trailingSlashAwareDataRequests,g,a,u,E,t,n,h]),D=C.useMemo(()=>fO(b,u),[b,u]),P=vO(b);return C.createElement(C.Fragment,null,S.map(z=>C.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...i})),D.map(z=>C.createElement("link",{key:z,rel:"modulepreload",href:z,...i})),P.map(({key:z,link:U})=>C.createElement("link",{key:z,nonce:i.nonce,...U,crossOrigin:U.crossOrigin??i.crossOrigin})))}function EO(...n){return t=>{n.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var bO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bO&&(window.__reactRouterVersion="7.13.0")}catch{}function TO({basename:n,children:t,unstable_useTransitions:i,window:a}){let l=C.useRef();l.current==null&&(l.current=nI({window:a,v5Compat:!0}));let u=l.current,[h,m]=C.useState({action:u.action,location:u.location}),g=C.useCallback(p=>{i===!1?m(p):C.startTransition(()=>m(p))},[i]);return C.useLayoutEffect(()=>u.listen(g),[u,g]),C.createElement(JI,{basename:n,children:t,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:i})}var lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oT=C.forwardRef(function({onClick:t,discover:i="render",prefetch:a="none",relative:l,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S,...D},P){let{basename:z,unstable_useTransitions:U}=C.useContext(_i),K=typeof p=="string"&&lT.test(p),X=Zb(p,z);p=X.to;let $=UI(p,{relative:l}),[it,at,st]=pO(a,D),R=RO(p,{replace:h,state:m,target:g,preventScrollReset:E,relative:l,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:U});function w(M){t&&t(M),M.defaultPrevented||R(M)}let x=C.createElement("a",{...D,...st,href:X.absoluteURL||$,onClick:X.isExternal||u?t:w,ref:EO(P,at),target:g,"data-discover":!K&&i==="render"?"true":void 0});return it&&!K?C.createElement(C.Fragment,null,x,C.createElement(yO,{page:$})):x});oT.displayName="Link";var SO=C.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:a="",end:l=!1,style:u,to:h,viewTransition:m,children:g,...p},E){let b=vu(h,{relative:p.relative}),S=gs(),D=C.useContext(Yf),{navigator:P,basename:z}=C.useContext(_i),U=D!=null&&IO(b)&&m===!0,K=P.encodeLocation?P.encodeLocation(b).pathname:b.pathname,X=S.pathname,$=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;i||(X=X.toLowerCase(),$=$?$.toLowerCase():null,K=K.toLowerCase()),$&&z&&($=Mr($,z)||$);const it=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let at=X===K||!l&&X.startsWith(K)&&X.charAt(it)==="/",st=$!=null&&($===K||!l&&$.startsWith(K)&&$.charAt(K.length)==="/"),R={isActive:at,isPending:st,isTransitioning:U},w=at?t:void 0,x;typeof a=="function"?x=a(R):x=[a,at?"active":null,st?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(R):u;return C.createElement(oT,{...p,"aria-current":w,className:x,ref:E,style:M,to:h,viewTransition:m},typeof g=="function"?g(R):g)});SO.displayName="NavLink";var AO=C.forwardRef(({discover:n="render",fetcherKey:t,navigate:i,reloadDocument:a,replace:l,state:u,method:h=af,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S,...D},P)=>{let{unstable_useTransitions:z}=C.useContext(_i),U=DO(),K=NO(m,{relative:p}),X=h.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&lT.test(m),it=at=>{if(g&&g(at),at.defaultPrevented)return;at.preventDefault();let st=at.nativeEvent.submitter,R=st?.getAttribute("formmethod")||h,w=()=>U(st||at.currentTarget,{fetcherKey:t,method:R,navigate:i,replace:l,state:u,relative:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S});z&&i!==!1?C.startTransition(()=>w()):w()};return C.createElement("form",{ref:P,method:X,action:K,onSubmit:a?g:it,...D,"data-discover":!$&&n==="render"?"true":void 0})});AO.displayName="Form";function wO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uT(n){let t=C.useContext(xl);return Ge(t,wO(n)),t}function RO(n,{target:t,replace:i,state:a,preventScrollReset:l,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=zI(),E=gs(),b=vu(n,{relative:u});return C.useCallback(S=>{if(iO(S,t)){S.preventDefault();let D=i!==void 0?i:su(E)===su(b),P=()=>p(n,{replace:D,state:a,preventScrollReset:l,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});g?C.startTransition(()=>P()):P()}},[E,p,b,i,a,t,n,l,u,h,m,g])}var CO=0,xO=()=>`__${String(++CO)}__`;function DO(){let{router:n}=uT("useSubmit"),{basename:t}=C.useContext(_i),i=KI(),a=n.fetch,l=n.navigate;return C.useCallback(async(u,h={})=>{let{action:m,method:g,encType:p,formData:E,body:b}=sO(u,t);if(h.navigate===!1){let S=h.fetcherKey||xO();await a(S,i,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await l(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:b,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:i,flushSync:h.flushSync,viewTransition:h.viewTransition})},[a,l,t,i])}function NO(n,{relative:t}={}){let{basename:i}=C.useContext(_i),a=C.useContext(Vr);Ge(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...vu(n||".",{relative:t})},h=gs();if(n==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!n||n===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Cr([i,u.pathname])),su(u)}function IO(n,{relative:t}={}){let i=C.useContext(Wb);Ge(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=uT("useViewTransitionState"),l=vu(n,{relative:t});if(!i.isTransitioning)return!1;let u=Mr(i.currentLocation.pathname,a)||i.currentLocation.pathname,h=Mr(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Cf(l.pathname,h)!=null||Cf(l.pathname,u)!=null}XS.createRoot(document.getElementById("root")).render(F.jsx(C.StrictMode,{children:F.jsx(TO,{basename:"/outdoor-trip-planner/",children:F.jsx(eI,{})})}));
