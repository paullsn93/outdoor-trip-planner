(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function sw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yp={exports:{}},Ac={};var tb;function c2(){if(tb)return Ac;tb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,u){var f=null;if(u!==void 0&&(f=""+u),a.key!==void 0&&(f=""+a.key),"key"in a){u={};for(var g in a)g!=="key"&&(u[g]=a[g])}else u=a;return a=u.ref,{$$typeof:e,type:s,key:f,ref:a!==void 0?a:null,props:u}}return Ac.Fragment=t,Ac.jsx=n,Ac.jsxs=n,Ac}var eb;function h2(){return eb||(eb=1,Yp.exports=c2()),Yp.exports}var X=h2(),Xp={exports:{}},Zt={};var nb;function f2(){if(nb)return Zt;nb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function I(H){return H===null||typeof H!="object"?null:(H=A&&H[A]||H["@@iterator"],typeof H=="function"?H:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,Z={};function $(H,at,Tt){this.props=H,this.context=at,this.refs=Z,this.updater=Tt||U}$.prototype.isReactComponent={},$.prototype.setState=function(H,at){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,at,"setState")},$.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function nt(){}nt.prototype=$.prototype;function K(H,at,Tt){this.props=H,this.context=at,this.refs=Z,this.updater=Tt||U}var ht=K.prototype=new nt;ht.constructor=K,z(ht,$.prototype),ht.isPureReactComponent=!0;var ct=Array.isArray;function ut(){}var P={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function N(H,at,Tt){var bt=Tt.ref;return{$$typeof:e,type:H,key:at,ref:bt!==void 0?bt:null,props:Tt}}function F(H,at){return N(H.type,at,H.props)}function k(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function G(H){var at={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Tt){return at[Tt]})}var B=/\/+/g;function Ft(H,at){return typeof H=="object"&&H!==null&&H.key!=null?G(""+H.key):at.toString(36)}function we(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(ut,ut):(H.status="pending",H.then(function(at){H.status==="pending"&&(H.status="fulfilled",H.value=at)},function(at){H.status==="pending"&&(H.status="rejected",H.reason=at)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ot(H,at,Tt,bt,xt){var Et=typeof H;(Et==="undefined"||Et==="boolean")&&(H=null);var Ut=!1;if(H===null)Ut=!0;else switch(Et){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(H.$$typeof){case e:case t:Ut=!0;break;case b:return Ut=H._init,ot(Ut(H._payload),at,Tt,bt,xt)}}if(Ut)return xt=xt(H),Ut=bt===""?"."+Ft(H,0):bt,ct(xt)?(Tt="",Ut!=null&&(Tt=Ut.replace(B,"$&/")+"/"),ot(xt,at,Tt,"",function(Qt){return Qt})):xt!=null&&(k(xt)&&(xt=F(xt,Tt+(xt.key==null||H&&H.key===xt.key?"":(""+xt.key).replace(B,"$&/")+"/")+Ut)),at.push(xt)),1;Ut=0;var te=bt===""?".":bt+":";if(ct(H))for(var ee=0;ee<H.length;ee++)bt=H[ee],Et=te+Ft(bt,ee),Ut+=ot(bt,at,Tt,Et,xt);else if(ee=I(H),typeof ee=="function")for(H=ee.call(H),ee=0;!(bt=H.next()).done;)bt=bt.value,Et=te+Ft(bt,ee++),Ut+=ot(bt,at,Tt,Et,xt);else if(Et==="object"){if(typeof H.then=="function")return ot(we(H),at,Tt,bt,xt);throw at=String(H),Error("Objects are not valid as a React child (found: "+(at==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":at)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function gt(H,at,Tt){if(H==null)return H;var bt=[],xt=0;return ot(H,bt,"","",function(Et){return at.call(Tt,Et,xt++)}),bt}function yt(H){if(H._status===-1){var at=H._result;at=at(),at.then(function(Tt){(H._status===0||H._status===-1)&&(H._status=1,H._result=Tt)},function(Tt){(H._status===0||H._status===-1)&&(H._status=2,H._result=Tt)}),H._status===-1&&(H._status=0,H._result=at)}if(H._status===1)return H._result.default;throw H._result}var Vt=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var at=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(at))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},wt={map:gt,forEach:function(H,at,Tt){gt(H,function(){at.apply(this,arguments)},Tt)},count:function(H){var at=0;return gt(H,function(){at++}),at},toArray:function(H){return gt(H,function(at){return at})||[]},only:function(H){if(!k(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Zt.Activity=w,Zt.Children=wt,Zt.Component=$,Zt.Fragment=n,Zt.Profiler=a,Zt.PureComponent=K,Zt.StrictMode=s,Zt.Suspense=y,Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Zt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return P.H.useMemoCache(H)}},Zt.cache=function(H){return function(){return H.apply(null,arguments)}},Zt.cacheSignal=function(){return null},Zt.cloneElement=function(H,at,Tt){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var bt=z({},H.props),xt=H.key;if(at!=null)for(Et in at.key!==void 0&&(xt=""+at.key),at)!D.call(at,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&at.ref===void 0||(bt[Et]=at[Et]);var Et=arguments.length-2;if(Et===1)bt.children=Tt;else if(1<Et){for(var Ut=Array(Et),te=0;te<Et;te++)Ut[te]=arguments[te+2];bt.children=Ut}return N(H.type,xt,bt)},Zt.createContext=function(H){return H={$$typeof:f,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:u,_context:H},H},Zt.createElement=function(H,at,Tt){var bt,xt={},Et=null;if(at!=null)for(bt in at.key!==void 0&&(Et=""+at.key),at)D.call(at,bt)&&bt!=="key"&&bt!=="__self"&&bt!=="__source"&&(xt[bt]=at[bt]);var Ut=arguments.length-2;if(Ut===1)xt.children=Tt;else if(1<Ut){for(var te=Array(Ut),ee=0;ee<Ut;ee++)te[ee]=arguments[ee+2];xt.children=te}if(H&&H.defaultProps)for(bt in Ut=H.defaultProps,Ut)xt[bt]===void 0&&(xt[bt]=Ut[bt]);return N(H,Et,xt)},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(H){return{$$typeof:g,render:H}},Zt.isValidElement=k,Zt.lazy=function(H){return{$$typeof:b,_payload:{_status:-1,_result:H},_init:yt}},Zt.memo=function(H,at){return{$$typeof:v,type:H,compare:at===void 0?null:at}},Zt.startTransition=function(H){var at=P.T,Tt={};P.T=Tt;try{var bt=H(),xt=P.S;xt!==null&&xt(Tt,bt),typeof bt=="object"&&bt!==null&&typeof bt.then=="function"&&bt.then(ut,Vt)}catch(Et){Vt(Et)}finally{at!==null&&Tt.types!==null&&(at.types=Tt.types),P.T=at}},Zt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Zt.use=function(H){return P.H.use(H)},Zt.useActionState=function(H,at,Tt){return P.H.useActionState(H,at,Tt)},Zt.useCallback=function(H,at){return P.H.useCallback(H,at)},Zt.useContext=function(H){return P.H.useContext(H)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(H,at){return P.H.useDeferredValue(H,at)},Zt.useEffect=function(H,at){return P.H.useEffect(H,at)},Zt.useEffectEvent=function(H){return P.H.useEffectEvent(H)},Zt.useId=function(){return P.H.useId()},Zt.useImperativeHandle=function(H,at,Tt){return P.H.useImperativeHandle(H,at,Tt)},Zt.useInsertionEffect=function(H,at){return P.H.useInsertionEffect(H,at)},Zt.useLayoutEffect=function(H,at){return P.H.useLayoutEffect(H,at)},Zt.useMemo=function(H,at){return P.H.useMemo(H,at)},Zt.useOptimistic=function(H,at){return P.H.useOptimistic(H,at)},Zt.useReducer=function(H,at,Tt){return P.H.useReducer(H,at,Tt)},Zt.useRef=function(H){return P.H.useRef(H)},Zt.useState=function(H){return P.H.useState(H)},Zt.useSyncExternalStore=function(H,at,Tt){return P.H.useSyncExternalStore(H,at,Tt)},Zt.useTransition=function(){return P.H.useTransition()},Zt.version="19.2.4",Zt}var ib;function My(){return ib||(ib=1,Xp.exports=f2()),Xp.exports}var V=My();const Jn=sw(V);var Qp={exports:{}},Cc={},Wp={exports:{}},$p={};var sb;function d2(){return sb||(sb=1,(function(e){function t(ot,gt){var yt=ot.length;ot.push(gt);t:for(;0<yt;){var Vt=yt-1>>>1,wt=ot[Vt];if(0<a(wt,gt))ot[Vt]=gt,ot[yt]=wt,yt=Vt;else break t}}function n(ot){return ot.length===0?null:ot[0]}function s(ot){if(ot.length===0)return null;var gt=ot[0],yt=ot.pop();if(yt!==gt){ot[0]=yt;t:for(var Vt=0,wt=ot.length,H=wt>>>1;Vt<H;){var at=2*(Vt+1)-1,Tt=ot[at],bt=at+1,xt=ot[bt];if(0>a(Tt,yt))bt<wt&&0>a(xt,Tt)?(ot[Vt]=xt,ot[bt]=yt,Vt=bt):(ot[Vt]=Tt,ot[at]=yt,Vt=at);else if(bt<wt&&0>a(xt,yt))ot[Vt]=xt,ot[bt]=yt,Vt=bt;else break t}}return gt}function a(ot,gt){var yt=ot.sortIndex-gt.sortIndex;return yt!==0?yt:ot.id-gt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();e.unstable_now=function(){return f.now()-g}}var y=[],v=[],b=1,w=null,A=3,I=!1,U=!1,z=!1,Z=!1,$=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ht(ot){for(var gt=n(v);gt!==null;){if(gt.callback===null)s(v);else if(gt.startTime<=ot)s(v),gt.sortIndex=gt.expirationTime,t(y,gt);else break;gt=n(v)}}function ct(ot){if(z=!1,ht(ot),!U)if(n(y)!==null)U=!0,ut||(ut=!0,G());else{var gt=n(v);gt!==null&&we(ct,gt.startTime-ot)}}var ut=!1,P=-1,D=5,N=-1;function F(){return Z?!0:!(e.unstable_now()-N<D)}function k(){if(Z=!1,ut){var ot=e.unstable_now();N=ot;var gt=!0;try{t:{U=!1,z&&(z=!1,nt(P),P=-1),I=!0;var yt=A;try{e:{for(ht(ot),w=n(y);w!==null&&!(w.expirationTime>ot&&F());){var Vt=w.callback;if(typeof Vt=="function"){w.callback=null,A=w.priorityLevel;var wt=Vt(w.expirationTime<=ot);if(ot=e.unstable_now(),typeof wt=="function"){w.callback=wt,ht(ot),gt=!0;break e}w===n(y)&&s(y),ht(ot)}else s(y);w=n(y)}if(w!==null)gt=!0;else{var H=n(v);H!==null&&we(ct,H.startTime-ot),gt=!1}}break t}finally{w=null,A=yt,I=!1}gt=void 0}}finally{gt?G():ut=!1}}}var G;if(typeof K=="function")G=function(){K(k)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Ft=B.port2;B.port1.onmessage=k,G=function(){Ft.postMessage(null)}}else G=function(){$(k,0)};function we(ot,gt){P=$(function(){ot(e.unstable_now())},gt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ot){ot.callback=null},e.unstable_forceFrameRate=function(ot){0>ot||125<ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ot?Math.floor(1e3/ot):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_next=function(ot){switch(A){case 1:case 2:case 3:var gt=3;break;default:gt=A}var yt=A;A=gt;try{return ot()}finally{A=yt}},e.unstable_requestPaint=function(){Z=!0},e.unstable_runWithPriority=function(ot,gt){switch(ot){case 1:case 2:case 3:case 4:case 5:break;default:ot=3}var yt=A;A=ot;try{return gt()}finally{A=yt}},e.unstable_scheduleCallback=function(ot,gt,yt){var Vt=e.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Vt+yt:Vt):yt=Vt,ot){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=yt+wt,ot={id:b++,callback:gt,priorityLevel:ot,startTime:yt,expirationTime:wt,sortIndex:-1},yt>Vt?(ot.sortIndex=yt,t(v,ot),n(y)===null&&ot===n(v)&&(z?(nt(P),P=-1):z=!0,we(ct,yt-Vt))):(ot.sortIndex=wt,t(y,ot),U||I||(U=!0,ut||(ut=!0,G()))),ot},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(ot){var gt=A;return function(){var yt=A;A=gt;try{return ot.apply(this,arguments)}finally{A=yt}}}})($p)),$p}var rb;function m2(){return rb||(rb=1,Wp.exports=d2()),Wp.exports}var Jp={exports:{}},bi={};var ob;function p2(){if(ob)return bi;ob=1;var e=My();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(y,v,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:y,containerInfo:v,implementation:b}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return bi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bi.createPortal=function(y,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(y,v,null,b)},bi.flushSync=function(y){var v=f.T,b=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=v,s.p=b,s.d.f()}},bi.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},bi.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},bi.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var b=v.as,w=g(b,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,I=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:I}):b==="script"&&s.d.X(y,{crossOrigin:w,integrity:A,fetchPriority:I,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},bi.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},bi.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,w=g(b,v.crossOrigin);s.d.L(y,b,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},bi.preloadModule=function(y,v){if(typeof y=="string")if(v){var b=g(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},bi.requestFormReset=function(y){s.d.r(y)},bi.unstable_batchedUpdates=function(y,v){return y(v)},bi.useFormState=function(y,v,b){return f.H.useFormState(y,v,b)},bi.useFormStatus=function(){return f.H.useHostTransitionStatus()},bi.version="19.2.4",bi}var ab;function rw(){if(ab)return Jp.exports;ab=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Jp.exports=p2(),Jp.exports}var lb;function g2(){if(lb)return Cc;lb=1;var e=m2(),t=My(),n=rw();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function f(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function g(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function y(i){if(u(i)!==i)throw Error(s(188))}function v(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var p=l.return;if(p===null)break;var _=p.alternate;if(_===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===l)return y(p),i;if(_===h)return y(p),r;_=_.sibling}throw Error(s(188))}if(l.return!==h.return)l=p,h=_;else{for(var x=!1,M=p.child;M;){if(M===l){x=!0,l=p,h=_;break}if(M===h){x=!0,h=p,l=_;break}M=M.sibling}if(!x){for(M=_.child;M;){if(M===l){x=!0,l=_,h=p;break}if(M===h){x=!0,h=_,l=p;break}M=M.sibling}if(!x)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function b(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=b(i),r!==null)return r;i=i.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function Ft(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case $:return"Profiler";case Z:return"StrictMode";case ct:return"Suspense";case ut:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case U:return"Portal";case K:return i.displayName||"Context";case nt:return(i._context.displayName||"Context")+".Consumer";case ht:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return r=i.displayName||null,r!==null?r:Ft(i.type)||"Memo";case D:r=i._payload,i=i._init;try{return Ft(i(r))}catch{}}return null}var we=Array.isArray,ot=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Vt=[],wt=-1;function H(i){return{current:i}}function at(i){0>wt||(i.current=Vt[wt],Vt[wt]=null,wt--)}function Tt(i,r){wt++,Vt[wt]=i.current,i.current=r}var bt=H(null),xt=H(null),Et=H(null),Ut=H(null);function te(i,r){switch(Tt(Et,r),Tt(xt,i),Tt(bt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?wT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=wT(r),i=ST(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}at(bt),Tt(bt,i)}function ee(){at(bt),at(xt),at(Et)}function Qt(i){i.memoizedState!==null&&Tt(Ut,i);var r=bt.current,l=ST(r,i.type);r!==l&&(Tt(xt,i),Tt(bt,l))}function hi(i){xt.current===i&&(at(bt),at(xt)),Ut.current===i&&(at(Ut),Ec._currentValue=yt)}var Xe,ti;function rn(i){if(Xe===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Xe=r&&r[1]||"",ti=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+i+ti}var Ai=!1;function ei(i,r){if(!i||Ai)return"";Ai=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(lt){var st=lt}Reflect.construct(i,[],pt)}else{try{pt.call()}catch(lt){st=lt}i.call(pt.prototype)}}else{try{throw Error()}catch(lt){st=lt}(pt=i())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(lt){if(lt&&st&&typeof lt.stack=="string")return[lt.stack,st.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),x=_[0],M=_[1];if(x&&M){var q=x.split(`
`),et=M.split(`
`);for(p=h=0;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;for(;p<et.length&&!et[p].includes("DetermineComponentFrameRoot");)p++;if(h===q.length||p===et.length)for(h=q.length-1,p=et.length-1;1<=h&&0<=p&&q[h]!==et[p];)p--;for(;1<=h&&0<=p;h--,p--)if(q[h]!==et[p]){if(h!==1||p!==1)do if(h--,p--,0>p||q[h]!==et[p]){var ft=`
`+q[h].replace(" at new "," at ");return i.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",i.displayName)),ft}while(1<=h&&0<=p);break}}}finally{Ai=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?rn(l):""}function vs(i,r){switch(i.tag){case 26:case 27:case 5:return rn(i.type);case 16:return rn("Lazy");case 13:return i.child!==r&&r!==null?rn("Suspense Fallback"):rn("Suspense");case 19:return rn("SuspenseList");case 0:case 15:return ei(i.type,!1);case 11:return ei(i.type.render,!1);case 1:return ei(i.type,!0);case 31:return rn("Activity");default:return""}}function es(i){try{var r="",l=null;do r+=vs(i,l),l=i,i=i.return;while(i);return r}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ve=Object.prototype.hasOwnProperty,be=e.unstable_scheduleCallback,ni=e.unstable_cancelCallback,qs=e.unstable_shouldYield,pr=e.unstable_requestPaint,_n=e.unstable_now,Zs=e.unstable_getCurrentPriorityLevel,Gs=e.unstable_ImmediatePriority,Ci=e.unstable_UserBlockingPriority,zn=e.unstable_NormalPriority,Ks=e.unstable_LowPriority,gr=e.unstable_IdlePriority,fi=e.log,Zr=e.unstable_setDisableYieldValue,di=null,Qe=null;function Mn(i){if(typeof fi=="function"&&Zr(i),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(di,i)}catch{}}var ke=Math.clz32?Math.clz32:Ao,Ts=Math.log,Ys=Math.LN2;function Ao(i){return i>>>=0,i===0?32:31-(Ts(i)/Ys|0)|0}var Ri=256,bs=262144,Wt=4194304;function ze(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Be(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var p=0,_=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~_,h!==0?p=ze(h):(x&=M,x!==0?p=ze(x):l||(l=M&~i,l!==0&&(p=ze(l))))):(M=h&~_,M!==0?p=ze(M):x!==0?p=ze(x):l||(l=h&~i,l!==0&&(p=ze(l)))),p===0?0:r!==0&&r!==p&&(r&_)===0&&(_=p&-p,l=r&-r,_>=l||_===32&&(l&4194048)!==0)?r:p}function on(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Bn(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vn(){var i=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),i}function We(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Un(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $e(i,r,l,h,p,_){var x=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,q=i.expirationTimes,et=i.hiddenUpdates;for(l=x&~l;0<l;){var ft=31-ke(l),pt=1<<ft;M[ft]=0,q[ft]=-1;var st=et[ft];if(st!==null)for(et[ft]=null,ft=0;ft<st.length;ft++){var lt=st[ft];lt!==null&&(lt.lane&=-536870913)}l&=~pt}h!==0&&jn(i,h,0),_!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=_&~(x&~r))}function jn(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-ke(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function Fn(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-ke(l),p=1<<h;p&r|i[h]&r&&(i[h]|=r),l&=~p}}function ii(i,r){var l=r&-r;return l=(l&42)!==0?1:Ge(l),(l&(i.suspendedLanes|r))!==0?0:l}function Ge(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ct(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function mi(){var i=gt.p;return i!==0?i:(i=window.event,i===void 0?32:KT(i.type))}function Tn(i,r){var l=gt.p;try{return gt.p=i,r()}finally{gt.p=l}}var Hn=Math.random().toString(36).slice(2),Je="__reactFiber$"+Hn,an="__reactProps$"+Hn,ns="__reactContainer$"+Hn,is="__reactEvents$"+Hn,Al="__reactListeners$"+Hn,Cl="__reactHandles$"+Hn,Rl="__reactResources$"+Hn,Es="__reactMarker$"+Hn;function Co(i){delete i[Je],delete i[an],delete i[is],delete i[Al],delete i[Cl]}function ss(i){var r=i[Je];if(r)return r;for(var l=i.parentNode;l;){if(r=l[ns]||l[Je]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=IT(i);i!==null;){if(l=i[Je])return l;i=IT(i)}return r}i=l,l=i.parentNode}return null}function zi(i){if(i=i[Je]||i[ns]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function qn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ws(i){var r=i[Rl];return r||(r=i[Rl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ln(i){i[Es]=!0}var Ia=new Set,Pa={};function Ss(i,r){Bi(i,r),Bi(i+"Capture",r)}function Bi(i,r){for(Pa[i]=r,i=0;i<r.length;i++)Ia.add(r[i])}var Xs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Do={};function yr(i){return Ve.call(Do,i)?!0:Ve.call(Ro,i)?!1:Xs.test(i)?Do[i]=!0:(Ro[i]=!0,!1)}function Jt(i,r,l){if(yr(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function ne(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Ue(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}function je(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Di(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Gr(i,r,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var p=h.get,_=h.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(x){l=""+x,_.call(this,x)}}),Object.defineProperty(i,r,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Rt(i){if(!i._valueTracker){var r=Di(i)?"checked":"value";i._valueTracker=Gr(i,r,""+i[r])}}function Ae(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=Di(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function Ui(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xs=/[\n"\\]/g;function Le(i){return i.replace(xs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Mo(i,r,l,h,p,_,x,M){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),r!=null?x==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+je(r)):i.value!==""+je(r)&&(i.value=""+je(r)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),r!=null?rs(i,x,je(r)):l!=null?rs(i,x,je(l)):h!=null&&i.removeAttribute("value"),p==null&&_!=null&&(i.defaultChecked=!!_),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+je(M):i.removeAttribute("name")}function Kr(i,r,l,h,p,_,x,M){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),r!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||r!=null)){Rt(i);return}l=l!=null?""+je(l):"",r=r!=null?""+je(r):l,M||r===i.value||(i.value=r),i.defaultValue=r}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),Rt(i)}function rs(i,r,l){r==="number"&&Ui(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Ce(i,r,l,h){if(i=i.options,r){r={};for(var p=0;p<l.length;p++)r["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=r.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+je(l),r=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function As(i,r,l){if(r!=null&&(r=""+je(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+je(l):""}function ji(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(we(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=je(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Rt(i)}function bn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var Io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qs(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||Io.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Yr(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var p in r)h=r[p],r.hasOwnProperty(p)&&l[p]!==h&&Qs(i,p,h)}else for(var _ in r)r.hasOwnProperty(_)&&Qs(i,_,r[_])}function _r(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vr(i){return Cs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function pi(){}var Po=null;function gi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Tr=null,kt=null;function Zn(i){var r=zi(i);if(r&&(i=r.stateNode)){var l=i[an]||null;t:switch(i=r.stateNode,r.type){case"input":if(Mo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Le(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var p=h[an]||null;if(!p)throw Error(s(90));Mo(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&Ae(h)}break t;case"textarea":As(i,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Ce(i,!!l.multiple,r,!1)}}}var ge=!1;function Ws(i,r,l){if(ge)return i(r,l);ge=!0;try{var h=i(r);return h}finally{if(ge=!1,(Tr!==null||kt!==null)&&(mf(),Tr&&(r=Tr,i=kt,kt=Tr=null,Zn(r),i)))for(r=0;r<i.length;r++)Zn(i[r])}}function Mi(i,r){var l=i.stateNode;if(l===null)return null;var h=l[an]||null;if(h===null)return null;l=h[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$s=!1;if(yi)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){$s=!0}}),window.addEventListener("test",oe,oe),window.removeEventListener("test",oe,oe)}catch{$s=!1}var Fi=null,Js=null,Fe=null;function os(){if(Fe)return Fe;var i,r=Js,l=r.length,h,p="value"in Fi?Fi.value:Fi.textContent,_=p.length;for(i=0;i<l&&r[i]===p[i];i++);var x=l-i;for(h=1;h<=x&&r[l-h]===p[_-h];h++);return Fe=p.slice(i,1<h?1-h:void 0)}function br(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Rs(){return!0}function as(){return!1}function En(i){function r(l,h,p,_,x){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Rs:as,this.isPropagationStopped=as,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),r}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=En(ls),tr=w({},ls,{view:0,detail:0}),$t=En(tr),Er,Gn,_i,Qr=w({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_i&&(_i&&i.type==="mousemove"?(Er=i.screenX-_i.screenX,Gn=i.screenY-_i.screenY):Gn=Er=0,_i=i),Er)},movementY:function(i){return"movementY"in i?i.movementY:Gn}}),La=En(Qr),er=w({},Qr,{dataTransfer:0}),Dl=En(er),Oa=w({},tr,{relatedTarget:0}),Wr=En(Oa),Na=w({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Lo=En(Na),Oo=w({},ls,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ii=En(Oo),Ml=w({},ls,{data:0}),us=En(Ml),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Va={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ka={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function No(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ka[i])?!!r[i]:!1}function wr(){return No}var Kn=w({},tr,{key:function(i){if(i.key){var r=cs[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=br(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Va[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(i){return i.type==="keypress"?br(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?br(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),za=En(Kn),Il=w({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nr=En(Il),d=w({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),E=En(d),C=w({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=En(C),J=w({},Qr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=En(J),St=w({},ls,{newState:0,oldState:0}),Ht=En(St),fe=[9,13,27,32],de=yi&&"CompositionEvent"in window,Oe=null;yi&&"documentMode"in document&&(Oe=document.documentMode);var Hi=yi&&"TextEvent"in window&&!Oe,qi=yi&&(!de||Oe&&8<Oe&&11>=Oe),Pi=" ",hs=!1;function $r(i,r){switch(i){case"keyup":return fe.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jr(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Vo=!1;function fs(i,r){switch(i){case"compositionend":return Jr(r);case"keypress":return r.which!==32?null:(hs=!0,Pi);case"textInput":return i=r.data,i===Pi&&hs?null:i;default:return null}}function ko(i,r){if(Vo)return i==="compositionend"||!de&&$r(i,r)?(i=os(),Fe=Js=Fi=null,Vo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qi&&r.locale!=="ko"?null:r.data;default:return null}}var fm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ms(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!fm[i.type]:r==="textarea"}function Mh(i,r,l,h){Tr?kt?kt.push(h):kt=[h]:Tr=h,r=bf(r,"onChange"),0<r.length&&(l=new Ds("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var Is=null,Ba=null;function Ua(i){yT(i,0)}function ja(i){var r=qn(i);if(Ae(r))return i}function Fa(i,r){if(i==="change")return r}var Ih=!1;if(yi){var Ps;if(yi){var zo="oninput"in document;if(!zo){var Ph=document.createElement("div");Ph.setAttribute("oninput","return;"),zo=typeof Ph.oninput=="function"}Ps=zo}else Ps=!1;Ih=Ps&&(!document.documentMode||9<document.documentMode)}function Pl(){Is&&(Is.detachEvent("onpropertychange",Lh),Ba=Is=null)}function Lh(i){if(i.propertyName==="value"&&ja(Ba)){var r=[];Mh(r,Ba,i,gi(i)),Ws(Ua,r)}}function ir(i,r,l){i==="focusin"?(Pl(),Is=r,Ba=l,Is.attachEvent("onpropertychange",Lh)):i==="focusout"&&Pl()}function dm(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ja(Ba)}function Bo(i,r){if(i==="click")return ja(r)}function mm(i,r){if(i==="input"||i==="change")return ja(r)}function sr(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Yn=typeof Object.is=="function"?Object.is:sr;function Uo(i,r){if(Yn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!Ve.call(r,p)||!Yn(i[p],r[p]))return!1}return!0}function Ll(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ha(i,r){var l=Ll(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Ll(l)}}function Ol(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Ol(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function qa(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ui(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Ui(i.document)}return r}function Sr(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Nl=yi&&"documentMode"in document&&11>=document.documentMode,xr=null,Vl=null,Za=null,jo=!1;function Oh(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;jo||xr==null||xr!==Ui(h)||(h=xr,"selectionStart"in h&&Sr(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Za&&Uo(Za,h)||(Za=h,h=bf(Vl,"onSelect"),0<h.length&&(r=new Ds("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=xr)))}function Ar(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Fo={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},kl={},Nh={};yi&&(Nh=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Xn(i){if(kl[i])return kl[i];if(!Fo[i])return i;var r=Fo[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in Nh)return kl[i]=r[l];return i}var Ga=Xn("animationend"),Vh=Xn("animationiteration"),Ka=Xn("animationstart"),pm=Xn("transitionrun"),kh=Xn("transitionstart"),gm=Xn("transitioncancel"),Ho=Xn("transitionend"),zh=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cr.push("scrollEnd");function Zi(i,r){zh.set(i,r),Ss(r,[i])}var Ya=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Gi=[],vi=0,zl=0;function Xa(){for(var i=vi,r=zl=vi=0;r<i;){var l=Gi[r];Gi[r++]=null;var h=Gi[r];Gi[r++]=null;var p=Gi[r];Gi[r++]=null;var _=Gi[r];if(Gi[r++]=null,h!==null&&p!==null){var x=h.pending;x===null?p.next=p:(p.next=x.next,x.next=p),h.pending=p}_!==0&&qo(l,p,_)}}function Rr(i,r,l,h){Gi[vi++]=i,Gi[vi++]=r,Gi[vi++]=l,Gi[vi++]=h,zl|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function qu(i,r,l,h){return Rr(i,r,l,h),Qa(i)}function Ls(i,r){return Rr(i,null,null,r),Qa(i)}function qo(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var p=!1,_=i.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(p=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,p&&r!==null&&(p=31-ke(l),i=_.hiddenUpdates,h=i[p],h===null?i[p]=[r]:h.push(r),r.lane=l|536870912),_):null}function Qa(i){if(50<pc)throw pc=0,_p=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var to={};function ym(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(i,r,l,h){return new ym(i,r,l,h)}function Bl(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Os(i,r){var l=i.alternate;return l===null?(l=Ti(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Zu(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Wa(i,r,l,h,p,_){var x=0;if(h=i,typeof i=="function")Bl(i)&&(x=1);else if(typeof i=="string")x=$R(i,l,bt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case N:return i=Ti(31,l,r,p),i.elementType=N,i.lanes=_,i;case z:return eo(l.children,p,_,r);case Z:x=8,p|=24;break;case $:return i=Ti(12,l,r,p|2),i.elementType=$,i.lanes=_,i;case ct:return i=Ti(13,l,r,p),i.elementType=ct,i.lanes=_,i;case ut:return i=Ti(19,l,r,p),i.elementType=ut,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:x=10;break t;case nt:x=9;break t;case ht:x=11;break t;case P:x=14;break t;case D:x=16,h=null;break t}x=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=Ti(x,l,r,p),r.elementType=i,r.type=h,r.lanes=_,r}function eo(i,r,l,h){return i=Ti(7,i,h,r),i.lanes=l,i}function Ul(i,r,l){return i=Ti(6,i,null,r),i.lanes=l,i}function Gu(i){var r=Ti(18,null,null,0);return r.stateNode=i,r}function Ku(i,r,l){return r=Ti(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var o=new WeakMap;function c(i,r){if(typeof i=="object"&&i!==null){var l=o.get(i);return l!==void 0?l:(r={value:i,source:r,stack:es(r)},o.set(i,r),r)}return{value:i,source:r,stack:es(r)}}var m=[],T=0,S=null,R=0,j=[],W=0,it=null,mt=1,At="";function Ot(i,r){m[T++]=R,m[T++]=S,S=i,R=r}function Yt(i,r,l){j[W++]=mt,j[W++]=At,j[W++]=it,it=i;var h=mt;i=At;var p=32-ke(h)-1;h&=~(1<<p),l+=1;var _=32-ke(r)+p;if(30<_){var x=p-p%5;_=(h&(1<<x)-1).toString(32),h>>=x,p-=x,mt=1<<32-ke(r)+p|l<<p|h,At=_+i}else mt=1<<_|l<<p|h,At=i}function In(i){i.return!==null&&(Ot(i,1),Yt(i,1,0))}function un(i){for(;i===S;)S=m[--T],m[T]=null,R=m[--T],m[T]=null;for(;i===it;)it=j[--W],j[W]=null,At=j[--W],j[W]=null,mt=j[--W],j[W]=null}function Li(i,r){j[W++]=mt,j[W++]=At,j[W++]=it,mt=r.id,At=r.overflow,it=i}var ye=null,_e=null,ie=!1,Dr=null,Ki=!1,jl=Error(s(519));function Mr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $a(c(r,i)),jl}function Yu(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[Je]=i,r[an]=h,l){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(l=0;l<yc.length;l++)re(yc[l],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":re("invalid",r),Kr(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":re("invalid",r);break;case"textarea":re("invalid",r),ji(r,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||bT(r.textContent,l)?(h.popover!=null&&(re("beforetoggle",r),re("toggle",r)),h.onScroll!=null&&re("scroll",r),h.onScrollEnd!=null&&re("scrollend",r),h.onClick!=null&&(r.onclick=pi),r=!0):r=!1,r||Mr(i,!0)}function tn(i){for(ye=i.return;ye;)switch(ye.tag){case 5:case 31:case 13:Ki=!1;return;case 27:case 3:Ki=!0;return;default:ye=ye.return}}function rr(i){if(i!==ye)return!1;if(!ie)return tn(i),ie=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Lp(i.type,i.memoizedProps)),l=!l),l&&_e&&Mr(i),tn(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));_e=MT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));_e=MT(i)}else r===27?(r=_e,sa(i.type)?(i=zp,zp=null,_e=i):_e=r):_e=ye?Vs(i.stateNode.nextSibling):null;return!0}function no(){_e=ye=null,ie=!1}function Xu(){var i=Dr;return i!==null&&(Wi===null?Wi=i:Wi.push.apply(Wi,i),Dr=null),i}function $a(i){Dr===null?Dr=[i]:Dr.push(i)}var Ja=H(null),Ir=null,or=null;function Zo(i,r,l){Tt(Ja,r._currentValue),r._currentValue=l}function io(i){i._currentValue=Ja.current,at(Ja)}function _m(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function vm(i,r,l,h){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var _=p.dependencies;if(_!==null){var x=p.child;_=_.firstContext;t:for(;_!==null;){var M=_;_=p;for(var q=0;q<r.length;q++)if(M.context===r[q]){_.lanes|=l,M=_.alternate,M!==null&&(M.lanes|=l),_m(_.return,l,i),h||(x=null);break t}_=M.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(s(341));x.lanes|=l,_=x.alternate,_!==null&&(_.lanes|=l),_m(x,l,i),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===i){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function Fl(i,r,l,h){i=null;for(var p=r,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var M=p.type;Yn(p.pendingProps.value,x.value)||(i!==null?i.push(M):i=[M])}}else if(p===Ut.current){if(x=p.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Ec):i=[Ec])}p=p.return}i!==null&&vm(r,i,l,h),r.flags|=262144}function Bh(i){for(i=i.firstContext;i!==null;){if(!Yn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function tl(i){Ir=i,or=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function si(i){return ov(Ir,i)}function Uh(i,r){return Ir===null&&tl(i),ov(i,r)}function ov(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},or===null){if(i===null)throw Error(s(308));or=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else or=or.next=r;return l}var YC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},XC=e.unstable_scheduleCallback,QC=e.unstable_NormalPriority,wn={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tm(){return{controller:new YC,data:new Map,refCount:0}}function Qu(i){i.refCount--,i.refCount===0&&XC(QC,function(){i.controller.abort()})}var Wu=null,bm=0,Hl=0,ql=null;function WC(i,r){if(Wu===null){var l=Wu=[];bm=0,Hl=Sp(),ql={status:"pending",value:void 0,then:function(h){l.push(h)}}}return bm++,r.then(av,av),r}function av(){if(--bm===0&&Wu!==null){ql!==null&&(ql.status="fulfilled");var i=Wu;Wu=null,Hl=0,ql=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function $C(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var p=0;p<l.length;p++)(0,l[p])(r)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var lv=ot.S;ot.S=function(i,r){Z0=_n(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&WC(i,r),lv!==null&&lv(i,r)};var el=H(null);function Em(){var i=el.current;return i!==null?i:Ne.pooledCache}function jh(i,r){r===null?Tt(el,el.current):Tt(el,r.pool)}function uv(){var i=Em();return i===null?null:{parent:wn._currentValue,pool:i}}var Zl=Error(s(460)),wm=Error(s(474)),Fh=Error(s(542)),Hh={then:function(){}};function cv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function hv(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(pi,pi),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,dv(i),i;default:if(typeof r.status=="string")r.then(pi,pi);else{if(i=Ne,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=h}},function(h){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,dv(i),i}throw il=r,Zl}}function nl(i){try{var r=i._init;return r(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(il=l,Zl):l}}var il=null;function fv(){if(il===null)throw Error(s(459));var i=il;return il=null,i}function dv(i){if(i===Zl||i===Fh)throw Error(s(483))}var Gl=null,$u=0;function qh(i){var r=$u;return $u+=1,Gl===null&&(Gl=[]),hv(Gl,i,r)}function Ju(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Zh(i,r){throw r.$$typeof===A?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function mv(i){function r(Q,Y){if(i){var tt=Q.deletions;tt===null?(Q.deletions=[Y],Q.flags|=16):tt.push(Y)}}function l(Q,Y){if(!i)return null;for(;Y!==null;)r(Q,Y),Y=Y.sibling;return null}function h(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function p(Q,Y){return Q=Os(Q,Y),Q.index=0,Q.sibling=null,Q}function _(Q,Y,tt){return Q.index=tt,i?(tt=Q.alternate,tt!==null?(tt=tt.index,tt<Y?(Q.flags|=67108866,Y):tt):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function x(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function M(Q,Y,tt,dt){return Y===null||Y.tag!==6?(Y=Ul(tt,Q.mode,dt),Y.return=Q,Y):(Y=p(Y,tt),Y.return=Q,Y)}function q(Q,Y,tt,dt){var Nt=tt.type;return Nt===z?ft(Q,Y,tt.props.children,dt,tt.key):Y!==null&&(Y.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===D&&nl(Nt)===Y.type)?(Y=p(Y,tt.props),Ju(Y,tt),Y.return=Q,Y):(Y=Wa(tt.type,tt.key,tt.props,null,Q.mode,dt),Ju(Y,tt),Y.return=Q,Y)}function et(Q,Y,tt,dt){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==tt.containerInfo||Y.stateNode.implementation!==tt.implementation?(Y=Ku(tt,Q.mode,dt),Y.return=Q,Y):(Y=p(Y,tt.children||[]),Y.return=Q,Y)}function ft(Q,Y,tt,dt,Nt){return Y===null||Y.tag!==7?(Y=eo(tt,Q.mode,dt,Nt),Y.return=Q,Y):(Y=p(Y,tt),Y.return=Q,Y)}function pt(Q,Y,tt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Ul(""+Y,Q.mode,tt),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case I:return tt=Wa(Y.type,Y.key,Y.props,null,Q.mode,tt),Ju(tt,Y),tt.return=Q,tt;case U:return Y=Ku(Y,Q.mode,tt),Y.return=Q,Y;case D:return Y=nl(Y),pt(Q,Y,tt)}if(we(Y)||G(Y))return Y=eo(Y,Q.mode,tt,null),Y.return=Q,Y;if(typeof Y.then=="function")return pt(Q,qh(Y),tt);if(Y.$$typeof===K)return pt(Q,Uh(Q,Y),tt);Zh(Q,Y)}return null}function st(Q,Y,tt,dt){var Nt=Y!==null?Y.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Nt!==null?null:M(Q,Y,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case I:return tt.key===Nt?q(Q,Y,tt,dt):null;case U:return tt.key===Nt?et(Q,Y,tt,dt):null;case D:return tt=nl(tt),st(Q,Y,tt,dt)}if(we(tt)||G(tt))return Nt!==null?null:ft(Q,Y,tt,dt,null);if(typeof tt.then=="function")return st(Q,Y,qh(tt),dt);if(tt.$$typeof===K)return st(Q,Y,Uh(Q,tt),dt);Zh(Q,tt)}return null}function lt(Q,Y,tt,dt,Nt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return Q=Q.get(tt)||null,M(Y,Q,""+dt,Nt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case I:return Q=Q.get(dt.key===null?tt:dt.key)||null,q(Y,Q,dt,Nt);case U:return Q=Q.get(dt.key===null?tt:dt.key)||null,et(Y,Q,dt,Nt);case D:return dt=nl(dt),lt(Q,Y,tt,dt,Nt)}if(we(dt)||G(dt))return Q=Q.get(tt)||null,ft(Y,Q,dt,Nt,null);if(typeof dt.then=="function")return lt(Q,Y,tt,qh(dt),Nt);if(dt.$$typeof===K)return lt(Q,Y,tt,Uh(Y,dt),Nt);Zh(Y,dt)}return null}function Mt(Q,Y,tt,dt){for(var Nt=null,ve=null,Pt=Y,Xt=Y=0,le=null;Pt!==null&&Xt<tt.length;Xt++){Pt.index>Xt?(le=Pt,Pt=null):le=Pt.sibling;var Te=st(Q,Pt,tt[Xt],dt);if(Te===null){Pt===null&&(Pt=le);break}i&&Pt&&Te.alternate===null&&r(Q,Pt),Y=_(Te,Y,Xt),ve===null?Nt=Te:ve.sibling=Te,ve=Te,Pt=le}if(Xt===tt.length)return l(Q,Pt),ie&&Ot(Q,Xt),Nt;if(Pt===null){for(;Xt<tt.length;Xt++)Pt=pt(Q,tt[Xt],dt),Pt!==null&&(Y=_(Pt,Y,Xt),ve===null?Nt=Pt:ve.sibling=Pt,ve=Pt);return ie&&Ot(Q,Xt),Nt}for(Pt=h(Pt);Xt<tt.length;Xt++)le=lt(Pt,Q,Xt,tt[Xt],dt),le!==null&&(i&&le.alternate!==null&&Pt.delete(le.key===null?Xt:le.key),Y=_(le,Y,Xt),ve===null?Nt=le:ve.sibling=le,ve=le);return i&&Pt.forEach(function(ua){return r(Q,ua)}),ie&&Ot(Q,Xt),Nt}function Bt(Q,Y,tt,dt){if(tt==null)throw Error(s(151));for(var Nt=null,ve=null,Pt=Y,Xt=Y=0,le=null,Te=tt.next();Pt!==null&&!Te.done;Xt++,Te=tt.next()){Pt.index>Xt?(le=Pt,Pt=null):le=Pt.sibling;var ua=st(Q,Pt,Te.value,dt);if(ua===null){Pt===null&&(Pt=le);break}i&&Pt&&ua.alternate===null&&r(Q,Pt),Y=_(ua,Y,Xt),ve===null?Nt=ua:ve.sibling=ua,ve=ua,Pt=le}if(Te.done)return l(Q,Pt),ie&&Ot(Q,Xt),Nt;if(Pt===null){for(;!Te.done;Xt++,Te=tt.next())Te=pt(Q,Te.value,dt),Te!==null&&(Y=_(Te,Y,Xt),ve===null?Nt=Te:ve.sibling=Te,ve=Te);return ie&&Ot(Q,Xt),Nt}for(Pt=h(Pt);!Te.done;Xt++,Te=tt.next())Te=lt(Pt,Q,Xt,Te.value,dt),Te!==null&&(i&&Te.alternate!==null&&Pt.delete(Te.key===null?Xt:Te.key),Y=_(Te,Y,Xt),ve===null?Nt=Te:ve.sibling=Te,ve=Te);return i&&Pt.forEach(function(u2){return r(Q,u2)}),ie&&Ot(Q,Xt),Nt}function Pe(Q,Y,tt,dt){if(typeof tt=="object"&&tt!==null&&tt.type===z&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case I:t:{for(var Nt=tt.key;Y!==null;){if(Y.key===Nt){if(Nt=tt.type,Nt===z){if(Y.tag===7){l(Q,Y.sibling),dt=p(Y,tt.props.children),dt.return=Q,Q=dt;break t}}else if(Y.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===D&&nl(Nt)===Y.type){l(Q,Y.sibling),dt=p(Y,tt.props),Ju(dt,tt),dt.return=Q,Q=dt;break t}l(Q,Y);break}else r(Q,Y);Y=Y.sibling}tt.type===z?(dt=eo(tt.props.children,Q.mode,dt,tt.key),dt.return=Q,Q=dt):(dt=Wa(tt.type,tt.key,tt.props,null,Q.mode,dt),Ju(dt,tt),dt.return=Q,Q=dt)}return x(Q);case U:t:{for(Nt=tt.key;Y!==null;){if(Y.key===Nt)if(Y.tag===4&&Y.stateNode.containerInfo===tt.containerInfo&&Y.stateNode.implementation===tt.implementation){l(Q,Y.sibling),dt=p(Y,tt.children||[]),dt.return=Q,Q=dt;break t}else{l(Q,Y);break}else r(Q,Y);Y=Y.sibling}dt=Ku(tt,Q.mode,dt),dt.return=Q,Q=dt}return x(Q);case D:return tt=nl(tt),Pe(Q,Y,tt,dt)}if(we(tt))return Mt(Q,Y,tt,dt);if(G(tt)){if(Nt=G(tt),typeof Nt!="function")throw Error(s(150));return tt=Nt.call(tt),Bt(Q,Y,tt,dt)}if(typeof tt.then=="function")return Pe(Q,Y,qh(tt),dt);if(tt.$$typeof===K)return Pe(Q,Y,Uh(Q,tt),dt);Zh(Q,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,Y!==null&&Y.tag===6?(l(Q,Y.sibling),dt=p(Y,tt),dt.return=Q,Q=dt):(l(Q,Y),dt=Ul(tt,Q.mode,dt),dt.return=Q,Q=dt),x(Q)):l(Q,Y)}return function(Q,Y,tt,dt){try{$u=0;var Nt=Pe(Q,Y,tt,dt);return Gl=null,Nt}catch(Pt){if(Pt===Zl||Pt===Fh)throw Pt;var ve=Ti(29,Pt,null,Q.mode);return ve.lanes=dt,ve.return=Q,ve}}}var sl=mv(!0),pv=mv(!1),Go=!1;function Sm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ko(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Yo(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ee&2)!==0){var p=h.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),h.pending=r,r=Qa(i),qo(i,null,l),r}return Rr(i,h,r,l),Qa(i)}function tc(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Fn(i,l)}}function Am(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?p=_=x:_=_.next=x,l=l.next}while(l!==null);_===null?p=_=r:_=_.next=r}else p=_=r;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var Cm=!1;function ec(){if(Cm){var i=ql;if(i!==null)throw i}}function nc(i,r,l,h){Cm=!1;var p=i.updateQueue;Go=!1;var _=p.firstBaseUpdate,x=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var q=M,et=q.next;q.next=null,x===null?_=et:x.next=et,x=q;var ft=i.alternate;ft!==null&&(ft=ft.updateQueue,M=ft.lastBaseUpdate,M!==x&&(M===null?ft.firstBaseUpdate=et:M.next=et,ft.lastBaseUpdate=q))}if(_!==null){var pt=p.baseState;x=0,ft=et=q=null,M=_;do{var st=M.lane&-536870913,lt=st!==M.lane;if(lt?(ae&st)===st:(h&st)===st){st!==0&&st===Hl&&(Cm=!0),ft!==null&&(ft=ft.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var Mt=i,Bt=M;st=r;var Pe=l;switch(Bt.tag){case 1:if(Mt=Bt.payload,typeof Mt=="function"){pt=Mt.call(Pe,pt,st);break t}pt=Mt;break t;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Bt.payload,st=typeof Mt=="function"?Mt.call(Pe,pt,st):Mt,st==null)break t;pt=w({},pt,st);break t;case 2:Go=!0}}st=M.callback,st!==null&&(i.flags|=64,lt&&(i.flags|=8192),lt=p.callbacks,lt===null?p.callbacks=[st]:lt.push(st))}else lt={lane:st,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ft===null?(et=ft=lt,q=pt):ft=ft.next=lt,x|=st;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;lt=M,M=lt.next,lt.next=null,p.lastBaseUpdate=lt,p.shared.pending=null}}while(!0);ft===null&&(q=pt),p.baseState=q,p.firstBaseUpdate=et,p.lastBaseUpdate=ft,_===null&&(p.shared.lanes=0),Jo|=x,i.lanes=x,i.memoizedState=pt}}function gv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function yv(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)gv(l[i],r)}var Kl=H(null),Gh=H(0);function _v(i,r){i=fo,Tt(Gh,i),Tt(Kl,r),fo=i|r.baseLanes}function Rm(){Tt(Gh,fo),Tt(Kl,Kl.current)}function Dm(){fo=Gh.current,at(Kl),at(Gh)}var ds=H(null),Ns=null;function Xo(i){var r=i.alternate;Tt(pn,pn.current&1),Tt(ds,i),Ns===null&&(r===null||Kl.current!==null||r.memoizedState!==null)&&(Ns=i)}function Mm(i){Tt(pn,pn.current),Tt(ds,i),Ns===null&&(Ns=i)}function vv(i){i.tag===22?(Tt(pn,pn.current),Tt(ds,i),Ns===null&&(Ns=i)):Qo()}function Qo(){Tt(pn,pn.current),Tt(ds,ds.current)}function ms(i){at(ds),Ns===i&&(Ns=null),at(pn)}var pn=H(0);function Kh(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Vp(l)||kp(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var so=0,Kt=null,Me=null,Sn=null,Yh=!1,Yl=!1,rl=!1,Xh=0,ic=0,Xl=null,JC=0;function cn(){throw Error(s(321))}function Im(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!Yn(i[l],r[l]))return!1;return!0}function Pm(i,r,l,h,p,_){return so=_,Kt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ot.H=i===null||i.memoizedState===null?n0:Km,rl=!1,_=l(h,p),rl=!1,Yl&&(_=bv(r,l,h,p)),Tv(i),_}function Tv(i){ot.H=oc;var r=Me!==null&&Me.next!==null;if(so=0,Sn=Me=Kt=null,Yh=!1,ic=0,Xl=null,r)throw Error(s(300));i===null||xn||(i=i.dependencies,i!==null&&Bh(i)&&(xn=!0))}function bv(i,r,l,h){Kt=i;var p=0;do{if(Yl&&(Xl=null),ic=0,Yl=!1,25<=p)throw Error(s(301));if(p+=1,Sn=Me=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ot.H=i0,_=r(l,h)}while(Yl);return _}function tR(){var i=ot.H,r=i.useState()[0];return r=typeof r.then=="function"?sc(r):r,i=i.useState()[0],(Me!==null?Me.memoizedState:null)!==i&&(Kt.flags|=1024),r}function Lm(){var i=Xh!==0;return Xh=0,i}function Om(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Nm(i){if(Yh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Yh=!1}so=0,Sn=Me=Kt=null,Yl=!1,ic=Xh=0,Xl=null}function Oi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Kt.memoizedState=Sn=i:Sn=Sn.next=i,Sn}function gn(){if(Me===null){var i=Kt.alternate;i=i!==null?i.memoizedState:null}else i=Me.next;var r=Sn===null?Kt.memoizedState:Sn.next;if(r!==null)Sn=r,Me=i;else{if(i===null)throw Kt.alternate===null?Error(s(467)):Error(s(310));Me=i,i={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Sn===null?Kt.memoizedState=Sn=i:Sn=Sn.next=i}return Sn}function Qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sc(i){var r=ic;return ic+=1,Xl===null&&(Xl=[]),i=hv(Xl,i,r),r=Kt,(Sn===null?r.memoizedState:Sn.next)===null&&(r=r.alternate,ot.H=r===null||r.memoizedState===null?n0:Km),i}function Wh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return sc(i);if(i.$$typeof===K)return si(i)}throw Error(s(438,String(i)))}function Vm(i){var r=null,l=Kt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=Kt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Qh(),Kt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=F;return r.index++,l}function ro(i,r){return typeof r=="function"?r(i):r}function $h(i){var r=gn();return km(r,Me,i)}function km(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var p=i.baseQueue,_=h.pending;if(_!==null){if(p!==null){var x=p.next;p.next=_.next,_.next=x}r.baseQueue=p=_,h.pending=null}if(_=i.baseState,p===null)i.memoizedState=_;else{r=p.next;var M=x=null,q=null,et=r,ft=!1;do{var pt=et.lane&-536870913;if(pt!==et.lane?(ae&pt)===pt:(so&pt)===pt){var st=et.revertLane;if(st===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),pt===Hl&&(ft=!0);else if((so&st)===st){et=et.next,st===Hl&&(ft=!0);continue}else pt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},q===null?(M=q=pt,x=_):q=q.next=pt,Kt.lanes|=st,Jo|=st;pt=et.action,rl&&l(_,pt),_=et.hasEagerState?et.eagerState:l(_,pt)}else st={lane:pt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},q===null?(M=q=st,x=_):q=q.next=st,Kt.lanes|=pt,Jo|=pt;et=et.next}while(et!==null&&et!==r);if(q===null?x=_:q.next=M,!Yn(_,i.memoizedState)&&(xn=!0,ft&&(l=ql,l!==null)))throw l;i.memoizedState=_,i.baseState=x,i.baseQueue=q,h.lastRenderedState=_}return p===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function zm(i){var r=gn(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,_=r.memoizedState;if(p!==null){l.pending=null;var x=p=p.next;do _=i(_,x.action),x=x.next;while(x!==p);Yn(_,r.memoizedState)||(xn=!0),r.memoizedState=_,r.baseQueue===null&&(r.baseState=_),l.lastRenderedState=_}return[_,h]}function Ev(i,r,l){var h=Kt,p=gn(),_=ie;if(_){if(l===void 0)throw Error(s(407));l=l()}else l=r();var x=!Yn((Me||p).memoizedState,l);if(x&&(p.memoizedState=l,xn=!0),p=p.queue,jm(xv.bind(null,h,p,i),[i]),p.getSnapshot!==r||x||Sn!==null&&Sn.memoizedState.tag&1){if(h.flags|=2048,Ql(9,{destroy:void 0},Sv.bind(null,h,p,l,r),null),Ne===null)throw Error(s(349));_||(so&127)!==0||wv(h,r,l)}return l}function wv(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=Kt.updateQueue,r===null?(r=Qh(),Kt.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function Sv(i,r,l,h){r.value=l,r.getSnapshot=h,Av(r)&&Cv(i)}function xv(i,r,l){return l(function(){Av(r)&&Cv(i)})}function Av(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!Yn(i,l)}catch{return!0}}function Cv(i){var r=Ls(i,2);r!==null&&$i(r,i,2)}function Bm(i){var r=Oi();if(typeof i=="function"){var l=i;if(i=l(),rl){Mn(!0);try{l()}finally{Mn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:i},r}function Rv(i,r,l,h){return i.baseState=l,km(i,Me,typeof h=="function"?h:ro)}function eR(i,r,l,h,p){if(ef(i))throw Error(s(485));if(i=r.action,i!==null){var _={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){_.listeners.push(x)}};ot.T!==null?l(!0):_.isTransition=!1,h(_),l=r.pending,l===null?(_.next=r.pending=_,Dv(r,_)):(_.next=l.next,r.pending=l.next=_)}}function Dv(i,r){var l=r.action,h=r.payload,p=i.state;if(r.isTransition){var _=ot.T,x={};ot.T=x;try{var M=l(p,h),q=ot.S;q!==null&&q(x,M),Mv(i,r,M)}catch(et){Um(i,r,et)}finally{_!==null&&x.types!==null&&(_.types=x.types),ot.T=_}}else try{_=l(p,h),Mv(i,r,_)}catch(et){Um(i,r,et)}}function Mv(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Iv(i,r,h)},function(h){return Um(i,r,h)}):Iv(i,r,l)}function Iv(i,r,l){r.status="fulfilled",r.value=l,Pv(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,Dv(i,l)))}function Um(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,Pv(r),r=r.next;while(r!==h)}i.action=null}function Pv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Lv(i,r){return r}function Ov(i,r){if(ie){var l=Ne.formState;if(l!==null){t:{var h=Kt;if(ie){if(_e){e:{for(var p=_e,_=Ki;p.nodeType!==8;){if(!_){p=null;break e}if(p=Vs(p.nextSibling),p===null){p=null;break e}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){_e=Vs(p.nextSibling),h=p.data==="F!";break t}}Mr(h)}h=!1}h&&(r=l[0])}}return l=Oi(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lv,lastRenderedState:r},l.queue=h,l=Jv.bind(null,Kt,h),h.dispatch=l,h=Bm(!1),_=Gm.bind(null,Kt,!1,h.queue),h=Oi(),p={state:r,dispatch:null,action:i,pending:null},h.queue=p,l=eR.bind(null,Kt,p,_,l),p.dispatch=l,h.memoizedState=i,[r,l,!1]}function Nv(i){var r=gn();return Vv(r,Me,i)}function Vv(i,r,l){if(r=km(i,r,Lv)[0],i=$h(ro)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=sc(r)}catch(x){throw x===Zl?Fh:x}else h=r;r=gn();var p=r.queue,_=p.dispatch;return l!==r.memoizedState&&(Kt.flags|=2048,Ql(9,{destroy:void 0},nR.bind(null,p,l),null)),[h,_,i]}function nR(i,r){i.action=r}function kv(i){var r=gn(),l=Me;if(l!==null)return Vv(r,l,i);gn(),r=r.memoizedState,l=gn();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function Ql(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=Kt.updateQueue,r===null&&(r=Qh(),Kt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function zv(){return gn().memoizedState}function Jh(i,r,l,h){var p=Oi();Kt.flags|=i,p.memoizedState=Ql(1|r,{destroy:void 0},l,h===void 0?null:h)}function tf(i,r,l,h){var p=gn();h=h===void 0?null:h;var _=p.memoizedState.inst;Me!==null&&h!==null&&Im(h,Me.memoizedState.deps)?p.memoizedState=Ql(r,_,l,h):(Kt.flags|=i,p.memoizedState=Ql(1|r,_,l,h))}function Bv(i,r){Jh(8390656,8,i,r)}function jm(i,r){tf(2048,8,i,r)}function iR(i){Kt.flags|=4;var r=Kt.updateQueue;if(r===null)r=Qh(),Kt.updateQueue=r,r.events=[i];else{var l=r.events;l===null?r.events=[i]:l.push(i)}}function Uv(i){var r=gn().memoizedState;return iR({ref:r,nextImpl:i}),function(){if((Ee&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function jv(i,r){return tf(4,2,i,r)}function Fv(i,r){return tf(4,4,i,r)}function Hv(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function qv(i,r,l){l=l!=null?l.concat([i]):null,tf(4,4,Hv.bind(null,r,i),l)}function Fm(){}function Zv(i,r){var l=gn();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&Im(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function Gv(i,r){var l=gn();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&Im(r,h[1]))return h[0];if(h=i(),rl){Mn(!0);try{i()}finally{Mn(!1)}}return l.memoizedState=[h,r],h}function Hm(i,r,l){return l===void 0||(so&1073741824)!==0&&(ae&261930)===0?i.memoizedState=r:(i.memoizedState=l,i=K0(),Kt.lanes|=i,Jo|=i,l)}function Kv(i,r,l,h){return Yn(l,r)?l:Kl.current!==null?(i=Hm(i,l,h),Yn(i,r)||(xn=!0),i):(so&42)===0||(so&1073741824)!==0&&(ae&261930)===0?(xn=!0,i.memoizedState=l):(i=K0(),Kt.lanes|=i,Jo|=i,r)}function Yv(i,r,l,h,p){var _=gt.p;gt.p=_!==0&&8>_?_:8;var x=ot.T,M={};ot.T=M,Gm(i,!1,r,l);try{var q=p(),et=ot.S;if(et!==null&&et(M,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ft=$C(q,h);rc(i,r,ft,ys(i))}else rc(i,r,h,ys(i))}catch(pt){rc(i,r,{then:function(){},status:"rejected",reason:pt},ys())}finally{gt.p=_,x!==null&&M.types!==null&&(x.types=M.types),ot.T=x}}function sR(){}function qm(i,r,l,h){if(i.tag!==5)throw Error(s(476));var p=Xv(i).queue;Yv(i,p,r,yt,l===null?sR:function(){return Qv(i),l(h)})}function Xv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:yt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Qv(i){var r=Xv(i);r.next===null&&(r=i.alternate.memoizedState),rc(i,r.next.queue,{},ys())}function Zm(){return si(Ec)}function Wv(){return gn().memoizedState}function $v(){return gn().memoizedState}function rR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=ys();i=Ko(l);var h=Yo(r,i,l);h!==null&&($i(h,r,l),tc(h,r,l)),r={cache:Tm()},i.payload=r;return}r=r.return}}function oR(i,r,l){var h=ys();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ef(i)?t0(r,l):(l=qu(i,r,l,h),l!==null&&($i(l,i,h),e0(l,r,h)))}function Jv(i,r,l){var h=ys();rc(i,r,l,h)}function rc(i,r,l,h){var p={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ef(i))t0(r,p);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=r.lastRenderedReducer,_!==null))try{var x=r.lastRenderedState,M=_(x,l);if(p.hasEagerState=!0,p.eagerState=M,Yn(M,x))return Rr(i,r,p,0),Ne===null&&Xa(),!1}catch{}if(l=qu(i,r,p,h),l!==null)return $i(l,i,h),e0(l,r,h),!0}return!1}function Gm(i,r,l,h){if(h={lane:2,revertLane:Sp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ef(i)){if(r)throw Error(s(479))}else r=qu(i,l,h,2),r!==null&&$i(r,i,2)}function ef(i){var r=i.alternate;return i===Kt||r!==null&&r===Kt}function t0(i,r){Yl=Yh=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function e0(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Fn(i,l)}}var oc={readContext:si,use:Wh,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};oc.useEffectEvent=cn;var n0={readContext:si,use:Wh,useCallback:function(i,r){return Oi().memoizedState=[i,r===void 0?null:r],i},useContext:si,useEffect:Bv,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,Jh(4194308,4,Hv.bind(null,r,i),l)},useLayoutEffect:function(i,r){return Jh(4194308,4,i,r)},useInsertionEffect:function(i,r){Jh(4,2,i,r)},useMemo:function(i,r){var l=Oi();r=r===void 0?null:r;var h=i();if(rl){Mn(!0);try{i()}finally{Mn(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=Oi();if(l!==void 0){var p=l(r);if(rl){Mn(!0);try{l(r)}finally{Mn(!1)}}}else p=r;return h.memoizedState=h.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},h.queue=i,i=i.dispatch=oR.bind(null,Kt,i),[h.memoizedState,i]},useRef:function(i){var r=Oi();return i={current:i},r.memoizedState=i},useState:function(i){i=Bm(i);var r=i.queue,l=Jv.bind(null,Kt,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:Fm,useDeferredValue:function(i,r){var l=Oi();return Hm(l,i,r)},useTransition:function(){var i=Bm(!1);return i=Yv.bind(null,Kt,i.queue,!0,!1),Oi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=Kt,p=Oi();if(ie){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),Ne===null)throw Error(s(349));(ae&127)!==0||wv(h,r,l)}p.memoizedState=l;var _={value:l,getSnapshot:r};return p.queue=_,Bv(xv.bind(null,h,_,i),[i]),h.flags|=2048,Ql(9,{destroy:void 0},Sv.bind(null,h,_,l,r),null),l},useId:function(){var i=Oi(),r=Ne.identifierPrefix;if(ie){var l=At,h=mt;l=(h&~(1<<32-ke(h)-1)).toString(32)+l,r="_"+r+"R_"+l,l=Xh++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=JC++,r="_"+r+"r_"+l.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Zm,useFormState:Ov,useActionState:Ov,useOptimistic:function(i){var r=Oi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Gm.bind(null,Kt,!0,l),l.dispatch=r,[i,r]},useMemoCache:Vm,useCacheRefresh:function(){return Oi().memoizedState=rR.bind(null,Kt)},useEffectEvent:function(i){var r=Oi(),l={impl:i};return r.memoizedState=l,function(){if((Ee&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Km={readContext:si,use:Wh,useCallback:Zv,useContext:si,useEffect:jm,useImperativeHandle:qv,useInsertionEffect:jv,useLayoutEffect:Fv,useMemo:Gv,useReducer:$h,useRef:zv,useState:function(){return $h(ro)},useDebugValue:Fm,useDeferredValue:function(i,r){var l=gn();return Kv(l,Me.memoizedState,i,r)},useTransition:function(){var i=$h(ro)[0],r=gn().memoizedState;return[typeof i=="boolean"?i:sc(i),r]},useSyncExternalStore:Ev,useId:Wv,useHostTransitionStatus:Zm,useFormState:Nv,useActionState:Nv,useOptimistic:function(i,r){var l=gn();return Rv(l,Me,i,r)},useMemoCache:Vm,useCacheRefresh:$v};Km.useEffectEvent=Uv;var i0={readContext:si,use:Wh,useCallback:Zv,useContext:si,useEffect:jm,useImperativeHandle:qv,useInsertionEffect:jv,useLayoutEffect:Fv,useMemo:Gv,useReducer:zm,useRef:zv,useState:function(){return zm(ro)},useDebugValue:Fm,useDeferredValue:function(i,r){var l=gn();return Me===null?Hm(l,i,r):Kv(l,Me.memoizedState,i,r)},useTransition:function(){var i=zm(ro)[0],r=gn().memoizedState;return[typeof i=="boolean"?i:sc(i),r]},useSyncExternalStore:Ev,useId:Wv,useHostTransitionStatus:Zm,useFormState:kv,useActionState:kv,useOptimistic:function(i,r){var l=gn();return Me!==null?Rv(l,Me,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Vm,useCacheRefresh:$v};i0.useEffectEvent=Uv;function Ym(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:w({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Xm={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=ys(),p=Ko(h);p.payload=r,l!=null&&(p.callback=l),r=Yo(i,p,h),r!==null&&($i(r,i,h),tc(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=ys(),p=Ko(h);p.tag=1,p.payload=r,l!=null&&(p.callback=l),r=Yo(i,p,h),r!==null&&($i(r,i,h),tc(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=ys(),h=Ko(l);h.tag=2,r!=null&&(h.callback=r),r=Yo(i,h,l),r!==null&&($i(r,i,l),tc(r,i,l))}};function s0(i,r,l,h,p,_,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,x):r.prototype&&r.prototype.isPureReactComponent?!Uo(l,h)||!Uo(p,_):!0}function r0(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&Xm.enqueueReplaceState(r,r.state,null)}function ol(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=w({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function o0(i){Ya(i)}function a0(i){console.error(i)}function l0(i){Ya(i)}function nf(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function u0(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Qm(i,r,l){return l=Ko(l),l.tag=3,l.payload={element:null},l.callback=function(){nf(i,r)},l}function c0(i){return i=Ko(i),i.tag=3,i}function h0(i,r,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var _=h.value;i.payload=function(){return p(_)},i.callback=function(){u0(r,l,h)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){u0(r,l,h),typeof p!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function aR(i,r,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&Fl(r,l,p,!0),l=ds.current,l!==null){switch(l.tag){case 31:case 13:return Ns===null?pf():l.alternate===null&&hn===0&&(hn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===Hh?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),bp(i,h,p)),!1;case 22:return l.flags|=65536,h===Hh?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),bp(i,h,p)),!1}throw Error(s(435,l.tag))}return bp(i,h,p),pf(),!1}if(ie)return r=ds.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,h!==jl&&(i=Error(s(422),{cause:h}),$a(c(i,l)))):(h!==jl&&(r=Error(s(423),{cause:h}),$a(c(r,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,h=c(h,l),p=Qm(i.stateNode,h,p),Am(i,p),hn!==4&&(hn=2)),!1;var _=Error(s(520),{cause:h});if(_=c(_,l),mc===null?mc=[_]:mc.push(_),hn!==4&&(hn=2),r===null)return!0;h=c(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Qm(l.stateNode,h,i),Am(l,i),!1;case 1:if(r=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ta===null||!ta.has(_))))return l.flags|=65536,p&=-p,l.lanes|=p,p=c0(p),h0(p,i,l,h),Am(l,p),!1}l=l.return}while(l!==null);return!1}var Wm=Error(s(461)),xn=!1;function ri(i,r,l,h){r.child=i===null?pv(r,null,l,h):sl(r,i.child,l,h)}function f0(i,r,l,h,p){l=l.render;var _=r.ref;if("ref"in h){var x={};for(var M in h)M!=="ref"&&(x[M]=h[M])}else x=h;return tl(r),h=Pm(i,r,l,x,_,p),M=Lm(),i!==null&&!xn?(Om(i,r,p),oo(i,r,p)):(ie&&M&&In(r),r.flags|=1,ri(i,r,h,p),r.child)}function d0(i,r,l,h,p){if(i===null){var _=l.type;return typeof _=="function"&&!Bl(_)&&_.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=_,m0(i,r,_,h,p)):(i=Wa(l.type,null,h,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(_=i.child,!rp(i,p)){var x=_.memoizedProps;if(l=l.compare,l=l!==null?l:Uo,l(x,h)&&i.ref===r.ref)return oo(i,r,p)}return r.flags|=1,i=Os(_,h),i.ref=r.ref,i.return=r,r.child=i}function m0(i,r,l,h,p){if(i!==null){var _=i.memoizedProps;if(Uo(_,h)&&i.ref===r.ref)if(xn=!1,r.pendingProps=h=_,rp(i,p))(i.flags&131072)!==0&&(xn=!0);else return r.lanes=i.lanes,oo(i,r,p)}return $m(i,r,l,h,p)}function p0(i,r,l,h){var p=h.children,_=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((r.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(h=r.child=i.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;h=p&~_}else h=0,r.child=null;return g0(i,r,_,l,h)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&jh(r,_!==null?_.cachePool:null),_!==null?_v(r,_):Rm(),vv(r);else return h=r.lanes=536870912,g0(i,r,_!==null?_.baseLanes|l:l,l,h)}else _!==null?(jh(r,_.cachePool),_v(r,_),Qo(),r.memoizedState=null):(i!==null&&jh(r,null),Rm(),Qo());return ri(i,r,p,l),r.child}function ac(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function g0(i,r,l,h,p){var _=Em();return _=_===null?null:{parent:wn._currentValue,pool:_},r.memoizedState={baseLanes:l,cachePool:_},i!==null&&jh(r,null),Rm(),vv(r),i!==null&&Fl(i,r,h,!0),r.childLanes=p,null}function sf(i,r){return r=of({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function y0(i,r,l){return sl(r,i.child,null,l),i=sf(r,r.pendingProps),i.flags|=2,ms(r),r.memoizedState=null,i}function lR(i,r,l){var h=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(ie){if(h.mode==="hidden")return i=sf(r,h),r.lanes=536870912,ac(null,i);if(Mm(r),(i=_e)?(i=DT(i,Ki),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:it!==null?{id:mt,overflow:At}:null,retryLane:536870912,hydrationErrors:null},l=Gu(i),l.return=r,r.child=l,ye=r,_e=null)):i=null,i===null)throw Mr(r);return r.lanes=536870912,null}return sf(r,h)}var _=i.memoizedState;if(_!==null){var x=_.dehydrated;if(Mm(r),p)if(r.flags&256)r.flags&=-257,r=y0(i,r,l);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(xn||Fl(i,r,l,!1),p=(l&i.childLanes)!==0,xn||p){if(h=Ne,h!==null&&(x=ii(h,l),x!==0&&x!==_.retryLane))throw _.retryLane=x,Ls(i,x),$i(h,i,x),Wm;pf(),r=y0(i,r,l)}else i=_.treeContext,_e=Vs(x.nextSibling),ye=r,ie=!0,Dr=null,Ki=!1,i!==null&&Li(r,i),r=sf(r,h),r.flags|=4096;return r}return i=Os(i.child,{mode:h.mode,children:h.children}),i.ref=r.ref,r.child=i,i.return=r,i}function rf(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function $m(i,r,l,h,p){return tl(r),l=Pm(i,r,l,h,void 0,p),h=Lm(),i!==null&&!xn?(Om(i,r,p),oo(i,r,p)):(ie&&h&&In(r),r.flags|=1,ri(i,r,l,p),r.child)}function _0(i,r,l,h,p,_){return tl(r),r.updateQueue=null,l=bv(r,h,l,p),Tv(i),h=Lm(),i!==null&&!xn?(Om(i,r,_),oo(i,r,_)):(ie&&h&&In(r),r.flags|=1,ri(i,r,l,_),r.child)}function v0(i,r,l,h,p){if(tl(r),r.stateNode===null){var _=to,x=l.contextType;typeof x=="object"&&x!==null&&(_=si(x)),_=new l(h,_),r.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Xm,r.stateNode=_,_._reactInternals=r,_=r.stateNode,_.props=h,_.state=r.memoizedState,_.refs={},Sm(r),x=l.contextType,_.context=typeof x=="object"&&x!==null?si(x):to,_.state=r.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Ym(r,l,x,h),_.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(x=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),x!==_.state&&Xm.enqueueReplaceState(_,_.state,null),nc(r,h,_,p),ec(),_.state=r.memoizedState),typeof _.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){_=r.stateNode;var M=r.memoizedProps,q=ol(l,M);_.props=q;var et=_.context,ft=l.contextType;x=to,typeof ft=="object"&&ft!==null&&(x=si(ft));var pt=l.getDerivedStateFromProps;ft=typeof pt=="function"||typeof _.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,ft||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M||et!==x)&&r0(r,_,h,x),Go=!1;var st=r.memoizedState;_.state=st,nc(r,h,_,p),ec(),et=r.memoizedState,M||st!==et||Go?(typeof pt=="function"&&(Ym(r,l,pt,h),et=r.memoizedState),(q=Go||s0(r,l,q,h,st,et,x))?(ft||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=et),_.props=h,_.state=et,_.context=x,h=q):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{_=r.stateNode,xm(i,r),x=r.memoizedProps,ft=ol(l,x),_.props=ft,pt=r.pendingProps,st=_.context,et=l.contextType,q=to,typeof et=="object"&&et!==null&&(q=si(et)),M=l.getDerivedStateFromProps,(et=typeof M=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==pt||st!==q)&&r0(r,_,h,q),Go=!1,st=r.memoizedState,_.state=st,nc(r,h,_,p),ec();var lt=r.memoizedState;x!==pt||st!==lt||Go||i!==null&&i.dependencies!==null&&Bh(i.dependencies)?(typeof M=="function"&&(Ym(r,l,M,h),lt=r.memoizedState),(ft=Go||s0(r,l,ft,h,st,lt,q)||i!==null&&i.dependencies!==null&&Bh(i.dependencies))?(et||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,lt,q),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,lt,q)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===i.memoizedProps&&st===i.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&st===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=lt),_.props=h,_.state=lt,_.context=q,h=ft):(typeof _.componentDidUpdate!="function"||x===i.memoizedProps&&st===i.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&st===i.memoizedState||(r.flags|=1024),h=!1)}return _=h,rf(i,r),h=(r.flags&128)!==0,_||h?(_=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),r.flags|=1,i!==null&&h?(r.child=sl(r,i.child,null,p),r.child=sl(r,null,l,p)):ri(i,r,l,p),r.memoizedState=_.state,i=r.child):i=oo(i,r,p),i}function T0(i,r,l,h){return no(),r.flags|=256,ri(i,r,l,h),r.child}var Jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tp(i){return{baseLanes:i,cachePool:uv()}}function ep(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=gs),i}function b0(i,r,l){var h=r.pendingProps,p=!1,_=(r.flags&128)!==0,x;if((x=_)||(x=i!==null&&i.memoizedState===null?!1:(pn.current&2)!==0),x&&(p=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,i===null){if(ie){if(p?Xo(r):Qo(),(i=_e)?(i=DT(i,Ki),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:it!==null?{id:mt,overflow:At}:null,retryLane:536870912,hydrationErrors:null},l=Gu(i),l.return=r,r.child=l,ye=r,_e=null)):i=null,i===null)throw Mr(r);return kp(i)?r.lanes=32:r.lanes=536870912,null}var M=h.children;return h=h.fallback,p?(Qo(),p=r.mode,M=of({mode:"hidden",children:M},p),h=eo(h,p,l,null),M.return=r,h.return=r,M.sibling=h,r.child=M,h=r.child,h.memoizedState=tp(l),h.childLanes=ep(i,x,l),r.memoizedState=Jm,ac(null,h)):(Xo(r),np(r,M))}var q=i.memoizedState;if(q!==null&&(M=q.dehydrated,M!==null)){if(_)r.flags&256?(Xo(r),r.flags&=-257,r=ip(i,r,l)):r.memoizedState!==null?(Qo(),r.child=i.child,r.flags|=128,r=null):(Qo(),M=h.fallback,p=r.mode,h=of({mode:"visible",children:h.children},p),M=eo(M,p,l,null),M.flags|=2,h.return=r,M.return=r,h.sibling=M,r.child=h,sl(r,i.child,null,l),h=r.child,h.memoizedState=tp(l),h.childLanes=ep(i,x,l),r.memoizedState=Jm,r=ac(null,h));else if(Xo(r),kp(M)){if(x=M.nextSibling&&M.nextSibling.dataset,x)var et=x.dgst;x=et,h=Error(s(419)),h.stack="",h.digest=x,$a({value:h,source:null,stack:null}),r=ip(i,r,l)}else if(xn||Fl(i,r,l,!1),x=(l&i.childLanes)!==0,xn||x){if(x=Ne,x!==null&&(h=ii(x,l),h!==0&&h!==q.retryLane))throw q.retryLane=h,Ls(i,h),$i(x,i,h),Wm;Vp(M)||pf(),r=ip(i,r,l)}else Vp(M)?(r.flags|=192,r.child=i.child,r=null):(i=q.treeContext,_e=Vs(M.nextSibling),ye=r,ie=!0,Dr=null,Ki=!1,i!==null&&Li(r,i),r=np(r,h.children),r.flags|=4096);return r}return p?(Qo(),M=h.fallback,p=r.mode,q=i.child,et=q.sibling,h=Os(q,{mode:"hidden",children:h.children}),h.subtreeFlags=q.subtreeFlags&65011712,et!==null?M=Os(et,M):(M=eo(M,p,l,null),M.flags|=2),M.return=r,h.return=r,h.sibling=M,r.child=h,ac(null,h),h=r.child,M=i.child.memoizedState,M===null?M=tp(l):(p=M.cachePool,p!==null?(q=wn._currentValue,p=p.parent!==q?{parent:q,pool:q}:p):p=uv(),M={baseLanes:M.baseLanes|l,cachePool:p}),h.memoizedState=M,h.childLanes=ep(i,x,l),r.memoizedState=Jm,ac(i.child,h)):(Xo(r),l=i.child,i=l.sibling,l=Os(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(x=r.deletions,x===null?(r.deletions=[i],r.flags|=16):x.push(i)),r.child=l,r.memoizedState=null,l)}function np(i,r){return r=of({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function of(i,r){return i=Ti(22,i,null,r),i.lanes=0,i}function ip(i,r,l){return sl(r,i.child,null,l),i=np(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function E0(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),_m(i.return,r,l)}function sp(i,r,l,h,p,_){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p,treeForkCount:_}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=l,x.tailMode=p,x.treeForkCount=_)}function w0(i,r,l){var h=r.pendingProps,p=h.revealOrder,_=h.tail;h=h.children;var x=pn.current,M=(x&2)!==0;if(M?(x=x&1|2,r.flags|=128):x&=1,Tt(pn,x),ri(i,r,h,l),h=ie?R:0,!M&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&E0(i,l,r);else if(i.tag===19)E0(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=r.child,p=null;l!==null;)i=l.alternate,i!==null&&Kh(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=r.child,r.child=null):(p=l.sibling,l.sibling=null),sp(r,!1,p,l,_,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&Kh(i)===null){r.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}sp(r,!0,l,null,_,h);break;case"together":sp(r,!1,null,null,void 0,h);break;default:r.memoizedState=null}return r.child}function oo(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),Jo|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(Fl(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=Os(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=Os(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function rp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Bh(i)))}function uR(i,r,l){switch(r.tag){case 3:te(r,r.stateNode.containerInfo),Zo(r,wn,i.memoizedState.cache),no();break;case 27:case 5:Qt(r);break;case 4:te(r,r.stateNode.containerInfo);break;case 10:Zo(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Mm(r),null;break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(Xo(r),r.flags|=128,null):(l&r.child.childLanes)!==0?b0(i,r,l):(Xo(r),i=oo(i,r,l),i!==null?i.sibling:null);Xo(r);break;case 19:var p=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(Fl(i,r,l,!1),h=(l&r.childLanes)!==0),p){if(h)return w0(i,r,l);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Tt(pn,pn.current),h)break;return null;case 22:return r.lanes=0,p0(i,r,l,r.pendingProps);case 24:Zo(r,wn,i.memoizedState.cache)}return oo(i,r,l)}function S0(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)xn=!0;else{if(!rp(i,l)&&(r.flags&128)===0)return xn=!1,uR(i,r,l);xn=(i.flags&131072)!==0}else xn=!1,ie&&(r.flags&1048576)!==0&&Yt(r,R,r.index);switch(r.lanes=0,r.tag){case 16:t:{var h=r.pendingProps;if(i=nl(r.elementType),r.type=i,typeof i=="function")Bl(i)?(h=ol(i,h),r.tag=1,r=v0(null,r,i,h,l)):(r.tag=0,r=$m(null,r,i,h,l));else{if(i!=null){var p=i.$$typeof;if(p===ht){r.tag=11,r=f0(null,r,i,h,l);break t}else if(p===P){r.tag=14,r=d0(null,r,i,h,l);break t}}throw r=Ft(i)||i,Error(s(306,r,""))}}return r;case 0:return $m(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,p=ol(h,r.pendingProps),v0(i,r,h,p,l);case 3:t:{if(te(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var _=r.memoizedState;p=_.element,xm(i,r),nc(r,h,null,l);var x=r.memoizedState;if(h=x.cache,Zo(r,wn,h),h!==_.cache&&vm(r,[wn],l,!0),ec(),h=x.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=_,r.memoizedState=_,r.flags&256){r=T0(i,r,h,l);break t}else if(h!==p){p=c(Error(s(424)),r),$a(p),r=T0(i,r,h,l);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,_e=Vs(i.firstChild),ye=r,ie=!0,Dr=null,Ki=!0,l=pv(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(no(),h===p){r=oo(i,r,l);break t}ri(i,r,h,l)}r=r.child}return r;case 26:return rf(i,r),i===null?(l=NT(r.type,null,r.pendingProps,null))?r.memoizedState=l:ie||(l=r.type,i=r.pendingProps,h=Ef(Et.current).createElement(l),h[Je]=r,h[an]=i,oi(h,l,i),ln(h),r.stateNode=h):r.memoizedState=NT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Qt(r),i===null&&ie&&(h=r.stateNode=PT(r.type,r.pendingProps,Et.current),ye=r,Ki=!0,p=_e,sa(r.type)?(zp=p,_e=Vs(h.firstChild)):_e=p),ri(i,r,r.pendingProps.children,l),rf(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&ie&&((p=h=_e)&&(h=BR(h,r.type,r.pendingProps,Ki),h!==null?(r.stateNode=h,ye=r,_e=Vs(h.firstChild),Ki=!1,p=!0):p=!1),p||Mr(r)),Qt(r),p=r.type,_=r.pendingProps,x=i!==null?i.memoizedProps:null,h=_.children,Lp(p,_)?h=null:x!==null&&Lp(p,x)&&(r.flags|=32),r.memoizedState!==null&&(p=Pm(i,r,tR,null,null,l),Ec._currentValue=p),rf(i,r),ri(i,r,h,l),r.child;case 6:return i===null&&ie&&((i=l=_e)&&(l=UR(l,r.pendingProps,Ki),l!==null?(r.stateNode=l,ye=r,_e=null,i=!0):i=!1),i||Mr(r)),null;case 13:return b0(i,r,l);case 4:return te(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=sl(r,null,h,l):ri(i,r,h,l),r.child;case 11:return f0(i,r,r.type,r.pendingProps,l);case 7:return ri(i,r,r.pendingProps,l),r.child;case 8:return ri(i,r,r.pendingProps.children,l),r.child;case 12:return ri(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,Zo(r,r.type,h.value),ri(i,r,h.children,l),r.child;case 9:return p=r.type._context,h=r.pendingProps.children,tl(r),p=si(p),h=h(p),r.flags|=1,ri(i,r,h,l),r.child;case 14:return d0(i,r,r.type,r.pendingProps,l);case 15:return m0(i,r,r.type,r.pendingProps,l);case 19:return w0(i,r,l);case 31:return lR(i,r,l);case 22:return p0(i,r,l,r.pendingProps);case 24:return tl(r),h=si(wn),i===null?(p=Em(),p===null&&(p=Ne,_=Tm(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=l),p=_),r.memoizedState={parent:h,cache:p},Sm(r),Zo(r,wn,p)):((i.lanes&l)!==0&&(xm(i,r),nc(r,null,null,l),ec()),p=i.memoizedState,_=r.memoizedState,p.parent!==h?(p={parent:h,cache:h},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Zo(r,wn,h)):(h=_.cache,Zo(r,wn,h),h!==p.cache&&vm(r,[wn],l,!0))),ri(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ao(i){i.flags|=4}function op(i,r,l,h,p){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(W0())i.flags|=8192;else throw il=Hh,wm}else i.flags&=-16777217}function x0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!UT(r))if(W0())i.flags|=8192;else throw il=Hh,wm}function af(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?vn():536870912,i.lanes|=r,tu|=r)}function lc(i,r){if(!ie)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function He(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function cR(i,r,l){var h=r.pendingProps;switch(un(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(r),null;case 1:return He(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),io(wn),ee(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(rr(r)?ao(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Xu())),He(r),null;case 26:var p=r.type,_=r.memoizedState;return i===null?(ao(r),_!==null?(He(r),x0(r,_)):(He(r),op(r,p,null,h,l))):_?_!==i.memoizedState?(ao(r),He(r),x0(r,_)):(He(r),r.flags&=-16777217):(i=i.memoizedProps,i!==h&&ao(r),He(r),op(r,p,i,h,l)),null;case 27:if(hi(r),l=Et.current,p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&ao(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return He(r),null}i=bt.current,rr(r)?Yu(r):(i=PT(p,h,l),r.stateNode=i,ao(r))}return He(r),null;case 5:if(hi(r),p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&ao(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return He(r),null}if(_=bt.current,rr(r))Yu(r);else{var x=Ef(Et.current);switch(_){case 1:_=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:_=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":_=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":_=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":_=x.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?x.createElement("select",{is:h.is}):x.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?x.createElement(p,{is:h.is}):x.createElement(p)}}_[Je]=r,_[an]=h;t:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)_.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break t;for(;x.sibling===null;){if(x.return===null||x.return===r)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=_;t:switch(oi(_,p,h),p){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&ao(r)}}return He(r),op(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,l),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&ao(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=Et.current,rr(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,p=ye,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}i[Je]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||bT(i.nodeValue,l)),i||Mr(r,!0)}else i=Ef(i).createTextNode(h),i[Je]=r,r.stateNode=i}return He(r),null;case 31:if(l=r.memoizedState,i===null||i.memoizedState!==null){if(h=rr(r),l!==null){if(i===null){if(!h)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Je]=r}else no(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;He(r),i=!1}else l=Xu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return r.flags&256?(ms(r),r):(ms(r),null);if((r.flags&128)!==0)throw Error(s(558))}return He(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=rr(r),h!==null&&h.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Je]=r}else no(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;He(r),p=!1}else p=Xu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(ms(r),r):(ms(r),null)}return ms(r),(r.flags&128)!==0?(r.lanes=l,r):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=r.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==p&&(h.flags|=2048)),l!==i&&l&&(r.child.flags|=8192),af(r,r.updateQueue),He(r),null);case 4:return ee(),i===null&&Rp(r.stateNode.containerInfo),He(r),null;case 10:return io(r.type),He(r),null;case 19:if(at(pn),h=r.memoizedState,h===null)return He(r),null;if(p=(r.flags&128)!==0,_=h.rendering,_===null)if(p)lc(h,!1);else{if(hn!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(_=Kh(i),_!==null){for(r.flags|=128,lc(h,!1),i=_.updateQueue,r.updateQueue=i,af(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)Zu(l,i),l=l.sibling;return Tt(pn,pn.current&1|2),ie&&Ot(r,h.treeForkCount),r.child}i=i.sibling}h.tail!==null&&_n()>ff&&(r.flags|=128,p=!0,lc(h,!1),r.lanes=4194304)}else{if(!p)if(i=Kh(_),i!==null){if(r.flags|=128,p=!0,i=i.updateQueue,r.updateQueue=i,af(r,i),lc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!ie)return He(r),null}else 2*_n()-h.renderingStartTime>ff&&l!==536870912&&(r.flags|=128,p=!0,lc(h,!1),r.lanes=4194304);h.isBackwards?(_.sibling=r.child,r.child=_):(i=h.last,i!==null?i.sibling=_:r.child=_,h.last=_)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=_n(),i.sibling=null,l=pn.current,Tt(pn,p?l&1|2:l&1),ie&&Ot(r,h.treeForkCount),i):(He(r),null);case 22:case 23:return ms(r),Dm(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(He(r),r.subtreeFlags&6&&(r.flags|=8192)):He(r),l=r.updateQueue,l!==null&&af(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&at(el),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),io(wn),He(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function hR(i,r){switch(un(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return io(wn),ee(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return hi(r),null;case 31:if(r.memoizedState!==null){if(ms(r),r.alternate===null)throw Error(s(340));no()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(ms(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));no()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return at(pn),null;case 4:return ee(),null;case 10:return io(r.type),null;case 22:case 23:return ms(r),Dm(),i!==null&&at(el),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return io(wn),null;case 25:return null;default:return null}}function A0(i,r){switch(un(r),r.tag){case 3:io(wn),ee();break;case 26:case 27:case 5:hi(r);break;case 4:ee();break;case 31:r.memoizedState!==null&&ms(r);break;case 13:ms(r);break;case 19:at(pn);break;case 10:io(r.type);break;case 22:case 23:ms(r),Dm(),i!==null&&at(el);break;case 24:io(wn)}}function uc(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&i)===i){h=void 0;var _=l.create,x=l.inst;h=_(),x.destroy=h}l=l.next}while(l!==p)}}catch(M){De(r,r.return,M)}}function Wo(i,r,l){try{var h=r.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var _=p.next;h=_;do{if((h.tag&i)===i){var x=h.inst,M=x.destroy;if(M!==void 0){x.destroy=void 0,p=r;var q=l,et=M;try{et()}catch(ft){De(p,q,ft)}}}h=h.next}while(h!==_)}}catch(ft){De(r,r.return,ft)}}function C0(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{yv(r,l)}catch(h){De(i,i.return,h)}}}function R0(i,r,l){l.props=ol(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){De(i,r,h)}}function cc(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(p){De(i,r,p)}}function Pr(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){De(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){De(i,r,p)}else l.current=null}function D0(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){De(i,i.return,p)}}function ap(i,r,l){try{var h=i.stateNode;LR(h,i.type,l,r),h[an]=r}catch(p){De(i,i.return,p)}}function M0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&sa(i.type)||i.tag===4}function lp(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||M0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&sa(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function up(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=pi));else if(h!==4&&(h===27&&sa(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(up(i,r,l),i=i.sibling;i!==null;)up(i,r,l),i=i.sibling}function lf(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&sa(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(lf(i,r,l),i=i.sibling;i!==null;)lf(i,r,l),i=i.sibling}function I0(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);oi(r,h,l),r[Je]=i,r[an]=l}catch(_){De(i,i.return,_)}}var lo=!1,An=!1,cp=!1,P0=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function fR(i,r){if(i=i.containerInfo,Ip=Df,i=qa(i),Sr(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break t}var x=0,M=-1,q=-1,et=0,ft=0,pt=i,st=null;e:for(;;){for(var lt;pt!==l||p!==0&&pt.nodeType!==3||(M=x+p),pt!==_||h!==0&&pt.nodeType!==3||(q=x+h),pt.nodeType===3&&(x+=pt.nodeValue.length),(lt=pt.firstChild)!==null;)st=pt,pt=lt;for(;;){if(pt===i)break e;if(st===l&&++et===p&&(M=x),st===_&&++ft===h&&(q=x),(lt=pt.nextSibling)!==null)break;pt=st,st=pt.parentNode}pt=lt}l=M===-1||q===-1?null:{start:M,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pp={focusedElem:i,selectionRange:l},Df=!1,Qn=r;Qn!==null;)if(r=Qn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Qn=i;else for(;Qn!==null;){switch(r=Qn,_=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=r,p=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var Mt=ol(l.type,p);i=h.getSnapshotBeforeUpdate(Mt,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(Bt){De(l,l.return,Bt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Np(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Np(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Qn=i;break}Qn=r.return}}function L0(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:co(i,l),h&4&&uc(5,l);break;case 1:if(co(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(x){De(l,l.return,x)}else{var p=ol(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(x){De(l,l.return,x)}}h&64&&C0(l),h&512&&cc(l,l.return);break;case 3:if(co(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{yv(i,r)}catch(x){De(l,l.return,x)}}break;case 27:r===null&&h&4&&I0(l);case 26:case 5:co(i,l),r===null&&h&4&&D0(l),h&512&&cc(l,l.return);break;case 12:co(i,l);break;case 31:co(i,l),h&4&&V0(i,l);break;case 13:co(i,l),h&4&&k0(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=bR.bind(null,l),jR(i,l))));break;case 22:if(h=l.memoizedState!==null||lo,!h){r=r!==null&&r.memoizedState!==null||An,p=lo;var _=An;lo=h,(An=r)&&!_?ho(i,l,(l.subtreeFlags&8772)!==0):co(i,l),lo=p,An=_}break;case 30:break;default:co(i,l)}}function O0(i){var r=i.alternate;r!==null&&(i.alternate=null,O0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Co(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ke=null,Yi=!1;function uo(i,r,l){for(l=l.child;l!==null;)N0(i,r,l),l=l.sibling}function N0(i,r,l){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(di,l)}catch{}switch(l.tag){case 26:An||Pr(l,r),uo(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:An||Pr(l,r);var h=Ke,p=Yi;sa(l.type)&&(Ke=l.stateNode,Yi=!1),uo(i,r,l),vc(l.stateNode),Ke=h,Yi=p;break;case 5:An||Pr(l,r);case 6:if(h=Ke,p=Yi,Ke=null,uo(i,r,l),Ke=h,Yi=p,Ke!==null)if(Yi)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(l.stateNode)}catch(_){De(l,r,_)}else try{Ke.removeChild(l.stateNode)}catch(_){De(l,r,_)}break;case 18:Ke!==null&&(Yi?(i=Ke,CT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),lu(i)):CT(Ke,l.stateNode));break;case 4:h=Ke,p=Yi,Ke=l.stateNode.containerInfo,Yi=!0,uo(i,r,l),Ke=h,Yi=p;break;case 0:case 11:case 14:case 15:Wo(2,l,r),An||Wo(4,l,r),uo(i,r,l);break;case 1:An||(Pr(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&R0(l,r,h)),uo(i,r,l);break;case 21:uo(i,r,l);break;case 22:An=(h=An)||l.memoizedState!==null,uo(i,r,l),An=h;break;default:uo(i,r,l)}}function V0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{lu(i)}catch(l){De(r,r.return,l)}}}function k0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{lu(i)}catch(l){De(r,r.return,l)}}function dR(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new P0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new P0),r;default:throw Error(s(435,i.tag))}}function uf(i,r){var l=dR(i);r.forEach(function(h){if(!l.has(h)){l.add(h);var p=ER.bind(null,i,h);h.then(p,p)}})}function Xi(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],_=i,x=r,M=x;t:for(;M!==null;){switch(M.tag){case 27:if(sa(M.type)){Ke=M.stateNode,Yi=!1;break t}break;case 5:Ke=M.stateNode,Yi=!1;break t;case 3:case 4:Ke=M.stateNode.containerInfo,Yi=!0;break t}M=M.return}if(Ke===null)throw Error(s(160));N0(_,x,p),Ke=null,Yi=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)z0(r,i),r=r.sibling}var ar=null;function z0(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Xi(r,i),Qi(i),h&4&&(Wo(3,i,i.return),uc(3,i),Wo(5,i,i.return));break;case 1:Xi(r,i),Qi(i),h&512&&(An||l===null||Pr(l,l.return)),h&64&&lo&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=ar;if(Xi(r,i),Qi(i),h&512&&(An||l===null||Pr(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){t:{h=i.type,l=i.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":_=p.getElementsByTagName("title")[0],(!_||_[Es]||_[Je]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(h),p.head.insertBefore(_,p.querySelector("head > title"))),oi(_,h,l),_[Je]=i,ln(_),h=_;break t;case"link":var x=zT("link","href",p).get(h+(l.href||""));if(x){for(var M=0;M<x.length;M++)if(_=x[M],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(M,1);break e}}_=p.createElement(h),oi(_,h,l),p.head.appendChild(_);break;case"meta":if(x=zT("meta","content",p).get(h+(l.content||""))){for(M=0;M<x.length;M++)if(_=x[M],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(M,1);break e}}_=p.createElement(h),oi(_,h,l),p.head.appendChild(_);break;default:throw Error(s(468,h))}_[Je]=i,ln(_),h=_}i.stateNode=h}else BT(p,i.type,i.stateNode);else i.stateNode=kT(p,h,i.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?BT(p,i.type,i.stateNode):kT(p,h,i.memoizedProps)):h===null&&i.stateNode!==null&&ap(i,i.memoizedProps,l.memoizedProps)}break;case 27:Xi(r,i),Qi(i),h&512&&(An||l===null||Pr(l,l.return)),l!==null&&h&4&&ap(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Xi(r,i),Qi(i),h&512&&(An||l===null||Pr(l,l.return)),i.flags&32){p=i.stateNode;try{bn(p,"")}catch(Mt){De(i,i.return,Mt)}}h&4&&i.stateNode!=null&&(p=i.memoizedProps,ap(i,p,l!==null?l.memoizedProps:p)),h&1024&&(cp=!0);break;case 6:if(Xi(r,i),Qi(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(Mt){De(i,i.return,Mt)}}break;case 3:if(xf=null,p=ar,ar=wf(r.containerInfo),Xi(r,i),ar=p,Qi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{lu(r.containerInfo)}catch(Mt){De(i,i.return,Mt)}cp&&(cp=!1,B0(i));break;case 4:h=ar,ar=wf(i.stateNode.containerInfo),Xi(r,i),Qi(i),ar=h;break;case 12:Xi(r,i),Qi(i);break;case 31:Xi(r,i),Qi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,uf(i,h)));break;case 13:Xi(r,i),Qi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(hf=_n()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,uf(i,h)));break;case 22:p=i.memoizedState!==null;var q=l!==null&&l.memoizedState!==null,et=lo,ft=An;if(lo=et||p,An=ft||q,Xi(r,i),An=ft,lo=et,Qi(i),h&8192)t:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(l===null||q||lo||An||al(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){q=l=r;try{if(_=q.stateNode,p)x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{M=q.stateNode;var pt=q.memoizedProps.style,st=pt!=null&&pt.hasOwnProperty("display")?pt.display:null;M.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(Mt){De(q,q.return,Mt)}}}else if(r.tag===6){if(l===null){q=r;try{q.stateNode.nodeValue=p?"":q.memoizedProps}catch(Mt){De(q,q.return,Mt)}}}else if(r.tag===18){if(l===null){q=r;try{var lt=q.stateNode;p?RT(lt,!0):RT(q.stateNode,!1)}catch(Mt){De(q,q.return,Mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,uf(i,l))));break;case 19:Xi(r,i),Qi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,uf(i,h)));break;case 30:break;case 21:break;default:Xi(r,i),Qi(i)}}function Qi(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(M0(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var p=l.stateNode,_=lp(i);lf(i,_,p);break;case 5:var x=l.stateNode;l.flags&32&&(bn(x,""),l.flags&=-33);var M=lp(i);lf(i,M,x);break;case 3:case 4:var q=l.stateNode.containerInfo,et=lp(i);up(i,et,q);break;default:throw Error(s(161))}}catch(ft){De(i,i.return,ft)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function B0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;B0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function co(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)L0(i,r.alternate,r),r=r.sibling}function al(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Wo(4,r,r.return),al(r);break;case 1:Pr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&R0(r,r.return,l),al(r);break;case 27:vc(r.stateNode);case 26:case 5:Pr(r,r.return),al(r);break;case 22:r.memoizedState===null&&al(r);break;case 30:al(r);break;default:al(r)}i=i.sibling}}function ho(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,p=i,_=r,x=_.flags;switch(_.tag){case 0:case 11:case 15:ho(p,_,l),uc(4,_);break;case 1:if(ho(p,_,l),h=_,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(et){De(h,h.return,et)}if(h=_,p=h.updateQueue,p!==null){var M=h.stateNode;try{var q=p.shared.hiddenCallbacks;if(q!==null)for(p.shared.hiddenCallbacks=null,p=0;p<q.length;p++)gv(q[p],M)}catch(et){De(h,h.return,et)}}l&&x&64&&C0(_),cc(_,_.return);break;case 27:I0(_);case 26:case 5:ho(p,_,l),l&&h===null&&x&4&&D0(_),cc(_,_.return);break;case 12:ho(p,_,l);break;case 31:ho(p,_,l),l&&x&4&&V0(p,_);break;case 13:ho(p,_,l),l&&x&4&&k0(p,_);break;case 22:_.memoizedState===null&&ho(p,_,l),cc(_,_.return);break;case 30:break;default:ho(p,_,l)}r=r.sibling}}function hp(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Qu(l))}function fp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Qu(i))}function lr(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)U0(i,r,l,h),r=r.sibling}function U0(i,r,l,h){var p=r.flags;switch(r.tag){case 0:case 11:case 15:lr(i,r,l,h),p&2048&&uc(9,r);break;case 1:lr(i,r,l,h);break;case 3:lr(i,r,l,h),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Qu(i)));break;case 12:if(p&2048){lr(i,r,l,h),i=r.stateNode;try{var _=r.memoizedProps,x=_.id,M=_.onPostCommit;typeof M=="function"&&M(x,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){De(r,r.return,q)}}else lr(i,r,l,h);break;case 31:lr(i,r,l,h);break;case 13:lr(i,r,l,h);break;case 23:break;case 22:_=r.stateNode,x=r.alternate,r.memoizedState!==null?_._visibility&2?lr(i,r,l,h):hc(i,r):_._visibility&2?lr(i,r,l,h):(_._visibility|=2,Wl(i,r,l,h,(r.subtreeFlags&10256)!==0||!1)),p&2048&&hp(x,r);break;case 24:lr(i,r,l,h),p&2048&&fp(r.alternate,r);break;default:lr(i,r,l,h)}}function Wl(i,r,l,h,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var _=i,x=r,M=l,q=h,et=x.flags;switch(x.tag){case 0:case 11:case 15:Wl(_,x,M,q,p),uc(8,x);break;case 23:break;case 22:var ft=x.stateNode;x.memoizedState!==null?ft._visibility&2?Wl(_,x,M,q,p):hc(_,x):(ft._visibility|=2,Wl(_,x,M,q,p)),p&&et&2048&&hp(x.alternate,x);break;case 24:Wl(_,x,M,q,p),p&&et&2048&&fp(x.alternate,x);break;default:Wl(_,x,M,q,p)}r=r.sibling}}function hc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,p=h.flags;switch(h.tag){case 22:hc(l,h),p&2048&&hp(h.alternate,h);break;case 24:hc(l,h),p&2048&&fp(h.alternate,h);break;default:hc(l,h)}r=r.sibling}}var fc=8192;function $l(i,r,l){if(i.subtreeFlags&fc)for(i=i.child;i!==null;)j0(i,r,l),i=i.sibling}function j0(i,r,l){switch(i.tag){case 26:$l(i,r,l),i.flags&fc&&i.memoizedState!==null&&JR(l,ar,i.memoizedState,i.memoizedProps);break;case 5:$l(i,r,l);break;case 3:case 4:var h=ar;ar=wf(i.stateNode.containerInfo),$l(i,r,l),ar=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=fc,fc=16777216,$l(i,r,l),fc=h):$l(i,r,l));break;default:$l(i,r,l)}}function F0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function dc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Qn=h,q0(h,i)}F0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)H0(i),i=i.sibling}function H0(i){switch(i.tag){case 0:case 11:case 15:dc(i),i.flags&2048&&Wo(9,i,i.return);break;case 3:dc(i);break;case 12:dc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,cf(i)):dc(i);break;default:dc(i)}}function cf(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Qn=h,q0(h,i)}F0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Wo(8,r,r.return),cf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,cf(r));break;default:cf(r)}i=i.sibling}}function q0(i,r){for(;Qn!==null;){var l=Qn;switch(l.tag){case 0:case 11:case 15:Wo(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Qu(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Qn=h;else t:for(l=i;Qn!==null;){h=Qn;var p=h.sibling,_=h.return;if(O0(h),h===l){Qn=null;break t}if(p!==null){p.return=_,Qn=p;break t}Qn=_}}}var mR={getCacheForType:function(i){var r=si(wn),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l},cacheSignal:function(){return si(wn).controller.signal}},pR=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Ne=null,se=null,ae=0,Re=0,ps=null,$o=!1,Jl=!1,dp=!1,fo=0,hn=0,Jo=0,ll=0,mp=0,gs=0,tu=0,mc=null,Wi=null,pp=!1,hf=0,Z0=0,ff=1/0,df=null,ta=null,Pn=0,ea=null,eu=null,mo=0,gp=0,yp=null,G0=null,pc=0,_p=null;function ys(){return(Ee&2)!==0&&ae!==0?ae&-ae:ot.T!==null?Sp():mi()}function K0(){if(gs===0)if((ae&536870912)===0||ie){var i=bs;bs<<=1,(bs&3932160)===0&&(bs=262144),gs=i}else gs=536870912;return i=ds.current,i!==null&&(i.flags|=32),gs}function $i(i,r,l){(i===Ne&&(Re===2||Re===9)||i.cancelPendingCommit!==null)&&(nu(i,0),na(i,ae,gs,!1)),Un(i,l),((Ee&2)===0||i!==Ne)&&(i===Ne&&((Ee&2)===0&&(ll|=l),hn===4&&na(i,ae,gs,!1)),Lr(i))}function Y0(i,r,l){if((Ee&6)!==0)throw Error(s(327));var h=!l&&(r&127)===0&&(r&i.expiredLanes)===0||on(i,r),p=h?_R(i,r):Tp(i,r,!0),_=h;do{if(p===0){Jl&&!h&&na(i,r,0,!1);break}else{if(l=i.current.alternate,_&&!gR(l)){p=Tp(i,r,!1),_=!1;continue}if(p===2){if(_=r,i.errorRecoveryDisabledLanes&_)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;t:{var M=i;p=mc;var q=M.current.memoizedState.isDehydrated;if(q&&(nu(M,x).flags|=256),x=Tp(M,x,!1),x!==2){if(dp&&!q){M.errorRecoveryDisabledLanes|=_,ll|=_,p=4;break t}_=Wi,Wi=p,_!==null&&(Wi===null?Wi=_:Wi.push.apply(Wi,_))}p=x}if(_=!1,p!==2)continue}}if(p===1){nu(i,0),na(i,r,0,!0);break}t:{switch(h=i,_=p,_){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:na(h,r,gs,!$o);break t;case 2:Wi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=hf+300-_n(),10<p)){if(na(h,r,gs,!$o),Be(h,0,!0)!==0)break t;mo=r,h.timeoutHandle=xT(X0.bind(null,h,l,Wi,df,pp,r,gs,ll,tu,$o,_,"Throttled",-0,0),p);break t}X0(h,l,Wi,df,pp,r,gs,ll,tu,$o,_,null,-0,0)}}break}while(!0);Lr(i)}function X0(i,r,l,h,p,_,x,M,q,et,ft,pt,st,lt){if(i.timeoutHandle=-1,pt=r.subtreeFlags,pt&8192||(pt&16785408)===16785408){pt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},j0(r,_,pt);var Mt=(_&62914560)===_?hf-_n():(_&4194048)===_?Z0-_n():0;if(Mt=t2(pt,Mt),Mt!==null){mo=_,i.cancelPendingCommit=Mt(iT.bind(null,i,r,_,l,h,p,x,M,q,ft,pt,null,st,lt)),na(i,_,x,!et);return}}iT(i,r,_,l,h,p,x,M,q)}function gR(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],_=p.getSnapshot;p=p.value;try{if(!Yn(_(),p))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function na(i,r,l,h){r&=~mp,r&=~ll,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var p=r;0<p;){var _=31-ke(p),x=1<<_;h[_]=-1,p&=~x}l!==0&&jn(i,l,r)}function mf(){return(Ee&6)===0?(gc(0),!1):!0}function vp(){if(se!==null){if(Re===0)var i=se.return;else i=se,or=Ir=null,Nm(i),Gl=null,$u=0,i=se;for(;i!==null;)A0(i.alternate,i),i=i.return;se=null}}function nu(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,VR(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),mo=0,vp(),Ne=i,se=l=Os(i.current,null),ae=r,Re=0,ps=null,$o=!1,Jl=on(i,r),dp=!1,tu=gs=mp=ll=Jo=hn=0,Wi=mc=null,pp=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var p=31-ke(h),_=1<<p;r|=i[p],h&=~_}return fo=r,Xa(),l}function Q0(i,r){Kt=null,ot.H=oc,r===Zl||r===Fh?(r=fv(),Re=3):r===wm?(r=fv(),Re=4):Re=r===Wm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ps=r,se===null&&(hn=1,nf(i,c(r,i.current)))}function W0(){var i=ds.current;return i===null?!0:(ae&4194048)===ae?Ns===null:(ae&62914560)===ae||(ae&536870912)!==0?i===Ns:!1}function $0(){var i=ot.H;return ot.H=oc,i===null?oc:i}function J0(){var i=ot.A;return ot.A=mR,i}function pf(){hn=4,$o||(ae&4194048)!==ae&&ds.current!==null||(Jl=!0),(Jo&134217727)===0&&(ll&134217727)===0||Ne===null||na(Ne,ae,gs,!1)}function Tp(i,r,l){var h=Ee;Ee|=2;var p=$0(),_=J0();(Ne!==i||ae!==r)&&(df=null,nu(i,r)),r=!1;var x=hn;t:do try{if(Re!==0&&se!==null){var M=se,q=ps;switch(Re){case 8:vp(),x=6;break t;case 3:case 2:case 9:case 6:ds.current===null&&(r=!0);var et=Re;if(Re=0,ps=null,iu(i,M,q,et),l&&Jl){x=0;break t}break;default:et=Re,Re=0,ps=null,iu(i,M,q,et)}}yR(),x=hn;break}catch(ft){Q0(i,ft)}while(!0);return r&&i.shellSuspendCounter++,or=Ir=null,Ee=h,ot.H=p,ot.A=_,se===null&&(Ne=null,ae=0,Xa()),x}function yR(){for(;se!==null;)tT(se)}function _R(i,r){var l=Ee;Ee|=2;var h=$0(),p=J0();Ne!==i||ae!==r?(df=null,ff=_n()+500,nu(i,r)):Jl=on(i,r);t:do try{if(Re!==0&&se!==null){r=se;var _=ps;e:switch(Re){case 1:Re=0,ps=null,iu(i,r,_,1);break;case 2:case 9:if(cv(_)){Re=0,ps=null,eT(r);break}r=function(){Re!==2&&Re!==9||Ne!==i||(Re=7),Lr(i)},_.then(r,r);break t;case 3:Re=7;break t;case 4:Re=5;break t;case 7:cv(_)?(Re=0,ps=null,eT(r)):(Re=0,ps=null,iu(i,r,_,7));break;case 5:var x=null;switch(se.tag){case 26:x=se.memoizedState;case 5:case 27:var M=se;if(x?UT(x):M.stateNode.complete){Re=0,ps=null;var q=M.sibling;if(q!==null)se=q;else{var et=M.return;et!==null?(se=et,gf(et)):se=null}break e}}Re=0,ps=null,iu(i,r,_,5);break;case 6:Re=0,ps=null,iu(i,r,_,6);break;case 8:vp(),hn=6;break t;default:throw Error(s(462))}}vR();break}catch(ft){Q0(i,ft)}while(!0);return or=Ir=null,ot.H=h,ot.A=p,Ee=l,se!==null?0:(Ne=null,ae=0,Xa(),hn)}function vR(){for(;se!==null&&!qs();)tT(se)}function tT(i){var r=S0(i.alternate,i,fo);i.memoizedProps=i.pendingProps,r===null?gf(i):se=r}function eT(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=_0(l,r,r.pendingProps,r.type,void 0,ae);break;case 11:r=_0(l,r,r.pendingProps,r.type.render,r.ref,ae);break;case 5:Nm(r);default:A0(l,r),r=se=Zu(r,fo),r=S0(l,r,fo)}i.memoizedProps=i.pendingProps,r===null?gf(i):se=r}function iu(i,r,l,h){or=Ir=null,Nm(r),Gl=null,$u=0;var p=r.return;try{if(aR(i,p,r,l,ae)){hn=1,nf(i,c(l,i.current)),se=null;return}}catch(_){if(p!==null)throw se=p,_;hn=1,nf(i,c(l,i.current)),se=null;return}r.flags&32768?(ie||h===1?i=!0:Jl||(ae&536870912)!==0?i=!1:($o=i=!0,(h===2||h===9||h===3||h===6)&&(h=ds.current,h!==null&&h.tag===13&&(h.flags|=16384))),nT(r,i)):gf(r)}function gf(i){var r=i;do{if((r.flags&32768)!==0){nT(r,$o);return}i=r.return;var l=cR(r.alternate,r,fo);if(l!==null){se=l;return}if(r=r.sibling,r!==null){se=r;return}se=r=i}while(r!==null);hn===0&&(hn=5)}function nT(i,r){do{var l=hR(i.alternate,i);if(l!==null){l.flags&=32767,se=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){se=i;return}se=i=l}while(i!==null);hn=6,se=null}function iT(i,r,l,h,p,_,x,M,q){i.cancelPendingCommit=null;do yf();while(Pn!==0);if((Ee&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(_=r.lanes|r.childLanes,_|=zl,$e(i,l,_,x,M,q),i===Ne&&(se=Ne=null,ae=0),eu=r,ea=i,mo=l,gp=_,yp=p,G0=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,wR(zn,function(){return lT(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=ot.T,ot.T=null,p=gt.p,gt.p=2,x=Ee,Ee|=4;try{fR(i,r,l)}finally{Ee=x,gt.p=p,ot.T=h}}Pn=1,sT(),rT(),oT()}}function sT(){if(Pn===1){Pn=0;var i=ea,r=eu,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=ot.T,ot.T=null;var h=gt.p;gt.p=2;var p=Ee;Ee|=4;try{z0(r,i);var _=Pp,x=qa(i.containerInfo),M=_.focusedElem,q=_.selectionRange;if(x!==M&&M&&M.ownerDocument&&Ol(M.ownerDocument.documentElement,M)){if(q!==null&&Sr(M)){var et=q.start,ft=q.end;if(ft===void 0&&(ft=et),"selectionStart"in M)M.selectionStart=et,M.selectionEnd=Math.min(ft,M.value.length);else{var pt=M.ownerDocument||document,st=pt&&pt.defaultView||window;if(st.getSelection){var lt=st.getSelection(),Mt=M.textContent.length,Bt=Math.min(q.start,Mt),Pe=q.end===void 0?Bt:Math.min(q.end,Mt);!lt.extend&&Bt>Pe&&(x=Pe,Pe=Bt,Bt=x);var Q=Ha(M,Bt),Y=Ha(M,Pe);if(Q&&Y&&(lt.rangeCount!==1||lt.anchorNode!==Q.node||lt.anchorOffset!==Q.offset||lt.focusNode!==Y.node||lt.focusOffset!==Y.offset)){var tt=pt.createRange();tt.setStart(Q.node,Q.offset),lt.removeAllRanges(),Bt>Pe?(lt.addRange(tt),lt.extend(Y.node,Y.offset)):(tt.setEnd(Y.node,Y.offset),lt.addRange(tt))}}}}for(pt=[],lt=M;lt=lt.parentNode;)lt.nodeType===1&&pt.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<pt.length;M++){var dt=pt[M];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}Df=!!Ip,Pp=Ip=null}finally{Ee=p,gt.p=h,ot.T=l}}i.current=r,Pn=2}}function rT(){if(Pn===2){Pn=0;var i=ea,r=eu,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=ot.T,ot.T=null;var h=gt.p;gt.p=2;var p=Ee;Ee|=4;try{L0(i,r.alternate,r)}finally{Ee=p,gt.p=h,ot.T=l}}Pn=3}}function oT(){if(Pn===4||Pn===3){Pn=0,pr();var i=ea,r=eu,l=mo,h=G0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pn=5:(Pn=0,eu=ea=null,aT(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ta=null),Ct(l),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(di,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=ot.T,p=gt.p,gt.p=2,ot.T=null;try{for(var _=i.onRecoverableError,x=0;x<h.length;x++){var M=h[x];_(M.value,{componentStack:M.stack})}}finally{ot.T=r,gt.p=p}}(mo&3)!==0&&yf(),Lr(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===_p?pc++:(pc=0,_p=i):pc=0,gc(0)}}function aT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Qu(r)))}function yf(){return sT(),rT(),oT(),lT()}function lT(){if(Pn!==5)return!1;var i=ea,r=gp;gp=0;var l=Ct(mo),h=ot.T,p=gt.p;try{gt.p=32>l?32:l,ot.T=null,l=yp,yp=null;var _=ea,x=mo;if(Pn=0,eu=ea=null,mo=0,(Ee&6)!==0)throw Error(s(331));var M=Ee;if(Ee|=4,H0(_.current),U0(_,_.current,x,l),Ee=M,gc(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(di,_)}catch{}return!0}finally{gt.p=p,ot.T=h,aT(i,r)}}function uT(i,r,l){r=c(l,r),r=Qm(i.stateNode,r,2),i=Yo(i,r,2),i!==null&&(Un(i,2),Lr(i))}function De(i,r,l){if(i.tag===3)uT(i,i,l);else for(;r!==null;){if(r.tag===3){uT(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ta===null||!ta.has(h))){i=c(l,i),l=c0(2),h=Yo(r,l,2),h!==null&&(h0(l,h,r,i),Un(h,2),Lr(h));break}}r=r.return}}function bp(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new pR;var p=new Set;h.set(r,p)}else p=h.get(r),p===void 0&&(p=new Set,h.set(r,p));p.has(l)||(dp=!0,p.add(l),i=TR.bind(null,i,r,l),r.then(i,i))}function TR(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ne===i&&(ae&l)===l&&(hn===4||hn===3&&(ae&62914560)===ae&&300>_n()-hf?(Ee&2)===0&&nu(i,0):mp|=l,tu===ae&&(tu=0)),Lr(i)}function cT(i,r){r===0&&(r=vn()),i=Ls(i,r),i!==null&&(Un(i,r),Lr(i))}function bR(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),cT(i,l)}function ER(i,r){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),cT(i,l)}function wR(i,r){return be(i,r)}var _f=null,su=null,Ep=!1,vf=!1,wp=!1,ia=0;function Lr(i){i!==su&&i.next===null&&(su===null?_f=su=i:su=su.next=i),vf=!0,Ep||(Ep=!0,xR())}function gc(i,r){if(!wp&&vf){wp=!0;do for(var l=!1,h=_f;h!==null;){if(i!==0){var p=h.pendingLanes;if(p===0)var _=0;else{var x=h.suspendedLanes,M=h.pingedLanes;_=(1<<31-ke(42|i)+1)-1,_&=p&~(x&~M),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,mT(h,_))}else _=ae,_=Be(h,h===Ne?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||on(h,_)||(l=!0,mT(h,_));h=h.next}while(l);wp=!1}}function SR(){hT()}function hT(){vf=Ep=!1;var i=0;ia!==0&&NR()&&(i=ia);for(var r=_n(),l=null,h=_f;h!==null;){var p=h.next,_=fT(h,r);_===0?(h.next=null,l===null?_f=p:l.next=p,p===null&&(su=l)):(l=h,(i!==0||(_&3)!==0)&&(vf=!0)),h=p}Pn!==0&&Pn!==5||gc(i),ia!==0&&(ia=0)}function fT(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var x=31-ke(_),M=1<<x,q=p[x];q===-1?((M&l)===0||(M&h)!==0)&&(p[x]=Bn(M,r)):q<=r&&(i.expiredLanes|=M),_&=~M}if(r=Ne,l=ae,l=Be(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(Re===2||Re===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ni(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||on(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&ni(h),Ct(l)){case 2:case 8:l=Ci;break;case 32:l=zn;break;case 268435456:l=gr;break;default:l=zn}return h=dT.bind(null,i),l=be(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&ni(h),i.callbackPriority=2,i.callbackNode=null,2}function dT(i,r){if(Pn!==0&&Pn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(yf()&&i.callbackNode!==l)return null;var h=ae;return h=Be(i,i===Ne?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Y0(i,h,r),fT(i,_n()),i.callbackNode!=null&&i.callbackNode===l?dT.bind(null,i):null)}function mT(i,r){if(yf())return null;Y0(i,r,!0)}function xR(){kR(function(){(Ee&6)!==0?be(Gs,SR):hT()})}function Sp(){if(ia===0){var i=Hl;i===0&&(i=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),ia=i}return ia}function pT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:vr(""+i)}function gT(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function AR(i,r,l,h,p){if(r==="submit"&&l&&l.stateNode===p){var _=pT((p[an]||null).action),x=h.submitter;x&&(r=(r=x[an]||null)?pT(r.formAction):x.getAttribute("formAction"),r!==null&&(_=r,x=null));var M=new Ds("action","action",null,h,p);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ia!==0){var q=x?gT(p,x):new FormData(p);qm(l,{pending:!0,data:q,method:p.method,action:_},null,q)}}else typeof _=="function"&&(M.preventDefault(),q=x?gT(p,x):new FormData(p),qm(l,{pending:!0,data:q,method:p.method,action:_},_,q))},currentTarget:p}]})}}for(var xp=0;xp<Cr.length;xp++){var Ap=Cr[xp],CR=Ap.toLowerCase(),RR=Ap[0].toUpperCase()+Ap.slice(1);Zi(CR,"on"+RR)}Zi(Ga,"onAnimationEnd"),Zi(Vh,"onAnimationIteration"),Zi(Ka,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(pm,"onTransitionRun"),Zi(kh,"onTransitionStart"),Zi(gm,"onTransitionCancel"),Zi(Ho,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yc));function yT(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;t:{var _=void 0;if(r)for(var x=h.length-1;0<=x;x--){var M=h[x],q=M.instance,et=M.currentTarget;if(M=M.listener,q!==_&&p.isPropagationStopped())break t;_=M,p.currentTarget=et;try{_(p)}catch(ft){Ya(ft)}p.currentTarget=null,_=q}else for(x=0;x<h.length;x++){if(M=h[x],q=M.instance,et=M.currentTarget,M=M.listener,q!==_&&p.isPropagationStopped())break t;_=M,p.currentTarget=et;try{_(p)}catch(ft){Ya(ft)}p.currentTarget=null,_=q}}}}function re(i,r){var l=r[is];l===void 0&&(l=r[is]=new Set);var h=i+"__bubble";l.has(h)||(_T(r,i,2,!1),l.add(h))}function Cp(i,r,l){var h=0;r&&(h|=4),_T(l,i,h,r)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function Rp(i){if(!i[Tf]){i[Tf]=!0,Ia.forEach(function(l){l!=="selectionchange"&&(DR.has(l)||Cp(l,!1,i),Cp(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Tf]||(r[Tf]=!0,Cp("selectionchange",!1,r))}}function _T(i,r,l,h){switch(KT(r)){case 2:var p=i2;break;case 8:p=s2;break;default:p=Hp}l=p.bind(null,r,l,i),p=void 0,!$s||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(r,l,{capture:!0,passive:p}):i.addEventListener(r,l,!0):p!==void 0?i.addEventListener(r,l,{passive:p}):i.addEventListener(r,l,!1)}function Dp(i,r,l,h,p){var _=h;if((r&1)===0&&(r&2)===0&&h!==null)t:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var M=h.stateNode.containerInfo;if(M===p)break;if(x===4)for(x=h.return;x!==null;){var q=x.tag;if((q===3||q===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;M!==null;){if(x=ss(M),x===null)return;if(q=x.tag,q===5||q===6||q===26||q===27){h=_=x;continue t}M=M.parentNode}}h=h.return}Ws(function(){var et=_,ft=gi(l),pt=[];t:{var st=zh.get(i);if(st!==void 0){var lt=Ds,Mt=i;switch(i){case"keypress":if(br(l)===0)break t;case"keydown":case"keyup":lt=za;break;case"focusin":Mt="focus",lt=Wr;break;case"focusout":Mt="blur",lt=Wr;break;case"beforeblur":case"afterblur":lt=Wr;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=La;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=Dl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=E;break;case Ga:case Vh:case Ka:lt=Lo;break;case Ho:lt=O;break;case"scroll":case"scrollend":lt=$t;break;case"wheel":lt=rt;break;case"copy":case"cut":case"paste":lt=Ii;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=nr;break;case"toggle":case"beforetoggle":lt=Ht}var Bt=(r&4)!==0,Pe=!Bt&&(i==="scroll"||i==="scrollend"),Q=Bt?st!==null?st+"Capture":null:st;Bt=[];for(var Y=et,tt;Y!==null;){var dt=Y;if(tt=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||tt===null||Q===null||(dt=Mi(Y,Q),dt!=null&&Bt.push(_c(Y,dt,tt))),Pe)break;Y=Y.return}0<Bt.length&&(st=new lt(st,Mt,null,l,ft),pt.push({event:st,listeners:Bt}))}}if((r&7)===0){t:{if(st=i==="mouseover"||i==="pointerover",lt=i==="mouseout"||i==="pointerout",st&&l!==Po&&(Mt=l.relatedTarget||l.fromElement)&&(ss(Mt)||Mt[ns]))break t;if((lt||st)&&(st=ft.window===ft?ft:(st=ft.ownerDocument)?st.defaultView||st.parentWindow:window,lt?(Mt=l.relatedTarget||l.toElement,lt=et,Mt=Mt?ss(Mt):null,Mt!==null&&(Pe=u(Mt),Bt=Mt.tag,Mt!==Pe||Bt!==5&&Bt!==27&&Bt!==6)&&(Mt=null)):(lt=null,Mt=et),lt!==Mt)){if(Bt=La,dt="onMouseLeave",Q="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Bt=nr,dt="onPointerLeave",Q="onPointerEnter",Y="pointer"),Pe=lt==null?st:qn(lt),tt=Mt==null?st:qn(Mt),st=new Bt(dt,Y+"leave",lt,l,ft),st.target=Pe,st.relatedTarget=tt,dt=null,ss(ft)===et&&(Bt=new Bt(Q,Y+"enter",Mt,l,ft),Bt.target=tt,Bt.relatedTarget=Pe,dt=Bt),Pe=dt,lt&&Mt)e:{for(Bt=MR,Q=lt,Y=Mt,tt=0,dt=Q;dt;dt=Bt(dt))tt++;dt=0;for(var Nt=Y;Nt;Nt=Bt(Nt))dt++;for(;0<tt-dt;)Q=Bt(Q),tt--;for(;0<dt-tt;)Y=Bt(Y),dt--;for(;tt--;){if(Q===Y||Y!==null&&Q===Y.alternate){Bt=Q;break e}Q=Bt(Q),Y=Bt(Y)}Bt=null}else Bt=null;lt!==null&&vT(pt,st,lt,Bt,!1),Mt!==null&&Pe!==null&&vT(pt,Pe,Mt,Bt,!0)}}t:{if(st=et?qn(et):window,lt=st.nodeName&&st.nodeName.toLowerCase(),lt==="select"||lt==="input"&&st.type==="file")var ve=Fa;else if(Ms(st))if(Ih)ve=mm;else{ve=dm;var Pt=ir}else lt=st.nodeName,!lt||lt.toLowerCase()!=="input"||st.type!=="checkbox"&&st.type!=="radio"?et&&_r(et.elementType)&&(ve=Fa):ve=Bo;if(ve&&(ve=ve(i,et))){Mh(pt,ve,l,ft);break t}Pt&&Pt(i,st,et),i==="focusout"&&et&&st.type==="number"&&et.memoizedProps.value!=null&&rs(st,"number",st.value)}switch(Pt=et?qn(et):window,i){case"focusin":(Ms(Pt)||Pt.contentEditable==="true")&&(xr=Pt,Vl=et,Za=null);break;case"focusout":Za=Vl=xr=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,Oh(pt,l,ft);break;case"selectionchange":if(Nl)break;case"keydown":case"keyup":Oh(pt,l,ft)}var Xt;if(de)t:{switch(i){case"compositionstart":var le="onCompositionStart";break t;case"compositionend":le="onCompositionEnd";break t;case"compositionupdate":le="onCompositionUpdate";break t}le=void 0}else Vo?$r(i,l)&&(le="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(le="onCompositionStart");le&&(qi&&l.locale!=="ko"&&(Vo||le!=="onCompositionStart"?le==="onCompositionEnd"&&Vo&&(Xt=os()):(Fi=ft,Js="value"in Fi?Fi.value:Fi.textContent,Vo=!0)),Pt=bf(et,le),0<Pt.length&&(le=new us(le,i,null,l,ft),pt.push({event:le,listeners:Pt}),Xt?le.data=Xt:(Xt=Jr(l),Xt!==null&&(le.data=Xt)))),(Xt=Hi?fs(i,l):ko(i,l))&&(le=bf(et,"onBeforeInput"),0<le.length&&(Pt=new us("onBeforeInput","beforeinput",null,l,ft),pt.push({event:Pt,listeners:le}),Pt.data=Xt)),AR(pt,i,et,l,ft)}yT(pt,r)})}function _c(i,r,l){return{instance:i,listener:r,currentTarget:l}}function bf(i,r){for(var l=r+"Capture",h=[];i!==null;){var p=i,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=Mi(i,l),p!=null&&h.unshift(_c(i,p,_)),p=Mi(i,r),p!=null&&h.push(_c(i,p,_))),i.tag===3)return h;i=i.return}return[]}function MR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function vT(i,r,l,h,p){for(var _=r._reactName,x=[];l!==null&&l!==h;){var M=l,q=M.alternate,et=M.stateNode;if(M=M.tag,q!==null&&q===h)break;M!==5&&M!==26&&M!==27||et===null||(q=et,p?(et=Mi(l,_),et!=null&&x.unshift(_c(l,et,q))):p||(et=Mi(l,_),et!=null&&x.push(_c(l,et,q)))),l=l.return}x.length!==0&&i.push({event:r,listeners:x})}var IR=/\r\n?/g,PR=/\u0000|\uFFFD/g;function TT(i){return(typeof i=="string"?i:""+i).replace(IR,`
`).replace(PR,"")}function bT(i,r){return r=TT(r),TT(i)===r}function Ie(i,r,l,h,p,_){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||bn(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&bn(i,""+h);break;case"className":ne(i,"class",h);break;case"tabIndex":ne(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ne(i,l,h);break;case"style":Yr(i,h,_);break;case"data":if(r!=="object"){ne(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=vr(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(r!=="input"&&Ie(i,r,"name",p.name,p,null),Ie(i,r,"formEncType",p.formEncType,p,null),Ie(i,r,"formMethod",p.formMethod,p,null),Ie(i,r,"formTarget",p.formTarget,p,null)):(Ie(i,r,"encType",p.encType,p,null),Ie(i,r,"method",p.method,p,null),Ie(i,r,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=vr(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=pi);break;case"onScroll":h!=null&&re("scroll",i);break;case"onScrollEnd":h!=null&&re("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=vr(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":re("beforetoggle",i),re("toggle",i),Jt(i,"popover",h);break;case"xlinkActuate":Ue(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ue(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ue(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ue(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ue(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ue(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ue(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ue(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ue(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Jt(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Xr.get(l)||l,Jt(i,l,h))}}function Mp(i,r,l,h,p,_){switch(l){case"style":Yr(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?bn(i,h):(typeof h=="number"||typeof h=="bigint")&&bn(i,""+h);break;case"onScroll":h!=null&&re("scroll",i);break;case"onScrollEnd":h!=null&&re("scrollend",i);break;case"onClick":h!=null&&(i.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),r=l.slice(2,p?l.length-7:void 0),_=i[an]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(r,_,p),typeof h=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,p);break t}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Jt(i,l,h)}}}function oi(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",i),re("load",i);var h=!1,p=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var x=l[_];if(x!=null)switch(_){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ie(i,r,_,x,l,null)}}p&&Ie(i,r,"srcSet",l.srcSet,l,null),h&&Ie(i,r,"src",l.src,l,null);return;case"input":re("invalid",i);var M=_=x=p=null,q=null,et=null;for(h in l)if(l.hasOwnProperty(h)){var ft=l[h];if(ft!=null)switch(h){case"name":p=ft;break;case"type":x=ft;break;case"checked":q=ft;break;case"defaultChecked":et=ft;break;case"value":_=ft;break;case"defaultValue":M=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(s(137,r));break;default:Ie(i,r,h,ft,l,null)}}Kr(i,_,M,q,et,x,p,!1);return;case"select":re("invalid",i),h=x=_=null;for(p in l)if(l.hasOwnProperty(p)&&(M=l[p],M!=null))switch(p){case"value":_=M;break;case"defaultValue":x=M;break;case"multiple":h=M;default:Ie(i,r,p,M,l,null)}r=_,l=x,i.multiple=!!h,r!=null?Ce(i,!!h,r,!1):l!=null&&Ce(i,!!h,l,!0);return;case"textarea":re("invalid",i),_=p=h=null;for(x in l)if(l.hasOwnProperty(x)&&(M=l[x],M!=null))switch(x){case"value":h=M;break;case"defaultValue":p=M;break;case"children":_=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Ie(i,r,x,M,l,null)}ji(i,h,p,_);return;case"option":for(q in l)l.hasOwnProperty(q)&&(h=l[q],h!=null)&&(q==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":Ie(i,r,q,h,l,null));return;case"dialog":re("beforetoggle",i),re("toggle",i),re("cancel",i),re("close",i);break;case"iframe":case"object":re("load",i);break;case"video":case"audio":for(h=0;h<yc.length;h++)re(yc[h],i);break;case"image":re("error",i),re("load",i);break;case"details":re("toggle",i);break;case"embed":case"source":case"link":re("error",i),re("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in l)if(l.hasOwnProperty(et)&&(h=l[et],h!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ie(i,r,et,h,l,null)}return;default:if(_r(r)){for(ft in l)l.hasOwnProperty(ft)&&(h=l[ft],h!==void 0&&Mp(i,r,ft,h,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(h=l[M],h!=null&&Ie(i,r,M,h,l,null))}function LR(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,x=null,M=null,q=null,et=null,ft=null;for(lt in l){var pt=l[lt];if(l.hasOwnProperty(lt)&&pt!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":q=pt;default:h.hasOwnProperty(lt)||Ie(i,r,lt,null,h,pt)}}for(var st in h){var lt=h[st];if(pt=l[st],h.hasOwnProperty(st)&&(lt!=null||pt!=null))switch(st){case"type":_=lt;break;case"name":p=lt;break;case"checked":et=lt;break;case"defaultChecked":ft=lt;break;case"value":x=lt;break;case"defaultValue":M=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(s(137,r));break;default:lt!==pt&&Ie(i,r,st,lt,h,pt)}}Mo(i,x,M,q,et,ft,_,p);return;case"select":lt=x=M=st=null;for(_ in l)if(q=l[_],l.hasOwnProperty(_)&&q!=null)switch(_){case"value":break;case"multiple":lt=q;default:h.hasOwnProperty(_)||Ie(i,r,_,null,h,q)}for(p in h)if(_=h[p],q=l[p],h.hasOwnProperty(p)&&(_!=null||q!=null))switch(p){case"value":st=_;break;case"defaultValue":M=_;break;case"multiple":x=_;default:_!==q&&Ie(i,r,p,_,h,q)}r=M,l=x,h=lt,st!=null?Ce(i,!!l,st,!1):!!h!=!!l&&(r!=null?Ce(i,!!l,r,!0):Ce(i,!!l,l?[]:"",!1));return;case"textarea":lt=st=null;for(M in l)if(p=l[M],l.hasOwnProperty(M)&&p!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Ie(i,r,M,null,h,p)}for(x in h)if(p=h[x],_=l[x],h.hasOwnProperty(x)&&(p!=null||_!=null))switch(x){case"value":st=p;break;case"defaultValue":lt=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==_&&Ie(i,r,x,p,h,_)}As(i,st,lt);return;case"option":for(var Mt in l)st=l[Mt],l.hasOwnProperty(Mt)&&st!=null&&!h.hasOwnProperty(Mt)&&(Mt==="selected"?i.selected=!1:Ie(i,r,Mt,null,h,st));for(q in h)st=h[q],lt=l[q],h.hasOwnProperty(q)&&st!==lt&&(st!=null||lt!=null)&&(q==="selected"?i.selected=st&&typeof st!="function"&&typeof st!="symbol":Ie(i,r,q,st,h,lt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in l)st=l[Bt],l.hasOwnProperty(Bt)&&st!=null&&!h.hasOwnProperty(Bt)&&Ie(i,r,Bt,null,h,st);for(et in h)if(st=h[et],lt=l[et],h.hasOwnProperty(et)&&st!==lt&&(st!=null||lt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(s(137,r));break;default:Ie(i,r,et,st,h,lt)}return;default:if(_r(r)){for(var Pe in l)st=l[Pe],l.hasOwnProperty(Pe)&&st!==void 0&&!h.hasOwnProperty(Pe)&&Mp(i,r,Pe,void 0,h,st);for(ft in h)st=h[ft],lt=l[ft],!h.hasOwnProperty(ft)||st===lt||st===void 0&&lt===void 0||Mp(i,r,ft,st,h,lt);return}}for(var Q in l)st=l[Q],l.hasOwnProperty(Q)&&st!=null&&!h.hasOwnProperty(Q)&&Ie(i,r,Q,null,h,st);for(pt in h)st=h[pt],lt=l[pt],!h.hasOwnProperty(pt)||st===lt||st==null&&lt==null||Ie(i,r,pt,st,h,lt)}function ET(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var p=l[h],_=p.transferSize,x=p.initiatorType,M=p.duration;if(_&&M&&ET(x)){for(x=0,M=p.responseEnd,h+=1;h<l.length;h++){var q=l[h],et=q.startTime;if(et>M)break;var ft=q.transferSize,pt=q.initiatorType;ft&&ET(pt)&&(q=q.responseEnd,x+=ft*(q<M?1:(M-et)/(q-et)))}if(--h,r+=8*(_+x)/(p.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ip=null,Pp=null;function Ef(i){return i.nodeType===9?i:i.ownerDocument}function wT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ST(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Lp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Op=null;function NR(){var i=window.event;return i&&i.type==="popstate"?i===Op?!1:(Op=i,!0):(Op=null,!1)}var xT=typeof setTimeout=="function"?setTimeout:void 0,VR=typeof clearTimeout=="function"?clearTimeout:void 0,AT=typeof Promise=="function"?Promise:void 0,kR=typeof queueMicrotask=="function"?queueMicrotask:typeof AT<"u"?function(i){return AT.resolve(null).then(i).catch(zR)}:xT;function zR(i){setTimeout(function(){throw i})}function sa(i){return i==="head"}function CT(i,r){var l=r,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(p),lu(r);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")vc(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,vc(l);for(var _=l.firstChild;_;){var x=_.nextSibling,M=_.nodeName;_[Es]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=x}}else l==="body"&&vc(i.ownerDocument.body);l=p}while(l);lu(r)}function RT(i,r){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function Np(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Np(l),Co(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function BR(i,r,l,h){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Es])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Vs(i.nextSibling),i===null)break}return null}function UR(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Vs(i.nextSibling),i===null))return null;return i}function DT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Vs(i.nextSibling),i===null))return null;return i}function Vp(i){return i.data==="$?"||i.data==="$~"}function kp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function jR(i,r){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||l.readyState!=="loading")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Vs(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var zp=null;function MT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(r===0)return Vs(i.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}i=i.nextSibling}return null}function IT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return i;r--}else l!=="/$"&&l!=="/&"||r++}i=i.previousSibling}return null}function PT(i,r,l){switch(r=Ef(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function vc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Co(i)}var ks=new Map,LT=new Set;function wf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var po=gt.d;gt.d={f:FR,r:HR,D:qR,C:ZR,L:GR,m:KR,X:XR,S:YR,M:QR};function FR(){var i=po.f(),r=mf();return i||r}function HR(i){var r=zi(i);r!==null&&r.tag===5&&r.type==="form"?Qv(r):po.r(i)}var ru=typeof document>"u"?null:document;function OT(i,r,l){var h=ru;if(h&&typeof r=="string"&&r){var p=Le(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),LT.has(p)||(LT.add(p),i={rel:i,crossOrigin:l,href:r},h.querySelector(p)===null&&(r=h.createElement("link"),oi(r,"link",i),ln(r),h.head.appendChild(r)))}}function qR(i){po.D(i),OT("dns-prefetch",i,null)}function ZR(i,r){po.C(i,r),OT("preconnect",i,r)}function GR(i,r,l){po.L(i,r,l);var h=ru;if(h&&i&&r){var p='link[rel="preload"][as="'+Le(r)+'"]';r==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Le(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Le(l.imageSizes)+'"]')):p+='[href="'+Le(i)+'"]';var _=p;switch(r){case"style":_=ou(i);break;case"script":_=au(i)}ks.has(_)||(i=w({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),ks.set(_,i),h.querySelector(p)!==null||r==="style"&&h.querySelector(Tc(_))||r==="script"&&h.querySelector(bc(_))||(r=h.createElement("link"),oi(r,"link",i),ln(r),h.head.appendChild(r)))}}function KR(i,r){po.m(i,r);var l=ru;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Le(h)+'"][href="'+Le(i)+'"]',_=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=au(i)}if(!ks.has(_)&&(i=w({rel:"modulepreload",href:i},r),ks.set(_,i),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bc(_)))return}h=l.createElement("link"),oi(h,"link",i),ln(h),l.head.appendChild(h)}}}function YR(i,r,l){po.S(i,r,l);var h=ru;if(h&&i){var p=ws(h).hoistableStyles,_=ou(i);r=r||"default";var x=p.get(_);if(!x){var M={loading:0,preload:null};if(x=h.querySelector(Tc(_)))M.loading=5;else{i=w({rel:"stylesheet",href:i,"data-precedence":r},l),(l=ks.get(_))&&Bp(i,l);var q=x=h.createElement("link");ln(q),oi(q,"link",i),q._p=new Promise(function(et,ft){q.onload=et,q.onerror=ft}),q.addEventListener("load",function(){M.loading|=1}),q.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Sf(x,r,h)}x={type:"stylesheet",instance:x,count:1,state:M},p.set(_,x)}}}function XR(i,r){po.X(i,r);var l=ru;if(l&&i){var h=ws(l).hoistableScripts,p=au(i),_=h.get(p);_||(_=l.querySelector(bc(p)),_||(i=w({src:i,async:!0},r),(r=ks.get(p))&&Up(i,r),_=l.createElement("script"),ln(_),oi(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(p,_))}}function QR(i,r){po.M(i,r);var l=ru;if(l&&i){var h=ws(l).hoistableScripts,p=au(i),_=h.get(p);_||(_=l.querySelector(bc(p)),_||(i=w({src:i,async:!0,type:"module"},r),(r=ks.get(p))&&Up(i,r),_=l.createElement("script"),ln(_),oi(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(p,_))}}function NT(i,r,l,h){var p=(p=Et.current)?wf(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=ou(l.href),l=ws(p).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ou(l.href);var _=ws(p).hoistableStyles,x=_.get(i);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,x),(_=p.querySelector(Tc(i)))&&!_._p&&(x.instance=_,x.state.loading=5),ks.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ks.set(i,l),_||WR(p,i,l,x.state))),r&&h===null)throw Error(s(528,""));return x}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=au(l),l=ws(p).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ou(i){return'href="'+Le(i)+'"'}function Tc(i){return'link[rel="stylesheet"]['+i+"]"}function VT(i){return w({},i,{"data-precedence":i.precedence,precedence:null})}function WR(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),oi(r,"link",l),ln(r),i.head.appendChild(r))}function au(i){return'[src="'+Le(i)+'"]'}function bc(i){return"script[async]"+i}function kT(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+Le(l.href)+'"]');if(h)return r.instance=h,ln(h),h;var p=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),ln(h),oi(h,"style",p),Sf(h,l.precedence,i),r.instance=h;case"stylesheet":p=ou(l.href);var _=i.querySelector(Tc(p));if(_)return r.state.loading|=4,r.instance=_,ln(_),_;h=VT(l),(p=ks.get(p))&&Bp(h,p),_=(i.ownerDocument||i).createElement("link"),ln(_);var x=_;return x._p=new Promise(function(M,q){x.onload=M,x.onerror=q}),oi(_,"link",h),r.state.loading|=4,Sf(_,l.precedence,i),r.instance=_;case"script":return _=au(l.src),(p=i.querySelector(bc(_)))?(r.instance=p,ln(p),p):(h=l,(p=ks.get(_))&&(h=w({},l),Up(h,p)),i=i.ownerDocument||i,p=i.createElement("script"),ln(p),oi(p,"link",h),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,Sf(h,l.precedence,i));return r.instance}function Sf(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,_=p,x=0;x<h.length;x++){var M=h[x];if(M.dataset.precedence===r)_=M;else if(_!==p)break}_?_.parentNode.insertBefore(i,_.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function Bp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Up(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var xf=null;function zT(i,r,l){if(xf===null){var h=new Map,p=xf=new Map;p.set(l,h)}else p=xf,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var _=l[p];if(!(_[Es]||_[Je]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var x=_.getAttribute(r)||"";x=i+x;var M=h.get(x);M?M.push(_):h.set(x,[_])}}return h}function BT(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function $R(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function UT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function JR(i,r,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=ou(h.href),_=r.querySelector(Tc(p));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Af.bind(i),r.then(i,i)),l.state.loading|=4,l.instance=_,ln(_);return}_=r.ownerDocument||r,h=VT(h),(p=ks.get(p))&&Bp(h,p),_=_.createElement("link"),ln(_);var x=_;x._p=new Promise(function(M,q){x.onload=M,x.onerror=q}),oi(_,"link",h),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Af.bind(i),r.addEventListener("load",l),r.addEventListener("error",l))}}var jp=0;function t2(i,r){return i.stylesheets&&i.count===0&&Rf(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Rf(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+r);0<i.imgBytes&&jp===0&&(jp=62500*OR());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Rf(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>jp?50:800)+r);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(p)}}:null}function Af(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Cf=null;function Rf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Cf=new Map,r.forEach(e2,i),Cf=null,Af.call(i))}function e2(i,r){if(!(r.state.loading&4)){var l=Cf.get(i);if(l)var h=l.get(null);else{l=new Map,Cf.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var x=p[_];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),h=x)}h&&l.set(null,h)}p=r.instance,x=p.getAttribute("data-precedence"),_=l.get(x)||h,_===h&&l.set(null,p),l.set(x,p),this.count++,h=Af.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),_?_.parentNode.insertBefore(p,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var Ec={$$typeof:K,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function n2(i,r,l,h,p,_,x,M,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=We(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=We(0),this.hiddenUpdates=We(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function jT(i,r,l,h,p,_,x,M,q,et,ft,pt){return i=new n2(i,r,l,x,q,et,ft,pt,M),r=1,_===!0&&(r|=24),_=Ti(3,null,null,r),i.current=_,_.stateNode=i,r=Tm(),r.refCount++,i.pooledCache=r,r.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:r},Sm(_),i}function FT(i){return i?(i=to,i):to}function HT(i,r,l,h,p,_){p=FT(p),h.context===null?h.context=p:h.pendingContext=p,h=Ko(r),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=Yo(i,h,r),l!==null&&($i(l,i,r),tc(l,i,r))}function qT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function Fp(i,r){qT(i,r),(i=i.alternate)&&qT(i,r)}function ZT(i){if(i.tag===13||i.tag===31){var r=Ls(i,67108864);r!==null&&$i(r,i,67108864),Fp(i,67108864)}}function GT(i){if(i.tag===13||i.tag===31){var r=ys();r=Ge(r);var l=Ls(i,r);l!==null&&$i(l,i,r),Fp(i,r)}}var Df=!0;function i2(i,r,l,h){var p=ot.T;ot.T=null;var _=gt.p;try{gt.p=2,Hp(i,r,l,h)}finally{gt.p=_,ot.T=p}}function s2(i,r,l,h){var p=ot.T;ot.T=null;var _=gt.p;try{gt.p=8,Hp(i,r,l,h)}finally{gt.p=_,ot.T=p}}function Hp(i,r,l,h){if(Df){var p=qp(h);if(p===null)Dp(i,r,h,Mf,l),YT(i,h);else if(o2(p,i,r,l,h))h.stopPropagation();else if(YT(i,h),r&4&&-1<r2.indexOf(i)){for(;p!==null;){var _=zi(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var x=ze(_.pendingLanes);if(x!==0){var M=_;for(M.pendingLanes|=2,M.entangledLanes|=2;x;){var q=1<<31-ke(x);M.entanglements[1]|=q,x&=~q}Lr(_),(Ee&6)===0&&(ff=_n()+500,gc(0))}}break;case 31:case 13:M=Ls(_,2),M!==null&&$i(M,_,2),mf(),Fp(_,2)}if(_=qp(h),_===null&&Dp(i,r,h,Mf,l),_===p)break;p=_}p!==null&&h.stopPropagation()}else Dp(i,r,h,null,l)}}function qp(i){return i=gi(i),Zp(i)}var Mf=null;function Zp(i){if(Mf=null,i=ss(i),i!==null){var r=u(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=f(r),i!==null)return i;i=null}else if(l===31){if(i=g(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Mf=i,null}function KT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zs()){case Gs:return 2;case Ci:return 8;case zn:case Ks:return 32;case gr:return 268435456;default:return 32}default:return 32}}var Gp=!1,ra=null,oa=null,aa=null,wc=new Map,Sc=new Map,la=[],r2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function YT(i,r){switch(i){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":wc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(r.pointerId)}}function xc(i,r,l,h,p,_){return i===null||i.nativeEvent!==_?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[p]},r!==null&&(r=zi(r),r!==null&&ZT(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function o2(i,r,l,h,p){switch(r){case"focusin":return ra=xc(ra,i,r,l,h,p),!0;case"dragenter":return oa=xc(oa,i,r,l,h,p),!0;case"mouseover":return aa=xc(aa,i,r,l,h,p),!0;case"pointerover":var _=p.pointerId;return wc.set(_,xc(wc.get(_)||null,i,r,l,h,p)),!0;case"gotpointercapture":return _=p.pointerId,Sc.set(_,xc(Sc.get(_)||null,i,r,l,h,p)),!0}return!1}function XT(i){var r=ss(i.target);if(r!==null){var l=u(r);if(l!==null){if(r=l.tag,r===13){if(r=f(l),r!==null){i.blockedOn=r,Tn(i.priority,function(){GT(l)});return}}else if(r===31){if(r=g(l),r!==null){i.blockedOn=r,Tn(i.priority,function(){GT(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function If(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=qp(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Po=h,l.target.dispatchEvent(h),Po=null}else return r=zi(l),r!==null&&ZT(r),i.blockedOn=l,!1;r.shift()}return!0}function QT(i,r,l){If(i)&&l.delete(r)}function a2(){Gp=!1,ra!==null&&If(ra)&&(ra=null),oa!==null&&If(oa)&&(oa=null),aa!==null&&If(aa)&&(aa=null),wc.forEach(QT),Sc.forEach(QT)}function Pf(i,r){i.blockedOn===r&&(i.blockedOn=null,Gp||(Gp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,a2)))}var Lf=null;function WT(i){Lf!==i&&(Lf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Lf===i&&(Lf=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],p=i[r+2];if(typeof h!="function"){if(Zp(h||l)===null)continue;break}var _=zi(l);_!==null&&(i.splice(r,3),r-=3,qm(_,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function lu(i){function r(q){return Pf(q,i)}ra!==null&&Pf(ra,i),oa!==null&&Pf(oa,i),aa!==null&&Pf(aa,i),wc.forEach(r),Sc.forEach(r);for(var l=0;l<la.length;l++){var h=la[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<la.length&&(l=la[0],l.blockedOn===null);)XT(l),l.blockedOn===null&&la.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],_=l[h+1],x=p[an]||null;if(typeof _=="function")x||WT(l);else if(x){var M=null;if(_&&_.hasAttribute("formAction")){if(p=_,x=_[an]||null)M=x.formAction;else if(Zp(p)!==null)continue}else M=x.action;typeof M=="function"?l[h+1]=M:(l.splice(h,3),h-=3),WT(l)}}}function $T(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function Kp(i){this._internalRoot=i}Of.prototype.render=Kp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=ys();HT(l,h,i,r,null,null)},Of.prototype.unmount=Kp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;HT(i.current,2,null,i,null,null),mf(),r[ns]=null}};function Of(i){this._internalRoot=i}Of.prototype.unstable_scheduleHydration=function(i){if(i){var r=mi();i={blockedOn:null,target:i,priority:r};for(var l=0;l<la.length&&r!==0&&r<la[l].priority;l++);la.splice(l,0,i),l===0&&XT(i)}};var JT=t.version;if(JT!=="19.2.4")throw Error(s(527,JT,"19.2.4"));gt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=v(r),i=i!==null?b(i):null,i=i===null?null:i.stateNode,i};var l2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ot,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{di=Nf.inject(l2),Qe=Nf}catch{}}return Cc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var l=!1,h="",p=o0,_=a0,x=l0;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=jT(i,1,!1,null,null,l,h,null,p,_,x,$T),i[ns]=r.current,Rp(i),new Kp(r)},Cc.hydrateRoot=function(i,r,l){if(!a(i))throw Error(s(299));var h=!1,p="",_=o0,x=a0,M=l0,q=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(q=l.formState)),r=jT(i,1,!0,r,l??null,h,p,q,_,x,M,$T),r.context=FT(null),l=r.current,h=ys(),h=Ge(h),p=Ko(h),p.callback=null,Yo(l,p,h),l=h,r.current.lanes=l,Un(r,l),Lr(r),i[ns]=r.current,Rp(i),new Of(r)},Cc.version="19.2.4",Cc}var ub;function y2(){if(ub)return Qp.exports;ub=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qp.exports=g2(),Qp.exports}var _2=y2();function v2(e){const[t,n]=V.useState(!1);return V.useEffect(()=>{const s=window.matchMedia(e);s.matches!==t&&n(s.matches);const a=()=>{n(s.matches)};return s.addEventListener("change",a),()=>s.removeEventListener("change",a)},[t,e]),t}const Iy=V.createContext({});function Py(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const ow=typeof window<"u",aw=ow?V.useLayoutEffect:V.useEffect,kd=V.createContext(null);function Ly(e,t){e.indexOf(t)===-1&&e.push(t)}function Oy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const jr=(e,t,n)=>n>t?t:n<e?e:n;let Ny=()=>{};const vo={},lw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function uw(e){return typeof e=="object"&&e!==null}const cw=e=>/^0[^.\s]+$/u.test(e);function Vy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Hs=e=>e,T2=(e,t)=>n=>t(e(n)),gh=(...e)=>e.reduce(T2),Jc=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class ky{constructor(){this.subscriptions=[]}add(t){return Ly(this.subscriptions,t),()=>Oy(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let u=0;u<a;u++){const f=this.subscriptions[u];f&&f(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yo=e=>e*1e3,Fs=e=>e/1e3;function hw(e,t){return t?e*(1e3/t):0}const fw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,b2=1e-7,E2=12;function w2(e,t,n,s,a){let u,f,g=0;do f=t+(n-t)/2,u=fw(f,s,a)-e,u>0?n=f:t=f;while(Math.abs(u)>b2&&++g<E2);return f}function yh(e,t,n,s){if(e===t&&n===s)return Hs;const a=u=>w2(u,0,1,e,n);return u=>u===0||u===1?u:fw(a(u),t,s)}const dw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mw=e=>t=>1-e(1-t),pw=yh(.33,1.53,.69,.99),zy=mw(pw),gw=dw(zy),yw=e=>(e*=2)<1?.5*zy(e):.5*(2-Math.pow(2,-10*(e-1))),By=e=>1-Math.sin(Math.acos(e)),_w=mw(By),vw=dw(By),S2=yh(.42,0,1,1),x2=yh(0,0,.58,1),Tw=yh(.42,0,.58,1),A2=e=>Array.isArray(e)&&typeof e[0]!="number",bw=e=>Array.isArray(e)&&typeof e[0]=="number",C2={linear:Hs,easeIn:S2,easeInOut:Tw,easeOut:x2,circIn:By,circInOut:vw,circOut:_w,backIn:zy,backInOut:gw,backOut:pw,anticipate:yw},R2=e=>typeof e=="string",cb=e=>{if(bw(e)){Ny(e.length===4);const[t,n,s,a]=e;return yh(t,n,s,a)}else if(R2(e))return C2[e];return e},Vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function D2(e,t){let n=new Set,s=new Set,a=!1,u=!1;const f=new WeakSet;let g={delta:0,timestamp:0,isProcessing:!1};function y(b){f.has(b)&&(v.schedule(b),e()),b(g)}const v={schedule:(b,w=!1,A=!1)=>{const U=A&&a?n:s;return w&&f.add(b),U.has(b)||U.add(b),b},cancel:b=>{s.delete(b),f.delete(b)},process:b=>{if(g=b,a){u=!0;return}a=!0,[n,s]=[s,n],n.forEach(y),n.clear(),a=!1,u&&(u=!1,v.process(b))}};return v}const M2=40;function Ew(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,f=Vf.reduce((K,ht)=>(K[ht]=D2(u),K),{}),{setup:g,read:y,resolveKeyframes:v,preUpdate:b,update:w,preRender:A,render:I,postRender:U}=f,z=()=>{const K=vo.useManualTiming?a.timestamp:performance.now();n=!1,vo.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(K-a.timestamp,M2),1)),a.timestamp=K,a.isProcessing=!0,g.process(a),y.process(a),v.process(a),b.process(a),w.process(a),A.process(a),I.process(a),U.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(z))},Z=()=>{n=!0,s=!0,a.isProcessing||e(z)};return{schedule:Vf.reduce((K,ht)=>{const ct=f[ht];return K[ht]=(ut,P=!1,D=!1)=>(n||Z(),ct.schedule(ut,P,D)),K},{}),cancel:K=>{for(let ht=0;ht<Vf.length;ht++)f[Vf[ht]].cancel(K)},state:a,steps:f}}const{schedule:Ze,cancel:ba,state:ai,steps:tg}=Ew(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hs,!0);let Qf;function I2(){Qf=void 0}const Vi={now:()=>(Qf===void 0&&Vi.set(ai.isProcessing||vo.useManualTiming?ai.timestamp:performance.now()),Qf),set:e=>{Qf=e,queueMicrotask(I2)}},ww=e=>t=>typeof t=="string"&&t.startsWith(e),Sw=ww("--"),P2=ww("var(--"),Uy=e=>P2(e)?L2.test(e.split("/*")[0].trim()):!1,L2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function hb(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Pu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},th={...Pu,transform:e=>jr(0,1,e)},kf={...Pu,default:1},Uc=e=>Math.round(e*1e5)/1e5,jy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function O2(e){return e==null}const N2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fy=(e,t)=>n=>!!(typeof n=="string"&&N2.test(n)&&n.startsWith(e)||t&&!O2(n)&&Object.prototype.hasOwnProperty.call(n,t)),xw=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,u,f,g]=s.match(jy);return{[e]:parseFloat(a),[t]:parseFloat(u),[n]:parseFloat(f),alpha:g!==void 0?parseFloat(g):1}},V2=e=>jr(0,255,e),eg={...Pu,transform:e=>Math.round(V2(e))},fl={test:Fy("rgb","red"),parse:xw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+eg.transform(e)+", "+eg.transform(t)+", "+eg.transform(n)+", "+Uc(th.transform(s))+")"};function k2(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Pg={test:Fy("#"),parse:k2,transform:fl.transform},_h=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ca=_h("deg"),kr=_h("%"),It=_h("px"),z2=_h("vh"),B2=_h("vw"),fb={...kr,parse:e=>kr.parse(e)/100,transform:e=>kr.transform(e*100)},du={test:Fy("hsl","hue"),parse:xw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+kr.transform(Uc(t))+", "+kr.transform(Uc(n))+", "+Uc(th.transform(s))+")"},Rn={test:e=>fl.test(e)||Pg.test(e)||du.test(e),parse:e=>fl.test(e)?fl.parse(e):du.test(e)?du.parse(e):Pg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?fl.transform(e):du.transform(e),getAnimatableNone:e=>{const t=Rn.parse(e);return t.alpha=0,Rn.transform(t)}},U2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function j2(e){return isNaN(e)&&typeof e=="string"&&(e.match(jy)?.length||0)+(e.match(U2)?.length||0)>0}const Aw="number",Cw="color",F2="var",H2="var(",db="${}",q2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eh(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let u=0;const g=t.replace(q2,y=>(Rn.test(y)?(s.color.push(u),a.push(Cw),n.push(Rn.parse(y))):y.startsWith(H2)?(s.var.push(u),a.push(F2),n.push(y)):(s.number.push(u),a.push(Aw),n.push(parseFloat(y))),++u,db)).split(db);return{values:n,split:g,indexes:s,types:a}}function Rw(e){return eh(e).values}function Dw(e){const{split:t,types:n}=eh(e),s=t.length;return a=>{let u="";for(let f=0;f<s;f++)if(u+=t[f],a[f]!==void 0){const g=n[f];g===Aw?u+=Uc(a[f]):g===Cw?u+=Rn.transform(a[f]):u+=a[f]}return u}}const Z2=e=>typeof e=="number"?0:Rn.test(e)?Rn.getAnimatableNone(e):e;function G2(e){const t=Rw(e);return Dw(e)(t.map(Z2))}const Ea={test:j2,parse:Rw,createTransformer:Dw,getAnimatableNone:G2};function ng(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function K2({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,u=0,f=0;if(!t)a=u=f=n;else{const g=n<.5?n*(1+t):n+t-n*t,y=2*n-g;a=ng(y,g,e+1/3),u=ng(y,g,e),f=ng(y,g,e-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(f*255),alpha:s}}function ud(e,t){return n=>n>0?t:e}const en=(e,t,n)=>e+(t-e)*n,ig=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},Y2=[Pg,fl,du],X2=e=>Y2.find(t=>t.test(e));function mb(e){const t=X2(e);if(!t)return!1;let n=t.parse(e);return t===du&&(n=K2(n)),n}const pb=(e,t)=>{const n=mb(e),s=mb(t);if(!n||!s)return ud(e,t);const a={...n};return u=>(a.red=ig(n.red,s.red,u),a.green=ig(n.green,s.green,u),a.blue=ig(n.blue,s.blue,u),a.alpha=en(n.alpha,s.alpha,u),fl.transform(a))},Lg=new Set(["none","hidden"]);function Q2(e,t){return Lg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function W2(e,t){return n=>en(e,t,n)}function Hy(e){return typeof e=="number"?W2:typeof e=="string"?Uy(e)?ud:Rn.test(e)?pb:tD:Array.isArray(e)?Mw:typeof e=="object"?Rn.test(e)?pb:$2:ud}function Mw(e,t){const n=[...e],s=n.length,a=e.map((u,f)=>Hy(u)(u,t[f]));return u=>{for(let f=0;f<s;f++)n[f]=a[f](u);return n}}function $2(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Hy(e[a])(e[a],t[a]));return a=>{for(const u in s)n[u]=s[u](a);return n}}function J2(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const u=t.types[a],f=e.indexes[u][s[u]],g=e.values[f]??0;n[a]=g,s[u]++}return n}const tD=(e,t)=>{const n=Ea.createTransformer(t),s=eh(e),a=eh(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Lg.has(e)&&!a.values.length||Lg.has(t)&&!s.values.length?Q2(e,t):gh(Mw(J2(s,a),a.values),n):ud(e,t)};function Iw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?en(e,t,n):Hy(e)(e,t)}const eD=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ze.update(t,n),stop:()=>ba(t),now:()=>ai.isProcessing?ai.timestamp:Vi.now()}},Pw=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let u=0;u<a;u++)s+=Math.round(e(u/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},cd=2e4;function qy(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<cd;)t+=n,s=e.next(t);return t>=cd?1/0:t}function nD(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(qy(s),cd);return{type:"keyframes",ease:u=>s.next(a*u).value/t,duration:Fs(a)}}const iD=5;function Lw(e,t,n){const s=Math.max(t-iD,0);return hw(n-e(s),t-s)}const fn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sg=.001;function sD({duration:e=fn.duration,bounce:t=fn.bounce,velocity:n=fn.velocity,mass:s=fn.mass}){let a,u,f=1-t;f=jr(fn.minDamping,fn.maxDamping,f),e=jr(fn.minDuration,fn.maxDuration,Fs(e)),f<1?(a=v=>{const b=v*f,w=b*e,A=b-n,I=Og(v,f),U=Math.exp(-w);return sg-A/I*U},u=v=>{const w=v*f*e,A=w*n+n,I=Math.pow(f,2)*Math.pow(v,2)*e,U=Math.exp(-w),z=Og(Math.pow(v,2),f);return(-a(v)+sg>0?-1:1)*((A-I)*U)/z}):(a=v=>{const b=Math.exp(-v*e),w=(v-n)*e+1;return-sg+b*w},u=v=>{const b=Math.exp(-v*e),w=(n-v)*(e*e);return b*w});const g=5/e,y=oD(a,u,g);if(e=yo(e),isNaN(y))return{stiffness:fn.stiffness,damping:fn.damping,duration:e};{const v=Math.pow(y,2)*s;return{stiffness:v,damping:f*2*Math.sqrt(s*v),duration:e}}}const rD=12;function oD(e,t,n){let s=n;for(let a=1;a<rD;a++)s=s-e(s)/t(s);return s}function Og(e,t){return e*Math.sqrt(1-t*t)}const aD=["duration","bounce"],lD=["stiffness","damping","mass"];function gb(e,t){return t.some(n=>e[n]!==void 0)}function uD(e){let t={velocity:fn.velocity,stiffness:fn.stiffness,damping:fn.damping,mass:fn.mass,isResolvedFromDuration:!1,...e};if(!gb(e,lD)&&gb(e,aD))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,u=2*jr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:fn.mass,stiffness:a,damping:u}}else{const n=sD(e);t={...t,...n,mass:fn.mass},t.isResolvedFromDuration=!0}return t}function hd(e=fn.visualDuration,t=fn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const u=n.keyframes[0],f=n.keyframes[n.keyframes.length-1],g={done:!1,value:u},{stiffness:y,damping:v,mass:b,duration:w,velocity:A,isResolvedFromDuration:I}=uD({...n,velocity:-Fs(n.velocity||0)}),U=A||0,z=v/(2*Math.sqrt(y*b)),Z=f-u,$=Fs(Math.sqrt(y/b)),nt=Math.abs(Z)<5;s||(s=nt?fn.restSpeed.granular:fn.restSpeed.default),a||(a=nt?fn.restDelta.granular:fn.restDelta.default);let K;if(z<1){const ct=Og($,z);K=ut=>{const P=Math.exp(-z*$*ut);return f-P*((U+z*$*Z)/ct*Math.sin(ct*ut)+Z*Math.cos(ct*ut))}}else if(z===1)K=ct=>f-Math.exp(-$*ct)*(Z+(U+$*Z)*ct);else{const ct=$*Math.sqrt(z*z-1);K=ut=>{const P=Math.exp(-z*$*ut),D=Math.min(ct*ut,300);return f-P*((U+z*$*Z)*Math.sinh(D)+ct*Z*Math.cosh(D))/ct}}const ht={calculatedDuration:I&&w||null,next:ct=>{const ut=K(ct);if(I)g.done=ct>=w;else{let P=ct===0?U:0;z<1&&(P=ct===0?yo(U):Lw(K,ct,ut));const D=Math.abs(P)<=s,N=Math.abs(f-ut)<=a;g.done=D&&N}return g.value=g.done?f:ut,g},toString:()=>{const ct=Math.min(qy(ht),cd),ut=Pw(P=>ht.next(ct*P).value,ct,30);return ct+"ms "+ut},toTransition:()=>{}};return ht}hd.applyToOptions=e=>{const t=nD(e,100,hd);return e.ease=t.ease,e.duration=yo(t.duration),e.type="keyframes",e};function Ng({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:f,min:g,max:y,restDelta:v=.5,restSpeed:b}){const w=e[0],A={done:!1,value:w},I=D=>g!==void 0&&D<g||y!==void 0&&D>y,U=D=>g===void 0?y:y===void 0||Math.abs(g-D)<Math.abs(y-D)?g:y;let z=n*t;const Z=w+z,$=f===void 0?Z:f(Z);$!==Z&&(z=$-w);const nt=D=>-z*Math.exp(-D/s),K=D=>$+nt(D),ht=D=>{const N=nt(D),F=K(D);A.done=Math.abs(N)<=v,A.value=A.done?$:F};let ct,ut;const P=D=>{I(A.value)&&(ct=D,ut=hd({keyframes:[A.value,U(A.value)],velocity:Lw(K,D,A.value),damping:a,stiffness:u,restDelta:v,restSpeed:b}))};return P(0),{calculatedDuration:null,next:D=>{let N=!1;return!ut&&ct===void 0&&(N=!0,ht(D),P(D)),ct!==void 0&&D>=ct?ut.next(D-ct):(!N&&ht(D),A)}}}function cD(e,t,n){const s=[],a=n||vo.mix||Iw,u=e.length-1;for(let f=0;f<u;f++){let g=a(e[f],e[f+1]);if(t){const y=Array.isArray(t)?t[f]||Hs:t;g=gh(y,g)}s.push(g)}return s}function hD(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const u=e.length;if(Ny(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const f=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const g=cD(t,s,a),y=g.length,v=b=>{if(f&&b<e[0])return t[0];let w=0;if(y>1)for(;w<e.length-2&&!(b<e[w+1]);w++);const A=Jc(e[w],e[w+1],b);return g[w](A)};return n?b=>v(jr(e[0],e[u-1],b)):v}function fD(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Jc(0,t,s);e.push(en(n,1,a))}}function dD(e){const t=[0];return fD(t,e.length-1),t}function mD(e,t){return e.map(n=>n*t)}function pD(e,t){return e.map(()=>t||Tw).splice(0,e.length-1)}function jc({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=A2(s)?s.map(cb):cb(s),u={done:!1,value:t[0]},f=mD(n&&n.length===t.length?n:dD(t),e),g=hD(f,t,{ease:Array.isArray(a)?a:pD(t,a)});return{calculatedDuration:e,next:y=>(u.value=g(y),u.done=y>=e,u)}}const gD=e=>e!==null;function Zy(e,{repeat:t,repeatType:n="loop"},s,a=1){const u=e.filter(gD),g=a<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!g||s===void 0?u[g]:s}const yD={decay:Ng,inertia:Ng,tween:jc,keyframes:jc,spring:hd};function Ow(e){typeof e.type=="string"&&(e.type=yD[e.type])}class Gy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const _D=e=>e/100;class Ky extends Gy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Vi.now()&&this.tick(Vi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Ow(t);const{type:n=jc,repeat:s=0,repeatDelay:a=0,repeatType:u,velocity:f=0}=t;let{keyframes:g}=t;const y=n||jc;y!==jc&&typeof g[0]!="number"&&(this.mixKeyframes=gh(_D,Iw(g[0],g[1])),g=[0,100]);const v=y({...t,keyframes:g});u==="mirror"&&(this.mirroredGenerator=y({...t,keyframes:[...g].reverse(),velocity:-f})),v.calculatedDuration===null&&(v.calculatedDuration=qy(v));const{calculatedDuration:b}=v;this.calculatedDuration=b,this.resolvedDuration=b+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=v}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:u,mirroredGenerator:f,resolvedDuration:g,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:v=0,keyframes:b,repeat:w,repeatType:A,repeatDelay:I,type:U,onUpdate:z,finalKeyframe:Z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const $=this.currentTime-v*(this.playbackSpeed>=0?1:-1),nt=this.playbackSpeed>=0?$<0:$>a;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,ht=s;if(w){const D=Math.min(this.currentTime,a)/g;let N=Math.floor(D),F=D%1;!F&&D>=1&&(F=1),F===1&&N--,N=Math.min(N,w+1),N%2&&(A==="reverse"?(F=1-F,I&&(F-=I/g)):A==="mirror"&&(ht=f)),K=jr(0,1,F)*g}const ct=nt?{done:!1,value:b[0]}:ht.next(K);u&&(ct.value=u(ct.value));let{done:ut}=ct;!nt&&y!==null&&(ut=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return P&&U!==Ng&&(ct.value=Zy(b,this.options,Z,this.speed)),z&&z(ct.value),P&&this.finish(),ct}then(t,n){return this.finished.then(t,n)}get duration(){return Fs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Fs(t)}get time(){return Fs(this.currentTime)}set time(t){t=yo(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Vi.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Fs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=eD,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function vD(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const dl=e=>e*180/Math.PI,Vg=e=>{const t=dl(Math.atan2(e[1],e[0]));return kg(t)},TD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Vg,rotateZ:Vg,skewX:e=>dl(Math.atan(e[1])),skewY:e=>dl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},kg=e=>(e=e%360,e<0&&(e+=360),e),yb=Vg,_b=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),vb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),bD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_b,scaleY:vb,scale:e=>(_b(e)+vb(e))/2,rotateX:e=>kg(dl(Math.atan2(e[6],e[5]))),rotateY:e=>kg(dl(Math.atan2(-e[2],e[0]))),rotateZ:yb,rotate:yb,skewX:e=>dl(Math.atan(e[4])),skewY:e=>dl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function zg(e){return e.includes("scale")?1:0}function Bg(e,t){if(!e||e==="none")return zg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=bD,a=n;else{const g=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=TD,a=g}if(!a)return zg(t);const u=s[t],f=a[1].split(",").map(wD);return typeof u=="function"?u(f):f[u]}const ED=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Bg(n,t)};function wD(e){return parseFloat(e.trim())}const Lu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ou=new Set(Lu),Tb=e=>e===Pu||e===It,SD=new Set(["x","y","z"]),xD=Lu.filter(e=>!SD.has(e));function AD(e){const t=[];return xD.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const ma={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Bg(t,"x"),y:(e,{transform:t})=>Bg(t,"y")};ma.translateX=ma.x;ma.translateY=ma.y;const pl=new Set;let Ug=!1,jg=!1,Fg=!1;function Nw(){if(jg){const e=Array.from(pl).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=AD(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([u,f])=>{s.getValue(u)?.set(f)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}jg=!1,Ug=!1,pl.forEach(e=>e.complete(Fg)),pl.clear()}function Vw(){pl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(jg=!0)})}function CD(){Fg=!0,Vw(),Nw(),Fg=!1}class Yy{constructor(t,n,s,a,u,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=u,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(pl.add(this),Ug||(Ug=!0,Ze.read(Vw),Ze.resolveKeyframes(Nw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const u=a?.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&n){const g=s.readValue(n,f);g!=null&&(t[0]=g)}t[0]===void 0&&(t[0]=f),a&&u===void 0&&a.set(t[0])}vD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),pl.delete(this)}cancel(){this.state==="scheduled"&&(pl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const RD=e=>e.startsWith("--");function DD(e,t,n){RD(t)?e.style.setProperty(t,n):e.style[t]=n}const MD=Vy(()=>window.ScrollTimeline!==void 0),ID={};function PD(e,t){const n=Vy(e);return()=>ID[t]??n()}const kw=PD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lc=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,bb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lc([0,.65,.55,1]),circOut:Lc([.55,0,1,.45]),backIn:Lc([.31,.01,.66,-.59]),backOut:Lc([.33,1.53,.69,.99])};function zw(e,t){if(e)return typeof e=="function"?kw()?Pw(e,t):"ease-out":bw(e)?Lc(e):Array.isArray(e)?e.map(n=>zw(n,t)||bb.easeOut):bb[e]}function LD(e,t,n,{delay:s=0,duration:a=300,repeat:u=0,repeatType:f="loop",ease:g="easeOut",times:y}={},v=void 0){const b={[t]:n};y&&(b.offset=y);const w=zw(g,a);Array.isArray(w)&&(b.easing=w);const A={delay:s,duration:a,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:u+1,direction:f==="reverse"?"alternate":"normal"};return v&&(A.pseudoElement=v),e.animate(b,A)}function Bw(e){return typeof e=="function"&&"applyToOptions"in e}function OD({type:e,...t}){return Bw(e)&&kw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ND extends Gy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:u,allowFlatten:f=!1,finalKeyframe:g,onComplete:y}=t;this.isPseudoElement=!!u,this.allowFlatten=f,this.options=t,Ny(typeof t.type!="string");const v=OD(t);this.animation=LD(n,s,a,v,u),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const b=Zy(a,this.options,g,this.speed);this.updateMotionValue?this.updateMotionValue(b):DD(n,s,b),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Fs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Fs(t)}get time(){return Fs(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=yo(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&MD()?(this.animation.timeline=t,Hs):n(this)}}const Uw={anticipate:yw,backInOut:gw,circInOut:vw};function VD(e){return e in Uw}function kD(e){typeof e.ease=="string"&&VD(e.ease)&&(e.ease=Uw[e.ease])}const rg=10;class zD extends ND{constructor(t){kD(t),Ow(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:u,...f}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const g=new Ky({...f,autoplay:!1}),y=Math.max(rg,Vi.now()-this.startTime),v=jr(0,rg,y-rg);n.setWithVelocity(g.sample(Math.max(0,y-v)).value,g.sample(y).value,v),g.stop()}}const Eb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ea.test(e)||e==="0")&&!e.startsWith("url("));function BD(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function UD(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],f=Eb(a,t),g=Eb(u,t);return!f||!g?!1:BD(e)||(n==="spring"||Bw(n))&&s}function Hg(e){e.duration=0,e.type="keyframes"}const jD=new Set(["opacity","clipPath","filter","transform"]),FD=Vy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HD(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:u,type:f}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:v}=t.owner.getProps();return FD()&&n&&jD.has(n)&&(n!=="transform"||!v)&&!y&&!s&&a!=="mirror"&&u!==0&&f!=="inertia"}const qD=40;class ZD extends Gy{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:f="loop",keyframes:g,name:y,motionValue:v,element:b,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Vi.now();const A={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:u,repeatType:f,name:y,motionValue:v,element:b,...w},I=b?.KeyframeResolver||Yy;this.keyframeResolver=new I(g,(U,z,Z)=>this.onKeyframesResolved(U,z,A,!Z),y,v,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:u,type:f,velocity:g,delay:y,isHandoff:v,onUpdate:b}=s;this.resolvedAt=Vi.now(),UD(t,u,f,g)||((vo.instantAnimations||!y)&&b?.(Zy(t,s,n)),t[0]=t[t.length-1],Hg(s),s.repeat=0);const A={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>qD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},I=!v&&HD(A),U=A.motionValue?.owner?.current,z=I?new zD({...A,element:U}):new Ky(A);z.finished.then(()=>{this.notifyFinished()}).catch(Hs),this.pendingTimeline&&(this.stopTimeline=z.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=z}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),CD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function jw(e,t,n,s=0,a=1){const u=Array.from(e).sort((v,b)=>v.sortNodePosition(b)).indexOf(t),f=e.size,g=(f-1)*s;return typeof n=="function"?n(u,f):a===1?u*s:g-u*s}const GD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KD(e){const t=GD.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function Fw(e,t,n=1){const[s,a]=KD(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const f=u.trim();return lw(f)?parseFloat(f):f}return Uy(a)?Fw(a,t,n+1):a}const YD={type:"spring",stiffness:500,damping:25,restSpeed:10},XD=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),QD={type:"keyframes",duration:.8},WD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$D=(e,{keyframes:t})=>t.length>2?QD:Ou.has(e)?e.startsWith("scale")?XD(t[1]):YD:WD,JD=e=>e!==null;function tM(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(JD),u=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[u]}function Xy(e,t){return e?.[t]??e?.default??e}function eM({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:u,repeatType:f,repeatDelay:g,from:y,elapsed:v,...b}){return!!Object.keys(b).length}const Qy=(e,t,n,s={},a,u)=>f=>{const g=Xy(s,e)||{},y=g.delay||s.delay||0;let{elapsed:v=0}=s;v=v-yo(y);const b={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...g,delay:-v,onUpdate:A=>{t.set(A),g.onUpdate&&g.onUpdate(A)},onComplete:()=>{f(),g.onComplete&&g.onComplete()},name:e,motionValue:t,element:u?void 0:a};eM(g)||Object.assign(b,$D(e,b)),b.duration&&(b.duration=yo(b.duration)),b.repeatDelay&&(b.repeatDelay=yo(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let w=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(Hg(b),b.delay===0&&(w=!0)),(vo.instantAnimations||vo.skipAnimations)&&(w=!0,Hg(b),b.delay=0),b.allowFlatten=!g.type&&!g.ease,w&&!u&&t.get()!==void 0){const A=tM(b.keyframes,g);if(A!==void 0){Ze.update(()=>{b.onUpdate(A),b.onComplete()});return}}return g.isSync?new Ky(b):new ZD(b)};function wb(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Wy(e,t,n,s){if(typeof t=="function"){const[a,u]=wb(s);t=t(n!==void 0?n:e.custom,a,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,u]=wb(s);t=t(n!==void 0?n:e.custom,a,u)}return t}function _u(e,t,n){const s=e.getProps();return Wy(s,t,n!==void 0?n:s.custom,e)}const Hw=new Set(["width","height","top","left","right","bottom",...Lu]),Sb=30,nM=e=>!isNaN(parseFloat(e));class iM{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Vi.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Vi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=nM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ky);const s=this.events[t].add(n);return t==="change"?()=>{s(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Vi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Sb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Sb);return hw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Su(e,t){return new iM(e,t)}const qg=e=>Array.isArray(e);function sM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Su(n))}function rM(e){return qg(e)?e[e.length-1]||0:e}function oM(e,t){const n=_u(e,t);let{transitionEnd:s={},transition:a={},...u}=n||{};u={...u,...s};for(const f in u){const g=rM(u[f]);sM(e,f,g)}}const xi=e=>!!(e&&e.getVelocity);function aM(e){return!!(xi(e)&&e.add)}function Zg(e,t){const n=e.getValue("willChange");if(aM(n))return n.add(t);if(!n&&vo.WillChange){const s=new vo.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function $y(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const lM="framerAppearId",qw="data-"+$y(lM);function Zw(e){return e.props[qw]}function uM({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Gw(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:f,...g}=t;const y=u?.reduceMotion;s&&(u=s);const v=[],b=a&&e.animationState&&e.animationState.getState()[a];for(const w in g){const A=e.getValue(w,e.latestValues[w]??null),I=g[w];if(I===void 0||b&&uM(b,w))continue;const U={delay:n,...Xy(u||{},w)},z=A.get();if(z!==void 0&&!A.isAnimating&&!Array.isArray(I)&&I===z&&!U.velocity)continue;let Z=!1;if(window.MotionHandoffAnimation){const K=Zw(e);if(K){const ht=window.MotionHandoffAnimation(K,w,Ze);ht!==null&&(U.startTime=ht,Z=!0)}}Zg(e,w);const $=y??e.shouldReduceMotion;A.start(Qy(w,A,I,$&&Hw.has(w)?{type:!1}:U,e,Z));const nt=A.animation;nt&&v.push(nt)}return f&&Promise.all(v).then(()=>{Ze.update(()=>{f&&oM(e,f)})}),v}function Gg(e,t,n={}){const s=_u(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const u=s?()=>Promise.all(Gw(e,s,n)):()=>Promise.resolve(),f=e.variantChildren&&e.variantChildren.size?(y=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:w}=a;return cM(e,t,y,v,b,w,n)}:()=>Promise.resolve(),{when:g}=a;if(g){const[y,v]=g==="beforeChildren"?[u,f]:[f,u];return y().then(()=>v())}else return Promise.all([u(),f(n.delay)])}function cM(e,t,n=0,s=0,a=0,u=1,f){const g=[];for(const y of e.variantChildren)y.notify("AnimationStart",t),g.push(Gg(y,t,{...f,delay:n+(typeof s=="function"?0:s)+jw(e.variantChildren,y,s,a,u)}).then(()=>y.notify("AnimationComplete",t)));return Promise.all(g)}function hM(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(u=>Gg(e,u,n));s=Promise.all(a)}else if(typeof t=="string")s=Gg(e,t,n);else{const a=typeof t=="function"?_u(e,t,n.custom):t;s=Promise.all(Gw(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const fM={test:e=>e==="auto",parse:e=>e},Kw=e=>t=>t.test(e),Yw=[Pu,It,kr,ca,B2,z2,fM],xb=e=>Yw.find(Kw(e));function dM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||cw(e):!0}const mM=new Set(["brightness","contrast","saturate","opacity"]);function pM(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(jy)||[];if(!s)return e;const a=n.replace(s,"");let u=mM.has(t)?1:0;return s!==n&&(u*=100),t+"("+u+a+")"}const gM=/\b([a-z-]*)\(.*?\)/gu,Kg={...Ea,getAnimatableNone:e=>{const t=e.match(gM);return t?t.map(pM).join(" "):e}},Ab={...Pu,transform:Math.round},yM={rotate:ca,rotateX:ca,rotateY:ca,rotateZ:ca,scale:kf,scaleX:kf,scaleY:kf,scaleZ:kf,skew:ca,skewX:ca,skewY:ca,distance:It,translateX:It,translateY:It,translateZ:It,x:It,y:It,z:It,perspective:It,transformPerspective:It,opacity:th,originX:fb,originY:fb,originZ:It},Jy={borderWidth:It,borderTopWidth:It,borderRightWidth:It,borderBottomWidth:It,borderLeftWidth:It,borderRadius:It,borderTopLeftRadius:It,borderTopRightRadius:It,borderBottomRightRadius:It,borderBottomLeftRadius:It,width:It,maxWidth:It,height:It,maxHeight:It,top:It,right:It,bottom:It,left:It,inset:It,insetBlock:It,insetBlockStart:It,insetBlockEnd:It,insetInline:It,insetInlineStart:It,insetInlineEnd:It,padding:It,paddingTop:It,paddingRight:It,paddingBottom:It,paddingLeft:It,paddingBlock:It,paddingBlockStart:It,paddingBlockEnd:It,paddingInline:It,paddingInlineStart:It,paddingInlineEnd:It,margin:It,marginTop:It,marginRight:It,marginBottom:It,marginLeft:It,marginBlock:It,marginBlockStart:It,marginBlockEnd:It,marginInline:It,marginInlineStart:It,marginInlineEnd:It,fontSize:It,backgroundPositionX:It,backgroundPositionY:It,...yM,zIndex:Ab,fillOpacity:th,strokeOpacity:th,numOctaves:Ab},_M={...Jy,color:Rn,backgroundColor:Rn,outlineColor:Rn,fill:Rn,stroke:Rn,borderColor:Rn,borderTopColor:Rn,borderRightColor:Rn,borderBottomColor:Rn,borderLeftColor:Rn,filter:Kg,WebkitFilter:Kg},Xw=e=>_M[e];function Qw(e,t){let n=Xw(e);return n!==Kg&&(n=Ea),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vM=new Set(["auto","none","0"]);function TM(e,t,n){let s=0,a;for(;s<e.length&&!a;){const u=e[s];typeof u=="string"&&!vM.has(u)&&eh(u).values.length&&(a=e[s]),s++}if(a&&n)for(const u of t)e[u]=Qw(n,a)}class bM extends Yy{constructor(t,n,s,a,u){super(t,n,s,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let b=0;b<t.length;b++){let w=t[b];if(typeof w=="string"&&(w=w.trim(),Uy(w))){const A=Fw(w,n.current);A!==void 0&&(t[b]=A),b===t.length-1&&(this.finalKeyframe=w)}}if(this.resolveNoneKeyframes(),!Hw.has(s)||t.length!==2)return;const[a,u]=t,f=xb(a),g=xb(u),y=hb(a),v=hb(u);if(y!==v&&ma[s]){this.needsMeasurement=!0;return}if(f!==g)if(Tb(f)&&Tb(g))for(let b=0;b<t.length;b++){const w=t[b];typeof w=="string"&&(t[b]=parseFloat(w))}else ma[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||dM(t[a]))&&s.push(a);s.length&&TM(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ma[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const u=s.length-1,f=s[u];s[u]=ma[n](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([g,y])=>{t.getValue(g).set(y)}),this.resolveNoneKeyframes()}}function EM(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(s=>s!=null)}const Ww=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Yg(e){return uw(e)&&"offsetHeight"in e}const{schedule:t_}=Ew(queueMicrotask,!1),cr={x:!1,y:!1};function $w(){return cr.x||cr.y}function wM(e){return e==="x"||e==="y"?cr[e]?null:(cr[e]=!0,()=>{cr[e]=!1}):cr.x||cr.y?null:(cr.x=cr.y=!0,()=>{cr.x=cr.y=!1})}function Jw(e,t){const n=EM(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function Cb(e){return!(e.pointerType==="touch"||$w())}function SM(e,t,n={}){const[s,a,u]=Jw(e,n),f=g=>{if(!Cb(g))return;const{target:y}=g,v=t(y,g);if(typeof v!="function"||!y)return;const b=w=>{Cb(w)&&(v(w),y.removeEventListener("pointerleave",b))};y.addEventListener("pointerleave",b,a)};return s.forEach(g=>{g.addEventListener("pointerenter",f,a)}),u}const tS=(e,t)=>t?e===t?!0:tS(e,t.parentElement):!1,e_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,xM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eS(e){return xM.has(e.tagName)||e.isContentEditable===!0}const Wf=new WeakSet;function Rb(e){return t=>{t.key==="Enter"&&e(t)}}function og(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const AM=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Rb(()=>{if(Wf.has(n))return;og(n,"down");const a=Rb(()=>{og(n,"up")}),u=()=>og(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Db(e){return e_(e)&&!$w()}function CM(e,t,n={}){const[s,a,u]=Jw(e,n),f=g=>{const y=g.currentTarget;if(!Db(g))return;Wf.add(y);const v=t(y,g),b=(I,U)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",A),Wf.has(y)&&Wf.delete(y),Db(I)&&typeof v=="function"&&v(I,{success:U})},w=I=>{b(I,y===window||y===document||n.useGlobalTarget||tS(y,I.target))},A=I=>{b(I,!1)};window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",A,a)};return s.forEach(g=>{(n.useGlobalTarget?window:g).addEventListener("pointerdown",f,a),Yg(g)&&(g.addEventListener("focus",v=>AM(v,a)),!eS(g)&&!g.hasAttribute("tabindex")&&(g.tabIndex=0))}),u}function nS(e){return uw(e)&&"ownerSVGElement"in e}function RM(e){return nS(e)&&e.tagName==="svg"}const DM=[...Yw,Rn,Ea],MM=e=>DM.find(Kw(e)),Mb=()=>({translate:0,scale:1,origin:0,originPoint:0}),mu=()=>({x:Mb(),y:Mb()}),Ib=()=>({min:0,max:0}),Ln=()=>({x:Ib(),y:Ib()}),Xg={current:null},iS={current:!1},IM=typeof window<"u";function PM(){if(iS.current=!0,!!IM)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xg.current=e.matches;e.addEventListener("change",t),t()}else Xg.current=!1}const LM=new WeakMap;function zd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function nh(e){return typeof e=="string"||Array.isArray(e)}const n_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],i_=["initial",...n_];function Bd(e){return zd(e.animate)||i_.some(t=>nh(e[t]))}function sS(e){return!!(Bd(e)||e.variants)}function OM(e,t,n){for(const s in t){const a=t[s],u=n[s];if(xi(a))e.addValue(s,a);else if(xi(u))e.addValue(s,Su(a,{owner:e}));else if(u!==a)if(e.hasValue(s)){const f=e.getValue(s);f.liveStyle===!0?f.jump(a):f.hasAnimated||f.set(a)}else{const f=e.getStaticValue(s);e.addValue(s,Su(f!==void 0?f:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Pb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let fd={};function rS(e){fd=e}function NM(){return fd}class VM{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:u,visualState:f},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Vi.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Ze.render(this.render,!1,!0))};const{latestValues:y,renderState:v}=f;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=v,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=g,this.blockInitialAnimation=!!u,this.isControllingVariants=Bd(n),this.isVariantNode=sS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:b,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in w){const I=w[A];y[A]!==void 0&&xi(I)&&I.set(y[A])}}mount(t){this.current=t,LM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(iS.current||PM(),this.shouldReduceMotion=Xg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ba(this.notifyUpdate),ba(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ou.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in fd){const n=fd[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ln()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Pb.length;s++){const a=Pb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,f=t[u];f&&(this.propEventSubscriptions[a]=this.on(a,f))}this.prevMotionValues=OM(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Su(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(lw(s)||cw(s))?s=parseFloat(s):!MM(s)&&Ea.test(n)&&(s=Qw(t,n)),this.setBaseTarget(t,xi(s)?s.get():s)),xi(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=Wy(this.props,n,this.presenceContext?.custom);u&&(s=u[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!xi(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ky),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){t_.render(this.render)}}class oS extends VM{constructor(){super(...arguments),this.KeyframeResolver=bM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Da{constructor(t){this.isMounted=!1,this.node=t}update(){}}function aS({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function kM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function zM(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function ag(e){return e===void 0||e===1}function Qg({scale:e,scaleX:t,scaleY:n}){return!ag(e)||!ag(t)||!ag(n)}function cl(e){return Qg(e)||lS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function lS(e){return Lb(e.x)||Lb(e.y)}function Lb(e){return e&&e!=="0%"}function dd(e,t,n){const s=e-n,a=t*s;return n+a}function Ob(e,t,n,s,a){return a!==void 0&&(e=dd(e,a,s)),dd(e,n,s)+t}function Wg(e,t=0,n=1,s,a){e.min=Ob(e.min,t,n,s,a),e.max=Ob(e.max,t,n,s,a)}function uS(e,{x:t,y:n}){Wg(e.x,t.translate,t.scale,t.originPoint),Wg(e.y,n.translate,n.scale,n.originPoint)}const Nb=.999999999999,Vb=1.0000000000001;function BM(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let u,f;for(let g=0;g<a;g++){u=n[g],f=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&gu(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,uS(e,f)),s&&cl(u.latestValues)&&gu(e,u.latestValues))}t.x<Vb&&t.x>Nb&&(t.x=1),t.y<Vb&&t.y>Nb&&(t.y=1)}function pu(e,t){e.min=e.min+t,e.max=e.max+t}function kb(e,t,n,s,a=.5){const u=en(e.min,e.max,a);Wg(e,t,n,u,s)}function gu(e,t){kb(e.x,t.x,t.scaleX,t.scale,t.originX),kb(e.y,t.y,t.scaleY,t.scale,t.originY)}function cS(e,t){return aS(zM(e.getBoundingClientRect(),t))}function UM(e,t,n){const s=cS(e,n),{scroll:a}=t;return a&&(pu(s.x,a.offset.x),pu(s.y,a.offset.y)),s}const jM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FM=Lu.length;function HM(e,t,n){let s="",a=!0;for(let u=0;u<FM;u++){const f=Lu[u],g=e[f];if(g===void 0)continue;let y=!0;if(typeof g=="number")y=g===(f.startsWith("scale")?1:0);else{const v=parseFloat(g);y=f.startsWith("scale")?v===1:v===0}if(!y||n){const v=Ww(g,Jy[f]);if(!y){a=!1;const b=jM[f]||f;s+=`${b}(${v}) `}n&&(t[f]=v)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function s_(e,t,n){const{style:s,vars:a,transformOrigin:u}=e;let f=!1,g=!1;for(const y in t){const v=t[y];if(Ou.has(y)){f=!0;continue}else if(Sw(y)){a[y]=v;continue}else{const b=Ww(v,Jy[y]);y.startsWith("origin")?(g=!0,u[y]=b):s[y]=b}}if(t.transform||(f||n?s.transform=HM(t,e.transform,n):s.transform&&(s.transform="none")),g){const{originX:y="50%",originY:v="50%",originZ:b=0}=u;s.transformOrigin=`${y} ${v} ${b}`}}function hS(e,{style:t,vars:n},s,a){const u=e.style;let f;for(f in t)u[f]=t[f];a?.applyProjectionStyles(u,s);for(f in n)u.setProperty(f,n[f])}function zb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(It.test(e))e=parseFloat(e);else return e;const n=zb(e,t.target.x),s=zb(e,t.target.y);return`${n}% ${s}%`}},qM={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Ea.parse(e);if(a.length>5)return s;const u=Ea.createTransformer(e),f=typeof a[0]!="number"?1:0,g=n.x.scale*t.x,y=n.y.scale*t.y;a[0+f]/=g,a[1+f]/=y;const v=en(g,y,.5);return typeof a[2+f]=="number"&&(a[2+f]/=v),typeof a[3+f]=="number"&&(a[3+f]/=v),u(a)}},$g={borderRadius:{...Rc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rc,borderTopRightRadius:Rc,borderBottomLeftRadius:Rc,borderBottomRightRadius:Rc,boxShadow:qM};function fS(e,{layout:t,layoutId:n}){return Ou.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!$g[e]||e==="opacity")}function r_(e,t,n){const s=e.style,a=t?.style,u={};if(!s)return u;for(const f in s)(xi(s[f])||a&&xi(a[f])||fS(f,e)||n?.getValue(f)?.liveStyle!==void 0)&&(u[f]=s[f]);return u}function ZM(e){return window.getComputedStyle(e)}class GM extends oS{constructor(){super(...arguments),this.type="html",this.renderInstance=hS}readValueFromInstance(t,n){if(Ou.has(n))return this.projection?.isProjecting?zg(n):ED(t,n);{const s=ZM(t),a=(Sw(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return cS(t,n)}build(t,n,s){s_(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return r_(t,n,s)}}const KM={offset:"stroke-dashoffset",array:"stroke-dasharray"},YM={offset:"strokeDashoffset",array:"strokeDasharray"};function XM(e,t,n=1,s=0,a=!0){e.pathLength=1;const u=a?KM:YM;e[u.offset]=`${-s}`,e[u.array]=`${t} ${n}`}const QM=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function dS(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:u=1,pathOffset:f=0,...g},y,v,b){if(s_(e,g,v),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:w,style:A}=e;w.transform&&(A.transform=w.transform,delete w.transform),(A.transform||w.transformOrigin)&&(A.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),A.transform&&(A.transformBox=b?.transformBox??"fill-box",delete w.transformBox);for(const I of QM)w[I]!==void 0&&(A[I]=w[I],delete w[I]);t!==void 0&&(w.x=t),n!==void 0&&(w.y=n),s!==void 0&&(w.scale=s),a!==void 0&&XM(w,a,u,f,!1)}const mS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),pS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function WM(e,t,n,s){hS(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(mS.has(a)?a:$y(a),t.attrs[a])}function gS(e,t,n){const s=r_(e,t,n);for(const a in e)if(xi(e[a])||xi(t[a])){const u=Lu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[u]=e[a]}return s}class $M extends oS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ln}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ou.has(n)){const s=Xw(n);return s&&s.default||0}return n=mS.has(n)?n:$y(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return gS(t,n,s)}build(t,n,s){dS(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){WM(t,n,s,a)}mount(t){this.isSVGTag=pS(t.tagName),super.mount(t)}}const JM=i_.length;function yS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?yS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<JM;n++){const s=i_[n],a=e.props[s];(nh(a)||a===!1)&&(t[s]=a)}return t}function _S(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const tI=[...n_].reverse(),eI=n_.length;function nI(e){return t=>Promise.all(t.map(({animation:n,options:s})=>hM(e,n,s)))}function iI(e){let t=nI(e),n=Bb(),s=!0;const a=y=>(v,b)=>{const w=_u(e,b,y==="exit"?e.presenceContext?.custom:void 0);if(w){const{transition:A,transitionEnd:I,...U}=w;v={...v,...U,...I}}return v};function u(y){t=y(e)}function f(y){const{props:v}=e,b=yS(e.parent)||{},w=[],A=new Set;let I={},U=1/0;for(let Z=0;Z<eI;Z++){const $=tI[Z],nt=n[$],K=v[$]!==void 0?v[$]:b[$],ht=nh(K),ct=$===y?nt.isActive:null;ct===!1&&(U=Z);let ut=K===b[$]&&K!==v[$]&&ht;if(ut&&s&&e.manuallyAnimateOnMount&&(ut=!1),nt.protectedKeys={...I},!nt.isActive&&ct===null||!K&&!nt.prevProp||zd(K)||typeof K=="boolean")continue;const P=sI(nt.prevProp,K);let D=P||$===y&&nt.isActive&&!ut&&ht||Z>U&&ht,N=!1;const F=Array.isArray(K)?K:[K];let k=F.reduce(a($),{});ct===!1&&(k={});const{prevResolvedValues:G={}}=nt,B={...G,...k},Ft=gt=>{D=!0,A.has(gt)&&(N=!0,A.delete(gt)),nt.needsAnimating[gt]=!0;const yt=e.getValue(gt);yt&&(yt.liveStyle=!1)};for(const gt in B){const yt=k[gt],Vt=G[gt];if(I.hasOwnProperty(gt))continue;let wt=!1;qg(yt)&&qg(Vt)?wt=!_S(yt,Vt):wt=yt!==Vt,wt?yt!=null?Ft(gt):A.add(gt):yt!==void 0&&A.has(gt)?Ft(gt):nt.protectedKeys[gt]=!0}nt.prevProp=K,nt.prevResolvedValues=k,nt.isActive&&(I={...I,...k}),s&&e.blockInitialAnimation&&(D=!1);const we=ut&&P;D&&(!we||N)&&w.push(...F.map(gt=>{const yt={type:$};if(typeof gt=="string"&&s&&!we&&e.manuallyAnimateOnMount&&e.parent){const{parent:Vt}=e,wt=_u(Vt,gt);if(Vt.enteringChildren&&wt){const{delayChildren:H}=wt.transition||{};yt.delay=jw(Vt.enteringChildren,e,H)}}return{animation:gt,options:yt}}))}if(A.size){const Z={};if(typeof v.initial!="boolean"){const $=_u(e,Array.isArray(v.initial)?v.initial[0]:v.initial);$&&$.transition&&(Z.transition=$.transition)}A.forEach($=>{const nt=e.getBaseTarget($),K=e.getValue($);K&&(K.liveStyle=!0),Z[$]=nt??null}),w.push({animation:Z})}let z=!!w.length;return s&&(v.initial===!1||v.initial===v.animate)&&!e.manuallyAnimateOnMount&&(z=!1),s=!1,z?t(w):Promise.resolve()}function g(y,v){if(n[y].isActive===v)return Promise.resolve();e.variantChildren?.forEach(w=>w.animationState?.setActive(y,v)),n[y].isActive=v;const b=f(y);for(const w in n)n[w].protectedKeys={};return b}return{animateChanges:f,setActive:g,setAnimateFunction:u,getState:()=>n,reset:()=>{n=Bb()}}}function sI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!_S(t,e):!1}function ul(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bb(){return{animate:ul(!0),whileInView:ul(),whileHover:ul(),whileTap:ul(),whileDrag:ul(),whileFocus:ul(),exit:ul()}}function Ub(e,t){e.min=t.min,e.max=t.max}function ur(e,t){Ub(e.x,t.x),Ub(e.y,t.y)}function jb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const vS=1e-4,rI=1-vS,oI=1+vS,TS=.01,aI=0-TS,lI=0+TS;function ki(e){return e.max-e.min}function uI(e,t,n){return Math.abs(e-t)<=n}function Fb(e,t,n,s=.5){e.origin=s,e.originPoint=en(t.min,t.max,e.origin),e.scale=ki(n)/ki(t),e.translate=en(n.min,n.max,e.origin)-e.originPoint,(e.scale>=rI&&e.scale<=oI||isNaN(e.scale))&&(e.scale=1),(e.translate>=aI&&e.translate<=lI||isNaN(e.translate))&&(e.translate=0)}function Fc(e,t,n,s){Fb(e.x,t.x,n.x,s?s.originX:void 0),Fb(e.y,t.y,n.y,s?s.originY:void 0)}function Hb(e,t,n){e.min=n.min+t.min,e.max=e.min+ki(t)}function cI(e,t,n){Hb(e.x,t.x,n.x),Hb(e.y,t.y,n.y)}function qb(e,t,n){e.min=t.min-n.min,e.max=e.min+ki(t)}function md(e,t,n){qb(e.x,t.x,n.x),qb(e.y,t.y,n.y)}function Zb(e,t,n,s,a){return e-=t,e=dd(e,1/n,s),a!==void 0&&(e=dd(e,1/a,s)),e}function hI(e,t=0,n=1,s=.5,a,u=e,f=e){if(kr.test(t)&&(t=parseFloat(t),t=en(f.min,f.max,t/100)-f.min),typeof t!="number")return;let g=en(u.min,u.max,s);e===u&&(g-=t),e.min=Zb(e.min,t,n,g,a),e.max=Zb(e.max,t,n,g,a)}function Gb(e,t,[n,s,a],u,f){hI(e,t[n],t[s],t[a],t.scale,u,f)}const fI=["x","scaleX","originX"],dI=["y","scaleY","originY"];function Kb(e,t,n,s){Gb(e.x,t,fI,n?n.x:void 0,s?s.x:void 0),Gb(e.y,t,dI,n?n.y:void 0,s?s.y:void 0)}function Yb(e){return e.translate===0&&e.scale===1}function bS(e){return Yb(e.x)&&Yb(e.y)}function Xb(e,t){return e.min===t.min&&e.max===t.max}function mI(e,t){return Xb(e.x,t.x)&&Xb(e.y,t.y)}function Qb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ES(e,t){return Qb(e.x,t.x)&&Qb(e.y,t.y)}function Wb(e){return ki(e.x)/ki(e.y)}function $b(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function zs(e){return[e("x"),e("y")]}function pI(e,t,n){let s="";const a=e.x.translate/t.x,u=e.y.translate/t.y,f=n?.z||0;if((a||u||f)&&(s=`translate3d(${a}px, ${u}px, ${f}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:v,rotate:b,rotateX:w,rotateY:A,skewX:I,skewY:U}=n;v&&(s=`perspective(${v}px) ${s}`),b&&(s+=`rotate(${b}deg) `),w&&(s+=`rotateX(${w}deg) `),A&&(s+=`rotateY(${A}deg) `),I&&(s+=`skewX(${I}deg) `),U&&(s+=`skewY(${U}deg) `)}const g=e.x.scale*t.x,y=e.y.scale*t.y;return(g!==1||y!==1)&&(s+=`scale(${g}, ${y})`),s||"none"}const wS=["TopLeft","TopRight","BottomLeft","BottomRight"],gI=wS.length,Jb=e=>typeof e=="string"?parseFloat(e):e,t1=e=>typeof e=="number"||It.test(e);function yI(e,t,n,s,a,u){a?(e.opacity=en(0,n.opacity??1,_I(s)),e.opacityExit=en(t.opacity??1,0,vI(s))):u&&(e.opacity=en(t.opacity??1,n.opacity??1,s));for(let f=0;f<gI;f++){const g=`border${wS[f]}Radius`;let y=e1(t,g),v=e1(n,g);if(y===void 0&&v===void 0)continue;y||(y=0),v||(v=0),y===0||v===0||t1(y)===t1(v)?(e[g]=Math.max(en(Jb(y),Jb(v),s),0),(kr.test(v)||kr.test(y))&&(e[g]+="%")):e[g]=v}(t.rotate||n.rotate)&&(e.rotate=en(t.rotate||0,n.rotate||0,s))}function e1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const _I=SS(0,.5,_w),vI=SS(.5,.95,Hs);function SS(e,t,n){return s=>s<e?0:s>t?1:n(Jc(e,t,s))}function TI(e,t,n){const s=xi(e)?e:Su(e);return s.start(Qy("",s,t,n)),s.animation}function ih(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const bI=(e,t)=>e.depth-t.depth;class EI{constructor(){this.children=[],this.isDirty=!1}add(t){Ly(this.children,t),this.isDirty=!0}remove(t){Oy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bI),this.isDirty=!1,this.children.forEach(t)}}function wI(e,t){const n=Vi.now(),s=({timestamp:a})=>{const u=a-n;u>=t&&(ba(s),e(u-t))};return Ze.setup(s,!0),()=>ba(s)}function $f(e){return xi(e)?e.get():e}class SI{constructor(){this.members=[]}add(t){Ly(this.members,t),t.scheduleRender()}remove(t){if(Oy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,u=t.options.layoutDependency;a!==void 0&&u!==void 0&&a===u||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:g}=t.options;g===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Jf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},lg=["","X","Y","Z"],xI=1e3;let AI=0;function ug(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function xS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Zw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ze,!(a||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&xS(s)}function AS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(f={},g=t?.()){this.id=AI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(DI),this.nodes.forEach(LI),this.nodes.forEach(OI),this.nodes.forEach(MI)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new EI)}addEventListener(f,g){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new ky),this.eventHandlers.get(f).add(g)}notifyListeners(f,...g){const y=this.eventHandlers.get(f);y&&y.notify(...g)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=nS(f)&&!RM(f),this.instance=f;const{layoutId:g,layout:y,visualElement:v}=this.options;if(v&&!v.current&&v.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||g)&&(this.isLayoutDirty=!0),e){let b,w=0;const A=()=>this.root.updateBlockedByResize=!1;Ze.read(()=>{w=window.innerWidth}),e(f,()=>{const I=window.innerWidth;I!==w&&(w=I,this.root.updateBlockedByResize=!0,b&&b(),b=wI(A,250),Jf.hasAnimatedSinceResize&&(Jf.hasAnimatedSinceResize=!1,this.nodes.forEach(s1)))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&v&&(g||y)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:w,hasRelativeLayoutChanged:A,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const U=this.options.transition||v.getDefaultTransition()||BI,{onLayoutAnimationStart:z,onLayoutAnimationComplete:Z}=v.getProps(),$=!this.targetLayout||!ES(this.targetLayout,I),nt=!w&&A;if(this.options.layoutRoot||this.resumeFrom||nt||w&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...Xy(U,"layout"),onPlay:z,onComplete:Z};(v.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(b,nt)}else w||s1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ba(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NI),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const w=this.path[b];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:g,layout:y}=this.options;if(g===void 0&&!y)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(i1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(PI),this.nodes.forEach(CI),this.nodes.forEach(RI)):this.nodes.forEach(i1),this.clearAllSnapshots();const g=Vi.now();ai.delta=jr(0,1e3/60,g-ai.timestamp),ai.timestamp=g,ai.isProcessing=!0,tg.update.process(ai),tg.preRender.process(ai),tg.render.process(ai),ai.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,t_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(II),this.sharedNodes.forEach(VI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ki(this.snapshot.measuredBox.x)&&!ki(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let g=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(g=!1),g&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!a)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,g=this.projectionDelta&&!bS(this.projectionDelta),y=this.getTransformTemplate(),v=y?y(this.latestValues,""):void 0,b=v!==this.prevTransformTemplateValue;f&&this.instance&&(g||cl(this.latestValues)||b)&&(a(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const g=this.measurePageBox();let y=this.removeElementScroll(g);return f&&(y=this.removeTransform(y)),UI(y),{animationId:this.root.animationId,measuredBox:g,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return Ln();const g=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(jI))){const{scroll:v}=this.root;v&&(pu(g.x,v.offset.x),pu(g.y,v.offset.y))}return g}removeElementScroll(f){const g=Ln();if(ur(g,f),this.scroll?.wasRoot)return g;for(let y=0;y<this.path.length;y++){const v=this.path[y],{scroll:b,options:w}=v;v!==this.root&&b&&w.layoutScroll&&(b.wasRoot&&ur(g,f),pu(g.x,b.offset.x),pu(g.y,b.offset.y))}return g}applyTransform(f,g=!1){const y=Ln();ur(y,f);for(let v=0;v<this.path.length;v++){const b=this.path[v];!g&&b.options.layoutScroll&&b.scroll&&b!==b.root&&gu(y,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),cl(b.latestValues)&&gu(y,b.latestValues)}return cl(this.latestValues)&&gu(y,this.latestValues),y}removeTransform(f){const g=Ln();ur(g,f);for(let y=0;y<this.path.length;y++){const v=this.path[y];if(!v.instance||!cl(v.latestValues))continue;Qg(v.latestValues)&&v.updateSnapshot();const b=Ln(),w=v.measurePageBox();ur(b,w),Kb(g,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,b)}return cl(this.latestValues)&&Kb(g,this.latestValues),g}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ai.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==g;if(!(f||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:w}=this.options;if(!this.layout||!(b||w))return;this.resolvedRelativeTargetAt=ai.timestamp;const A=this.getClosestProjectingParent();A&&this.linkedParentVersion!==A.layoutVersion&&!A.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(A&&A.layout?this.createRelativeTarget(A,this.layout.layoutBox,A.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ln(),this.targetWithTransforms=Ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ur(this.target,this.layout.layoutBox),uS(this.target,this.targetDelta)):ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?this.createRelativeTarget(A,this.target,A.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Qg(this.parent.latestValues)||lS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(f,g,y){this.relativeParent=f,this.linkedParentVersion=f.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ln(),this.relativeTargetOrigin=Ln(),md(this.relativeTargetOrigin,g,y),ur(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const f=this.getLead(),g=!!this.resumingFrom||this!==f;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===ai.timestamp&&(y=!1),y)return;const{layout:v,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||b))return;ur(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,A=this.treeScale.y;BM(this.layoutCorrected,this.treeScale,this.path,g),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=Ln());const{target:I}=f;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jb(this.prevProjectionDelta.x,this.projectionDelta.x),jb(this.prevProjectionDelta.y,this.projectionDelta.y)),Fc(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==A||!$b(this.projectionDelta.x,this.prevProjectionDelta.x)||!$b(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mu(),this.projectionDelta=mu(),this.projectionDeltaWithTransform=mu()}setAnimationOrigin(f,g=!1){const y=this.snapshot,v=y?y.latestValues:{},b={...this.latestValues},w=mu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const A=Ln(),I=y?y.source:void 0,U=this.layout?this.layout.source:void 0,z=I!==U,Z=this.getStack(),$=!Z||Z.members.length<=1,nt=!!(z&&!$&&this.options.crossfade===!0&&!this.path.some(zI));this.animationProgress=0;let K;this.mixTargetDelta=ht=>{const ct=ht/1e3;r1(w.x,f.x,ct),r1(w.y,f.y,ct),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(md(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kI(this.relativeTarget,this.relativeTargetOrigin,A,ct),K&&mI(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=Ln()),ur(K,this.relativeTarget)),z&&(this.animationValues=b,yI(b,v,this.latestValues,ct,nt,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ct},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ba(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{Jf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Su(0)),this.currentAnimation=TI(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),f.onUpdate&&f.onUpdate(g)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:g,target:y,layout:v,latestValues:b}=f;if(!(!g||!y||!v)){if(this!==f&&this.layout&&v&&CS(this.options.animationType,this.layout.layoutBox,v.layoutBox)){y=this.target||Ln();const w=ki(this.layout.layoutBox.x);y.x.min=f.target.x.min,y.x.max=y.x.min+w;const A=ki(this.layout.layoutBox.y);y.y.min=f.target.y.min,y.y.max=y.y.min+A}ur(g,y),gu(g,b),Fc(this.projectionDeltaWithTransform,this.layoutCorrected,g,b)}}registerSharedNode(f,g){this.sharedNodes.has(f)||this.sharedNodes.set(f,new SI),this.sharedNodes.get(f).add(g);const v=g.options.initialPromotionConfig;g.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(g):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:g,preserveFollowOpacity:y}={}){const v=this.getStack();v&&v.promote(this,y),f&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let g=!1;const{latestValues:y}=f;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(g=!0),!g)return;const v={};y.z&&ug("z",f,v,this.animationValues);for(let b=0;b<lg.length;b++)ug(`rotate${lg[b]}`,f,v,this.animationValues),ug(`skew${lg[b]}`,f,v,this.animationValues);f.render();for(const b in v)f.setStaticValue(b,v[b]),this.animationValues&&(this.animationValues[b]=v[b]);f.scheduleRender()}applyProjectionStyles(f,g){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=$f(g?.pointerEvents)||"",f.transform=y?y(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=$f(g?.pointerEvents)||""),this.hasProjected&&!cl(this.latestValues)&&(f.transform=y?y({},""):"none",this.hasProjected=!1);return}f.visibility="";const b=v.animationValues||v.latestValues;this.applyTransformsToTarget();let w=pI(this.projectionDeltaWithTransform,this.treeScale,b);y&&(w=y(b,w)),f.transform=w;const{x:A,y:I}=this.projectionDelta;f.transformOrigin=`${A.origin*100}% ${I.origin*100}% 0`,v.animationValues?f.opacity=v===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:f.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const U in $g){if(b[U]===void 0)continue;const{correct:z,applyTo:Z,isCSSVariable:$}=$g[U],nt=w==="none"?b[U]:z(b[U],v);if(Z){const K=Z.length;for(let ht=0;ht<K;ht++)f[Z[ht]]=nt}else $?this.options.visualElement.renderState.vars[U]=nt:f[U]=nt}this.options.layoutId&&(f.pointerEvents=v===this?$f(g?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(n1),this.root.sharedNodes.clear()}}}function CI(e){e.updateLayout()}function RI(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,u=t.source!==e.layout.source;a==="size"?zs(b=>{const w=u?t.measuredBox[b]:t.layoutBox[b],A=ki(w);w.min=n[b].min,w.max=w.min+A}):CS(a,t.layoutBox,n)&&zs(b=>{const w=u?t.measuredBox[b]:t.layoutBox[b],A=ki(n[b]);w.max=w.min+A,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[b].max=e.relativeTarget[b].min+A)});const f=mu();Fc(f,n,t.layoutBox);const g=mu();u?Fc(g,e.applyTransform(s,!0),t.measuredBox):Fc(g,n,t.layoutBox);const y=!bS(f);let v=!1;if(!e.resumeFrom){const b=e.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:w,layout:A}=b;if(w&&A){const I=Ln();md(I,t.layoutBox,w.layoutBox);const U=Ln();md(U,n,A.layoutBox),ES(I,U)||(v=!0),b.options.layoutRoot&&(e.relativeTarget=U,e.relativeTargetOrigin=I,e.relativeParent=b)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:g,layoutDelta:f,hasLayoutChanged:y,hasRelativeLayoutChanged:v})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function DI(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function MI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function II(e){e.clearSnapshot()}function n1(e){e.clearMeasurements()}function i1(e){e.isLayoutDirty=!1}function PI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function s1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function LI(e){e.resolveTargetDelta()}function OI(e){e.calcProjection()}function NI(e){e.resetSkewAndRotation()}function VI(e){e.removeLeadSnapshot()}function r1(e,t,n){e.translate=en(t.translate,0,n),e.scale=en(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function o1(e,t,n,s){e.min=en(t.min,n.min,s),e.max=en(t.max,n.max,s)}function kI(e,t,n,s){o1(e.x,t.x,n.x,s),o1(e.y,t.y,n.y,s)}function zI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const BI={duration:.45,ease:[.4,0,.1,1]},a1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),l1=a1("applewebkit/")&&!a1("chrome/")?Math.round:Hs;function u1(e){e.min=l1(e.min),e.max=l1(e.max)}function UI(e){u1(e.x),u1(e.y)}function CS(e,t,n){return e==="position"||e==="preserve-aspect"&&!uI(Wb(t),Wb(n),.2)}function jI(e){return e!==e.root&&e.scroll?.wasRoot}const FI=AS({attachResizeListener:(e,t)=>ih(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),cg={current:void 0},RS=AS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!cg.current){const e=new FI({});e.mount(window),e.setOptions({layoutScroll:!0}),cg.current=e}return cg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),o_=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function c1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function HI(...e){return t=>{let n=!1;const s=e.map(a=>{const u=c1(a,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let a=0;a<s.length;a++){const u=s[a];typeof u=="function"?u():c1(e[a],null)}}}}function qI(...e){return V.useCallback(HI(...e),e)}class ZI extends V.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=Yg(s)&&s.offsetWidth||0,u=Yg(s)&&s.offsetHeight||0,f=this.props.sizeRef.current;f.height=n.offsetHeight||0,f.width=n.offsetWidth||0,f.top=n.offsetTop,f.left=n.offsetLeft,f.right=a-f.width-f.left,f.bottom=u-f.height-f.top}return null}componentDidUpdate(){}render(){return this.props.children}}function GI({children:e,isPresent:t,anchorX:n,anchorY:s,root:a}){const u=V.useId(),f=V.useRef(null),g=V.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:y}=V.useContext(o_),v=e.props?.ref??e?.ref,b=qI(f,v);return V.useInsertionEffect(()=>{const{width:w,height:A,top:I,left:U,right:z,bottom:Z}=g.current;if(t||!f.current||!w||!A)return;const $=n==="left"?`left: ${U}`:`right: ${z}`,nt=s==="bottom"?`bottom: ${Z}`:`top: ${I}`;f.current.dataset.motionPopId=u;const K=document.createElement("style");y&&(K.nonce=y);const ht=a??document.head;return ht.appendChild(K),K.sheet&&K.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${A}px !important;
            ${$}px !important;
            ${nt}px !important;
          }
        `),()=>{ht.contains(K)&&ht.removeChild(K)}},[t]),X.jsx(ZI,{isPresent:t,childRef:f,sizeRef:g,children:V.cloneElement(e,{ref:b})})}const KI=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:u,mode:f,anchorX:g,anchorY:y,root:v})=>{const b=Py(YI),w=V.useId();let A=!0,I=V.useMemo(()=>(A=!1,{id:w,initial:t,isPresent:n,custom:a,onExitComplete:U=>{b.set(U,!0);for(const z of b.values())if(!z)return;s&&s()},register:U=>(b.set(U,!1),()=>b.delete(U))}),[n,b,s]);return u&&A&&(I={...I}),V.useMemo(()=>{b.forEach((U,z)=>b.set(z,!1))},[n]),V.useEffect(()=>{!n&&!b.size&&s&&s()},[n]),f==="popLayout"&&(e=X.jsx(GI,{isPresent:n,anchorX:g,anchorY:y,root:v,children:e})),X.jsx(kd.Provider,{value:I,children:e})};function YI(){return new Map}function DS(e=!0){const t=V.useContext(kd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,u=V.useId();V.useEffect(()=>{if(e)return a(u)},[e]);const f=V.useCallback(()=>e&&s&&s(u),[u,s,e]);return!n&&s?[!1,f]:[!0]}const zf=e=>e.key||"";function h1(e){const t=[];return V.Children.forEach(e,n=>{V.isValidElement(n)&&t.push(n)}),t}const XI=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:u="sync",propagate:f=!1,anchorX:g="left",anchorY:y="top",root:v})=>{const[b,w]=DS(f),A=V.useMemo(()=>h1(e),[e]),I=f&&!b?[]:A.map(zf),U=V.useRef(!0),z=V.useRef(A),Z=Py(()=>new Map),$=V.useRef(new Set),[nt,K]=V.useState(A),[ht,ct]=V.useState(A);aw(()=>{U.current=!1,z.current=A;for(let D=0;D<ht.length;D++){const N=zf(ht[D]);I.includes(N)?(Z.delete(N),$.current.delete(N)):Z.get(N)!==!0&&Z.set(N,!1)}},[ht,I.length,I.join("-")]);const ut=[];if(A!==nt){let D=[...A];for(let N=0;N<ht.length;N++){const F=ht[N],k=zf(F);I.includes(k)||(D.splice(N,0,F),ut.push(F))}return u==="wait"&&ut.length&&(D=ut),ct(h1(D)),K(A),null}const{forceRender:P}=V.useContext(Iy);return X.jsx(X.Fragment,{children:ht.map(D=>{const N=zf(D),F=f&&!b?!1:A===ht||I.includes(N),k=()=>{if($.current.has(N))return;if($.current.add(N),Z.has(N))Z.set(N,!0);else return;let G=!0;Z.forEach(B=>{B||(G=!1)}),G&&(P?.(),ct(z.current),f&&w?.(),s&&s())};return X.jsx(KI,{isPresent:F,initial:!U.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:u,root:v,onExitComplete:F?void 0:k,anchorX:g,anchorY:y,children:D},N)})})},MS=V.createContext({strict:!1}),f1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let d1=!1;function QI(){if(d1)return;const e={};for(const t in f1)e[t]={isEnabled:n=>f1[t].some(s=>!!n[s])};rS(e),d1=!0}function IS(){return QI(),NM()}function WI(e){const t=IS();for(const n in e)t[n]={...t[n],...e[n]};rS(t)}const $I=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$I.has(e)}let PS=e=>!pd(e);function JI(e){typeof e=="function"&&(PS=t=>t.startsWith("on")?!pd(t):e(t))}try{JI(require("@emotion/is-prop-valid").default)}catch{}function tP(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(PS(a)||n===!0&&pd(a)||!t&&!pd(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const Ud=V.createContext({});function eP(e,t){if(Bd(e)){const{initial:n,animate:s}=e;return{initial:n===!1||nh(n)?n:void 0,animate:nh(s)?s:void 0}}return e.inherit!==!1?t:{}}function nP(e){const{initial:t,animate:n}=eP(e,V.useContext(Ud));return V.useMemo(()=>({initial:t,animate:n}),[m1(t),m1(n)])}function m1(e){return Array.isArray(e)?e.join(" "):e}const a_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LS(e,t,n){for(const s in t)!xi(t[s])&&!fS(s,n)&&(e[s]=t[s])}function iP({transformTemplate:e},t){return V.useMemo(()=>{const n=a_();return s_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function sP(e,t){const n=e.style||{},s={};return LS(s,n,e),Object.assign(s,iP(e,t)),s}function rP(e,t){const n={},s=sP(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const OS=()=>({...a_(),attrs:{}});function oP(e,t,n,s){const a=V.useMemo(()=>{const u=OS();return dS(u,t,pS(s),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};LS(u,e.style,e),a.style={...u,...a.style}}return a}const aP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function l_(e){return typeof e!="string"||e.includes("-")?!1:!!(aP.indexOf(e)>-1||/[A-Z]/u.test(e))}function lP(e,t,n,{latestValues:s},a,u=!1,f){const y=(f??l_(e)?oP:rP)(t,s,a,e),v=tP(t,typeof e=="string",u),b=e!==V.Fragment?{...v,...y,ref:n}:{},{children:w}=t,A=V.useMemo(()=>xi(w)?w.get():w,[w]);return V.createElement(e,{...b,children:A})}function uP({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:cP(n,s,a,e),renderState:t()}}function cP(e,t,n,s){const a={},u=s(e,{});for(const A in u)a[A]=$f(u[A]);let{initial:f,animate:g}=e;const y=Bd(e),v=sS(e);t&&v&&!y&&e.inherit!==!1&&(f===void 0&&(f=t.initial),g===void 0&&(g=t.animate));let b=n?n.initial===!1:!1;b=b||f===!1;const w=b?g:f;if(w&&typeof w!="boolean"&&!zd(w)){const A=Array.isArray(w)?w:[w];for(let I=0;I<A.length;I++){const U=Wy(e,A[I]);if(U){const{transitionEnd:z,transition:Z,...$}=U;for(const nt in $){let K=$[nt];if(Array.isArray(K)){const ht=b?K.length-1:0;K=K[ht]}K!==null&&(a[nt]=K)}for(const nt in z)a[nt]=z[nt]}}}return a}const NS=e=>(t,n)=>{const s=V.useContext(Ud),a=V.useContext(kd),u=()=>uP(e,t,s,a);return n?u():Py(u)},hP=NS({scrapeMotionValuesFromProps:r_,createRenderState:a_}),fP=NS({scrapeMotionValuesFromProps:gS,createRenderState:OS}),dP=Symbol.for("motionComponentSymbol");function mP(e,t,n){const s=V.useRef(n);V.useInsertionEffect(()=>{s.current=n});const a=V.useRef(null);return V.useCallback(u=>{u&&e.onMount?.(u),t&&(u?t.mount(u):t.unmount());const f=s.current;if(typeof f=="function")if(u){const g=f(u);typeof g=="function"&&(a.current=g)}else a.current?(a.current(),a.current=null):f(u);else f&&(f.current=u)},[t])}const VS=V.createContext({});function Oc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function pP(e,t,n,s,a,u){const{visualElement:f}=V.useContext(Ud),g=V.useContext(MS),y=V.useContext(kd),v=V.useContext(o_).reducedMotion,b=V.useRef(null),w=V.useRef(!1);s=s||g.renderer,!b.current&&s&&(b.current=s(e,{visualState:t,parent:f,props:n,presenceContext:y,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:v,isSVG:u}),w.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const A=b.current,I=V.useContext(VS);A&&!A.projection&&a&&(A.type==="html"||A.type==="svg")&&gP(b.current,n,a,I);const U=V.useRef(!1);V.useInsertionEffect(()=>{A&&U.current&&A.update(n,y)});const z=n[qw],Z=V.useRef(!!z&&!window.MotionHandoffIsComplete?.(z)&&window.MotionHasOptimisedAnimation?.(z));return aw(()=>{w.current=!0,A&&(U.current=!0,window.MotionIsMounted=!0,A.updateFeatures(),A.scheduleRenderMicrotask(),Z.current&&A.animationState&&A.animationState.animateChanges())}),V.useEffect(()=>{A&&(!Z.current&&A.animationState&&A.animationState.animateChanges(),Z.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(z)}),Z.current=!1),A.enteringChildren=void 0)}),A}function gP(e,t,n,s){const{layoutId:a,layout:u,drag:f,dragConstraints:g,layoutScroll:y,layoutRoot:v,layoutCrossfade:b}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:kS(e.parent)),e.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!f||g&&Oc(g),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:b,layoutScroll:y,layoutRoot:v})}function kS(e){if(e)return e.options.allowProjection!==!1?e.projection:kS(e.parent)}function hg(e,{forwardMotionProps:t=!1,type:n}={},s,a){s&&WI(s);const u=n?n==="svg":l_(e),f=u?fP:hP;function g(v,b){let w;const A={...V.useContext(o_),...v,layoutId:yP(v)},{isStatic:I}=A,U=nP(v),z=f(v,I);if(!I&&ow){_P();const Z=vP(A);w=Z.MeasureLayout,U.visualElement=pP(e,z,A,a,Z.ProjectionNode,u)}return X.jsxs(Ud.Provider,{value:U,children:[w&&U.visualElement?X.jsx(w,{visualElement:U.visualElement,...A}):null,lP(e,v,mP(z,U.visualElement,b),z,I,t,u)]})}g.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const y=V.forwardRef(g);return y[dP]=e,y}function yP({layoutId:e}){const t=V.useContext(Iy).id;return t&&e!==void 0?t+"-"+e:e}function _P(e,t){V.useContext(MS).strict}function vP(e){const t=IS(),{drag:n,layout:s}=t;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function TP(e,t){if(typeof Proxy>"u")return hg;const n=new Map,s=(u,f)=>hg(u,f,e,t),a=(u,f)=>s(u,f);return new Proxy(a,{get:(u,f)=>f==="create"?s:(n.has(f)||n.set(f,hg(f,void 0,e,t)),n.get(f))})}const bP=(e,t)=>t.isSVG??l_(e)?new $M(t):new GM(t,{allowProjection:e!==V.Fragment});class EP extends Da{constructor(t){super(t),t.animationState||(t.animationState=iI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();zd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let wP=0;class SP extends Da{constructor(){super(...arguments),this.id=wP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const xP={animation:{Feature:EP},exit:{Feature:SP}};function vh(e){return{point:{x:e.pageX,y:e.pageY}}}const AP=e=>t=>e_(t)&&e(t,vh(t));function Hc(e,t,n,s){return ih(e,t,AP(n),s)}const zS=({current:e})=>e?e.ownerDocument.defaultView:null,p1=(e,t)=>Math.abs(e-t);function CP(e,t){const n=p1(e.x,t.x),s=p1(e.y,t.y);return Math.sqrt(n**2+s**2)}const g1=new Set(["auto","scroll"]);class BS{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:u=!1,distanceThreshold:f=3,element:g}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=I=>{this.handleScroll(I.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=dg(this.lastMoveEventInfo,this.history),U=this.startEvent!==null,z=CP(I.offset,{x:0,y:0})>=this.distanceThreshold;if(!U&&!z)return;const{point:Z}=I,{timestamp:$}=ai;this.history.push({...Z,timestamp:$});const{onStart:nt,onMove:K}=this.handlers;U||(nt&&nt(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,I)},this.handlePointerMove=(I,U)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=fg(U,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(I,U)=>{this.end();const{onEnd:z,onSessionEnd:Z,resumeAnimation:$}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&$&&$(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const nt=dg(I.type==="pointercancel"?this.lastMoveEventInfo:fg(U,this.transformPagePoint),this.history);this.startEvent&&z&&z(I,nt),Z&&Z(I,nt)},!e_(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=f,this.contextWindow=a||window;const y=vh(t),v=fg(y,this.transformPagePoint),{point:b}=v,{timestamp:w}=ai;this.history=[{...b,timestamp:w}];const{onSessionStart:A}=n;A&&A(t,dg(v,this.history)),this.removeListeners=gh(Hc(this.contextWindow,"pointermove",this.handlePointerMove),Hc(this.contextWindow,"pointerup",this.handlePointerUp),Hc(this.contextWindow,"pointercancel",this.handlePointerUp)),g&&this.startScrollTracking(g)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(g1.has(s.overflowX)||g1.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:a.x-n.x,y:a.y-n.y};u.x===0&&u.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,a),Ze.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ba(this.updatePoint)}}function fg(e,t){return t?{point:t(e.point)}:e}function y1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dg({point:e},t){return{point:e,delta:y1(e,US(t)),offset:y1(e,RP(t)),velocity:DP(t,.1)}}function RP(e){return e[0]}function US(e){return e[e.length-1]}function DP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=US(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>yo(t)));)n--;if(!s)return{x:0,y:0};const u=Fs(a.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const f={x:(a.x-s.x)/u,y:(a.y-s.y)/u};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function MP(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?en(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?en(n,e,s.max):Math.min(e,n)),e}function _1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function IP(e,{top:t,left:n,bottom:s,right:a}){return{x:_1(e.x,n,a),y:_1(e.y,t,s)}}function v1(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function PP(e,t){return{x:v1(e.x,t.x),y:v1(e.y,t.y)}}function LP(e,t){let n=.5;const s=ki(e),a=ki(t);return a>s?n=Jc(t.min,t.max-s,e.min):s>a&&(n=Jc(e.min,e.max-a,t.min)),jr(0,1,n)}function OP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Jg=.35;function NP(e=Jg){return e===!1?e=0:e===!0&&(e=Jg),{x:T1(e,"left","right"),y:T1(e,"top","bottom")}}function T1(e,t,n){return{min:b1(e,t),max:b1(e,n)}}function b1(e,t){return typeof e=="number"?e:e[t]||0}const VP=new WeakMap;class kP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const u=w=>{n?(this.stopAnimation(),this.snapToCursor(vh(w).point)):this.pauseAnimation()},f=(w,A)=>{this.stopAnimation();const{drag:I,dragPropagation:U,onDragStart:z}=this.getProps();if(I&&!U&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wM(I),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zs($=>{let nt=this.getAxisMotionValue($).get()||0;if(kr.test(nt)){const{projection:K}=this.visualElement;if(K&&K.layout){const ht=K.layout.layoutBox[$];ht&&(nt=ki(ht)*(parseFloat(nt)/100))}}this.originPoint[$]=nt}),z&&Ze.postRender(()=>z(w,A)),Zg(this.visualElement,"transform");const{animationState:Z}=this.visualElement;Z&&Z.setActive("whileDrag",!0)},g=(w,A)=>{this.latestPointerEvent=w,this.latestPanInfo=A;const{dragPropagation:I,dragDirectionLock:U,onDirectionLock:z,onDrag:Z}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:$}=A;if(U&&this.currentDirection===null){this.currentDirection=zP($),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",A.point,$),this.updateAxis("y",A.point,$),this.visualElement.render(),Z&&Z(w,A)},y=(w,A)=>{this.latestPointerEvent=w,this.latestPanInfo=A,this.stop(w,A),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>zs(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new BS(t,{onSessionStart:u,onStart:f,onMove:g,onSessionEnd:y,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:s,contextWindow:zS(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!a||!s)return;const{velocity:f}=a;this.startAnimation(f);const{onDragEnd:g}=this.getProps();g&&Ze.postRender(()=>g(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Bf(t,a,this.currentDirection))return;const u=this.getAxisMotionValue(t);let f=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(f=MP(f,this.constraints[t],this.elastic[t])),u.set(f)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Oc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=IP(s.layoutBox,t):this.constraints=!1,this.elastic=NP(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zs(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=OP(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Oc(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=UM(s,a.root,this.visualElement.getTransformPagePoint());let f=PP(a.layout.layoutBox,u);if(n){const g=n(kM(f));this.hasMutatedConstraints=!!g,g&&(f=aS(g))}return f}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:u,dragSnapToOrigin:f,onDragTransitionEnd:g}=this.getProps(),y=this.constraints||{},v=zs(b=>{if(!Bf(b,n,this.currentDirection))return;let w=y&&y[b]||{};f&&(w={min:0,max:0});const A=a?200:1e6,I=a?40:1e7,U={type:"inertia",velocity:s?t[b]:0,bounceStiffness:A,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...u,...w};return this.startAxisValueAnimation(b,U)});return Promise.all(v).then(g)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Zg(this.visualElement,t),s.start(Qy(t,s,0,n,this.visualElement,!1))}stopAnimation(){zs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zs(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){zs(n=>{const{drag:s}=this.getProps();if(!Bf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(n);if(a&&a.layout){const{min:f,max:g}=a.layout.layoutBox[n],y=u.get()||0;u.set(t[n]-en(f,g,.5)+y)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Oc(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};zs(f=>{const g=this.getAxisMotionValue(f);if(g&&this.constraints!==!1){const y=g.get();a[f]=LP({min:y,max:y},this.constraints[f])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),zs(f=>{if(!Bf(f,t,null))return;const g=this.getAxisMotionValue(f),{min:y,max:v}=this.constraints[f];g.set(en(y,v,a[f]))})}addListeners(){if(!this.visualElement.current)return;VP.set(this.visualElement,this);const t=this.visualElement.current,n=Hc(t,"pointerdown",y=>{const{drag:v,dragListener:b=!0}=this.getProps(),w=y.target,A=w!==t&&eS(w);v&&b&&!A&&this.start(y)}),s=()=>{const{dragConstraints:y}=this.getProps();Oc(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ze.read(s);const f=ih(window,"resize",()=>this.scalePositionWithinConstraints()),g=a.addEventListener("didUpdate",(({delta:y,hasLayoutChanged:v})=>{this.isDragging&&v&&(zs(b=>{const w=this.getAxisMotionValue(b);w&&(this.originPoint[b]+=y[b].translate,w.set(w.get()+y[b].translate))}),this.visualElement.render())}));return()=>{f(),n(),u(),g&&g()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:f=Jg,dragMomentum:g=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:u,dragElastic:f,dragMomentum:g}}}function Bf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function zP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class BP extends Da{constructor(t){super(t),this.removeGroupControls=Hs,this.removeListeners=Hs,this.controls=new kP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hs}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const E1=e=>(t,n)=>{e&&Ze.postRender(()=>e(t,n))};class UP extends Da{constructor(){super(...arguments),this.removePointerDownListener=Hs}onPointerDown(t){this.session=new BS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:E1(t),onStart:E1(n),onMove:s,onEnd:(u,f)=>{delete this.session,a&&Ze.postRender(()=>a(u,f))}}}mount(){this.removePointerDownListener=Hc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let mg=!1;class jP extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:u}=t;u&&(n.group&&n.group.add(u),s&&s.register&&a&&s.register(u),mg&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Jf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:u}=this.props,{projection:f}=s;return f&&(f.isPresent=u,t.layoutDependency!==n&&f.setOptions({...f.options,layoutDependency:n}),mg=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==u?f.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?f.promote():f.relegate()||Ze.postRender(()=>{const g=f.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),t_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;mg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jS(e){const[t,n]=DS(),s=V.useContext(Iy);return X.jsx(jP,{...e,layoutGroup:s,switchLayoutGroup:V.useContext(VS),isPresent:t,safeToRemove:n})}const FP={pan:{Feature:UP},drag:{Feature:BP,ProjectionNode:RS,MeasureLayout:jS}};function w1(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,u=s[a];u&&Ze.postRender(()=>u(t,vh(t)))}class HP extends Da{mount(){const{current:t}=this.node;t&&(this.unmount=SM(t,(n,s)=>(w1(this.node,s,"Start"),a=>w1(this.node,a,"End"))))}unmount(){}}class qP extends Da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gh(ih(this.node.current,"focus",()=>this.onFocus()),ih(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function S1(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),u=s[a];u&&Ze.postRender(()=>u(t,vh(t)))}class ZP extends Da{mount(){const{current:t}=this.node;t&&(this.unmount=CM(t,(n,s)=>(S1(this.node,s,"Start"),(a,{success:u})=>S1(this.node,a,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ty=new WeakMap,pg=new WeakMap,GP=e=>{const t=ty.get(e.target);t&&t(e)},KP=e=>{e.forEach(GP)};function YP({root:e,...t}){const n=e||document;pg.has(n)||pg.set(n,{});const s=pg.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(KP,{root:e,...t})),s[a]}function XP(e,t,n){const s=YP(t);return ty.set(e,n),s.observe(e),()=>{ty.delete(e),s.unobserve(e)}}const QP={some:0,all:1};class WP extends Da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:u}=t,f={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:QP[a]},g=y=>{const{isIntersecting:v}=y;if(this.isInView===v||(this.isInView=v,u&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:b,onViewportLeave:w}=this.node.getProps(),A=v?b:w;A&&A(y)};return XP(this.node.current,f,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some($P(t,n))&&this.startObserver()}unmount(){}}function $P({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const JP={inView:{Feature:WP},tap:{Feature:ZP},focus:{Feature:qP},hover:{Feature:HP}},tL={layout:{ProjectionNode:RS,MeasureLayout:jS}},eL={...xP,...JP,...FP,...tL},gg=TP(eL,bP);const FS=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();const nL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const iL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());const x1=e=>{const t=iL(e);return t.charAt(0).toUpperCase()+t.slice(1)};var sL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const oL=V.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:u,iconNode:f,...g},y)=>V.createElement("svg",{ref:y,...sL,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:FS("lucide",a),...!u&&!rL(g)&&{"aria-hidden":"true"},...g},[...f.map(([v,b])=>V.createElement(v,b)),...Array.isArray(u)?u:[u]]));const sn=(e,t)=>{const n=V.forwardRef(({className:s,...a},u)=>V.createElement(oL,{ref:u,iconNode:t,className:FS(`lucide-${nL(x1(e))}`,`lucide-${e}`,s),...a}));return n.displayName=x1(e),n};const aL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lL=sn("calendar",aL);const uL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],cL=sn("chevron-up",uL);const hL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fL=sn("clock",hL);const dL=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],mL=sn("cloud-sun",dL);const pL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],gL=sn("copy",pL);const yL=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],_L=sn("grip-vertical",yL);const vL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],TL=sn("image",vL);const bL=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],u_=sn("loader",bL);const EL=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wL=sn("lock",EL);const SL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xL=sn("map-pin",SL);const AL=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],CL=sn("map",AL);const RL=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],DL=sn("menu",RL);const ML=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],IL=sn("mountain",ML);const PL=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],LL=sn("navigation",PL);const OL=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],NL=sn("package",OL);const VL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],HS=sn("plus",VL);const kL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qS=sn("save",kL);const zL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BL=sn("settings",zL);const UL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],jL=sn("shield-alert",UL);const FL=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],HL=sn("sparkles",FL);const qL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ZS=sn("trash-2",qL);const ZL=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],GL=sn("wallet",ZL);const KL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],YL=sn("x",KL),XL=async(e,t)=>new Promise(n=>{setTimeout(()=>{const s={hiking:`${e}  - 
${e}


1. 
2. `,cycling:`${e}  - 
/ 2km 


`,camping:`${e}  - /
 B ${e}`};n(s[t]||s.hiking)},1500)});function QL(){const[e,t]=V.useState(!1),[n,s]=V.useState(null),[a,u]=V.useState(!1),f=async()=>{if(n){s(null);return}u(!0);const g=await XL("","hiking");s(g),u(!1)};return X.jsxs(X.Fragment,{children:[X.jsxs(gg.div,{className:"focus-panel",initial:{height:"60px"},animate:{height:e?"auto":"60px"},transition:{type:"spring",damping:20},children:[X.jsxs("div",{className:"panel-header",onClick:()=>t(!e),children:[X.jsxs("div",{className:"focus-summary",children:[X.jsx(LL,{size:18,className:"text-primary"}),X.jsx("span",{className:"focus-text",children:""})]}),X.jsx(cL,{size:20,className:"toggle-icon",style:{transform:e?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]}),X.jsx(XI,{children:e&&X.jsxs(gg.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"panel-content",children:[X.jsxs("div",{className:"weather-widget",onClick:f,style:{cursor:"pointer",border:n?"1px solid var(--color-p-h)":"none"},children:[a?X.jsx(HL,{className:"animate-spin text-warning"}):X.jsx(mL,{size:24,className:"text-warning"}),X.jsxs("div",{children:[X.jsx("div",{className:"weather-temp",children:"18C "}),X.jsx("div",{className:"weather-tip",children:a?"...":" AI "})]})]}),n&&X.jsx(gg.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"ai-advice-box",children:X.jsx("pre",{children:n})}),X.jsx("div",{className:"map-thumbnail",style:{height:"120px",backgroundColor:"#e5e7eb",borderRadius:"8px",overflow:"hidden",position:"relative",marginBottom:"12px"},children:X.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280",fontSize:"0.9rem"},children:[X.jsx(CL,{size:24,style:{marginRight:"8px"}})," (Mock)"]})}),X.jsxs("div",{className:"next-milestone",children:[X.jsx("div",{className:"milestone-label",children:""}),X.jsx("div",{className:"milestone-value",children:"11:30  ( 1.2km)"})]}),X.jsx("div",{className:"action-buttons",children:X.jsx("button",{className:"btn btn-primary full-width",children:""})})]})})]}),X.jsx("style",{children:`
        .focus-panel {
          position: fixed;
          bottom: 0;
          left: 0;
          right: 0;
          background-color: hsl(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l));
          border-top: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
          box-shadow: 0 -4px 12px rgba(0,0,0,0.1);
          z-index: 50;
          border-top-left-radius: var(--radius-xl);
          border-top-right-radius: var(--radius-xl);
          overflow: hidden;
        }
        .text-primary { color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l)); }
        .text-warning { color: var(--color-warning); }
        
        .panel-header {
          height: 60px;
          padding: 0 var(--space-4);
          display: flex;
          align-items: center;
          justify-content: space-between;
          cursor: pointer;
        }
        .focus-summary {
          display: flex;
          align-items: center;
          gap: var(--space-2);
          font-weight: 600;
          font-size: 0.95rem;
        }
        .panel-content {
          padding: 0 var(--space-4) var(--space-6) var(--space-4);
        }
        .weather-widget {
          display: flex;
          align-items: center;
          gap: var(--space-3);
          padding: var(--space-3);
          background-color: hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l));
          border-radius: var(--radius-lg);
          margin-bottom: var(--space-3);
          transition: background-color 0.2s;
        }
        .weather-widget:hover {
          background-color: rgba(0,0,0,0.05);
        }
        .weather-temp { font-weight: bold; }
        .weather-tip { font-size: 0.85rem; color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l)); }
        
        .ai-advice-box {
            background: #f0fdf4;
            padding: var(--space-3);
            border-radius: var(--radius-md);
            margin-bottom: var(--space-3);
            font-size: 0.85rem;
            color: #166534;
            white-space: pre-wrap;
            font-family: inherit;
        }

        .next-milestone {
          margin-bottom: var(--space-4);
        }
        .milestone-label {
          font-size: 0.8rem;
          color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
          margin-bottom: var(--space-1);
        }
        .milestone-value {
          font-weight: 500;
        }
        .full-width { width: 100%; }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }
      `})]})}function GS(e,t){const n=V.useRef(t);V.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}var yu=rw();const WL=1;function $L(e){return Object.freeze({__version:WL,map:e})}function KS(e,t){return Object.freeze({...e,...t})}const c_=V.createContext(null);function jd(){const e=V.use(c_);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function YS(e){function t(n,s){const{instance:a,context:u}=e(n).current;V.useImperativeHandle(s,()=>a);const{children:f}=n;return f==null?null:Jn.createElement(c_,{value:u},f)}return V.forwardRef(t)}function JL(e){function t(n,s){const[a,u]=V.useState(!1),{instance:f}=e(n,u).current;V.useImperativeHandle(s,()=>f),V.useEffect(function(){a&&f.update()},[f,a,n.children]);const g=f._contentNode;return g?yu.createPortal(n.children,g):null}return V.forwardRef(t)}function tO(e){function t(n,s){const{instance:a}=e(n).current;return V.useImperativeHandle(s,()=>a),null}return V.forwardRef(t)}function h_(e,t){const n=V.useRef(void 0);V.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Fd(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function eO(e,t){return function(s,a){const u=jd(),f=e(Fd(s,u),u);return GS(u.map,s.attribution),h_(f.current,s.eventHandlers),t(f.current,u,s,a),f}}var Nc={exports:{}};var nO=Nc.exports,A1;function iO(){return A1||(A1=1,(function(e,t){(function(n,s){s(t)})(nO,(function(n){var s="1.9.4";function a(o){var c,m,T,S;for(m=1,T=arguments.length;m<T;m++){S=arguments[m];for(c in S)o[c]=S[c]}return o}var u=Object.create||(function(){function o(){}return function(c){return o.prototype=c,new o}})();function f(o,c){var m=Array.prototype.slice;if(o.bind)return o.bind.apply(o,m.call(arguments,1));var T=m.call(arguments,2);return function(){return o.apply(c,T.length?T.concat(m.call(arguments)):arguments)}}var g=0;function y(o){return"_leaflet_id"in o||(o._leaflet_id=++g),o._leaflet_id}function v(o,c,m){var T,S,R,j;return j=function(){T=!1,S&&(R.apply(m,S),S=!1)},R=function(){T?S=arguments:(o.apply(m,arguments),setTimeout(j,c),T=!0)},R}function b(o,c,m){var T=c[1],S=c[0],R=T-S;return o===T&&m?o:((o-S)%R+R)%R+S}function w(){return!1}function A(o,c){if(c===!1)return o;var m=Math.pow(10,c===void 0?6:c);return Math.round(o*m)/m}function I(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function U(o){return I(o).split(/\s+/)}function z(o,c){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?u(o.options):{});for(var m in c)o.options[m]=c[m];return o.options}function Z(o,c,m){var T=[];for(var S in o)T.push(encodeURIComponent(m?S.toUpperCase():S)+"="+encodeURIComponent(o[S]));return(!c||c.indexOf("?")===-1?"?":"&")+T.join("&")}var $=/\{ *([\w_ -]+) *\}/g;function nt(o,c){return o.replace($,function(m,T){var S=c[T];if(S===void 0)throw new Error("No value provided for variable "+m);return typeof S=="function"&&(S=S(c)),S})}var K=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function ht(o,c){for(var m=0;m<o.length;m++)if(o[m]===c)return m;return-1}var ct="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ut(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var P=0;function D(o){var c=+new Date,m=Math.max(0,16-(c-P));return P=c+m,window.setTimeout(o,m)}var N=window.requestAnimationFrame||ut("RequestAnimationFrame")||D,F=window.cancelAnimationFrame||ut("CancelAnimationFrame")||ut("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function k(o,c,m){if(m&&N===D)o.call(c);else return N.call(window,f(o,c))}function G(o){o&&F.call(window,o)}var B={__proto__:null,extend:a,create:u,bind:f,get lastId(){return g},stamp:y,throttle:v,wrapNum:b,falseFn:w,formatNum:A,trim:I,splitWords:U,setOptions:z,getParamString:Z,template:nt,isArray:K,indexOf:ht,emptyImageUrl:ct,requestFn:N,cancelFn:F,requestAnimFrame:k,cancelAnimFrame:G};function Ft(){}Ft.extend=function(o){var c=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,T=u(m);T.constructor=c,c.prototype=T;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(c[S]=this[S]);return o.statics&&a(c,o.statics),o.includes&&(we(o.includes),a.apply(null,[T].concat(o.includes))),a(T,o),delete T.statics,delete T.includes,T.options&&(T.options=m.options?u(m.options):{},a(T.options,o.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,j=T._initHooks.length;R<j;R++)T._initHooks[R].call(this)}},c},Ft.include=function(o){var c=this.prototype.options;return a(this.prototype,o),o.options&&(this.prototype.options=c,this.mergeOptions(o.options)),this},Ft.mergeOptions=function(o){return a(this.prototype.options,o),this},Ft.addInitHook=function(o){var c=Array.prototype.slice.call(arguments,1),m=typeof o=="function"?o:function(){this[o].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function we(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=K(o)?o:[o];for(var c=0;c<o.length;c++)o[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ot={on:function(o,c,m){if(typeof o=="object")for(var T in o)this._on(T,o[T],c);else{o=U(o);for(var S=0,R=o.length;S<R;S++)this._on(o[S],c,m)}return this},off:function(o,c,m){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var T in o)this._off(T,o[T],c);else{o=U(o);for(var S=arguments.length===1,R=0,j=o.length;R<j;R++)S?this._off(o[R]):this._off(o[R],c,m)}return this},_on:function(o,c,m,T){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(o,c,m)===!1){m===this&&(m=void 0);var S={fn:c,ctx:m};T&&(S.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(S)}},_off:function(o,c,m){var T,S,R;if(this._events&&(T=this._events[o],!!T)){if(arguments.length===1){if(this._firingCount)for(S=0,R=T.length;S<R;S++)T[S].fn=w;delete this._events[o];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var j=this._listens(o,c,m);if(j!==!1){var W=T[j];this._firingCount&&(W.fn=w,this._events[o]=T=T.slice()),T.splice(j,1)}}},fire:function(o,c,m){if(!this.listens(o,m))return this;var T=a({},c,{type:o,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var S=this._events[o];if(S){this._firingCount=this._firingCount+1||1;for(var R=0,j=S.length;R<j;R++){var W=S[R],it=W.fn;W.once&&this.off(o,it,W.ctx),it.call(W.ctx||this,T)}this._firingCount--}}return m&&this._propagateEvent(T),this},listens:function(o,c,m,T){typeof o!="string"&&console.warn('"string" type argument expected');var S=c;typeof c!="function"&&(T=!!c,S=void 0,m=void 0);var R=this._events&&this._events[o];if(R&&R.length&&this._listens(o,S,m)!==!1)return!0;if(T){for(var j in this._eventParents)if(this._eventParents[j].listens(o,c,m,T))return!0}return!1},_listens:function(o,c,m){if(!this._events)return!1;var T=this._events[o]||[];if(!c)return!!T.length;m===this&&(m=void 0);for(var S=0,R=T.length;S<R;S++)if(T[S].fn===c&&T[S].ctx===m)return S;return!1},once:function(o,c,m){if(typeof o=="object")for(var T in o)this._on(T,o[T],c,!0);else{o=U(o);for(var S=0,R=o.length;S<R;S++)this._on(o[S],c,m,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[y(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[y(o)],this},_propagateEvent:function(o){for(var c in this._eventParents)this._eventParents[c].fire(o.type,a({layer:o.target,propagatedFrom:o.target},o),!0)}};ot.addEventListener=ot.on,ot.removeEventListener=ot.clearAllEventListeners=ot.off,ot.addOneTimeEventListener=ot.once,ot.fireEvent=ot.fire,ot.hasEventListeners=ot.listens;var gt=Ft.extend(ot);function yt(o,c,m){this.x=m?Math.round(o):o,this.y=m?Math.round(c):c}var Vt=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};yt.prototype={clone:function(){return new yt(this.x,this.y)},add:function(o){return this.clone()._add(wt(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(wt(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new yt(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new yt(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Vt(this.x),this.y=Vt(this.y),this},distanceTo:function(o){o=wt(o);var c=o.x-this.x,m=o.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(o){return o=wt(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=wt(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function wt(o,c,m){return o instanceof yt?o:K(o)?new yt(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new yt(o.x,o.y):new yt(o,c,m)}function H(o,c){if(o)for(var m=c?[o,c]:o,T=0,S=m.length;T<S;T++)this.extend(m[T])}H.prototype={extend:function(o){var c,m;if(!o)return this;if(o instanceof yt||typeof o[0]=="number"||"x"in o)c=m=wt(o);else if(o=at(o),c=o.min,m=o.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(o){return wt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return wt(this.min.x,this.max.y)},getTopRight:function(){return wt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var c,m;return typeof o[0]=="number"||o instanceof yt?o=wt(o):o=at(o),o instanceof H?(c=o.min,m=o.max):c=m=o,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(o){o=at(o);var c=this.min,m=this.max,T=o.min,S=o.max,R=S.x>=c.x&&T.x<=m.x,j=S.y>=c.y&&T.y<=m.y;return R&&j},overlaps:function(o){o=at(o);var c=this.min,m=this.max,T=o.min,S=o.max,R=S.x>c.x&&T.x<m.x,j=S.y>c.y&&T.y<m.y;return R&&j},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var c=this.min,m=this.max,T=Math.abs(c.x-m.x)*o,S=Math.abs(c.y-m.y)*o;return at(wt(c.x-T,c.y-S),wt(m.x+T,m.y+S))},equals:function(o){return o?(o=at(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function at(o,c){return!o||o instanceof H?o:new H(o,c)}function Tt(o,c){if(o)for(var m=c?[o,c]:o,T=0,S=m.length;T<S;T++)this.extend(m[T])}Tt.prototype={extend:function(o){var c=this._southWest,m=this._northEast,T,S;if(o instanceof xt)T=o,S=o;else if(o instanceof Tt){if(T=o._southWest,S=o._northEast,!T||!S)return this}else return o?this.extend(Et(o)||bt(o)):this;return!c&&!m?(this._southWest=new xt(T.lat,T.lng),this._northEast=new xt(S.lat,S.lng)):(c.lat=Math.min(T.lat,c.lat),c.lng=Math.min(T.lng,c.lng),m.lat=Math.max(S.lat,m.lat),m.lng=Math.max(S.lng,m.lng)),this},pad:function(o){var c=this._southWest,m=this._northEast,T=Math.abs(c.lat-m.lat)*o,S=Math.abs(c.lng-m.lng)*o;return new Tt(new xt(c.lat-T,c.lng-S),new xt(m.lat+T,m.lng+S))},getCenter:function(){return new xt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new xt(this.getNorth(),this.getWest())},getSouthEast:function(){return new xt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof xt||"lat"in o?o=Et(o):o=bt(o);var c=this._southWest,m=this._northEast,T,S;return o instanceof Tt?(T=o.getSouthWest(),S=o.getNorthEast()):T=S=o,T.lat>=c.lat&&S.lat<=m.lat&&T.lng>=c.lng&&S.lng<=m.lng},intersects:function(o){o=bt(o);var c=this._southWest,m=this._northEast,T=o.getSouthWest(),S=o.getNorthEast(),R=S.lat>=c.lat&&T.lat<=m.lat,j=S.lng>=c.lng&&T.lng<=m.lng;return R&&j},overlaps:function(o){o=bt(o);var c=this._southWest,m=this._northEast,T=o.getSouthWest(),S=o.getNorthEast(),R=S.lat>c.lat&&T.lat<m.lat,j=S.lng>c.lng&&T.lng<m.lng;return R&&j},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,c){return o?(o=bt(o),this._southWest.equals(o.getSouthWest(),c)&&this._northEast.equals(o.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function bt(o,c){return o instanceof Tt?o:new Tt(o,c)}function xt(o,c,m){if(isNaN(o)||isNaN(c))throw new Error("Invalid LatLng object: ("+o+", "+c+")");this.lat=+o,this.lng=+c,m!==void 0&&(this.alt=+m)}xt.prototype={equals:function(o,c){if(!o)return!1;o=Et(o);var m=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return m<=(c===void 0?1e-9:c)},toString:function(o){return"LatLng("+A(this.lat,o)+", "+A(this.lng,o)+")"},distanceTo:function(o){return te.distance(this,Et(o))},wrap:function(){return te.wrapLatLng(this)},toBounds:function(o){var c=180*o/40075017,m=c/Math.cos(Math.PI/180*this.lat);return bt([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new xt(this.lat,this.lng,this.alt)}};function Et(o,c,m){return o instanceof xt?o:K(o)&&typeof o[0]!="object"?o.length===3?new xt(o[0],o[1],o[2]):o.length===2?new xt(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new xt(o.lat,"lng"in o?o.lng:o.lon,o.alt):c===void 0?null:new xt(o,c,m)}var Ut={latLngToPoint:function(o,c){var m=this.projection.project(o),T=this.scale(c);return this.transformation._transform(m,T)},pointToLatLng:function(o,c){var m=this.scale(c),T=this.transformation.untransform(o,m);return this.projection.unproject(T)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(o),T=this.transformation.transform(c.min,m),S=this.transformation.transform(c.max,m);return new H(T,S)},infinite:!1,wrapLatLng:function(o){var c=this.wrapLng?b(o.lng,this.wrapLng,!0):o.lng,m=this.wrapLat?b(o.lat,this.wrapLat,!0):o.lat,T=o.alt;return new xt(m,c,T)},wrapLatLngBounds:function(o){var c=o.getCenter(),m=this.wrapLatLng(c),T=c.lat-m.lat,S=c.lng-m.lng;if(T===0&&S===0)return o;var R=o.getSouthWest(),j=o.getNorthEast(),W=new xt(R.lat-T,R.lng-S),it=new xt(j.lat-T,j.lng-S);return new Tt(W,it)}},te=a({},Ut,{wrapLng:[-180,180],R:6371e3,distance:function(o,c){var m=Math.PI/180,T=o.lat*m,S=c.lat*m,R=Math.sin((c.lat-o.lat)*m/2),j=Math.sin((c.lng-o.lng)*m/2),W=R*R+Math.cos(T)*Math.cos(S)*j*j,it=2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W));return this.R*it}}),ee=6378137,Qt={R:ee,MAX_LATITUDE:85.0511287798,project:function(o){var c=Math.PI/180,m=this.MAX_LATITUDE,T=Math.max(Math.min(m,o.lat),-m),S=Math.sin(T*c);return new yt(this.R*o.lng*c,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(o){var c=180/Math.PI;return new xt((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*c,o.x*c/this.R)},bounds:(function(){var o=ee*Math.PI;return new H([-o,-o],[o,o])})()};function hi(o,c,m,T){if(K(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=c,this._c=m,this._d=T}hi.prototype={transform:function(o,c){return this._transform(o.clone(),c)},_transform:function(o,c){return c=c||1,o.x=c*(this._a*o.x+this._b),o.y=c*(this._c*o.y+this._d),o},untransform:function(o,c){return c=c||1,new yt((o.x/c-this._b)/this._a,(o.y/c-this._d)/this._c)}};function Xe(o,c,m,T){return new hi(o,c,m,T)}var ti=a({},te,{code:"EPSG:3857",projection:Qt,transformation:(function(){var o=.5/(Math.PI*Qt.R);return Xe(o,.5,-o,.5)})()}),rn=a({},ti,{code:"EPSG:900913"});function Ai(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ei(o,c){var m="",T,S,R,j,W,it;for(T=0,R=o.length;T<R;T++){for(W=o[T],S=0,j=W.length;S<j;S++)it=W[S],m+=(S?"L":"M")+it.x+" "+it.y;m+=c?Ct.svg?"z":"x":""}return m||"M0 0"}var vs=document.documentElement.style,es="ActiveXObject"in window,Ve=es&&!document.addEventListener,be="msLaunchUri"in navigator&&!("documentMode"in document),ni=Ge("webkit"),qs=Ge("android"),pr=Ge("android 2")||Ge("android 3"),_n=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Zs=qs&&Ge("Google")&&_n<537&&!("AudioNode"in window),Gs=!!window.opera,Ci=!be&&Ge("chrome"),zn=Ge("gecko")&&!ni&&!Gs&&!es,Ks=!Ci&&Ge("safari"),gr=Ge("phantom"),fi="OTransition"in vs,Zr=navigator.platform.indexOf("Win")===0,di=es&&"transition"in vs,Qe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!pr,Mn="MozPerspective"in vs,ke=!window.L_DISABLE_3D&&(di||Qe||Mn)&&!fi&&!gr,Ts=typeof orientation<"u"||Ge("mobile"),Ys=Ts&&ni,Ao=Ts&&Qe,Ri=!window.PointerEvent&&window.MSPointerEvent,bs=!!(window.PointerEvent||Ri),Wt="ontouchstart"in window||!!window.TouchEvent,ze=!window.L_NO_TOUCH&&(Wt||bs),Be=Ts&&Gs,on=Ts&&zn,Bn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,vn=(function(){var o=!1;try{var c=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",w,c),window.removeEventListener("testPassiveEventSupport",w,c)}catch{}return o})(),We=(function(){return!!document.createElement("canvas").getContext})(),Un=!!(document.createElementNS&&Ai("svg").createSVGRect),$e=!!Un&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),jn=!Un&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var c=o.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),Fn=navigator.platform.indexOf("Mac")===0,ii=navigator.platform.indexOf("Linux")===0;function Ge(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Ct={ie:es,ielt9:Ve,edge:be,webkit:ni,android:qs,android23:pr,androidStock:Zs,opera:Gs,chrome:Ci,gecko:zn,safari:Ks,phantom:gr,opera12:fi,win:Zr,ie3d:di,webkit3d:Qe,gecko3d:Mn,any3d:ke,mobile:Ts,mobileWebkit:Ys,mobileWebkit3d:Ao,msPointer:Ri,pointer:bs,touch:ze,touchNative:Wt,mobileOpera:Be,mobileGecko:on,retina:Bn,passiveEvents:vn,canvas:We,svg:Un,vml:jn,inlineSvg:$e,mac:Fn,linux:ii},mi=Ct.msPointer?"MSPointerDown":"pointerdown",Tn=Ct.msPointer?"MSPointerMove":"pointermove",Hn=Ct.msPointer?"MSPointerUp":"pointerup",Je=Ct.msPointer?"MSPointerCancel":"pointercancel",an={touchstart:mi,touchmove:Tn,touchend:Hn,touchcancel:Je},ns={touchstart:ws,touchmove:qn,touchend:qn,touchcancel:qn},is={},Al=!1;function Cl(o,c,m){return c==="touchstart"&&zi(),ns[c]?(m=ns[c].bind(this,m),o.addEventListener(an[c],m,!1),m):(console.warn("wrong event specified:",c),w)}function Rl(o,c,m){if(!an[c]){console.warn("wrong event specified:",c);return}o.removeEventListener(an[c],m,!1)}function Es(o){is[o.pointerId]=o}function Co(o){is[o.pointerId]&&(is[o.pointerId]=o)}function ss(o){delete is[o.pointerId]}function zi(){Al||(document.addEventListener(mi,Es,!0),document.addEventListener(Tn,Co,!0),document.addEventListener(Hn,ss,!0),document.addEventListener(Je,ss,!0),Al=!0)}function qn(o,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in is)c.touches.push(is[m]);c.changedTouches=[c],o(c)}}function ws(o,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Fe(c),qn(o,c)}function ln(o){var c={},m,T;for(T in o)m=o[T],c[T]=m&&m.bind?m.bind(o):m;return o=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Ia=200;function Pa(o,c){o.addEventListener("dblclick",c);var m=0,T;function S(R){if(R.detail!==1){T=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var j=br(R);if(!(j.some(function(it){return it instanceof HTMLLabelElement&&it.attributes.for})&&!j.some(function(it){return it instanceof HTMLInputElement||it instanceof HTMLSelectElement}))){var W=Date.now();W-m<=Ia?(T++,T===2&&c(ln(R))):T=1,m=W}}}return o.addEventListener("click",S),{dblclick:c,simDblclick:S}}function Ss(o,c){o.removeEventListener("dblclick",c.dblclick),o.removeEventListener("click",c.simDblclick)}var Bi=Kr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xs=Kr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ro=Xs==="webkitTransition"||Xs==="OTransition"?Xs+"End":"transitionend";function Do(o){return typeof o=="string"?document.getElementById(o):o}function yr(o,c){var m=o.style[c]||o.currentStyle&&o.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(o,null);m=T?T[c]:null}return m==="auto"?null:m}function Jt(o,c,m){var T=document.createElement(o);return T.className=c||"",m&&m.appendChild(T),T}function ne(o){var c=o.parentNode;c&&c.removeChild(o)}function Ue(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function je(o){var c=o.parentNode;c&&c.lastChild!==o&&c.appendChild(o)}function Di(o){var c=o.parentNode;c&&c.firstChild!==o&&c.insertBefore(o,c.firstChild)}function Gr(o,c){if(o.classList!==void 0)return o.classList.contains(c);var m=xs(o);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function Rt(o,c){if(o.classList!==void 0)for(var m=U(c),T=0,S=m.length;T<S;T++)o.classList.add(m[T]);else if(!Gr(o,c)){var R=xs(o);Ui(o,(R?R+" ":"")+c)}}function Ae(o,c){o.classList!==void 0?o.classList.remove(c):Ui(o,I((" "+xs(o)+" ").replace(" "+c+" "," ")))}function Ui(o,c){o.className.baseVal===void 0?o.className=c:o.className.baseVal=c}function xs(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Le(o,c){"opacity"in o.style?o.style.opacity=c:"filter"in o.style&&Mo(o,c)}function Mo(o,c){var m=!1,T="DXImageTransform.Microsoft.Alpha";try{m=o.filters.item(T)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):o.style.filter+=" progid:"+T+"(opacity="+c+")"}function Kr(o){for(var c=document.documentElement.style,m=0;m<o.length;m++)if(o[m]in c)return o[m];return!1}function rs(o,c,m){var T=c||new yt(0,0);o.style[Bi]=(Ct.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(m?" scale("+m+")":"")}function Ce(o,c){o._leaflet_pos=c,Ct.any3d?rs(o,c):(o.style.left=c.x+"px",o.style.top=c.y+"px")}function As(o){return o._leaflet_pos||new yt(0,0)}var ji,bn,Io;if("onselectstart"in document)ji=function(){kt(window,"selectstart",Fe)},bn=function(){ge(window,"selectstart",Fe)};else{var Qs=Kr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ji=function(){if(Qs){var o=document.documentElement.style;Io=o[Qs],o[Qs]="none"}},bn=function(){Qs&&(document.documentElement.style[Qs]=Io,Io=void 0)}}function Yr(){kt(window,"dragstart",Fe)}function _r(){ge(window,"dragstart",Fe)}var Xr,Cs;function vr(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(pi(),Xr=o,Cs=o.style.outlineStyle,o.style.outlineStyle="none",kt(window,"keydown",pi))}function pi(){Xr&&(Xr.style.outlineStyle=Cs,Xr=void 0,Cs=void 0,ge(window,"keydown",pi))}function Po(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function gi(o){var c=o.getBoundingClientRect();return{x:c.width/o.offsetWidth||1,y:c.height/o.offsetHeight||1,boundingClientRect:c}}var Tr={__proto__:null,TRANSFORM:Bi,TRANSITION:Xs,TRANSITION_END:Ro,get:Do,getStyle:yr,create:Jt,remove:ne,empty:Ue,toFront:je,toBack:Di,hasClass:Gr,addClass:Rt,removeClass:Ae,setClass:Ui,getClass:xs,setOpacity:Le,testProp:Kr,setTransform:rs,setPosition:Ce,getPosition:As,get disableTextSelection(){return ji},get enableTextSelection(){return bn},disableImageDrag:Yr,enableImageDrag:_r,preventOutline:vr,restoreOutline:pi,getSizedParentNode:Po,getScale:gi};function kt(o,c,m,T){if(c&&typeof c=="object")for(var S in c)yi(o,S,c[S],m);else{c=U(c);for(var R=0,j=c.length;R<j;R++)yi(o,c[R],m,T)}return this}var Zn="_leaflet_events";function ge(o,c,m,T){if(arguments.length===1)Ws(o),delete o[Zn];else if(c&&typeof c=="object")for(var S in c)$s(o,S,c[S],m);else if(c=U(c),arguments.length===2)Ws(o,function(W){return ht(c,W)!==-1});else for(var R=0,j=c.length;R<j;R++)$s(o,c[R],m,T);return this}function Ws(o,c){for(var m in o[Zn]){var T=m.split(/\d/)[0];(!c||c(T))&&$s(o,T,null,null,m)}}var Mi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yi(o,c,m,T){var S=c+y(m)+(T?"_"+y(T):"");if(o[Zn]&&o[Zn][S])return this;var R=function(W){return m.call(T||o,W||window.event)},j=R;!Ct.touchNative&&Ct.pointer&&c.indexOf("touch")===0?R=Cl(o,c,R):Ct.touch&&c==="dblclick"?R=Pa(o,R):"addEventListener"in o?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?o.addEventListener(Mi[c]||c,R,Ct.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(R=function(W){W=W||window.event,ls(o,W)&&j(W)},o.addEventListener(Mi[c],R,!1)):o.addEventListener(c,j,!1):o.attachEvent("on"+c,R),o[Zn]=o[Zn]||{},o[Zn][S]=R}function $s(o,c,m,T,S){S=S||c+y(m)+(T?"_"+y(T):"");var R=o[Zn]&&o[Zn][S];if(!R)return this;!Ct.touchNative&&Ct.pointer&&c.indexOf("touch")===0?Rl(o,c,R):Ct.touch&&c==="dblclick"?Ss(o,R):"removeEventListener"in o?o.removeEventListener(Mi[c]||c,R,!1):o.detachEvent("on"+c,R),o[Zn][S]=null}function oe(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Fi(o){return yi(o,"wheel",oe),this}function Js(o){return kt(o,"mousedown touchstart dblclick contextmenu",oe),o._leaflet_disable_click=!0,this}function Fe(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function os(o){return Fe(o),oe(o),this}function br(o){if(o.composedPath)return o.composedPath();for(var c=[],m=o.target;m;)c.push(m),m=m.parentNode;return c}function Rs(o,c){if(!c)return new yt(o.clientX,o.clientY);var m=gi(c),T=m.boundingClientRect;return new yt((o.clientX-T.left)/m.x-c.clientLeft,(o.clientY-T.top)/m.y-c.clientTop)}var as=Ct.linux&&Ct.chrome?window.devicePixelRatio:Ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function En(o){return Ct.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/as:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function ls(o,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==o;)m=m.parentNode}catch{return!1}return m!==o}var Ds={__proto__:null,on:kt,off:ge,stopPropagation:oe,disableScrollPropagation:Fi,disableClickPropagation:Js,preventDefault:Fe,stop:os,getPropagationPath:br,getMousePosition:Rs,getWheelDelta:En,isExternalTarget:ls,addListener:kt,removeListener:ge},tr=gt.extend({run:function(o,c,m,T){this.stop(),this._el=o,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=As(o),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=k(this._animate,this),this._step()},_step:function(o){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),o):(this._runFrame(1),this._complete())},_runFrame:function(o,c){var m=this._startPos.add(this._offset.multiplyBy(o));c&&m._round(),Ce(this._el,m),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),$t=gt.extend({options:{crs:ti,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,c){c=z(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(Et(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xs&&Ct.any3d&&!Ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),kt(this._proxy,Ro,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),o=this._limitCenter(Et(o),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=a({animate:m.animate},m.zoom),m.pan=a({animate:m.animate,duration:m.duration},m.pan));var T=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,c,m.zoom):this._tryAnimatedPan(o,m.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(o,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(o,c){return this._loaded?this.setView(this.getCenter(),o,{zoom:c}):(this._zoom=o,this)},zoomIn:function(o,c){return o=o||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,c)},zoomOut:function(o,c){return o=o||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,c)},setZoomAround:function(o,c,m){var T=this.getZoomScale(c),S=this.getSize().divideBy(2),R=o instanceof yt?o:this.latLngToContainerPoint(o),j=R.subtract(S).multiplyBy(1-1/T),W=this.containerPointToLatLng(S.add(j));return this.setView(W,c,{zoom:m})},_getBoundsCenterZoom:function(o,c){c=c||{},o=o.getBounds?o.getBounds():bt(o);var m=wt(c.paddingTopLeft||c.padding||[0,0]),T=wt(c.paddingBottomRight||c.padding||[0,0]),S=this.getBoundsZoom(o,!1,m.add(T));if(S=typeof c.maxZoom=="number"?Math.min(c.maxZoom,S):S,S===1/0)return{center:o.getCenter(),zoom:S};var R=T.subtract(m).divideBy(2),j=this.project(o.getSouthWest(),S),W=this.project(o.getNorthEast(),S),it=this.unproject(j.add(W).divideBy(2).add(R),S);return{center:it,zoom:S}},fitBounds:function(o,c){if(o=bt(o),!o.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(o,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,c){return this.setView(o,this._zoom,{pan:c})},panBy:function(o,c){if(o=wt(o).round(),c=c||{},!o.x&&!o.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Rt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,c,m){if(m=m||{},m.animate===!1||!Ct.any3d)return this.setView(o,c,m);this._stop();var T=this.project(this.getCenter()),S=this.project(o),R=this.getSize(),j=this._zoom;o=Et(o),c=c===void 0?j:c;var W=Math.max(R.x,R.y),it=W*this.getZoomScale(j,c),mt=S.distanceTo(T)||1,At=1.42,Ot=At*At;function Yt(tn){var rr=tn?-1:1,no=tn?it:W,Xu=it*it-W*W+rr*Ot*Ot*mt*mt,$a=2*no*Ot*mt,Ja=Xu/$a,Ir=Math.sqrt(Ja*Ja+1)-Ja,or=Ir<1e-9?-18:Math.log(Ir);return or}function In(tn){return(Math.exp(tn)-Math.exp(-tn))/2}function un(tn){return(Math.exp(tn)+Math.exp(-tn))/2}function Li(tn){return In(tn)/un(tn)}var ye=Yt(0);function _e(tn){return W*(un(ye)/un(ye+At*tn))}function ie(tn){return W*(un(ye)*Li(ye+At*tn)-In(ye))/Ot}function Dr(tn){return 1-Math.pow(1-tn,1.5)}var Ki=Date.now(),jl=(Yt(1)-ye)/At,Mr=m.duration?1e3*m.duration:1e3*jl*.8;function Yu(){var tn=(Date.now()-Ki)/Mr,rr=Dr(tn)*jl;tn<=1?(this._flyToFrame=k(Yu,this),this._move(this.unproject(T.add(S.subtract(T).multiplyBy(ie(rr)/mt)),j),this.getScaleZoom(W/_e(rr),j),{flyTo:!0})):this._move(o,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Yu.call(this),this},flyToBounds:function(o,c){var m=this._getBoundsCenterZoom(o,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(o){return o=bt(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var c=this.options.minZoom;return this.options.minZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var c=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,c){this._enforcingBounds=!0;var m=this.getCenter(),T=this._limitCenter(m,this._zoom,bt(o));return m.equals(T)||this.panTo(T,c),this._enforcingBounds=!1,this},panInside:function(o,c){c=c||{};var m=wt(c.paddingTopLeft||c.padding||[0,0]),T=wt(c.paddingBottomRight||c.padding||[0,0]),S=this.project(this.getCenter()),R=this.project(o),j=this.getPixelBounds(),W=at([j.min.add(m),j.max.subtract(T)]),it=W.getSize();if(!W.contains(R)){this._enforcingBounds=!0;var mt=R.subtract(W.getCenter()),At=W.extend(R).getSize().subtract(it);S.x+=mt.x<0?-At.x:At.x,S.y+=mt.y<0?-At.y:At.y,this.panTo(this.unproject(S),c),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=a({animate:!1,pan:!0},o===!0?{animate:!0}:o);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),T=c.divideBy(2).round(),S=m.divideBy(2).round(),R=T.subtract(S);return!R.x&&!R.y?this:(o.animate&&o.pan?this.panBy(R):(o.pan&&this._rawPanBy(R),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=a({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,o):navigator.geolocation.getCurrentPosition(c,m,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var c=o.code,m=o.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var c=o.coords.latitude,m=o.coords.longitude,T=new xt(c,m),S=T.toBounds(o.coords.accuracy*2),R=this._locateOptions;if(R.setView){var j=this.getBoundsZoom(S);this.setView(T,R.maxZoom?Math.min(j,R.maxZoom):j)}var W={latlng:T,bounds:S,timestamp:o.timestamp};for(var it in o.coords)typeof o.coords[it]=="number"&&(W[it]=o.coords[it]);this.fire("locationfound",W)}},addHandler:function(o,c){if(!c)return this;var m=this[o]=new c(this);return this._handlers.push(m),this.options[o]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)ne(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,c){var m="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),T=Jt("div",m,c||this._mapPane);return o&&(this._panes[o]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),c=this.unproject(o.getBottomLeft()),m=this.unproject(o.getTopRight());return new Tt(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,c,m){o=bt(o),m=wt(m||[0,0]);var T=this.getZoom()||0,S=this.getMinZoom(),R=this.getMaxZoom(),j=o.getNorthWest(),W=o.getSouthEast(),it=this.getSize().subtract(m),mt=at(this.project(W,T),this.project(j,T)).getSize(),At=Ct.any3d?this.options.zoomSnap:1,Ot=it.x/mt.x,Yt=it.y/mt.y,In=c?Math.max(Ot,Yt):Math.min(Ot,Yt);return T=this.getScaleZoom(In,T),At&&(T=Math.round(T/(At/100))*(At/100),T=c?Math.ceil(T/At)*At:Math.floor(T/At)*At),Math.max(S,Math.min(R,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new yt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,c){var m=this._getTopLeftPoint(o,c);return new H(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(o)/m.scale(c)},getScaleZoom:function(o,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var T=m.zoom(o*m.scale(c));return isNaN(T)?1/0:T},project:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(Et(o),c)},unproject:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(wt(o),c)},layerPointToLatLng:function(o){var c=wt(o).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(o){var c=this.project(Et(o))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Et(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(bt(o))},distance:function(o,c){return this.options.crs.distance(Et(o),Et(c))},containerPointToLayerPoint:function(o){return wt(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return wt(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var c=this.containerPointToLayerPoint(wt(o));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Et(o)))},mouseEventToContainerPoint:function(o){return Rs(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var c=this._container=Do(o);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");kt(c,"scroll",this._onScroll,this),this._containerId=y(c)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ct.any3d,Rt(o,"leaflet-container"+(Ct.touch?" leaflet-touch":"")+(Ct.retina?" leaflet-retina":"")+(Ct.ielt9?" leaflet-oldie":"")+(Ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=yr(o,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ce(this._mapPane,new yt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Rt(o.markerPane,"leaflet-zoom-hide"),Rt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,c,m){Ce(this._mapPane,new yt(0,0));var T=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var S=this._zoom!==c;this._moveStart(S,m)._move(o,c)._moveEnd(S),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(o,c){return o&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(o,c,m,T){c===void 0&&(c=this._zoom);var S=this._zoom!==c;return this._zoom=c,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),T?m&&m.pinch&&this.fire("zoom",m):((S||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Ce(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[y(this._container)]=this;var c=o?ge:kt;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ct.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=k(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,c){for(var m=[],T,S=c==="mouseout"||c==="mouseover",R=o.target||o.srcElement,j=!1;R;){if(T=this._targets[y(R)],T&&(c==="click"||c==="preclick")&&this._draggableMoved(T)){j=!0;break}if(T&&T.listens(c,!0)&&(S&&!ls(R,o)||(m.push(T),S))||R===this._container)break;R=R.parentNode}return!m.length&&!j&&!S&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var c=o.target||o.srcElement;if(!(!this._loaded||c._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(c))){var m=o.type;m==="mousedown"&&vr(c),this._fireDOMEvent(o,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,c,m){if(o.type==="click"){var T=a({},o);T.type="preclick",this._fireDOMEvent(T,T.type,m)}var S=this._findEventTargets(o,c);if(m){for(var R=[],j=0;j<m.length;j++)m[j].listens(c,!0)&&R.push(m[j]);S=R.concat(S)}if(S.length){c==="contextmenu"&&Fe(o);var W=S[0],it={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var mt=W.getLatLng&&(!W._radius||W._radius<=10);it.containerPoint=mt?this.latLngToContainerPoint(W.getLatLng()):this.mouseEventToContainerPoint(o),it.layerPoint=this.containerPointToLayerPoint(it.containerPoint),it.latlng=mt?W.getLatLng():this.layerPointToLatLng(it.layerPoint)}for(j=0;j<S.length;j++)if(S[j].fire(c,it,!0),it.originalEvent._stopped||S[j].options.bubblingMouseEvents===!1&&ht(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,c=this._handlers.length;o<c;o++)this._handlers[o].disable()},whenReady:function(o,c){return this._loaded?o.call(c||this,{target:this}):this.on("load",o,c),this},_getMapPanePos:function(){return As(this._mapPane)||new yt(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,c){var m=o&&c!==void 0?this._getNewPixelOrigin(o,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,c){var m=this.getSize()._divideBy(2);return this.project(o,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,c,m){var T=this._getNewPixelOrigin(m,c);return this.project(o,c)._subtract(T)},_latLngBoundsToNewLayerBounds:function(o,c,m){var T=this._getNewPixelOrigin(m,c);return at([this.project(o.getSouthWest(),c)._subtract(T),this.project(o.getNorthWest(),c)._subtract(T),this.project(o.getSouthEast(),c)._subtract(T),this.project(o.getNorthEast(),c)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,c,m){if(!m)return o;var T=this.project(o,c),S=this.getSize().divideBy(2),R=new H(T.subtract(S),T.add(S)),j=this._getBoundsOffset(R,m,c);return Math.abs(j.x)<=1&&Math.abs(j.y)<=1?o:this.unproject(T.add(j),c)},_limitOffset:function(o,c){if(!c)return o;var m=this.getPixelBounds(),T=new H(m.min.add(o),m.max.add(o));return o.add(this._getBoundsOffset(T,c))},_getBoundsOffset:function(o,c,m){var T=at(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),S=T.min.subtract(o.min),R=T.max.subtract(o.max),j=this._rebound(S.x,-R.x),W=this._rebound(S.y,-R.y);return new yt(j,W)},_rebound:function(o,c){return o+c>0?Math.round(o-c)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(c))},_limitZoom:function(o){var c=this.getMinZoom(),m=this.getMaxZoom(),T=Ct.any3d?this.options.zoomSnap:1;return T&&(o=Math.round(o/T)*T),Math.max(c,Math.min(m,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ae(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,c){var m=this._getCenterOffset(o)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var o=this._proxy=Jt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(c){var m=Bi,T=this._proxy.style[m];rs(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),T===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),c=this.getZoom();rs(this._proxy,this.project(o,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(c),S=this._getCenterOffset(o)._divideBy(1-1/T);return m.animate!==!0&&!this.getSize().contains(S)?!1:(k(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(o,c,!0)},this),!0)},_animateZoom:function(o,c,m,T){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=c,Rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:c,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ae(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Er(o,c){return new $t(o,c)}var Gn=Ft.extend({options:{position:"topright"},initialize:function(o){z(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var c=this._map;return c&&c.removeControl(this),this.options.position=o,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var c=this._container=this.onAdd(o),m=this.getPosition(),T=o._controlCorners[m];return Rt(c,"leaflet-control"),m.indexOf("bottom")!==-1?T.insertBefore(c,T.firstChild):T.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),_i=function(o){return new Gn(o)};$t.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},c="leaflet-",m=this._controlContainer=Jt("div",c+"control-container",this._container);function T(S,R){var j=c+S+" "+c+R;o[S+R]=Jt("div",j,m)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ne(this._controlCorners[o]);ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Qr=Gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,c,m,T){return m<T?-1:T<m?1:0}},initialize:function(o,c,m){z(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in o)this._addLayer(o[T],T);for(T in c)this._addLayer(c[T],T,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Gn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,c){return this._addLayer(o,c),this._map?this._update():this},addOverlay:function(o,c){return this._addLayer(o,c,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var c=this._getLayer(y(o));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Ae(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ae(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",c=this._container=Jt("div",o),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Js(c),Fi(c);var T=this._section=Jt("section",o+"-list");m&&(this._map.on("click",this.collapse,this),kt(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=Jt("a",o+"-toggle",c);S.href="#",S.title="Layers",S.setAttribute("role","button"),kt(S,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Fe(R),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Jt("div",o+"-base",T),this._separator=Jt("div",o+"-separator",T),this._overlaysList=Jt("div",o+"-overlays",T),c.appendChild(T)},_getLayer:function(o){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&y(this._layers[c].layer)===o)return this._layers[c]},_addLayer:function(o,c,m){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(T,S){return this.options.sortFunction(T.layer,S.layer,T.name,S.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ue(this._baseLayersList),Ue(this._overlaysList),this._layerControlInputs=[];var o,c,m,T,S=0;for(m=0;m<this._layers.length;m++)T=this._layers[m],this._addItem(T),c=c||T.overlay,o=o||!T.overlay,S+=T.overlay?0:1;return this.options.hideSingleBase&&(o=o&&S>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=c&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var c=this._getLayer(y(o.target)),m=c.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(o,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(c?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=m,T.firstChild},_addItem:function(o){var c=document.createElement("label"),m=this._map.hasLayer(o.layer),T;o.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=m):T=this._createRadioElement("leaflet-base-layers_"+y(this),m),this._layerControlInputs.push(T),T.layerId=y(o.layer),kt(T,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+o.name;var R=document.createElement("span");c.appendChild(R),R.appendChild(T),R.appendChild(S);var j=o.overlay?this._overlaysList:this._baseLayersList;return j.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,c,m,T=[],S=[];this._handlingClick=!0;for(var R=o.length-1;R>=0;R--)c=o[R],m=this._getLayer(c.layerId).layer,c.checked?T.push(m):c.checked||S.push(m);for(R=0;R<S.length;R++)this._map.hasLayer(S[R])&&this._map.removeLayer(S[R]);for(R=0;R<T.length;R++)this._map.hasLayer(T[R])||this._map.addLayer(T[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,c,m,T=this._map.getZoom(),S=o.length-1;S>=0;S--)c=o[S],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&T<m.options.minZoom||m.options.maxZoom!==void 0&&T>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,kt(o,"click",Fe),this.expand();var c=this;setTimeout(function(){ge(o,"click",Fe),c._preventClick=!1})}}),La=function(o,c,m){return new Qr(o,c,m)},er=Gn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var c="leaflet-control-zoom",m=Jt("div",c+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,c,m,T,S){var R=Jt("a",m,T);return R.innerHTML=o,R.href="#",R.title=c,R.setAttribute("role","button"),R.setAttribute("aria-label",c),Js(R),kt(R,"click",os),kt(R,"click",S,this),kt(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var o=this._map,c="leaflet-disabled";Ae(this._zoomInButton,c),Ae(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Rt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Rt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});$t.mergeOptions({zoomControl:!0}),$t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new er,this.addControl(this.zoomControl))});var Dl=function(o){return new er(o)},Oa=Gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var c="leaflet-control-scale",m=Jt("div",c),T=this.options;return this._addScales(T,c+"-line",m),o.on(T.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),m},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,c,m){o.metric&&(this._mScale=Jt("div",c,m)),o.imperial&&(this._iScale=Jt("div",c,m))},_update:function(){var o=this._map,c=o.getSize().y/2,m=o.distance(o.containerPointToLatLng([0,c]),o.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var c=this._getRoundNum(o),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/o)},_updateImperial:function(o){var c=o*3.2808399,m,T,S;c>5280?(m=c/5280,T=this._getRoundNum(m),this._updateScale(this._iScale,T+" mi",T/m)):(S=this._getRoundNum(c),this._updateScale(this._iScale,S+" ft",S/c))},_updateScale:function(o,c,m){o.style.width=Math.round(this.options.maxWidth*m)+"px",o.innerHTML=c},_getRoundNum:function(o){var c=Math.pow(10,(Math.floor(o)+"").length-1),m=o/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),Wr=function(o){return new Oa(o)},Na='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Lo=Gn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ct.inlineSvg?Na+" ":"")+"Leaflet</a>"},initialize:function(o){z(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Jt("div","leaflet-control-attribution"),Js(this._container);for(var c in o._layers)o._layers[c].getAttribution&&this.addAttribution(o._layers[c].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var c in this._attributions)this._attributions[c]&&o.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),o.length&&m.push(o.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});$t.mergeOptions({attributionControl:!0}),$t.addInitHook(function(){this.options.attributionControl&&new Lo().addTo(this)});var Oo=function(o){return new Lo(o)};Gn.Layers=Qr,Gn.Zoom=er,Gn.Scale=Oa,Gn.Attribution=Lo,_i.layers=La,_i.zoom=Dl,_i.scale=Wr,_i.attribution=Oo;var Ii=Ft.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ii.addTo=function(o,c){return o.addHandler(c,this),this};var Ml={Events:ot},us=Ct.touch?"touchstart mousedown":"mousedown",cs=gt.extend({options:{clickTolerance:3},initialize:function(o,c,m,T){z(this,T),this._element=o,this._dragStartTarget=c||o,this._preventOutline=m},enable:function(){this._enabled||(kt(this._dragStartTarget,us,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cs._dragging===this&&this.finishDrag(!0),ge(this._dragStartTarget,us,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Gr(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){cs._dragging===this&&this.finishDrag();return}if(!(cs._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(cs._dragging=this,this._preventOutline&&vr(this._element),Yr(),ji(),!this._moving)){this.fire("down");var c=o.touches?o.touches[0]:o,m=Po(this._element);this._startPoint=new yt(c.clientX,c.clientY),this._startPos=As(this._element),this._parentScale=gi(m);var T=o.type==="mousedown";kt(document,T?"mousemove":"touchmove",this._onMove,this),kt(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var c=o.touches&&o.touches.length===1?o.touches[0]:o,m=new yt(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Fe(o),this._moved||(this.fire("dragstart"),this._moved=!0,Rt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Ce(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Ae(document.body,"leaflet-dragging"),this._lastTarget&&(Ae(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ge(document,"mousemove touchmove",this._onMove,this),ge(document,"mouseup touchend touchcancel",this._onUp,this),_r(),bn();var c=this._moved&&this._moving;this._moving=!1,cs._dragging=!1,c&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Va(o,c,m){var T,S=[1,4,2,8],R,j,W,it,mt,At,Ot,Yt;for(R=0,At=o.length;R<At;R++)o[R]._code=rt(o[R],c);for(W=0;W<4;W++){for(Ot=S[W],T=[],R=0,At=o.length,j=At-1;R<At;j=R++)it=o[R],mt=o[j],it._code&Ot?mt._code&Ot||(Yt=J(mt,it,Ot,c,m),Yt._code=rt(Yt,c),T.push(Yt)):(mt._code&Ot&&(Yt=J(mt,it,Ot,c,m),Yt._code=rt(Yt,c),T.push(Yt)),T.push(it));o=T}return o}function ka(o,c){var m,T,S,R,j,W,it,mt,At;if(!o||o.length===0)throw new Error("latlngs not passed");fe(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ot=Et([0,0]),Yt=bt(o),In=Yt.getNorthWest().distanceTo(Yt.getSouthWest())*Yt.getNorthEast().distanceTo(Yt.getNorthWest());In<1700&&(Ot=No(o));var un=o.length,Li=[];for(m=0;m<un;m++){var ye=Et(o[m]);Li.push(c.project(Et([ye.lat-Ot.lat,ye.lng-Ot.lng])))}for(W=it=mt=0,m=0,T=un-1;m<un;T=m++)S=Li[m],R=Li[T],j=S.y*R.x-R.y*S.x,it+=(S.x+R.x)*j,mt+=(S.y+R.y)*j,W+=j*3;W===0?At=Li[0]:At=[it/W,mt/W];var _e=c.unproject(wt(At));return Et([_e.lat+Ot.lat,_e.lng+Ot.lng])}function No(o){for(var c=0,m=0,T=0,S=0;S<o.length;S++){var R=Et(o[S]);c+=R.lat,m+=R.lng,T++}return Et([c/T,m/T])}var wr={__proto__:null,clipPolygon:Va,polygonCenter:ka,centroid:No};function Kn(o,c){if(!c||!o.length)return o.slice();var m=c*c;return o=E(o,m),o=nr(o,m),o}function za(o,c,m){return Math.sqrt(Ht(o,c,m,!0))}function Il(o,c,m){return Ht(o,c,m)}function nr(o,c){var m=o.length,T=typeof Uint8Array<"u"?Uint8Array:Array,S=new T(m);S[0]=S[m-1]=1,d(o,S,c,0,m-1);var R,j=[];for(R=0;R<m;R++)S[R]&&j.push(o[R]);return j}function d(o,c,m,T,S){var R=0,j,W,it;for(W=T+1;W<=S-1;W++)it=Ht(o[W],o[T],o[S],!0),it>R&&(j=W,R=it);R>m&&(c[j]=1,d(o,c,m,T,j),d(o,c,m,j,S))}function E(o,c){for(var m=[o[0]],T=1,S=0,R=o.length;T<R;T++)St(o[T],o[S])>c&&(m.push(o[T]),S=T);return S<R-1&&m.push(o[R-1]),m}var C;function O(o,c,m,T,S){var R=T?C:rt(o,m),j=rt(c,m),W,it,mt;for(C=j;;){if(!(R|j))return[o,c];if(R&j)return!1;W=R||j,it=J(o,c,W,m,S),mt=rt(it,m),W===R?(o=it,R=mt):(c=it,j=mt)}}function J(o,c,m,T,S){var R=c.x-o.x,j=c.y-o.y,W=T.min,it=T.max,mt,At;return m&8?(mt=o.x+R*(it.y-o.y)/j,At=it.y):m&4?(mt=o.x+R*(W.y-o.y)/j,At=W.y):m&2?(mt=it.x,At=o.y+j*(it.x-o.x)/R):m&1&&(mt=W.x,At=o.y+j*(W.x-o.x)/R),new yt(mt,At,S)}function rt(o,c){var m=0;return o.x<c.min.x?m|=1:o.x>c.max.x&&(m|=2),o.y<c.min.y?m|=4:o.y>c.max.y&&(m|=8),m}function St(o,c){var m=c.x-o.x,T=c.y-o.y;return m*m+T*T}function Ht(o,c,m,T){var S=c.x,R=c.y,j=m.x-S,W=m.y-R,it=j*j+W*W,mt;return it>0&&(mt=((o.x-S)*j+(o.y-R)*W)/it,mt>1?(S=m.x,R=m.y):mt>0&&(S+=j*mt,R+=W*mt)),j=o.x-S,W=o.y-R,T?j*j+W*W:new yt(S,R)}function fe(o){return!K(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function de(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),fe(o)}function Oe(o,c){var m,T,S,R,j,W,it,mt;if(!o||o.length===0)throw new Error("latlngs not passed");fe(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var At=Et([0,0]),Ot=bt(o),Yt=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());Yt<1700&&(At=No(o));var In=o.length,un=[];for(m=0;m<In;m++){var Li=Et(o[m]);un.push(c.project(Et([Li.lat-At.lat,Li.lng-At.lng])))}for(m=0,T=0;m<In-1;m++)T+=un[m].distanceTo(un[m+1])/2;if(T===0)mt=un[0];else for(m=0,R=0;m<In-1;m++)if(j=un[m],W=un[m+1],S=j.distanceTo(W),R+=S,R>T){it=(R-T)/S,mt=[W.x-it*(W.x-j.x),W.y-it*(W.y-j.y)];break}var ye=c.unproject(wt(mt));return Et([ye.lat+At.lat,ye.lng+At.lng])}var Hi={__proto__:null,simplify:Kn,pointToSegmentDistance:za,closestPointOnSegment:Il,clipSegment:O,_getEdgeIntersection:J,_getBitCode:rt,_sqClosestPointOnSegment:Ht,isFlat:fe,_flat:de,polylineCenter:Oe},qi={project:function(o){return new yt(o.lng,o.lat)},unproject:function(o){return new xt(o.y,o.x)},bounds:new H([-180,-90],[180,90])},Pi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var c=Math.PI/180,m=this.R,T=o.lat*c,S=this.R_MINOR/m,R=Math.sqrt(1-S*S),j=R*Math.sin(T),W=Math.tan(Math.PI/4-T/2)/Math.pow((1-j)/(1+j),R/2);return T=-m*Math.log(Math.max(W,1e-10)),new yt(o.lng*c*m,T)},unproject:function(o){for(var c=180/Math.PI,m=this.R,T=this.R_MINOR/m,S=Math.sqrt(1-T*T),R=Math.exp(-o.y/m),j=Math.PI/2-2*Math.atan(R),W=0,it=.1,mt;W<15&&Math.abs(it)>1e-7;W++)mt=S*Math.sin(j),mt=Math.pow((1-mt)/(1+mt),S/2),it=Math.PI/2-2*Math.atan(R*mt)-j,j+=it;return new xt(j*c,o.x*c/m)}},hs={__proto__:null,LonLat:qi,Mercator:Pi,SphericalMercator:Qt},$r=a({},te,{code:"EPSG:3395",projection:Pi,transformation:(function(){var o=.5/(Math.PI*Pi.R);return Xe(o,.5,-o,.5)})()}),Jr=a({},te,{code:"EPSG:4326",projection:qi,transformation:Xe(1/180,1,-1/180,.5)}),Vo=a({},Ut,{projection:qi,transformation:Xe(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,c){var m=c.lng-o.lng,T=c.lat-o.lat;return Math.sqrt(m*m+T*T)},infinite:!0});Ut.Earth=te,Ut.EPSG3395=$r,Ut.EPSG3857=ti,Ut.EPSG900913=rn,Ut.EPSG4326=Jr,Ut.Simple=Vo;var fs=gt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[y(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[y(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var c=o.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});$t.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var c=y(o);return this._layers[c]?this:(this._layers[c]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var c=y(o);return this._layers[c]?(this._loaded&&o.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return y(o)in this._layers},eachLayer:function(o,c){for(var m in this._layers)o.call(c,this._layers[m]);return this},_addLayers:function(o){o=o?K(o)?o:[o]:[];for(var c=0,m=o.length;c<m;c++)this.addLayer(o[c])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[y(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var c=y(o);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,c=-1/0,m=this._getZoomSpan();for(var T in this._zoomBoundLayers){var S=this._zoomBoundLayers[T].options;o=S.minZoom===void 0?o:Math.min(o,S.minZoom),c=S.maxZoom===void 0?c:Math.max(c,S.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=o===1/0?void 0:o,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ko=fs.extend({initialize:function(o,c){z(this,c),this._layers={};var m,T;if(o)for(m=0,T=o.length;m<T;m++)this.addLayer(o[m])},addLayer:function(o){var c=this.getLayerId(o);return this._layers[c]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var c=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(o){var c=typeof o=="number"?o:this.getLayerId(o);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var c=Array.prototype.slice.call(arguments,1),m,T;for(m in this._layers)T=this._layers[m],T[o]&&T[o].apply(T,c);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,c){for(var m in this._layers)o.call(c,this._layers[m]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return y(o)}}),fm=function(o,c){return new ko(o,c)},Ms=ko.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),ko.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),ko.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Tt;for(var c in this._layers){var m=this._layers[c];o.extend(m.getBounds?m.getBounds():m.getLatLng())}return o}}),Mh=function(o,c){return new Ms(o,c)},Is=Ft.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){z(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,c){var m=this._getIconUrl(o);if(!m){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(T,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(o,c){var m=this.options,T=m[c+"Size"];typeof T=="number"&&(T=[T,T]);var S=wt(T),R=wt(c==="shadow"&&m.shadowAnchor||m.iconAnchor||S&&S.divideBy(2,!0));o.className="leaflet-marker-"+c+" "+(m.className||""),R&&(o.style.marginLeft=-R.x+"px",o.style.marginTop=-R.y+"px"),S&&(o.style.width=S.x+"px",o.style.height=S.y+"px")},_createImg:function(o,c){return c=c||document.createElement("img"),c.src=o,c},_getIconUrl:function(o){return Ct.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Ba(o){return new Is(o)}var Ua=Is.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Ua.imagePath!="string"&&(Ua.imagePath=this._detectIconPath()),(this.options.imagePath||Ua.imagePath)+Is.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var c=function(m,T,S){var R=T.exec(m);return R&&R[S]};return o=c(o,/^url\((['"])?(.+)\1\)$/,2),o&&c(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Jt("div","leaflet-default-icon-path",document.body),c=yr(o,"background-image")||yr(o,"backgroundImage");if(document.body.removeChild(o),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),ja=Ii.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new cs(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Rt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ae(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var c=this._marker,m=c._map,T=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,R=As(c._icon),j=m.getPixelBounds(),W=m.getPixelOrigin(),it=at(j.min._subtract(W).add(S),j.max._subtract(W).subtract(S));if(!it.contains(R)){var mt=wt((Math.max(it.max.x,R.x)-it.max.x)/(j.max.x-it.max.x)-(Math.min(it.min.x,R.x)-it.min.x)/(j.min.x-it.min.x),(Math.max(it.max.y,R.y)-it.max.y)/(j.max.y-it.max.y)-(Math.min(it.min.y,R.y)-it.min.y)/(j.min.y-it.min.y)).multiplyBy(T);m.panBy(mt,{animate:!1}),this._draggable._newPos._add(mt),this._draggable._startPos._add(mt),Ce(c._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=k(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=k(this._adjustPan.bind(this,o)))},_onDrag:function(o){var c=this._marker,m=c._shadow,T=As(c._icon),S=c._map.layerPointToLatLng(T);m&&Ce(m,T),c._latlng=S,o.latlng=S,o.oldLatLng=this._oldLatLng,c.fire("move",o).fire("drag",o)},_onDragEnd:function(o){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Fa=fs.extend({options:{icon:new Ua,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,c){z(this,c),this._latlng=Et(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var c=this._latlng;return this._latlng=Et(o),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=o.icon.createIcon(this._icon),T=!1;m!==this._icon&&(this._icon&&this._removeIcon(),T=!0,o.title&&(m.title=o.title),m.tagName==="IMG"&&(m.alt=o.alt||"")),Rt(m,c),o.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(m,"focus",this._panOnFocus,this);var S=o.icon.createShadow(this._shadow),R=!1;S!==this._shadow&&(this._removeShadow(),R=!0),S&&(Rt(S,c),S.alt=""),this._shadow=S,o.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&R&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(this._icon,"focus",this._panOnFocus,this),ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ne(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Ce(this._icon,o),this._shadow&&Ce(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ja)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ja(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Le(this._icon,o),this._shadow&&Le(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var c=this.options.icon.options,m=c.iconSize?wt(c.iconSize):wt(0,0),T=c.iconAnchor?wt(c.iconAnchor):wt(0,0);o.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:m.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ih(o,c){return new Fa(o,c)}var Ps=fs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return z(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),zo=Ps.extend({options:{fill:!0,radius:10},initialize:function(o,c){z(this,c),this._latlng=Et(o),this._radius=this.options.radius},setLatLng:function(o){var c=this._latlng;return this._latlng=Et(o),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var c=o&&o.radius||this._radius;return Ps.prototype.setStyle.call(this,o),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,c=this._radiusY||o,m=this._clickTolerance(),T=[o+m,c+m];this._pxBounds=new H(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ph(o,c){return new zo(o,c)}var Pl=zo.extend({initialize:function(o,c,m){if(typeof c=="number"&&(c=a({},m,{radius:c})),z(this,c),this._latlng=Et(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Tt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Ps.prototype.setStyle,_project:function(){var o=this._latlng.lng,c=this._latlng.lat,m=this._map,T=m.options.crs;if(T.distance===te.distance){var S=Math.PI/180,R=this._mRadius/te.R/S,j=m.project([c+R,o]),W=m.project([c-R,o]),it=j.add(W).divideBy(2),mt=m.unproject(it).lat,At=Math.acos((Math.cos(R*S)-Math.sin(c*S)*Math.sin(mt*S))/(Math.cos(c*S)*Math.cos(mt*S)))/S;(isNaN(At)||At===0)&&(At=R/Math.cos(Math.PI/180*c)),this._point=it.subtract(m.getPixelOrigin()),this._radius=isNaN(At)?0:it.x-m.project([mt,o-At]).x,this._radiusY=it.y-j.y}else{var Ot=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Ot).x}this._updateBounds()}});function Lh(o,c,m){return new Pl(o,c,m)}var ir=Ps.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,c){z(this,c),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var c=1/0,m=null,T=Ht,S,R,j=0,W=this._parts.length;j<W;j++)for(var it=this._parts[j],mt=1,At=it.length;mt<At;mt++){S=it[mt-1],R=it[mt];var Ot=T(o,S,R,!0);Ot<c&&(c=Ot,m=T(o,S,R))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Oe(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,c){return c=c||this._defaultShape(),o=Et(o),c.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Tt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return fe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var c=[],m=fe(o),T=0,S=o.length;T<S;T++)m?(c[T]=Et(o[T]),this._bounds.extend(c[T])):c[T]=this._convertLatLngs(o[T]);return c},_project:function(){var o=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),c=new yt(o,o);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(o,c,m){var T=o[0]instanceof xt,S=o.length,R,j;if(T){for(j=[],R=0;R<S;R++)j[R]=this._map.latLngToLayerPoint(o[R]),m.extend(j[R]);c.push(j)}else for(R=0;R<S;R++)this._projectLatlngs(o[R],c,m)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,T,S,R,j,W,it;for(m=0,S=0,R=this._rings.length;m<R;m++)for(it=this._rings[m],T=0,j=it.length;T<j-1;T++)W=O(it[T],it[T+1],o,T,!0),W&&(c[S]=c[S]||[],c[S].push(W[0]),(W[1]!==it[T+1]||T===j-2)&&(c[S].push(W[1]),S++))}},_simplifyPoints:function(){for(var o=this._parts,c=this.options.smoothFactor,m=0,T=o.length;m<T;m++)o[m]=Kn(o[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,c){var m,T,S,R,j,W,it=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(m=0,R=this._parts.length;m<R;m++)for(W=this._parts[m],T=0,j=W.length,S=j-1;T<j;S=T++)if(!(!c&&T===0)&&za(o,W[S],W[T])<=it)return!0;return!1}});function dm(o,c){return new ir(o,c)}ir._flat=de;var Bo=ir.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ka(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var c=ir.prototype._convertLatLngs.call(this,o),m=c.length;return m>=2&&c[0]instanceof xt&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(o){ir.prototype._setLatLngs.call(this,o),fe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return fe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,c=this.options.weight,m=new yt(c,c);if(o=new H(o.min.subtract(m),o.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,S=this._rings.length,R;T<S;T++)R=Va(this._rings[T],o,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var c=!1,m,T,S,R,j,W,it,mt;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(R=0,it=this._parts.length;R<it;R++)for(m=this._parts[R],j=0,mt=m.length,W=mt-1;j<mt;W=j++)T=m[j],S=m[W],T.y>o.y!=S.y>o.y&&o.x<(S.x-T.x)*(o.y-T.y)/(S.y-T.y)+T.x&&(c=!c);return c||ir.prototype._containsPoint.call(this,o,!0)}});function mm(o,c){return new Bo(o,c)}var sr=Ms.extend({initialize:function(o,c){z(this,c),this._layers={},o&&this.addData(o)},addData:function(o){var c=K(o)?o:o.features,m,T,S;if(c){for(m=0,T=c.length;m<T;m++)S=c[m],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var R=this.options;if(R.filter&&!R.filter(o))return this;var j=Yn(o,R);return j?(j.feature=Nl(o),j.defaultOptions=j.options,this.resetStyle(j),R.onEachFeature&&R.onEachFeature(o,j),this.addLayer(j)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=a({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(c){this._setLayerStyle(c,o)},this)},_setLayerStyle:function(o,c){o.setStyle&&(typeof c=="function"&&(c=c(o.feature)),o.setStyle(c))}});function Yn(o,c){var m=o.type==="Feature"?o.geometry:o,T=m?m.coordinates:null,S=[],R=c&&c.pointToLayer,j=c&&c.coordsToLatLng||Ll,W,it,mt,At;if(!T&&!m)return null;switch(m.type){case"Point":return W=j(T),Uo(R,o,W,c);case"MultiPoint":for(mt=0,At=T.length;mt<At;mt++)W=j(T[mt]),S.push(Uo(R,o,W,c));return new Ms(S);case"LineString":case"MultiLineString":return it=Ha(T,m.type==="LineString"?0:1,j),new ir(it,c);case"Polygon":case"MultiPolygon":return it=Ha(T,m.type==="Polygon"?1:2,j),new Bo(it,c);case"GeometryCollection":for(mt=0,At=m.geometries.length;mt<At;mt++){var Ot=Yn({geometry:m.geometries[mt],type:"Feature",properties:o.properties},c);Ot&&S.push(Ot)}return new Ms(S);case"FeatureCollection":for(mt=0,At=m.features.length;mt<At;mt++){var Yt=Yn(m.features[mt],c);Yt&&S.push(Yt)}return new Ms(S);default:throw new Error("Invalid GeoJSON object.")}}function Uo(o,c,m,T){return o?o(c,m):new Fa(m,T&&T.markersInheritOptions&&T)}function Ll(o){return new xt(o[1],o[0],o[2])}function Ha(o,c,m){for(var T=[],S=0,R=o.length,j;S<R;S++)j=c?Ha(o[S],c-1,m):(m||Ll)(o[S]),T.push(j);return T}function Ol(o,c){return o=Et(o),o.alt!==void 0?[A(o.lng,c),A(o.lat,c),A(o.alt,c)]:[A(o.lng,c),A(o.lat,c)]}function qa(o,c,m,T){for(var S=[],R=0,j=o.length;R<j;R++)S.push(c?qa(o[R],fe(o[R])?0:c-1,m,T):Ol(o[R],T));return!c&&m&&S.length>0&&S.push(S[0].slice()),S}function Sr(o,c){return o.feature?a({},o.feature,{geometry:c}):Nl(c)}function Nl(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var xr={toGeoJSON:function(o){return Sr(this,{type:"Point",coordinates:Ol(this.getLatLng(),o)})}};Fa.include(xr),Pl.include(xr),zo.include(xr),ir.include({toGeoJSON:function(o){var c=!fe(this._latlngs),m=qa(this._latlngs,c?1:0,!1,o);return Sr(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),Bo.include({toGeoJSON:function(o){var c=!fe(this._latlngs),m=c&&!fe(this._latlngs[0]),T=qa(this._latlngs,m?2:c?1:0,!0,o);return c||(T=[T]),Sr(this,{type:(m?"Multi":"")+"Polygon",coordinates:T})}}),ko.include({toMultiPoint:function(o){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(o).geometry.coordinates)}),Sr(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(o){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(o);var m=c==="GeometryCollection",T=[];return this.eachLayer(function(S){if(S.toGeoJSON){var R=S.toGeoJSON(o);if(m)T.push(R.geometry);else{var j=Nl(R);j.type==="FeatureCollection"?T.push.apply(T,j.features):T.push(j)}}}),m?Sr(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function Vl(o,c){return new sr(o,c)}var Za=Vl,jo=fs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,c,m){this._url=o,this._bounds=bt(c),z(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&je(this._image),this},bringToBack:function(){return this._map&&Di(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=bt(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",c=this._image=o?this._url:Jt("img");if(Rt(c,"leaflet-image-layer"),this._zoomAnimated&&Rt(c,"leaflet-zoom-animated"),this.options.className&&Rt(c,this.options.className),c.onselectstart=w,c.onmousemove=w,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(o){var c=this._map.getZoomScale(o.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;rs(this._image,m,c)},_reset:function(){var o=this._image,c=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();Ce(o,c.min),o.style.width=m.x+"px",o.style.height=m.y+"px"},_updateOpacity:function(){Le(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Oh=function(o,c,m){return new jo(o,c,m)},Ar=jo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",c=this._image=o?this._url:Jt("video");if(Rt(c,"leaflet-image-layer"),this._zoomAnimated&&Rt(c,"leaflet-zoom-animated"),this.options.className&&Rt(c,this.options.className),c.onselectstart=w,c.onmousemove=w,c.onloadeddata=f(this.fire,this,"load"),o){for(var m=c.getElementsByTagName("source"),T=[],S=0;S<m.length;S++)T.push(m[S].src);this._url=m.length>0?T:[c.src];return}K(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var j=Jt("source");j.src=this._url[R],c.appendChild(j)}}});function Fo(o,c,m){return new Ar(o,c,m)}var kl=jo.extend({_initImage:function(){var o=this._image=this._url;Rt(o,"leaflet-image-layer"),this._zoomAnimated&&Rt(o,"leaflet-zoom-animated"),this.options.className&&Rt(o,this.options.className),o.onselectstart=w,o.onmousemove=w}});function Nh(o,c,m){return new kl(o,c,m)}var Xn=fs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,c){o&&(o instanceof xt||K(o))?(this._latlng=Et(o),z(this,c)):(z(this,o),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Le(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Le(this._container,1),this.bringToFront(),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Le(this._container,0),this._removeTimeout=setTimeout(f(ne,void 0,this._container),200)):ne(this._container),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Et(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&je(this._container),this},bringToBack:function(){return this._map&&Di(this._container),this},_prepareOpen:function(o){var c=this._source;if(!c._map)return!1;if(c instanceof Ms){c=null;var m=this._source._layers;for(var T in m)if(m[T]._map){c=m[T];break}if(!c)return!1;this._source=c}if(!o)if(c.getCenter)o=c.getCenter();else if(c.getLatLng)o=c.getLatLng();else if(c.getBounds)o=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")o.innerHTML=c;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),c=wt(this.options.offset),m=this._getAnchor();this._zoomAnimated?Ce(this._container,o.add(m)):c=c.add(o).add(m);var T=this._containerBottom=-c.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=T+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});$t.include({_initOverlay:function(o,c,m,T){var S=c;return S instanceof o||(S=new o(T).setContent(c)),m&&S.setLatLng(m),S}}),fs.include({_initOverlay:function(o,c,m,T){var S=m;return S instanceof o?(z(S,T),S._source=this):(S=c&&!T?c:new o(T,this),S.setContent(m)),S}});var Ga=Xn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Xn.prototype.openOn.call(this,o)},onAdd:function(o){Xn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ps||this._source.on("preclick",oe))},onRemove:function(o){Xn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ps||this._source.off("preclick",oe))},getEvents:function(){var o=Xn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",c=this._container=Jt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Jt("div",o+"-content-wrapper",c);if(this._contentNode=Jt("div",o+"-content",m),Js(c),Fi(this._contentNode),kt(c,"contextmenu",oe),this._tipContainer=Jt("div",o+"-tip-container",c),this._tip=Jt("div",o+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=Jt("a",o+"-close-button",c);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',kt(T,"click",function(S){Fe(S),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,c=o.style;c.width="",c.whiteSpace="nowrap";var m=o.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var T=o.offsetHeight,S=this.options.maxHeight,R="leaflet-popup-scrolled";S&&T>S?(c.height=S+"px",Rt(o,R)):Ae(o,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),m=this._getAnchor();Ce(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,c=parseInt(yr(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,T=this._containerWidth,S=new yt(this._containerLeft,-m-this._containerBottom);S._add(As(this._container));var R=o.layerPointToContainerPoint(S),j=wt(this.options.autoPanPadding),W=wt(this.options.autoPanPaddingTopLeft||j),it=wt(this.options.autoPanPaddingBottomRight||j),mt=o.getSize(),At=0,Ot=0;R.x+T+it.x>mt.x&&(At=R.x+T-mt.x+it.x),R.x-At-W.x<0&&(At=R.x-W.x),R.y+m+it.y>mt.y&&(Ot=R.y+m-mt.y+it.y),R.y-Ot-W.y<0&&(Ot=R.y-W.y),(At||Ot)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([At,Ot]))}},_getAnchor:function(){return wt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Vh=function(o,c){return new Ga(o,c)};$t.mergeOptions({closePopupOnClick:!0}),$t.include({openPopup:function(o,c,m){return this._initOverlay(Ga,o,c,m).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),fs.include({bindPopup:function(o,c){return this._popup=this._initOverlay(Ga,this._popup,o,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Ms||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){os(o);var c=o.layer||o.target;if(this._popup._source===c&&!(c instanceof Ps)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=c,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Ka=Xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Xn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Xn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Xn.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",c=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Jt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var c,m,T=this._map,S=this._container,R=T.latLngToContainerPoint(T.getCenter()),j=T.layerPointToContainerPoint(o),W=this.options.direction,it=S.offsetWidth,mt=S.offsetHeight,At=wt(this.options.offset),Ot=this._getAnchor();W==="top"?(c=it/2,m=mt):W==="bottom"?(c=it/2,m=0):W==="center"?(c=it/2,m=mt/2):W==="right"?(c=0,m=mt/2):W==="left"?(c=it,m=mt/2):j.x<R.x?(W="right",c=0,m=mt/2):(W="left",c=it+(At.x+Ot.x)*2,m=mt/2),o=o.subtract(wt(c,m,!0)).add(At).add(Ot),Ae(S,"leaflet-tooltip-right"),Ae(S,"leaflet-tooltip-left"),Ae(S,"leaflet-tooltip-top"),Ae(S,"leaflet-tooltip-bottom"),Rt(S,"leaflet-tooltip-"+W),Ce(S,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Le(this._container,o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(c)},_getAnchor:function(){return wt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),pm=function(o,c){return new Ka(o,c)};$t.include({openTooltip:function(o,c,m){return this._initOverlay(Ka,o,c,m).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),fs.include({bindTooltip:function(o,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ka,this._tooltip,o,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var c=o?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Ms||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&(kt(c,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),kt(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var c=o.latlng,m,T;this._tooltip.options.sticky&&o.originalEvent&&(m=this._map.mouseEventToContainerPoint(o.originalEvent),T=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(c)}});var kh=Is.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var c=o&&o.tagName==="DIV"?o:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Ue(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var T=wt(m.bgPos);c.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function gm(o){return new kh(o)}Is.Default=Ua;var Ho=fs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){z(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ne(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(je(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Di(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof yt?o:new yt(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var c=this.getPane().children,m=-o(-1/0,1/0),T=0,S=c.length,R;T<S;T++)R=c[T].style.zIndex,c[T]!==this._container&&R&&(m=o(m,+R));isFinite(m)&&(this.options.zIndex=m+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ct.ielt9){Le(this._container,this.options.opacity);var o=+new Date,c=!1,m=!1;for(var T in this._tiles){var S=this._tiles[T];if(!(!S.current||!S.loaded)){var R=Math.min(1,(o-S.loaded)/200);Le(S.el,R),R<1?c=!0:(S.active?m=!0:this._onOpaqueTile(S),S.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(G(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Jt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,c=this.options.maxZoom;if(o!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===o?(this._levels[m].el.style.zIndex=c-Math.abs(o-m),this._onUpdateLevel(m)):(ne(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var T=this._levels[o],S=this._map;return T||(T=this._levels[o]={},T.el=Jt("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=c,T.origin=S.project(S.unproject(S.getPixelOrigin()),o).round(),T.zoom=o,this._setZoomTransform(T,S.getCenter(),S.getZoom()),w(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var o,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)c=this._tiles[o],c.retain=c.current;for(o in this._tiles)if(c=this._tiles[o],c.current&&!c.active){var T=c.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var c in this._tiles)this._tiles[c].coords.z===o&&this._removeTile(c)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ne(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,c,m,T){var S=Math.floor(o/2),R=Math.floor(c/2),j=m-1,W=new yt(+S,+R);W.z=+j;var it=this._tileCoordsToKey(W),mt=this._tiles[it];return mt&&mt.active?(mt.retain=!0,!0):(mt&&mt.loaded&&(mt.retain=!0),j>T?this._retainParent(S,R,j,T):!1)},_retainChildren:function(o,c,m,T){for(var S=2*o;S<2*o+2;S++)for(var R=2*c;R<2*c+2;R++){var j=new yt(S,R);j.z=m+1;var W=this._tileCoordsToKey(j),it=this._tiles[W];if(it&&it.active){it.retain=!0;continue}else it&&it.loaded&&(it.retain=!0);m+1<T&&this._retainChildren(S,R,m+1,T)}},_resetView:function(o){var c=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var c=this.options;return c.minNativeZoom!==void 0&&o<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<o?c.maxNativeZoom:o},_setView:function(o,c,m,T){var S=Math.round(c);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var R=this.options.updateWhenZooming&&S!==this._tileZoom;(!T||R)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(o),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(o,c)},_setZoomTransforms:function(o,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],o,c)},_setZoomTransform:function(o,c,m){var T=this._map.getZoomScale(m,o.zoom),S=o.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(c,m)).round();Ct.any3d?rs(o.el,S,T):Ce(o.el,S)},_resetGrid:function(){var o=this._map,c=o.options.crs,m=this._tileSize=this.getTileSize(),T=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,c.wrapLng[0]],T).x/m.x),Math.ceil(o.project([0,c.wrapLng[1]],T).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([c.wrapLat[0],0],T).y/m.x),Math.ceil(o.project([c.wrapLat[1],0],T).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),T=c.getZoomScale(m,this._tileZoom),S=c.project(o,this._tileZoom).floor(),R=c.getSize().divideBy(T*2);return new H(S.subtract(R),S.add(R))},_update:function(o){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(o===void 0&&(o=c.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(o),S=this._pxBoundsToTileRange(T),R=S.getCenter(),j=[],W=this.options.keepBuffer,it=new H(S.getBottomLeft().subtract([W,-W]),S.getTopRight().add([W,-W]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var mt in this._tiles){var At=this._tiles[mt].coords;(At.z!==this._tileZoom||!it.contains(new yt(At.x,At.y)))&&(this._tiles[mt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(o,m);return}for(var Ot=S.min.y;Ot<=S.max.y;Ot++)for(var Yt=S.min.x;Yt<=S.max.x;Yt++){var In=new yt(Yt,Ot);if(In.z=this._tileZoom,!!this._isValidTile(In)){var un=this._tiles[this._tileCoordsToKey(In)];un?un.current=!0:j.push(In)}}if(j.sort(function(ye,_e){return ye.distanceTo(R)-_e.distanceTo(R)}),j.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Li=document.createDocumentFragment();for(Yt=0;Yt<j.length;Yt++)this._addTile(j[Yt],Li);this._level.el.appendChild(Li)}}}},_isValidTile:function(o){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(o.x<m.min.x||o.x>m.max.x)||!c.wrapLat&&(o.y<m.min.y||o.y>m.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(o);return bt(this.options.bounds).overlaps(T)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var c=this._map,m=this.getTileSize(),T=o.scaleBy(m),S=T.add(m),R=c.unproject(T,o.z),j=c.unproject(S,o.z);return[R,j]},_tileCoordsToBounds:function(o){var c=this._tileCoordsToNwSe(o),m=new Tt(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var c=o.split(":"),m=new yt(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(o){var c=this._tiles[o];c&&(ne(c.el),delete this._tiles[o],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Rt(o,"leaflet-tile");var c=this.getTileSize();o.style.width=c.x+"px",o.style.height=c.y+"px",o.onselectstart=w,o.onmousemove=w,Ct.ielt9&&this.options.opacity<1&&Le(o,this.options.opacity)},_addTile:function(o,c){var m=this._getTilePos(o),T=this._tileCoordsToKey(o),S=this.createTile(this._wrapCoords(o),f(this._tileReady,this,o));this._initTile(S),this.createTile.length<2&&k(f(this._tileReady,this,o,null,S)),Ce(S,m),this._tiles[T]={el:S,coords:o,current:!0},c.appendChild(S),this.fire("tileloadstart",{tile:S,coords:o})},_tileReady:function(o,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:o});var T=this._tileCoordsToKey(o);m=this._tiles[T],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Le(m.el,0),G(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(Rt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ct.ielt9||!this._map._fadeAnimated?k(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var c=new yt(this._wrapX?b(o.x,this._wrapX):o.x,this._wrapY?b(o.y,this._wrapY):o.y);return c.z=o.z,c},_pxBoundsToTileRange:function(o){var c=this.getTileSize();return new H(o.min.unscaleBy(c).floor(),o.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function zh(o){return new Ho(o)}var Cr=Ho.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,c){this._url=o,c=z(this,c),c.detectRetina&&Ct.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,c){return this._url===o&&c===void 0&&(c=!0),this._url=o,c||this.redraw(),this},createTile:function(o,c){var m=document.createElement("img");return kt(m,"load",f(this._tileOnLoad,this,c,m)),kt(m,"error",f(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(o),m},getTileUrl:function(o){var c={r:Ct.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-o.y;this.options.tms&&(c.y=m),c["-y"]=m}return nt(this._url,a(c,this.options))},_tileOnLoad:function(o,c){Ct.ielt9?setTimeout(f(o,this,null,c),0):o(null,c)},_tileOnError:function(o,c,m){var T=this.options.errorTileUrl;T&&c.getAttribute("src")!==T&&(c.src=T),o(m,c)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,T=this.options.zoomOffset;return m&&(o=c-o),o+T},_getSubdomain:function(o){var c=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var o,c;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(c=this._tiles[o].el,c.onload=w,c.onerror=w,!c.complete)){c.src=ct;var m=this._tiles[o].coords;ne(c),delete this._tiles[o],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(o){var c=this._tiles[o];if(c)return c.el.setAttribute("src",ct),Ho.prototype._removeTile.call(this,o)},_tileReady:function(o,c,m){if(!(!this._map||m&&m.getAttribute("src")===ct))return Ho.prototype._tileReady.call(this,o,c,m)}});function Zi(o,c){return new Cr(o,c)}var Ya=Cr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,c){this._url=o;var m=a({},this.defaultWmsParams);for(var T in c)T in this.options||(m[T]=c[T]);c=z(this,c);var S=c.detectRetina&&Ct.retina?2:1,R=this.getTileSize();m.width=R.x*S,m.height=R.y*S,this.wmsParams=m},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Cr.prototype.onAdd.call(this,o)},getTileUrl:function(o){var c=this._tileCoordsToNwSe(o),m=this._crs,T=at(m.project(c[0]),m.project(c[1])),S=T.min,R=T.max,j=(this._wmsVersion>=1.3&&this._crs===Jr?[S.y,S.x,R.y,R.x]:[S.x,S.y,R.x,R.y]).join(","),W=Cr.prototype.getTileUrl.call(this,o);return W+Z(this.wmsParams,W,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+j},setParams:function(o,c){return a(this.wmsParams,o),c||this.redraw(),this}});function Gi(o,c){return new Ya(o,c)}Cr.WMS=Ya,Zi.wms=Gi;var vi=fs.extend({options:{padding:.1},initialize:function(o){z(this,o),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,c){var m=this._map.getZoomScale(c,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,c),R=T.multiplyBy(-m).add(S).subtract(this._map._getNewPixelOrigin(o,c));Ct.any3d?rs(this._container,R,m):Ce(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-o)).round();this._bounds=new H(m,m.add(c.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zl=vi.extend({options:{tolerance:0},getEvents:function(){var o=vi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){vi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");kt(o,"mousemove",this._onMouseMove,this),kt(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),kt(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,ne(this._container),ge(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var c in this._layers)o=this._layers[c],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vi.prototype._update.call(this);var o=this._bounds,c=this._container,m=o.getSize(),T=Ct.retina?2:1;Ce(c,o.min),c.width=T*m.x,c.height=T*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){vi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[y(o)]=o;var c=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var c=o._order,m=c.next,T=c.prev;m?m.prev=T:this._drawLast=T,T?T.next=m:this._drawFirst=m,delete o._order,delete this._layers[y(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var c=o.options.dashArray.split(/[, ]+/),m=[],T,S;for(S=0;S<c.length;S++){if(T=Number(c[S]),isNaN(T))return;m.push(T)}o.options._dashArray=m}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||k(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var c=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(o._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(o._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var c=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)o=T.layer,(!c||o._pxBounds&&o._pxBounds.intersects(c))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,c){if(this._drawing){var m,T,S,R,j=o._parts,W=j.length,it=this._ctx;if(W){for(it.beginPath(),m=0;m<W;m++){for(T=0,S=j[m].length;T<S;T++)R=j[m][T],it[T?"lineTo":"moveTo"](R.x,R.y);c&&it.closePath()}this._fillStroke(it,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var c=o._point,m=this._ctx,T=Math.max(Math.round(o._radius),1),S=(Math.max(Math.round(o._radiusY),1)||T)/T;S!==1&&(m.save(),m.scale(1,S)),m.beginPath(),m.arc(c.x,c.y/S,T,0,Math.PI*2,!1),S!==1&&m.restore(),this._fillStroke(m,o)}},_fillStroke:function(o,c){var m=c.options;m.fill&&(o.globalAlpha=m.fillOpacity,o.fillStyle=m.fillColor||m.color,o.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(o.setLineDash&&o.setLineDash(c.options&&c.options._dashArray||[]),o.globalAlpha=m.opacity,o.lineWidth=m.weight,o.strokeStyle=m.color,o.lineCap=m.lineCap,o.lineJoin=m.lineJoin,o.stroke())},_onClick:function(o){for(var c=this._map.mouseEventToLayerPoint(o),m,T,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(c)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(m))&&(T=m);this._fireEvent(T?[T]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,c)}},_handleMouseOut:function(o){var c=this._hoveredLayer;c&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([c],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,c){if(!this._mouseHoverThrottled){for(var m,T,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(c)&&(T=m);T!==this._hoveredLayer&&(this._handleMouseOut(o),T&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([T],o,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,c,m){this._map._fireDOMEvent(c,m||c.type,o)},_bringToFront:function(o){var c=o._order;if(c){var m=c.next,T=c.prev;if(m)m.prev=T;else return;T?T.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(o)}},_bringToBack:function(o){var c=o._order;if(c){var m=c.next,T=c.prev;if(T)T.next=m;else return;m?m.prev=T:T&&(this._drawLast=T),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(o)}}});function Xa(o){return Ct.canvas?new zl(o):null}var Rr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),qu={_initContainer:function(){this._container=Jt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(vi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var c=o._container=Rr("shape");Rt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",o._path=Rr("path"),c.appendChild(o._path),this._updateStyle(o),this._layers[y(o)]=o},_addPath:function(o){var c=o._container;this._container.appendChild(c),o.options.interactive&&o.addInteractiveTarget(c)},_removePath:function(o){var c=o._container;ne(c),o.removeInteractiveTarget(c),delete this._layers[y(o)]},_updateStyle:function(o){var c=o._stroke,m=o._fill,T=o.options,S=o._container;S.stroked=!!T.stroke,S.filled=!!T.fill,T.stroke?(c||(c=o._stroke=Rr("stroke")),S.appendChild(c),c.weight=T.weight+"px",c.color=T.color,c.opacity=T.opacity,T.dashArray?c.dashStyle=K(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=T.lineCap.replace("butt","flat"),c.joinstyle=T.lineJoin):c&&(S.removeChild(c),o._stroke=null),T.fill?(m||(m=o._fill=Rr("fill")),S.appendChild(m),m.color=T.fillColor||T.color,m.opacity=T.fillOpacity):m&&(S.removeChild(m),o._fill=null)},_updateCircle:function(o){var c=o._point.round(),m=Math.round(o._radius),T=Math.round(o._radiusY||m);this._setPath(o,o._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+T+" 0,"+65535*360)},_setPath:function(o,c){o._path.v=c},_bringToFront:function(o){je(o._container)},_bringToBack:function(o){Di(o._container)}},Ls=Ct.vml?Rr:Ai,qo=vi.extend({_initContainer:function(){this._container=Ls("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ls("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ne(this._container),ge(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vi.prototype._update.call(this);var o=this._bounds,c=o.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),Ce(m,o.min),m.setAttribute("viewBox",[o.min.x,o.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(o){var c=o._path=Ls("path");o.options.className&&Rt(c,o.options.className),o.options.interactive&&Rt(c,"leaflet-interactive"),this._updateStyle(o),this._layers[y(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ne(o._path),o.removeInteractiveTarget(o._path),delete this._layers[y(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var c=o._path,m=o.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(o,c){this._setPath(o,ei(o._parts,c))},_updateCircle:function(o){var c=o._point,m=Math.max(Math.round(o._radius),1),T=Math.max(Math.round(o._radiusY),1)||m,S="a"+m+","+T+" 0 1,0 ",R=o._empty()?"M0 0":"M"+(c.x-m)+","+c.y+S+m*2+",0 "+S+-m*2+",0 ";this._setPath(o,R)},_setPath:function(o,c){o._path.setAttribute("d",c)},_bringToFront:function(o){je(o._path)},_bringToBack:function(o){Di(o._path)}});Ct.vml&&qo.include(qu);function Qa(o){return Ct.svg||Ct.vml?new qo(o):null}$t.include({getRenderer:function(o){var c=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var c=this._paneRenderers[o];return c===void 0&&(c=this._createRenderer({pane:o}),this._paneRenderers[o]=c),c},_createRenderer:function(o){return this.options.preferCanvas&&Xa(o)||Qa(o)}});var to=Bo.extend({initialize:function(o,c){Bo.prototype.initialize.call(this,this._boundsToLatLngs(o),c)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=bt(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function ym(o,c){return new to(o,c)}qo.create=Ls,qo.pointsToPath=ei,sr.geometryToLayer=Yn,sr.coordsToLatLng=Ll,sr.coordsToLatLngs=Ha,sr.latLngToCoords=Ol,sr.latLngsToCoords=qa,sr.getFeature=Sr,sr.asFeature=Nl,$t.mergeOptions({boxZoom:!0});var Ti=Ii.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ji(),Yr(),this._startPoint=this._map.mouseEventToContainerPoint(o),kt(document,{contextmenu:os,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Jt("div","leaflet-zoom-box",this._container),Rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var c=new H(this._point,this._startPoint),m=c.getSize();Ce(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(ne(this._box),Ae(this._container,"leaflet-crosshair")),bn(),_r(),ge(document,{contextmenu:os,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new Tt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$t.addInitHook("addHandler","boxZoom",Ti),$t.mergeOptions({doubleClickZoom:!0});var Bl=Ii.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var c=this._map,m=c.getZoom(),T=c.options.zoomDelta,S=o.originalEvent.shiftKey?m-T:m+T;c.options.doubleClickZoom==="center"?c.setZoom(S):c.setZoomAround(o.containerPoint,S)}});$t.addInitHook("addHandler","doubleClickZoom",Bl),$t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Os=Ii.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new cs(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ae(this._map._container,"leaflet-grab"),Ae(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=bt(this._map.options.maxBounds);this._offsetLimit=at(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,c){return o-(o-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;o.x<c.min.x&&(o.x=this._viscousLimit(o.x,c.min.x)),o.y<c.min.y&&(o.y=this._viscousLimit(o.y,c.min.y)),o.x>c.max.x&&(o.x=this._viscousLimit(o.x,c.max.x)),o.y>c.max.y&&(o.y=this._viscousLimit(o.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,c=Math.round(o/2),m=this._initialWorldOffset,T=this._draggable._newPos.x,S=(T-c+m)%o+c-m,R=(T+c+m)%o-c-m,j=Math.abs(S+m)<Math.abs(R+m)?S:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=j},_onDragEnd:function(o){var c=this._map,m=c.options,T=!m.inertia||o.noInertia||this._times.length<2;if(c.fire("dragend",o),T)c.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,j=m.easeLinearity,W=S.multiplyBy(j/R),it=W.distanceTo([0,0]),mt=Math.min(m.inertiaMaxSpeed,it),At=W.multiplyBy(mt/it),Ot=mt/(m.inertiaDeceleration*j),Yt=At.multiplyBy(-Ot/2).round();!Yt.x&&!Yt.y?c.fire("moveend"):(Yt=c._limitOffset(Yt,c.options.maxBounds),k(function(){c.panBy(Yt,{duration:Ot,easeLinearity:j,noMoveStart:!0,animate:!0})}))}}});$t.addInitHook("addHandler","dragging",Os),$t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Zu=Ii.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),kt(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ge(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,c=document.documentElement,m=o.scrollTop||c.scrollTop,T=o.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(T,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var c=this._panKeys={},m=this.keyCodes,T,S;for(T=0,S=m.left.length;T<S;T++)c[m.left[T]]=[-1*o,0];for(T=0,S=m.right.length;T<S;T++)c[m.right[T]]=[o,0];for(T=0,S=m.down.length;T<S;T++)c[m.down[T]]=[0,o];for(T=0,S=m.up.length;T<S;T++)c[m.up[T]]=[0,-1*o]},_setZoomDelta:function(o){var c=this._zoomKeys={},m=this.keyCodes,T,S;for(T=0,S=m.zoomIn.length;T<S;T++)c[m.zoomIn[T]]=o;for(T=0,S=m.zoomOut.length;T<S;T++)c[m.zoomOut[T]]=-o},_addHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var c=o.keyCode,m=this._map,T;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(T=this._panKeys[c],o.shiftKey&&(T=wt(T).multiplyBy(3)),m.options.maxBounds&&(T=m._limitOffset(wt(T),m.options.maxBounds)),m.options.worldCopyJump){var S=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(T)));m.panTo(S)}else m.panBy(T)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;os(o)}}});$t.addInitHook("addHandler","keyboard",Zu),$t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wa=Ii.extend({addHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var c=En(o),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var T=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),T),os(o)},_performZoom:function(){var o=this._map,c=o.getZoom(),m=this._map.options.zoomSnap||0;o._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,R=m?Math.ceil(S/m)*m:S,j=o._limitZoom(c+(this._delta>0?R:-R))-c;this._delta=0,this._startTime=null,j&&(o.options.scrollWheelZoom==="center"?o.setZoom(c+j):o.setZoomAround(this._lastMousePos,c+j))}});$t.addInitHook("addHandler","scrollWheelZoom",Wa);var eo=600;$t.mergeOptions({tapHold:Ct.touchNative&&Ct.safari&&Ct.mobile,tapTolerance:15});var Ul=Ii.extend({addHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var c=o.touches[0];this._startPos=this._newPos=new yt(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(kt(document,"touchend",Fe),kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),eo),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ge(document,"touchend",Fe),ge(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)},_onMove:function(o){var c=o.touches[0];this._newPos=new yt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,c){var m=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});$t.addInitHook("addHandler","tapHold",Ul),$t.mergeOptions({touchZoom:Ct.touch,bounceAtZoomLimits:!0});var Gu=Ii.extend({addHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var c=this._map;if(!(!o.touches||o.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(o.touches[0]),T=c.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(T)._divideBy(2))),this._startDist=m.distanceTo(T),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),Fe(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(o.touches[0]),T=c.mouseEventToContainerPoint(o.touches[1]),S=m.distanceTo(T)/this._startDist;if(this._zoom=c.getScaleZoom(S,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&S<1||this._zoom>c.getMaxZoom()&&S>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var R=m._add(T)._divideBy(2)._subtract(this._centerPoint);if(S===1&&R.x===0&&R.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var j=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=k(j,this,!0),Fe(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$t.addInitHook("addHandler","touchZoom",Gu),$t.BoxZoom=Ti,$t.DoubleClickZoom=Bl,$t.Drag=Os,$t.Keyboard=Zu,$t.ScrollWheelZoom=Wa,$t.TapHold=Ul,$t.TouchZoom=Gu,n.Bounds=H,n.Browser=Ct,n.CRS=Ut,n.Canvas=zl,n.Circle=Pl,n.CircleMarker=zo,n.Class=Ft,n.Control=Gn,n.DivIcon=kh,n.DivOverlay=Xn,n.DomEvent=Ds,n.DomUtil=Tr,n.Draggable=cs,n.Evented=gt,n.FeatureGroup=Ms,n.GeoJSON=sr,n.GridLayer=Ho,n.Handler=Ii,n.Icon=Is,n.ImageOverlay=jo,n.LatLng=xt,n.LatLngBounds=Tt,n.Layer=fs,n.LayerGroup=ko,n.LineUtil=Hi,n.Map=$t,n.Marker=Fa,n.Mixin=Ml,n.Path=Ps,n.Point=yt,n.PolyUtil=wr,n.Polygon=Bo,n.Polyline=ir,n.Popup=Ga,n.PosAnimation=tr,n.Projection=hs,n.Rectangle=to,n.Renderer=vi,n.SVG=qo,n.SVGOverlay=kl,n.TileLayer=Cr,n.Tooltip=Ka,n.Transformation=hi,n.Util=B,n.VideoOverlay=Ar,n.bind=f,n.bounds=at,n.canvas=Xa,n.circle=Lh,n.circleMarker=Ph,n.control=_i,n.divIcon=gm,n.extend=a,n.featureGroup=Mh,n.geoJSON=Vl,n.geoJson=Za,n.gridLayer=zh,n.icon=Ba,n.imageOverlay=Oh,n.latLng=Et,n.latLngBounds=bt,n.layerGroup=fm,n.map=Er,n.marker=Ih,n.point=wt,n.polygon=mm,n.polyline=dm,n.popup=Vh,n.rectangle=ym,n.setOptions=z,n.stamp=y,n.svg=Qa,n.svgOverlay=Nh,n.tileLayer=Zi,n.tooltip=pm,n.transformation=Xe,n.version=s,n.videoOverlay=Fo;var Ku=window.L;n.noConflict=function(){return window.L=Ku,this},window.L=n}))})(Nc,Nc.exports)),Nc.exports}var Nu=iO();const XS=sw(Nu);function Hd(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function qd(e,t){return t==null?function(s,a){const u=V.useRef(void 0);return u.current||(u.current=e(s,a)),u}:function(s,a){const u=V.useRef(void 0);u.current||(u.current=e(s,a));const f=V.useRef(s),{instance:g}=u.current;return V.useEffect(function(){f.current!==s&&(t(g,s,f.current),f.current=s)},[g,s,t]),u}}function QS(e,t){V.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function WS(e){return function(n){const s=jd(),a=e(Fd(n,s),s);return GS(s.map,n.attribution),h_(a.current,n.eventHandlers),QS(a.current,s),a}}function sO(e,t){const n=V.useRef(void 0);V.useEffect(function(){if(t.pathOptions!==n.current){const a=t.pathOptions??{};e.instance.setStyle(a),n.current=a}},[e,t])}function rO(e){return function(n){const s=jd(),a=e(Fd(n,s),s);return h_(a.current,n.eventHandlers),QS(a.current,s),sO(a.current,n),a}}function oO(e,t){const n=qd(e,t),s=WS(n);return YS(s)}function aO(e,t){const n=qd(e),s=eO(n,t);return JL(s)}function lO(e,t){const n=qd(e,t),s=rO(n);return YS(s)}function uO(e,t){const n=qd(e,t),s=WS(n);return tO(s)}function cO(e,t,n){const{opacity:s,zIndex:a}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),a!=null&&a!==n.zIndex&&e.setZIndex(a)}function hO(){return jd().map}function fO({bounds:e,boundsOptions:t,center:n,children:s,className:a,id:u,placeholder:f,style:g,whenReady:y,zoom:v,...b},w){const[A]=V.useState({className:a,id:u,style:g}),[I,U]=V.useState(null),z=V.useRef(void 0);V.useImperativeHandle(w,()=>I?.map??null,[I]);const Z=V.useCallback(nt=>{if(nt!==null&&!z.current){const K=new Nu.Map(nt,b);z.current=K,n!=null&&v!=null?K.setView(n,v):e!=null&&K.fitBounds(e,t),y!=null&&K.whenReady(y),U($L(K))}},[]);V.useEffect(()=>()=>{I?.map.remove()},[I]);const $=I?Jn.createElement(c_,{value:I},s):f??null;return Jn.createElement("div",{...A,ref:Z},$)}const dO=V.forwardRef(fO),mO=oO(function({position:t,...n},s){const a=new Nu.Marker(t,n);return Hd(a,KS(s,{overlayContainer:a}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),pO=lO(function({positions:t,...n},s){const a=new Nu.Polyline(t,n);return Hd(a,KS(s,{overlayContainer:a}))},function(t,n,s){n.positions!==s.positions&&t.setLatLngs(n.positions)}),gO=aO(function(t,n){const s=new Nu.Popup(t,n.overlayContainer);return Hd(s,n)},function(t,n,{position:s},a){V.useEffect(function(){const{instance:f}=t;function g(v){v.popup===f&&(f.update(),a(!0))}function y(v){v.popup===f&&a(!1)}return n.map.on({popupopen:g,popupclose:y}),n.overlayContainer==null?(s!=null&&f.setLatLng(s),f.openOn(n.map)):n.overlayContainer.bindPopup(f),function(){n.map.off({popupopen:g,popupclose:y}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(f)}},[t,n,a,s])}),yO=uO(function({url:t,...n},s){const a=new Nu.TileLayer(t,Fd(n,s));return Hd(a,s)},function(t,n,s){cO(t,n,s);const{url:a}=n;a!=null&&a!==s.url&&t.setUrl(a)}),$S=V.createContext(null);function _O({children:e}){const[t,n]=V.useState(null),s=a=>{n(u=>({...u,...a}))};return X.jsx($S.Provider,{value:{currentTrip:t,setCurrentTrip:n,updateTripData:s},children:e})}const JS=()=>V.useContext($S);delete XS.Icon.Default.prototype._getIconUrl;XS.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const vO=[24.5,121.5],TO=10;function bO(){const e=hO();return V.useEffect(()=>{setTimeout(()=>{e.invalidateSize()},100)},[e]),null}function EO(){const{currentTrip:e}=JS(),[t,n]=V.useState([]),[s,a]=V.useState([]);return V.useEffect(()=>{if(!e?.itinerary)return;const u=[],f=[];e.itinerary.forEach(g=>{g.events&&g.events.forEach(y=>{if(y.location&&y.location.lat&&y.location.lng)try{const v=parseFloat(y.location.lat),b=parseFloat(y.location.lng);if(!isNaN(v)&&!isNaN(b)){const w=[v,b];u.push({...y,pos:w,dayTitle:g.title}),f.push(w)}}catch{console.warn("Invalid coordinates",y)}})}),n(u),a(f)},[e]),X.jsx("div",{style:{width:"100%",height:"100%"},children:X.jsxs(dO,{center:vO,zoom:TO,scrollWheelZoom:!0,style:{width:"100%",height:"100%"},children:[X.jsx(yO,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.length>0&&X.jsx(pO,{positions:s,pathOptions:{color:"blue",weight:4,opacity:.7,dashArray:"10, 10"}}),t.map((u,f)=>X.jsx(mO,{position:u.pos,children:X.jsxs(gO,{children:[X.jsx("strong",{children:u.title}),X.jsx("br",{}),X.jsx("small",{children:u.dayTitle}),X.jsx("br",{}),u.time," @ ",u.location.name]})},f)),X.jsx(bO,{})]})})}const tx=V.createContext(null),vu={ADMIN:"ADMIN",PARTICIPANT:"PARTICIPANT",VIEWER:"VIEWER"},wO={admin123:vu.ADMIN,team2026:vu.PARTICIPANT,viewonly:vu.VIEWER};function SO({children:e}){const[t,n]=V.useState(null),[s,a]=V.useState(!0);V.useEffect(()=>{const g=localStorage.getItem("trip_role");g&&vu[g]&&n(g),a(!1)},[]);const u=g=>{const y=wO[g];return y?(n(y),localStorage.setItem("trip_role",y),!0):!1},f=()=>{n(null),localStorage.removeItem("trip_role")};return X.jsx(tx.Provider,{value:{role:t,login:u,logout:f,loading:s},children:e})}function Zd(){return V.useContext(tx)}function xO({children:e}){const t=v2("(min-width: 1024px)"),[n,s]=Jn.useState(!1),{logout:a,role:u}=Zd();return t?X.jsxs("div",{className:"layout-desktop",children:[X.jsxs("aside",{className:"sidebar",children:[X.jsx("div",{className:"logo-area",children:"Outdoor Planner"}),X.jsxs("nav",{style:{display:"flex",flexDirection:"column",height:"calc(100% - 60px)"},children:[X.jsxs("div",{className:"nav-item active",children:[X.jsx(lL,{size:20})," "]}),X.jsxs("div",{className:"nav-item",children:[X.jsx(BL,{size:20})," "]}),X.jsxs("div",{style:{marginTop:"auto",borderTop:"1px solid var(--color-border)"},children:[X.jsxs("div",{style:{padding:"1rem 0 0.5rem 0.5rem",fontSize:"0.8rem",color:"var(--color-text-muted)"},children:[": ",u]}),X.jsx("button",{onClick:a,className:"nav-item",style:{width:"100%",border:"none",background:"transparent"},children:X.jsx("span",{style:{color:"var(--color-danger)"},children:""})})]})]})]}),X.jsx("main",{className:"main-content",children:e}),X.jsx("aside",{className:"map-panel",children:X.jsx(EO,{})}),X.jsx("style",{children:`
          .layout-desktop {
            display: grid;
            grid-template-columns: 240px 1fr 350px;
            height: 100vh;
            background-color: hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l));
          }
          .sidebar {
            background-color: hsl(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l));
            border-right: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
            padding: var(--space-4);
          }
          .map-panel {
            background-color: hsl(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l));
            border-left: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
            overflow: hidden;
            position: relative;
          }
          .main-content {
            padding: var(--space-6);
            overflow-y: auto;
          }
          .nav-item {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2);
            border-radius: var(--radius-md);
            cursor: pointer;
            color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
            transition: all 0.2s;
          }
          .nav-item:hover {
             background-color: hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l));
             color: hsl(var(--color-text-main-h), var(--color-text-main-s), var(--color-text-main-l));
          }
          .nav-item.active {
            background-color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
            color: white;
          }
          .logo-area {
            font-weight: bold;
            font-size: 1.25rem;
            margin-bottom: var(--space-6);
            color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
          }
        `})]}):X.jsxs("div",{className:"layout-mobile",children:[X.jsxs("header",{className:"mobile-header",children:[X.jsx(DL,{size:24}),X.jsx("span",{className:"mobile-title",children:"Outdoor Planner"}),X.jsx("button",{onClick:a,style:{border:"none",background:"none",fontSize:"0.9rem",color:"var(--color-text-muted)"},children:""})]}),X.jsx("main",{className:"mobile-content",children:e}),X.jsx(QL,{}),X.jsx("style",{children:`
        .layout-mobile {
          min-height: 100vh;
          background-color: hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l));
          padding-bottom: 80px;
        }
        .mobile-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--space-4);
          background-color: hsl(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l));
          border-bottom: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
          position: sticky;
          top: 0;
          z-index: 10;
        }
        .mobile-title {
          font-weight: bold;
          font-size: 1.1rem;
        }
        .mobile-content {
          padding: var(--space-4);
        }
      `})]})}function AO(){const{login:e}=Zd(),[t,n]=V.useState(""),[s,a]=V.useState(!1),u=f=>{f.preventDefault(),e(t)?window.location.reload():(a(!0),n(""))};return X.jsxs("div",{className:"login-container",children:[X.jsxs("div",{className:"login-card",children:[X.jsxs("div",{className:"logo-section",children:[X.jsx(IL,{size:48,className:"logo-icon"}),X.jsx("h1",{children:"Outdoor Planner"}),X.jsx("p",{className:"subtitle",children:""})]}),X.jsxs("form",{onSubmit:u,className:"login-form",children:[X.jsxs("div",{className:"input-group",children:[X.jsx(wL,{size:20,className:"input-icon"}),X.jsx("input",{type:"password",placeholder:"...",value:t,onChange:f=>{n(f.target.value),a(!1)},className:"password-input",autoFocus:!0})]}),s&&X.jsx("div",{className:"error-msg",children:""}),X.jsx("button",{type:"submit",className:"btn btn-primary login-btn",children:""})]}),X.jsx("div",{className:"role-hint",children:X.jsx("small",{children:": admin123 () / team2026 () / viewonly ()"})})]}),X.jsx("style",{children:`
        .login-container {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background-color: hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l));
          padding: var(--space-4);
        }
        .login-card {
          background: hsl(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l));
          padding: var(--space-8) var(--space-6);
          border-radius: var(--radius-xl);
          width: 100%;
          max-width: 400px;
          border: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
          box-shadow: var(--shadow-lg);
          text-align: center;
        }
        .logo-section {
          margin-bottom: var(--space-8);
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: var(--space-2);
        }
        .logo-icon {
          color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
        }
        .subtitle {
          color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
          font-size: 0.9rem;
        }
        .login-form {
          display: flex;
          flex-direction: column;
          gap: var(--space-4);
        }
        .input-group {
          position: relative;
        }
        .input-icon {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
        }
        .password-input {
          width: 100%;
          padding: var(--space-3) var(--space-3) var(--space-3) 40px;
          border: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
          border-radius: var(--radius-md);
          font-size: 1rem;
          outline: none;
          transition: border-color 0.2s;
        }
        .password-input:focus {
          border-color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
          box-shadow: 0 0 0 2px hsla(var(--color-p-h), var(--color-p-s), var(--color-p-l), 0.1);
        }
        .login-btn {
          width: 100%;
          padding: var(--space-3);
          font-size: 1rem;
        }
        .error-msg {
          color: var(--color-danger);
          font-size: 0.85rem;
          text-align: left;
        }
        .role-hint {
          margin-top: var(--space-6);
          color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
          opacity: 0.7;
        }
      `})]})}function CO({children:e}){const{role:t,loading:n}=Zd();return n?X.jsx("div",{className:"loading-screen",children:"..."}):t?e:X.jsx(AO,{})}function RO({children:e,restrictedTo:t=[],fallback:n=null}){const{role:s}=Zd();return!s||!t.includes(s)?n:e}const DO=({children:e,fallback:t})=>X.jsx(RO,{restrictedTo:[vu.ADMIN,vu.PARTICIPANT],fallback:t,children:e});function MO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return V.useMemo(()=>s=>{t.forEach(a=>a(s))},t)}const Gd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vu(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function f_(e){return"nodeType"in e}function ts(e){var t,n;return e?Vu(e)?e:f_(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function d_(e){const{Document:t}=ts(e);return e instanceof t}function Th(e){return Vu(e)?!1:e instanceof ts(e).HTMLElement}function ex(e){return e instanceof ts(e).SVGElement}function ku(e){return e?Vu(e)?e.document:f_(e)?d_(e)?e:Th(e)||ex(e)?e.ownerDocument:document:document:document}const Fr=Gd?V.useLayoutEffect:V.useEffect;function m_(e){const t=V.useRef(e);return Fr(()=>{t.current=e}),V.useCallback(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t.current==null?void 0:t.current(...s)},[])}function IO(){const e=V.useRef(null),t=V.useCallback((s,a)=>{e.current=setInterval(s,a)},[]),n=V.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function sh(e,t){t===void 0&&(t=[e]);const n=V.useRef(e);return Fr(()=>{n.current!==e&&(n.current=e)},t),n}function bh(e,t){const n=V.useRef();return V.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function gd(e){const t=m_(e),n=V.useRef(null),s=V.useCallback(a=>{a!==n.current&&t?.(a,n.current),n.current=a},[]);return[n,s]}function ey(e){const t=V.useRef();return V.useEffect(()=>{t.current=e},[e]),t.current}let yg={};function Eh(e,t){return V.useMemo(()=>{if(t)return t;const n=yg[e]==null?0:yg[e]+1;return yg[e]=n,e+"-"+n},[e,t])}function nx(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((u,f)=>{const g=Object.entries(f);for(const[y,v]of g){const b=u[y];b!=null&&(u[y]=b+e*v)}return u},{...t})}}const Tu=nx(1),rh=nx(-1);function PO(e){return"clientX"in e&&"clientY"in e}function p_(e){if(!e)return!1;const{KeyboardEvent:t}=ts(e.target);return t&&e instanceof t}function LO(e){if(!e)return!1;const{TouchEvent:t}=ts(e.target);return t&&e instanceof t}function ny(e){if(LO(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return PO(e)?{x:e.clientX,y:e.clientY}:null}const oh=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[oh.Translate.toString(e),oh.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),C1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function OO(e){return e.matches(C1)?e:e.querySelector(C1)}const NO={display:"none"};function VO(e){let{id:t,value:n}=e;return Jn.createElement("div",{id:t,style:NO},n)}function kO(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Jn.createElement("div",{id:t,style:a,role:"status","aria-live":s,"aria-atomic":!0},n)}function zO(){const[e,t]=V.useState("");return{announce:V.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const ix=V.createContext(null);function BO(e){const t=V.useContext(ix);V.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function UO(){const[e]=V.useState(()=>new Set),t=V.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[V.useCallback(s=>{let{type:a,event:u}=s;e.forEach(f=>{var g;return(g=f[a])==null?void 0:g.call(f,u)})},[e]),t]}const jO={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},FO={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function HO(e){let{announcements:t=FO,container:n,hiddenTextDescribedById:s,screenReaderInstructions:a=jO}=e;const{announce:u,announcement:f}=zO(),g=Eh("DndLiveRegion"),[y,v]=V.useState(!1);if(V.useEffect(()=>{v(!0)},[]),BO(V.useMemo(()=>({onDragStart(w){let{active:A}=w;u(t.onDragStart({active:A}))},onDragMove(w){let{active:A,over:I}=w;t.onDragMove&&u(t.onDragMove({active:A,over:I}))},onDragOver(w){let{active:A,over:I}=w;u(t.onDragOver({active:A,over:I}))},onDragEnd(w){let{active:A,over:I}=w;u(t.onDragEnd({active:A,over:I}))},onDragCancel(w){let{active:A,over:I}=w;u(t.onDragCancel({active:A,over:I}))}}),[u,t])),!y)return null;const b=Jn.createElement(Jn.Fragment,null,Jn.createElement(VO,{id:s,value:a.draggable}),Jn.createElement(kO,{id:g,announcement:f}));return n?yu.createPortal(b,n):b}var On;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(On||(On={}));function yd(){}function R1(e,t){return V.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function qO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return V.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const mr=Object.freeze({x:0,y:0});function sx(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function rx(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function ZO(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function D1(e){let{left:t,top:n,height:s,width:a}=e;return[{x:t,y:n},{x:t+a,y:n},{x:t,y:n+s},{x:t+a,y:n+s}]}function ox(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function M1(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const GO=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=M1(t,t.left,t.top),u=[];for(const f of s){const{id:g}=f,y=n.get(g);if(y){const v=sx(M1(y),a);u.push({id:g,data:{droppableContainer:f,value:v}})}}return u.sort(rx)},KO=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=D1(t),u=[];for(const f of s){const{id:g}=f,y=n.get(g);if(y){const v=D1(y),b=a.reduce((A,I,U)=>A+sx(v[U],I),0),w=Number((b/4).toFixed(4));u.push({id:g,data:{droppableContainer:f,value:w}})}}return u.sort(rx)};function YO(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),u=Math.min(t.top+t.height,e.top+e.height),f=a-s,g=u-n;if(s<a&&n<u){const y=t.width*t.height,v=e.width*e.height,b=f*g,w=b/(y+v-b);return Number(w.toFixed(4))}return 0}const XO=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=[];for(const u of s){const{id:f}=u,g=n.get(f);if(g){const y=YO(g,t);y>0&&a.push({id:f,data:{droppableContainer:u,value:y}})}}return a.sort(ZO)};function QO(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ax(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:mr}function WO(e){return function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];return a.reduce((f,g)=>({...f,top:f.top+e*g.y,bottom:f.bottom+e*g.y,left:f.left+e*g.x,right:f.right+e*g.x}),{...n})}}const $O=WO(1);function JO(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function tN(e,t,n){const s=JO(t);if(!s)return e;const{scaleX:a,scaleY:u,x:f,y:g}=s,y=e.left-f-(1-a)*parseFloat(n),v=e.top-g-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),b=a?e.width/a:e.width,w=u?e.height/u:e.height;return{width:b,height:w,top:v,right:y+b,bottom:v+w,left:y}}const eN={ignoreTransform:!1};function zu(e,t){t===void 0&&(t=eN);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:v,transformOrigin:b}=ts(e).getComputedStyle(e);v&&(n=tN(n,v,b))}const{top:s,left:a,width:u,height:f,bottom:g,right:y}=n;return{top:s,left:a,width:u,height:f,bottom:g,right:y}}function I1(e){return zu(e,{ignoreTransform:!0})}function nN(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function iN(e,t){return t===void 0&&(t=ts(e).getComputedStyle(e)),t.position==="fixed"}function sN(e,t){t===void 0&&(t=ts(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const u=t[a];return typeof u=="string"?n.test(u):!1})}function Kd(e,t){const n=[];function s(a){if(t!=null&&n.length>=t||!a)return n;if(d_(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Th(a)||ex(a)||n.includes(a))return n;const u=ts(e).getComputedStyle(a);return a!==e&&sN(a,u)&&n.push(a),iN(a,u)?n:s(a.parentNode)}return e?s(e):n}function lx(e){const[t]=Kd(e,1);return t??null}function _g(e){return!Gd||!e?null:Vu(e)?e:f_(e)?d_(e)||e===ku(e).scrollingElement?window:Th(e)?e:null:null}function ux(e){return Vu(e)?e.scrollX:e.scrollLeft}function cx(e){return Vu(e)?e.scrollY:e.scrollTop}function iy(e){return{x:ux(e),y:cx(e)}}var $n;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})($n||($n={}));function hx(e){return!Gd||!e?!1:e===document.scrollingElement}function fx(e){const t={x:0,y:0},n=hx(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,u=e.scrollLeft<=t.x,f=e.scrollTop>=s.y,g=e.scrollLeft>=s.x;return{isTop:a,isLeft:u,isBottom:f,isRight:g,maxScroll:s,minScroll:t}}const rN={x:.2,y:.2};function oN(e,t,n,s,a){let{top:u,left:f,right:g,bottom:y}=n;s===void 0&&(s=10),a===void 0&&(a=rN);const{isTop:v,isBottom:b,isLeft:w,isRight:A}=fx(e),I={x:0,y:0},U={x:0,y:0},z={height:t.height*a.y,width:t.width*a.x};return!v&&u<=t.top+z.height?(I.y=$n.Backward,U.y=s*Math.abs((t.top+z.height-u)/z.height)):!b&&y>=t.bottom-z.height&&(I.y=$n.Forward,U.y=s*Math.abs((t.bottom-z.height-y)/z.height)),!A&&g>=t.right-z.width?(I.x=$n.Forward,U.x=s*Math.abs((t.right-z.width-g)/z.width)):!w&&f<=t.left+z.width&&(I.x=$n.Backward,U.x=s*Math.abs((t.left+z.width-f)/z.width)),{direction:I,speed:U}}function aN(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:t,left:n,right:s,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:a,width:e.clientWidth,height:e.clientHeight}}function dx(e){return e.reduce((t,n)=>Tu(t,iy(n)),mr)}function lN(e){return e.reduce((t,n)=>t+ux(n),0)}function uN(e){return e.reduce((t,n)=>t+cx(n),0)}function cN(e,t){if(t===void 0&&(t=zu),!e)return;const{top:n,left:s,bottom:a,right:u}=t(e);lx(e)&&(a<=0||u<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const hN=[["x",["left","right"],lN],["y",["top","bottom"],uN]];class g_{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Kd(n),a=dx(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,f,g]of hN)for(const y of f)Object.defineProperty(this,y,{get:()=>{const v=g(s),b=a[u]-v;return this.rect[y]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class qc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var a;(a=this.target)==null||a.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function fN(e){const{EventTarget:t}=ts(e);return e instanceof t?e:ku(e)}function vg(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var Bs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Bs||(Bs={}));function P1(e){e.preventDefault()}function dN(e){e.stopPropagation()}var he;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(he||(he={}));const mx={start:[he.Space,he.Enter],cancel:[he.Esc],end:[he.Space,he.Enter,he.Tab]},mN=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case he.Right:return{...n,x:n.x+25};case he.Left:return{...n,x:n.x-25};case he.Down:return{...n,y:n.y+25};case he.Up:return{...n,y:n.y-25}}};class y_{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new qc(ku(n)),this.windowListeners=new qc(ts(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Bs.Resize,this.handleCancel),this.windowListeners.add(Bs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Bs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&cN(s),n(mr)}handleKeyDown(t){if(p_(t)){const{active:n,context:s,options:a}=this.props,{keyboardCodes:u=mx,coordinateGetter:f=mN,scrollBehavior:g="smooth"}=a,{code:y}=t;if(u.end.includes(y)){this.handleEnd(t);return}if(u.cancel.includes(y)){this.handleCancel(t);return}const{collisionRect:v}=s.current,b=v?{x:v.left,y:v.top}:mr;this.referenceCoordinates||(this.referenceCoordinates=b);const w=f(t,{active:n,context:s.current,currentCoordinates:b});if(w){const A=rh(w,b),I={x:0,y:0},{scrollableAncestors:U}=s.current;for(const z of U){const Z=t.code,{isTop:$,isRight:nt,isLeft:K,isBottom:ht,maxScroll:ct,minScroll:ut}=fx(z),P=aN(z),D={x:Math.min(Z===he.Right?P.right-P.width/2:P.right,Math.max(Z===he.Right?P.left:P.left+P.width/2,w.x)),y:Math.min(Z===he.Down?P.bottom-P.height/2:P.bottom,Math.max(Z===he.Down?P.top:P.top+P.height/2,w.y))},N=Z===he.Right&&!nt||Z===he.Left&&!K,F=Z===he.Down&&!ht||Z===he.Up&&!$;if(N&&D.x!==w.x){const k=z.scrollLeft+A.x,G=Z===he.Right&&k<=ct.x||Z===he.Left&&k>=ut.x;if(G&&!A.y){z.scrollTo({left:k,behavior:g});return}G?I.x=z.scrollLeft-k:I.x=Z===he.Right?z.scrollLeft-ct.x:z.scrollLeft-ut.x,I.x&&z.scrollBy({left:-I.x,behavior:g});break}else if(F&&D.y!==w.y){const k=z.scrollTop+A.y,G=Z===he.Down&&k<=ct.y||Z===he.Up&&k>=ut.y;if(G&&!A.x){z.scrollTo({top:k,behavior:g});return}G?I.y=z.scrollTop-k:I.y=Z===he.Down?z.scrollTop-ct.y:z.scrollTop-ut.y,I.y&&z.scrollBy({top:-I.y,behavior:g});break}}this.handleMove(t,Tu(rh(w,this.referenceCoordinates),I))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}y_.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=mx,onActivation:a}=t,{active:u}=n;const{code:f}=e.nativeEvent;if(s.start.includes(f)){const g=u.activatorNode.current;return g&&e.target!==g?!1:(e.preventDefault(),a?.({event:e.nativeEvent}),!0)}return!1}}];function L1(e){return!!(e&&"distance"in e)}function O1(e){return!!(e&&"delay"in e)}class __{constructor(t,n,s){var a;s===void 0&&(s=fN(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:u}=t,{target:f}=u;this.props=t,this.events=n,this.document=ku(f),this.documentListeners=new qc(this.document),this.listeners=new qc(s),this.windowListeners=new qc(ts(f)),this.initialCoordinates=(a=ny(u))!=null?a:mr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Bs.Resize,this.handleCancel),this.windowListeners.add(Bs.DragStart,P1),this.windowListeners.add(Bs.VisibilityChange,this.handleCancel),this.windowListeners.add(Bs.ContextMenu,P1),this.documentListeners.add(Bs.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(O1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(L1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:a}=this.props;a(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Bs.Click,dN,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Bs.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:a,props:u}=this,{onMove:f,options:{activationConstraint:g}}=u;if(!a)return;const y=(n=ny(t))!=null?n:mr,v=rh(a,y);if(!s&&g){if(L1(g)){if(g.tolerance!=null&&vg(v,g.tolerance))return this.handleCancel();if(vg(v,g.distance))return this.handleStart()}if(O1(g)&&vg(v,g.tolerance))return this.handleCancel();this.handlePending(g,v);return}t.cancelable&&t.preventDefault(),f(y)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===he.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const pN={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class v_ extends __{constructor(t){const{event:n}=t,s=ku(n.target);super(t,pN,s)}}v_.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const gN={move:{name:"mousemove"},end:{name:"mouseup"}};var sy;(function(e){e[e.RightClick=2]="RightClick"})(sy||(sy={}));class yN extends __{constructor(t){super(t,gN,ku(t.event.target))}}yN.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===sy.RightClick?!1:(s?.({event:n}),!0)}}];const Tg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class _N extends __{constructor(t){super(t,Tg)}static setup(){return window.addEventListener(Tg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Tg.move.name,t)};function t(){}}}_N.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:a}=n;return a.length>1?!1:(s?.({event:n}),!0)}}];var Zc;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Zc||(Zc={}));var _d;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(_d||(_d={}));function vN(e){let{acceleration:t,activator:n=Zc.Pointer,canScroll:s,draggingRect:a,enabled:u,interval:f=5,order:g=_d.TreeOrder,pointerCoordinates:y,scrollableAncestors:v,scrollableAncestorRects:b,delta:w,threshold:A}=e;const I=bN({delta:w,disabled:!u}),[U,z]=IO(),Z=V.useRef({x:0,y:0}),$=V.useRef({x:0,y:0}),nt=V.useMemo(()=>{switch(n){case Zc.Pointer:return y?{top:y.y,bottom:y.y,left:y.x,right:y.x}:null;case Zc.DraggableRect:return a}},[n,a,y]),K=V.useRef(null),ht=V.useCallback(()=>{const ut=K.current;if(!ut)return;const P=Z.current.x*$.current.x,D=Z.current.y*$.current.y;ut.scrollBy(P,D)},[]),ct=V.useMemo(()=>g===_d.TreeOrder?[...v].reverse():v,[g,v]);V.useEffect(()=>{if(!u||!v.length||!nt){z();return}for(const ut of ct){if(s?.(ut)===!1)continue;const P=v.indexOf(ut),D=b[P];if(!D)continue;const{direction:N,speed:F}=oN(ut,D,nt,t,A);for(const k of["x","y"])I[k][N[k]]||(F[k]=0,N[k]=0);if(F.x>0||F.y>0){z(),K.current=ut,U(ht,f),Z.current=F,$.current=N;return}}Z.current={x:0,y:0},$.current={x:0,y:0},z()},[t,ht,s,z,u,f,JSON.stringify(nt),JSON.stringify(I),U,v,ct,b,JSON.stringify(A)])}const TN={x:{[$n.Backward]:!1,[$n.Forward]:!1},y:{[$n.Backward]:!1,[$n.Forward]:!1}};function bN(e){let{delta:t,disabled:n}=e;const s=ey(t);return bh(a=>{if(n||!s||!a)return TN;const u={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[$n.Backward]:a.x[$n.Backward]||u.x===-1,[$n.Forward]:a.x[$n.Forward]||u.x===1},y:{[$n.Backward]:a.y[$n.Backward]||u.y===-1,[$n.Forward]:a.y[$n.Forward]||u.y===1}}},[n,t,s])}function EN(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return bh(a=>{var u;return t==null?null:(u=s??a)!=null?u:null},[s,t])}function wN(e,t){return V.useMemo(()=>e.reduce((n,s)=>{const{sensor:a}=s,u=a.activators.map(f=>({eventName:f.eventName,handler:t(f.handler,s)}));return[...n,...u]},[]),[e,t])}var ah;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ah||(ah={}));var ry;(function(e){e.Optimized="optimized"})(ry||(ry={}));const N1=new Map;function SN(e,t){let{dragging:n,dependencies:s,config:a}=t;const[u,f]=V.useState(null),{frequency:g,measure:y,strategy:v}=a,b=V.useRef(e),w=Z(),A=sh(w),I=V.useCallback(function($){$===void 0&&($=[]),!A.current&&f(nt=>nt===null?$:nt.concat($.filter(K=>!nt.includes(K))))},[A]),U=V.useRef(null),z=bh($=>{if(w&&!n)return N1;if(!$||$===N1||b.current!==e||u!=null){const nt=new Map;for(let K of e){if(!K)continue;if(u&&u.length>0&&!u.includes(K.id)&&K.rect.current){nt.set(K.id,K.rect.current);continue}const ht=K.node.current,ct=ht?new g_(y(ht),ht):null;K.rect.current=ct,ct&&nt.set(K.id,ct)}return nt}return $},[e,u,n,w,y]);return V.useEffect(()=>{b.current=e},[e]),V.useEffect(()=>{w||I()},[n,w]),V.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),V.useEffect(()=>{w||typeof g!="number"||U.current!==null||(U.current=setTimeout(()=>{I(),U.current=null},g))},[g,w,I,...s]),{droppableRects:z,measureDroppableContainers:I,measuringScheduled:u!=null};function Z(){switch(v){case ah.Always:return!1;case ah.BeforeDragging:return n;default:return!n}}}function px(e,t){return bh(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function xN(e,t){return px(e,t)}function AN(e){let{callback:t,disabled:n}=e;const s=m_(t),a=V.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(s)},[s,n]);return V.useEffect(()=>()=>a?.disconnect(),[a]),a}function Yd(e){let{callback:t,disabled:n}=e;const s=m_(t),a=V.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(s)},[n]);return V.useEffect(()=>()=>a?.disconnect(),[a]),a}function CN(e){return new g_(zu(e),e)}function V1(e,t,n){t===void 0&&(t=CN);const[s,a]=V.useState(null);function u(){a(y=>{if(!e)return null;if(e.isConnected===!1){var v;return(v=y??n)!=null?v:null}const b=t(e);return JSON.stringify(y)===JSON.stringify(b)?y:b})}const f=AN({callback(y){if(e)for(const v of y){const{type:b,target:w}=v;if(b==="childList"&&w instanceof HTMLElement&&w.contains(e)){u();break}}}}),g=Yd({callback:u});return Fr(()=>{u(),e?(g?.observe(e),f?.observe(document.body,{childList:!0,subtree:!0})):(g?.disconnect(),f?.disconnect())},[e]),s}function RN(e){const t=px(e);return ax(e,t)}const k1=[];function DN(e){const t=V.useRef(e),n=bh(s=>e?s&&s!==k1&&e&&t.current&&e.parentNode===t.current.parentNode?s:Kd(e):k1,[e]);return V.useEffect(()=>{t.current=e},[e]),n}function MN(e){const[t,n]=V.useState(null),s=V.useRef(e),a=V.useCallback(u=>{const f=_g(u.target);f&&n(g=>g?(g.set(f,iy(f)),new Map(g)):null)},[]);return V.useEffect(()=>{const u=s.current;if(e!==u){f(u);const g=e.map(y=>{const v=_g(y);return v?(v.addEventListener("scroll",a,{passive:!0}),[v,iy(v)]):null}).filter(y=>y!=null);n(g.length?new Map(g):null),s.current=e}return()=>{f(e),f(u)};function f(g){g.forEach(y=>{const v=_g(y);v?.removeEventListener("scroll",a)})}},[a,e]),V.useMemo(()=>e.length?t?Array.from(t.values()).reduce((u,f)=>Tu(u,f),mr):dx(e):mr,[e,t])}function z1(e,t){t===void 0&&(t=[]);const n=V.useRef(null);return V.useEffect(()=>{n.current=null},t),V.useEffect(()=>{const s=e!==mr;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?rh(e,n.current):mr}function IN(e){V.useEffect(()=>{if(!Gd)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function PN(e,t){return V.useMemo(()=>e.reduce((n,s)=>{let{eventName:a,handler:u}=s;return n[a]=f=>{u(f,t)},n},{}),[e,t])}function gx(e){return V.useMemo(()=>e?nN(e):null,[e])}const B1=[];function LN(e,t){t===void 0&&(t=zu);const[n]=e,s=gx(n?ts(n):null),[a,u]=V.useState(B1);function f(){u(()=>e.length?e.map(y=>hx(y)?s:new g_(t(y),y)):B1)}const g=Yd({callback:f});return Fr(()=>{g?.disconnect(),f(),e.forEach(y=>g?.observe(y))},[e]),a}function ON(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Th(t)?t:e}function NN(e){let{measure:t}=e;const[n,s]=V.useState(null),a=V.useCallback(v=>{for(const{target:b}of v)if(Th(b)){s(w=>{const A=t(b);return w?{...w,width:A.width,height:A.height}:A});break}},[t]),u=Yd({callback:a}),f=V.useCallback(v=>{const b=ON(v);u?.disconnect(),b&&u?.observe(b),s(b?t(b):null)},[t,u]),[g,y]=gd(f);return V.useMemo(()=>({nodeRef:g,rect:n,setRef:y}),[n,g,y])}const VN=[{sensor:v_,options:{}},{sensor:y_,options:{}}],kN={current:{}},td={draggable:{measure:I1},droppable:{measure:I1,strategy:ah.WhileDragging,frequency:ry.Optimized},dragOverlay:{measure:zu}};class Gc extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const zN={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Gc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:yd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:td,measureDroppableContainers:yd,windowRect:null,measuringScheduled:!1},BN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:yd,draggableNodes:new Map,over:null,measureDroppableContainers:yd},Xd=V.createContext(BN),yx=V.createContext(zN);function UN(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Gc}}}function jN(e,t){switch(t.type){case On.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case On.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case On.DragEnd:case On.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case On.RegisterDroppable:{const{element:n}=t,{id:s}=n,a=new Gc(e.droppable.containers);return a.set(s,n),{...e,droppable:{...e.droppable,containers:a}}}case On.SetDroppableDisabled:{const{id:n,key:s,disabled:a}=t,u=e.droppable.containers.get(n);if(!u||s!==u.key)return e;const f=new Gc(e.droppable.containers);return f.set(n,{...u,disabled:a}),{...e,droppable:{...e.droppable,containers:f}}}case On.UnregisterDroppable:{const{id:n,key:s}=t,a=e.droppable.containers.get(n);if(!a||s!==a.key)return e;const u=new Gc(e.droppable.containers);return u.delete(n),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function FN(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:a}=V.useContext(Xd),u=ey(s),f=ey(n?.id);return V.useEffect(()=>{if(!t&&!s&&u&&f!=null){if(!p_(u)||document.activeElement===u.target)return;const g=a.get(f);if(!g)return;const{activatorNode:y,node:v}=g;if(!y.current&&!v.current)return;requestAnimationFrame(()=>{for(const b of[y.current,v.current]){if(!b)continue;const w=OO(b);if(w){w.focus();break}}})}},[s,t,a,f,u]),null}function HN(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((a,u)=>u({transform:a,...s}),n):n}function qN(e){return V.useMemo(()=>({draggable:{...td.draggable,...e?.draggable},droppable:{...td.droppable,...e?.droppable},dragOverlay:{...td.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function ZN(e){let{activeNode:t,measure:n,initialRect:s,config:a=!0}=e;const u=V.useRef(!1),{x:f,y:g}=typeof a=="boolean"?{x:a,y:a}:a;Fr(()=>{if(!f&&!g||!t){u.current=!1;return}if(u.current||!s)return;const v=t?.node.current;if(!v||v.isConnected===!1)return;const b=n(v),w=ax(b,s);if(f||(w.x=0),g||(w.y=0),u.current=!0,Math.abs(w.x)>0||Math.abs(w.y)>0){const A=lx(v);A&&A.scrollBy({top:w.y,left:w.x})}},[t,f,g,s,n])}const _x=V.createContext({...mr,scaleX:1,scaleY:1});var ha;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ha||(ha={}));const GN=V.memo(function(t){var n,s,a,u;let{id:f,accessibility:g,autoScroll:y=!0,children:v,sensors:b=VN,collisionDetection:w=XO,measuring:A,modifiers:I,...U}=t;const z=V.useReducer(jN,void 0,UN),[Z,$]=z,[nt,K]=UO(),[ht,ct]=V.useState(ha.Uninitialized),ut=ht===ha.Initialized,{draggable:{active:P,nodes:D,translate:N},droppable:{containers:F}}=Z,k=P!=null?D.get(P):null,G=V.useRef({initial:null,translated:null}),B=V.useMemo(()=>{var Wt;return P!=null?{id:P,data:(Wt=k?.data)!=null?Wt:kN,rect:G}:null},[P,k]),Ft=V.useRef(null),[we,ot]=V.useState(null),[gt,yt]=V.useState(null),Vt=sh(U,Object.values(U)),wt=Eh("DndDescribedBy",f),H=V.useMemo(()=>F.getEnabled(),[F]),at=qN(A),{droppableRects:Tt,measureDroppableContainers:bt,measuringScheduled:xt}=SN(H,{dragging:ut,dependencies:[N.x,N.y],config:at.droppable}),Et=EN(D,P),Ut=V.useMemo(()=>gt?ny(gt):null,[gt]),te=bs(),ee=xN(Et,at.draggable.measure);ZN({activeNode:P!=null?D.get(P):null,config:te.layoutShiftCompensation,initialRect:ee,measure:at.draggable.measure});const Qt=V1(Et,at.draggable.measure,ee),hi=V1(Et?Et.parentElement:null),Xe=V.useRef({activatorEvent:null,active:null,activeNode:Et,collisionRect:null,collisions:null,droppableRects:Tt,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ti=F.getNodeFor((n=Xe.current.over)==null?void 0:n.id),rn=NN({measure:at.dragOverlay.measure}),Ai=(s=rn.nodeRef.current)!=null?s:Et,ei=ut?(a=rn.rect)!=null?a:Qt:null,vs=!!(rn.nodeRef.current&&rn.rect),es=RN(vs?null:Qt),Ve=gx(Ai?ts(Ai):null),be=DN(ut?ti??Et:null),ni=LN(be),qs=HN(I,{transform:{x:N.x-es.x,y:N.y-es.y,scaleX:1,scaleY:1},activatorEvent:gt,active:B,activeNodeRect:Qt,containerNodeRect:hi,draggingNodeRect:ei,over:Xe.current.over,overlayNodeRect:rn.rect,scrollableAncestors:be,scrollableAncestorRects:ni,windowRect:Ve}),pr=Ut?Tu(Ut,N):null,_n=MN(be),Zs=z1(_n),Gs=z1(_n,[Qt]),Ci=Tu(qs,Zs),zn=ei?$O(ei,qs):null,Ks=B&&zn?w({active:B,collisionRect:zn,droppableRects:Tt,droppableContainers:H,pointerCoordinates:pr}):null,gr=ox(Ks,"id"),[fi,Zr]=V.useState(null),di=vs?qs:Tu(qs,Gs),Qe=QO(di,(u=fi?.rect)!=null?u:null,Qt),Mn=V.useRef(null),ke=V.useCallback((Wt,ze)=>{let{sensor:Be,options:on}=ze;if(Ft.current==null)return;const Bn=D.get(Ft.current);if(!Bn)return;const vn=Wt.nativeEvent,We=new Be({active:Ft.current,activeNode:Bn,event:vn,options:on,context:Xe,onAbort($e){if(!D.get($e))return;const{onDragAbort:Fn}=Vt.current,ii={id:$e};Fn?.(ii),nt({type:"onDragAbort",event:ii})},onPending($e,jn,Fn,ii){if(!D.get($e))return;const{onDragPending:Ct}=Vt.current,mi={id:$e,constraint:jn,initialCoordinates:Fn,offset:ii};Ct?.(mi),nt({type:"onDragPending",event:mi})},onStart($e){const jn=Ft.current;if(jn==null)return;const Fn=D.get(jn);if(!Fn)return;const{onDragStart:ii}=Vt.current,Ge={activatorEvent:vn,active:{id:jn,data:Fn.data,rect:G}};yu.unstable_batchedUpdates(()=>{ii?.(Ge),ct(ha.Initializing),$({type:On.DragStart,initialCoordinates:$e,active:jn}),nt({type:"onDragStart",event:Ge}),ot(Mn.current),yt(vn)})},onMove($e){$({type:On.DragMove,coordinates:$e})},onEnd:Un(On.DragEnd),onCancel:Un(On.DragCancel)});Mn.current=We;function Un($e){return async function(){const{active:Fn,collisions:ii,over:Ge,scrollAdjustedTranslate:Ct}=Xe.current;let mi=null;if(Fn&&Ct){const{cancelDrop:Tn}=Vt.current;mi={activatorEvent:vn,active:Fn,collisions:ii,delta:Ct,over:Ge},$e===On.DragEnd&&typeof Tn=="function"&&await Promise.resolve(Tn(mi))&&($e=On.DragCancel)}Ft.current=null,yu.unstable_batchedUpdates(()=>{$({type:$e}),ct(ha.Uninitialized),Zr(null),ot(null),yt(null),Mn.current=null;const Tn=$e===On.DragEnd?"onDragEnd":"onDragCancel";if(mi){const Hn=Vt.current[Tn];Hn?.(mi),nt({type:Tn,event:mi})}})}}},[D]),Ts=V.useCallback((Wt,ze)=>(Be,on)=>{const Bn=Be.nativeEvent,vn=D.get(on);if(Ft.current!==null||!vn||Bn.dndKit||Bn.defaultPrevented)return;const We={active:vn};Wt(Be,ze.options,We)===!0&&(Bn.dndKit={capturedBy:ze.sensor},Ft.current=on,ke(Be,ze))},[D,ke]),Ys=wN(b,Ts);IN(b),Fr(()=>{Qt&&ht===ha.Initializing&&ct(ha.Initialized)},[Qt,ht]),V.useEffect(()=>{const{onDragMove:Wt}=Vt.current,{active:ze,activatorEvent:Be,collisions:on,over:Bn}=Xe.current;if(!ze||!Be)return;const vn={active:ze,activatorEvent:Be,collisions:on,delta:{x:Ci.x,y:Ci.y},over:Bn};yu.unstable_batchedUpdates(()=>{Wt?.(vn),nt({type:"onDragMove",event:vn})})},[Ci.x,Ci.y]),V.useEffect(()=>{const{active:Wt,activatorEvent:ze,collisions:Be,droppableContainers:on,scrollAdjustedTranslate:Bn}=Xe.current;if(!Wt||Ft.current==null||!ze||!Bn)return;const{onDragOver:vn}=Vt.current,We=on.get(gr),Un=We&&We.rect.current?{id:We.id,rect:We.rect.current,data:We.data,disabled:We.disabled}:null,$e={active:Wt,activatorEvent:ze,collisions:Be,delta:{x:Bn.x,y:Bn.y},over:Un};yu.unstable_batchedUpdates(()=>{Zr(Un),vn?.($e),nt({type:"onDragOver",event:$e})})},[gr]),Fr(()=>{Xe.current={activatorEvent:gt,active:B,activeNode:Et,collisionRect:zn,collisions:Ks,droppableRects:Tt,draggableNodes:D,draggingNode:Ai,draggingNodeRect:ei,droppableContainers:F,over:fi,scrollableAncestors:be,scrollAdjustedTranslate:Ci},G.current={initial:ei,translated:zn}},[B,Et,Ks,zn,D,Ai,ei,Tt,F,fi,be,Ci]),vN({...te,delta:N,draggingRect:zn,pointerCoordinates:pr,scrollableAncestors:be,scrollableAncestorRects:ni});const Ao=V.useMemo(()=>({active:B,activeNode:Et,activeNodeRect:Qt,activatorEvent:gt,collisions:Ks,containerNodeRect:hi,dragOverlay:rn,draggableNodes:D,droppableContainers:F,droppableRects:Tt,over:fi,measureDroppableContainers:bt,scrollableAncestors:be,scrollableAncestorRects:ni,measuringConfiguration:at,measuringScheduled:xt,windowRect:Ve}),[B,Et,Qt,gt,Ks,hi,rn,D,F,Tt,fi,bt,be,ni,at,xt,Ve]),Ri=V.useMemo(()=>({activatorEvent:gt,activators:Ys,active:B,activeNodeRect:Qt,ariaDescribedById:{draggable:wt},dispatch:$,draggableNodes:D,over:fi,measureDroppableContainers:bt}),[gt,Ys,B,Qt,$,wt,D,fi,bt]);return Jn.createElement(ix.Provider,{value:K},Jn.createElement(Xd.Provider,{value:Ri},Jn.createElement(yx.Provider,{value:Ao},Jn.createElement(_x.Provider,{value:Qe},v)),Jn.createElement(FN,{disabled:g?.restoreFocus===!1})),Jn.createElement(HO,{...g,hiddenTextDescribedById:wt}));function bs(){const Wt=we?.autoScrollEnabled===!1,ze=typeof y=="object"?y.enabled===!1:y===!1,Be=ut&&!Wt&&!ze;return typeof y=="object"?{...y,enabled:Be}:{enabled:Be}}}),KN=V.createContext(null),U1="button",YN="Draggable";function XN(e){let{id:t,data:n,disabled:s=!1,attributes:a}=e;const u=Eh(YN),{activators:f,activatorEvent:g,active:y,activeNodeRect:v,ariaDescribedById:b,draggableNodes:w,over:A}=V.useContext(Xd),{role:I=U1,roleDescription:U="draggable",tabIndex:z=0}=a??{},Z=y?.id===t,$=V.useContext(Z?_x:KN),[nt,K]=gd(),[ht,ct]=gd(),ut=PN(f,t),P=sh(n);Fr(()=>(w.set(t,{id:t,key:u,node:nt,activatorNode:ht,data:P}),()=>{const N=w.get(t);N&&N.key===u&&w.delete(t)}),[w,t]);const D=V.useMemo(()=>({role:I,tabIndex:z,"aria-disabled":s,"aria-pressed":Z&&I===U1?!0:void 0,"aria-roledescription":U,"aria-describedby":b.draggable}),[s,I,z,Z,U,b.draggable]);return{active:y,activatorEvent:g,activeNodeRect:v,attributes:D,isDragging:Z,listeners:s?void 0:ut,node:nt,over:A,setNodeRef:K,setActivatorNodeRef:ct,transform:$}}function QN(){return V.useContext(yx)}const WN="Droppable",$N={timeout:25};function JN(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:a}=e;const u=Eh(WN),{active:f,dispatch:g,over:y,measureDroppableContainers:v}=V.useContext(Xd),b=V.useRef({disabled:n}),w=V.useRef(!1),A=V.useRef(null),I=V.useRef(null),{disabled:U,updateMeasurementsFor:z,timeout:Z}={...$N,...a},$=sh(z??s),nt=V.useCallback(()=>{if(!w.current){w.current=!0;return}I.current!=null&&clearTimeout(I.current),I.current=setTimeout(()=>{v(Array.isArray($.current)?$.current:[$.current]),I.current=null},Z)},[Z]),K=Yd({callback:nt,disabled:U||!f}),ht=V.useCallback((D,N)=>{K&&(N&&(K.unobserve(N),w.current=!1),D&&K.observe(D))},[K]),[ct,ut]=gd(ht),P=sh(t);return V.useEffect(()=>{!K||!ct.current||(K.disconnect(),w.current=!1,K.observe(ct.current))},[ct,K]),V.useEffect(()=>(g({type:On.RegisterDroppable,element:{id:s,key:u,disabled:n,node:ct,rect:A,data:P}}),()=>g({type:On.UnregisterDroppable,key:u,id:s})),[s]),V.useEffect(()=>{n!==b.current.disabled&&(g({type:On.SetDroppableDisabled,id:s,key:u,disabled:n}),b.current.disabled=n)},[s,u,n,g]),{active:f,rect:A,isOver:y?.id===s,node:ct,over:y,setNodeRef:ut}}function T_(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function tV(e,t){return e.reduce((n,s,a)=>{const u=t.get(s);return u&&(n[a]=u),n},Array(e.length))}function Uf(e){return e!==null&&e>=0}function eV(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function nV(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const vx=e=>{let{rects:t,activeIndex:n,overIndex:s,index:a}=e;const u=T_(t,s,n),f=t[a],g=u[a];return!g||!f?null:{x:g.left-f.left,y:g.top-f.top,scaleX:g.width/f.width,scaleY:g.height/f.height}},jf={scaleX:1,scaleY:1},iV=e=>{var t;let{activeIndex:n,activeNodeRect:s,index:a,rects:u,overIndex:f}=e;const g=(t=u[n])!=null?t:s;if(!g)return null;if(a===n){const v=u[f];return v?{x:0,y:n<f?v.top+v.height-(g.top+g.height):v.top-g.top,...jf}:null}const y=sV(u,a,n);return a>n&&a<=f?{x:0,y:-g.height-y,...jf}:a<n&&a>=f?{x:0,y:g.height+y,...jf}:{x:0,y:0,...jf}};function sV(e,t,n){const s=e[t],a=e[t-1],u=e[t+1];return s?n<t?a?s.top-(a.top+a.height):u?u.top-(s.top+s.height):0:u?u.top-(s.top+s.height):a?s.top-(a.top+a.height):0:0}const Tx="Sortable",bx=Jn.createContext({activeIndex:-1,containerId:Tx,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:vx,disabled:{draggable:!1,droppable:!1}});function rV(e){let{children:t,id:n,items:s,strategy:a=vx,disabled:u=!1}=e;const{active:f,dragOverlay:g,droppableRects:y,over:v,measureDroppableContainers:b}=QN(),w=Eh(Tx,n),A=g.rect!==null,I=V.useMemo(()=>s.map(ut=>typeof ut=="object"&&"id"in ut?ut.id:ut),[s]),U=f!=null,z=f?I.indexOf(f.id):-1,Z=v?I.indexOf(v.id):-1,$=V.useRef(I),nt=!eV(I,$.current),K=Z!==-1&&z===-1||nt,ht=nV(u);Fr(()=>{nt&&U&&b(I)},[nt,I,U,b]),V.useEffect(()=>{$.current=I},[I]);const ct=V.useMemo(()=>({activeIndex:z,containerId:w,disabled:ht,disableTransforms:K,items:I,overIndex:Z,useDragOverlay:A,sortedRects:tV(I,y),strategy:a}),[z,w,ht.draggable,ht.droppable,K,I,Z,y,A,a]);return Jn.createElement(bx.Provider,{value:ct},t)}const oV=e=>{let{id:t,items:n,activeIndex:s,overIndex:a}=e;return T_(n,s,a).indexOf(t)},aV=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:a,items:u,newIndex:f,previousItems:g,previousContainerId:y,transition:v}=e;return!v||!s||g!==u&&a===f?!1:n?!0:f!==a&&t===y},lV={duration:200,easing:"ease"},Ex="transform",uV=oh.Transition.toString({property:Ex,duration:0,easing:"linear"}),cV={roleDescription:"sortable"};function hV(e){let{disabled:t,index:n,node:s,rect:a}=e;const[u,f]=V.useState(null),g=V.useRef(n);return Fr(()=>{if(!t&&n!==g.current&&s.current){const y=a.current;if(y){const v=zu(s.current,{ignoreTransform:!0}),b={x:y.left-v.left,y:y.top-v.top,scaleX:y.width/v.width,scaleY:y.height/v.height};(b.x||b.y)&&f(b)}}n!==g.current&&(g.current=n)},[t,n,s,a]),V.useEffect(()=>{u&&f(null)},[u]),u}function fV(e){let{animateLayoutChanges:t=aV,attributes:n,disabled:s,data:a,getNewIndex:u=oV,id:f,strategy:g,resizeObserverConfig:y,transition:v=lV}=e;const{items:b,containerId:w,activeIndex:A,disabled:I,disableTransforms:U,sortedRects:z,overIndex:Z,useDragOverlay:$,strategy:nt}=V.useContext(bx),K=dV(s,I),ht=b.indexOf(f),ct=V.useMemo(()=>({sortable:{containerId:w,index:ht,items:b},...a}),[w,a,ht,b]),ut=V.useMemo(()=>b.slice(b.indexOf(f)),[b,f]),{rect:P,node:D,isOver:N,setNodeRef:F}=JN({id:f,data:ct,disabled:K.droppable,resizeObserverConfig:{updateMeasurementsFor:ut,...y}}),{active:k,activatorEvent:G,activeNodeRect:B,attributes:Ft,setNodeRef:we,listeners:ot,isDragging:gt,over:yt,setActivatorNodeRef:Vt,transform:wt}=XN({id:f,data:ct,attributes:{...cV,...n},disabled:K.draggable}),H=MO(F,we),at=!!k,Tt=at&&!U&&Uf(A)&&Uf(Z),bt=!$&&gt,xt=bt&&Tt?wt:null,Ut=Tt?xt??(g??nt)({rects:z,activeNodeRect:B,activeIndex:A,overIndex:Z,index:ht}):null,te=Uf(A)&&Uf(Z)?u({id:f,items:b,activeIndex:A,overIndex:Z}):ht,ee=k?.id,Qt=V.useRef({activeId:ee,items:b,newIndex:te,containerId:w}),hi=b!==Qt.current.items,Xe=t({active:k,containerId:w,isDragging:gt,isSorting:at,id:f,index:ht,items:b,newIndex:Qt.current.newIndex,previousItems:Qt.current.items,previousContainerId:Qt.current.containerId,transition:v,wasDragging:Qt.current.activeId!=null}),ti=hV({disabled:!Xe,index:ht,node:D,rect:P});return V.useEffect(()=>{at&&Qt.current.newIndex!==te&&(Qt.current.newIndex=te),w!==Qt.current.containerId&&(Qt.current.containerId=w),b!==Qt.current.items&&(Qt.current.items=b)},[at,te,w,b]),V.useEffect(()=>{if(ee===Qt.current.activeId)return;if(ee!=null&&Qt.current.activeId==null){Qt.current.activeId=ee;return}const Ai=setTimeout(()=>{Qt.current.activeId=ee},50);return()=>clearTimeout(Ai)},[ee]),{active:k,activeIndex:A,attributes:Ft,data:ct,rect:P,index:ht,newIndex:te,items:b,isOver:N,isSorting:at,isDragging:gt,listeners:ot,node:D,overIndex:Z,over:yt,setNodeRef:H,setActivatorNodeRef:Vt,setDroppableNodeRef:F,setDraggableNodeRef:we,transform:ti??Ut,transition:rn()};function rn(){if(ti||hi&&Qt.current.newIndex===ht)return uV;if(!(bt&&!p_(G)||!v)&&(at||Xe))return oh.Transition.toString({...v,property:Ex})}}function dV(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(s=e?.droppable)!=null?s:t.droppable}}function vd(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const mV=[he.Down,he.Right,he.Up,he.Left],pV=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:a,droppableContainers:u,over:f,scrollableAncestors:g}}=t;if(mV.includes(e.code)){if(e.preventDefault(),!n||!s)return;const y=[];u.getEnabled().forEach(w=>{if(!w||w!=null&&w.disabled)return;const A=a.get(w.id);if(A)switch(e.code){case he.Down:s.top<A.top&&y.push(w);break;case he.Up:s.top>A.top&&y.push(w);break;case he.Left:s.left>A.left&&y.push(w);break;case he.Right:s.left<A.left&&y.push(w);break}});const v=KO({collisionRect:s,droppableRects:a,droppableContainers:y});let b=ox(v,"id");if(b===f?.id&&v.length>1&&(b=v[1].id),b!=null){const w=u.get(n.id),A=u.get(b),I=A?a.get(A.id):null,U=A?.node.current;if(U&&I&&w&&A){const Z=Kd(U).some((ut,P)=>g[P]!==ut),$=wx(w,A),nt=gV(w,A),K=Z||!$?{x:0,y:0}:{x:nt?s.width-I.width:0,y:nt?s.height-I.height:0},ht={x:I.left,y:I.top};return K.x&&K.y?ht:rh(ht,K)}}}};function wx(e,t){return!vd(e)||!vd(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function gV(e,t){return!vd(e)||!vd(t)||!wx(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const yV=()=>{};var j1={};const Sx=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},_V=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=e[n++];t[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=e[n++],f=e[n++],g=e[n++],y=((a&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=e[n++],f=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|f&63)}}return t.join("")},xx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const u=e[a],f=a+1<e.length,g=f?e[a+1]:0,y=a+2<e.length,v=y?e[a+2]:0,b=u>>2,w=(u&3)<<4|g>>4;let A=(g&15)<<2|v>>6,I=v&63;y||(I=64,f||(A=64)),s.push(n[b],n[w],n[A],n[I])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Sx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):_V(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const u=n[e.charAt(a++)],g=a<e.length?n[e.charAt(a)]:0;++a;const v=a<e.length?n[e.charAt(a)]:64;++a;const w=a<e.length?n[e.charAt(a)]:64;if(++a,u==null||g==null||v==null||w==null)throw new vV;const A=u<<2|g>>4;if(s.push(A),v!==64){const I=g<<4&240|v>>2;if(s.push(I),w!==64){const U=v<<6&192|w;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class vV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TV=function(e){const t=Sx(e);return xx.encodeByteArray(t,!0)},Td=function(e){return TV(e).replace(/\./g,"")},bV=function(e){try{return xx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function EV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const wV=()=>EV().__FIREBASE_DEFAULTS__,SV=()=>{if(typeof process>"u"||typeof j1>"u")return;const e=j1.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},xV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&bV(e[1]);return t&&JSON.parse(t)},b_=()=>{try{return yV()||wV()||SV()||xV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},AV=e=>b_()?.emulatorHosts?.[e],Ax=e=>{const t=AV(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Cx=()=>b_()?.config;class CV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function wh(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Rx(e){return(await fetch(e,{credentials:"include"})).ok}function Dx(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Td(JSON.stringify(n)),Td(JSON.stringify(f)),""].join(".")}const Kc={};function RV(){const e={prod:[],emulator:[]};for(const t of Object.keys(Kc))Kc[t]?e.emulator.push(t):e.prod.push(t);return e}function DV(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let F1=!1;function Mx(e,t){if(typeof window>"u"||typeof document>"u"||!wh(window.location.host)||Kc[e]===t||Kc[e]||F1)return;Kc[e]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=RV().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function g(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{F1=!0,f()},A}function b(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=DV(s),I=n("text"),U=document.getElementById(I)||document.createElement("span"),z=n("learnmore"),Z=document.getElementById(z)||document.createElement("a"),$=n("preprendIcon"),nt=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const K=A.element;g(K),b(Z,z);const ht=v();y(nt,$),K.append(nt,U,Z,ht),document.body.appendChild(K)}u?(U.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function MV(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IV(){const e=b_()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PV(){return!IV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LV(){try{return typeof indexedDB=="object"}catch{return!1}}function OV(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}const NV="FirebaseError";class bl extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=NV,Object.setPrototypeOf(this,bl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ix.prototype.create)}}class Ix{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,u=this.errors[t],f=u?VV(u,s):"Error",g=`${this.serviceName}: ${f} (${a}).`;return new bl(a,g,s)}}function VV(e,t){return e.replace(kV,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const kV=/\{\$([^}]+)}/g;function bd(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const u=e[a],f=t[a];if(H1(u)&&H1(f)){if(!bd(u,f))return!1}else if(u!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function H1(e){return e!==null&&typeof e=="object"}function To(e){return e&&e._delegate?e._delegate:e}class xu{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const hl="[DEFAULT]";class zV{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new CV;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(UV(t))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(t=hl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=hl){return this.instances.has(t)}getOptions(t=hl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&t(u,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:BV(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=hl){return this.component?this.component.multipleInstances?t:hl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BV(e){return e===hl?void 0:e}function UV(e){return e.instantiationMode==="EAGER"}class jV{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new zV(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var pe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(pe||(pe={}));const FV={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},HV=pe.INFO,qV={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},ZV=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=qV[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Px{constructor(t){this.name=t,this._logLevel=HV,this._logHandler=ZV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?FV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...t),this._logHandler(this,pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...t),this._logHandler(this,pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...t),this._logHandler(this,pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...t),this._logHandler(this,pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...t),this._logHandler(this,pe.ERROR,...t)}}const GV=(e,t)=>t.some(n=>e instanceof n);let q1,Z1;function KV(){return q1||(q1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YV(){return Z1||(Z1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lx=new WeakMap,oy=new WeakMap,Ox=new WeakMap,bg=new WeakMap,E_=new WeakMap;function XV(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",u),e.removeEventListener("error",f)},u=()=>{n(ga(e.result)),a()},f=()=>{s(e.error),a()};e.addEventListener("success",u),e.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&Lx.set(n,e)}).catch(()=>{}),E_.set(t,e),t}function QV(e){if(oy.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",f),e.removeEventListener("abort",f)},u=()=>{n(),a()},f=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",u),e.addEventListener("error",f),e.addEventListener("abort",f)});oy.set(e,t)}let ay={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return oy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ox.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ga(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function WV(e){ay=e(ay)}function $V(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Eg(this),t,...n);return Ox.set(s,t.sort?t.sort():[t]),ga(s)}:YV().includes(e)?function(...t){return e.apply(Eg(this),t),ga(Lx.get(this))}:function(...t){return ga(e.apply(Eg(this),t))}}function JV(e){return typeof e=="function"?$V(e):(e instanceof IDBTransaction&&QV(e),GV(e,KV())?new Proxy(e,ay):e)}function ga(e){if(e instanceof IDBRequest)return XV(e);if(bg.has(e))return bg.get(e);const t=JV(e);return t!==e&&(bg.set(e,t),E_.set(t,e)),t}const Eg=e=>E_.get(e);function t4(e,t,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const f=indexedDB.open(e,t),g=ga(f);return s&&f.addEventListener("upgradeneeded",y=>{s(ga(f.result),y.oldVersion,y.newVersion,ga(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const e4=["get","getKey","getAll","getAllKeys","count"],n4=["put","add","delete","clear"],wg=new Map;function G1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(wg.get(t))return wg.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=n4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||e4.includes(n)))return;const u=async function(f,...g){const y=this.transaction(f,a?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[n](...g),a&&y.done]))[0]};return wg.set(t,u),u}WV(e=>({...e,get:(t,n,s)=>G1(t,n)||e.get(t,n,s),has:(t,n)=>!!G1(t,n)||e.has(t,n)}));class i4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function s4(e){return e.getComponent()?.type==="VERSION"}const ly="@firebase/app",K1="0.14.7";const bo=new Px("@firebase/app"),r4="@firebase/app-compat",o4="@firebase/analytics-compat",a4="@firebase/analytics",l4="@firebase/app-check-compat",u4="@firebase/app-check",c4="@firebase/auth",h4="@firebase/auth-compat",f4="@firebase/database",d4="@firebase/data-connect",m4="@firebase/database-compat",p4="@firebase/functions",g4="@firebase/functions-compat",y4="@firebase/installations",_4="@firebase/installations-compat",v4="@firebase/messaging",T4="@firebase/messaging-compat",b4="@firebase/performance",E4="@firebase/performance-compat",w4="@firebase/remote-config",S4="@firebase/remote-config-compat",x4="@firebase/storage",A4="@firebase/storage-compat",C4="@firebase/firestore",R4="@firebase/ai",D4="@firebase/firestore-compat",M4="firebase",I4="12.8.0";const uy="[DEFAULT]",P4={[ly]:"fire-core",[r4]:"fire-core-compat",[a4]:"fire-analytics",[o4]:"fire-analytics-compat",[u4]:"fire-app-check",[l4]:"fire-app-check-compat",[c4]:"fire-auth",[h4]:"fire-auth-compat",[f4]:"fire-rtdb",[d4]:"fire-data-connect",[m4]:"fire-rtdb-compat",[p4]:"fire-fn",[g4]:"fire-fn-compat",[y4]:"fire-iid",[_4]:"fire-iid-compat",[v4]:"fire-fcm",[T4]:"fire-fcm-compat",[b4]:"fire-perf",[E4]:"fire-perf-compat",[w4]:"fire-rc",[S4]:"fire-rc-compat",[x4]:"fire-gcs",[A4]:"fire-gcs-compat",[C4]:"fire-fst",[D4]:"fire-fst-compat",[R4]:"fire-vertex","fire-js":"fire-js",[M4]:"fire-js-all"};const Ed=new Map,L4=new Map,cy=new Map;function Y1(e,t){try{e.container.addComponent(t)}catch(n){bo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function lh(e){const t=e.name;if(cy.has(t))return bo.debug(`There were multiple attempts to register component ${t}.`),!1;cy.set(t,e);for(const n of Ed.values())Y1(n,e);for(const n of L4.values())Y1(n,e);return!0}function Nx(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Vx(e){return e==null?!1:e.settings!==void 0}const O4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new Ix("app","Firebase",O4);class N4{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}}const kx=I4;function zx(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:uy,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw ya.create("bad-app-name",{appName:String(a)});if(n||(n=Cx()),!n)throw ya.create("no-options");const u=Ed.get(a);if(u){if(bd(n,u.options)&&bd(s,u.config))return u;throw ya.create("duplicate-app",{appName:a})}const f=new jV(a);for(const y of cy.values())f.addComponent(y);const g=new N4(n,s,f);return Ed.set(a,g),g}function Bx(e=uy){const t=Ed.get(e);if(!t&&e===uy&&Cx())return zx();if(!t)throw ya.create("no-app",{appName:e});return t}function _a(e,t,n){let s=P4[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=t.match(/\s|\//);if(a||u){const f=[`Unable to register library "${s}" with version "${t}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bo.warn(f.join(" "));return}lh(new xu(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const V4="firebase-heartbeat-database",k4=1,uh="firebase-heartbeat-store";let Sg=null;function Ux(){return Sg||(Sg=t4(V4,k4,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(uh)}catch(n){console.warn(n)}}}}).catch(e=>{throw ya.create("idb-open",{originalErrorMessage:e.message})})),Sg}async function z4(e){try{const n=(await Ux()).transaction(uh),s=await n.objectStore(uh).get(jx(e));return await n.done,s}catch(t){if(t instanceof bl)bo.warn(t.message);else{const n=ya.create("idb-get",{originalErrorMessage:t?.message});bo.warn(n.message)}}}async function X1(e,t){try{const s=(await Ux()).transaction(uh,"readwrite");await s.objectStore(uh).put(t,jx(e)),await s.done}catch(n){if(n instanceof bl)bo.warn(n.message);else{const s=ya.create("idb-set",{originalErrorMessage:n?.message});bo.warn(s.message)}}}function jx(e){return`${e.name}!${e.options.appId}`}const B4=1024,U4=30;class j4{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Q1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>U4){const a=q4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){bo.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Q1(),{heartbeatsToSend:n,unsentEntries:s}=F4(this._heartbeatsCache.heartbeats),a=Td(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return bo.warn(t),""}}}function Q1(){return new Date().toISOString().substring(0,10)}function F4(e,t=B4){const n=[];let s=e.slice();for(const a of e){const u=n.find(f=>f.agent===a.agent);if(u){if(u.dates.push(a.date),W1(n)>t){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),W1(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class H4{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LV()?OV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return X1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return X1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function W1(e){return Td(JSON.stringify({version:2,heartbeats:e})).length}function q4(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function Z4(e){lh(new xu("platform-logger",t=>new i4(t),"PRIVATE")),lh(new xu("heartbeat",t=>new j4(t),"PRIVATE")),_a(ly,K1,e),_a(ly,K1,"esm2020"),_a("fire-js","")}Z4("");var G4="firebase",K4="12.8.0";_a(G4,K4,"app");var $1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var va,Fx;(function(){var e;function t(P,D){function N(){}N.prototype=D.prototype,P.F=D.prototype,P.prototype=new N,P.prototype.constructor=P,P.D=function(F,k,G){for(var B=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)B[Ft-2]=arguments[Ft];return D.prototype[k].apply(F,B)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,D,N){N||(N=0);const F=Array(16);if(typeof D=="string")for(var k=0;k<16;++k)F[k]=D.charCodeAt(N++)|D.charCodeAt(N++)<<8|D.charCodeAt(N++)<<16|D.charCodeAt(N++)<<24;else for(k=0;k<16;++k)F[k]=D[N++]|D[N++]<<8|D[N++]<<16|D[N++]<<24;D=P.g[0],N=P.g[1],k=P.g[2];let G=P.g[3],B;B=D+(G^N&(k^G))+F[0]+3614090360&4294967295,D=N+(B<<7&4294967295|B>>>25),B=G+(k^D&(N^k))+F[1]+3905402710&4294967295,G=D+(B<<12&4294967295|B>>>20),B=k+(N^G&(D^N))+F[2]+606105819&4294967295,k=G+(B<<17&4294967295|B>>>15),B=N+(D^k&(G^D))+F[3]+3250441966&4294967295,N=k+(B<<22&4294967295|B>>>10),B=D+(G^N&(k^G))+F[4]+4118548399&4294967295,D=N+(B<<7&4294967295|B>>>25),B=G+(k^D&(N^k))+F[5]+1200080426&4294967295,G=D+(B<<12&4294967295|B>>>20),B=k+(N^G&(D^N))+F[6]+2821735955&4294967295,k=G+(B<<17&4294967295|B>>>15),B=N+(D^k&(G^D))+F[7]+4249261313&4294967295,N=k+(B<<22&4294967295|B>>>10),B=D+(G^N&(k^G))+F[8]+1770035416&4294967295,D=N+(B<<7&4294967295|B>>>25),B=G+(k^D&(N^k))+F[9]+2336552879&4294967295,G=D+(B<<12&4294967295|B>>>20),B=k+(N^G&(D^N))+F[10]+4294925233&4294967295,k=G+(B<<17&4294967295|B>>>15),B=N+(D^k&(G^D))+F[11]+2304563134&4294967295,N=k+(B<<22&4294967295|B>>>10),B=D+(G^N&(k^G))+F[12]+1804603682&4294967295,D=N+(B<<7&4294967295|B>>>25),B=G+(k^D&(N^k))+F[13]+4254626195&4294967295,G=D+(B<<12&4294967295|B>>>20),B=k+(N^G&(D^N))+F[14]+2792965006&4294967295,k=G+(B<<17&4294967295|B>>>15),B=N+(D^k&(G^D))+F[15]+1236535329&4294967295,N=k+(B<<22&4294967295|B>>>10),B=D+(k^G&(N^k))+F[1]+4129170786&4294967295,D=N+(B<<5&4294967295|B>>>27),B=G+(N^k&(D^N))+F[6]+3225465664&4294967295,G=D+(B<<9&4294967295|B>>>23),B=k+(D^N&(G^D))+F[11]+643717713&4294967295,k=G+(B<<14&4294967295|B>>>18),B=N+(G^D&(k^G))+F[0]+3921069994&4294967295,N=k+(B<<20&4294967295|B>>>12),B=D+(k^G&(N^k))+F[5]+3593408605&4294967295,D=N+(B<<5&4294967295|B>>>27),B=G+(N^k&(D^N))+F[10]+38016083&4294967295,G=D+(B<<9&4294967295|B>>>23),B=k+(D^N&(G^D))+F[15]+3634488961&4294967295,k=G+(B<<14&4294967295|B>>>18),B=N+(G^D&(k^G))+F[4]+3889429448&4294967295,N=k+(B<<20&4294967295|B>>>12),B=D+(k^G&(N^k))+F[9]+568446438&4294967295,D=N+(B<<5&4294967295|B>>>27),B=G+(N^k&(D^N))+F[14]+3275163606&4294967295,G=D+(B<<9&4294967295|B>>>23),B=k+(D^N&(G^D))+F[3]+4107603335&4294967295,k=G+(B<<14&4294967295|B>>>18),B=N+(G^D&(k^G))+F[8]+1163531501&4294967295,N=k+(B<<20&4294967295|B>>>12),B=D+(k^G&(N^k))+F[13]+2850285829&4294967295,D=N+(B<<5&4294967295|B>>>27),B=G+(N^k&(D^N))+F[2]+4243563512&4294967295,G=D+(B<<9&4294967295|B>>>23),B=k+(D^N&(G^D))+F[7]+1735328473&4294967295,k=G+(B<<14&4294967295|B>>>18),B=N+(G^D&(k^G))+F[12]+2368359562&4294967295,N=k+(B<<20&4294967295|B>>>12),B=D+(N^k^G)+F[5]+4294588738&4294967295,D=N+(B<<4&4294967295|B>>>28),B=G+(D^N^k)+F[8]+2272392833&4294967295,G=D+(B<<11&4294967295|B>>>21),B=k+(G^D^N)+F[11]+1839030562&4294967295,k=G+(B<<16&4294967295|B>>>16),B=N+(k^G^D)+F[14]+4259657740&4294967295,N=k+(B<<23&4294967295|B>>>9),B=D+(N^k^G)+F[1]+2763975236&4294967295,D=N+(B<<4&4294967295|B>>>28),B=G+(D^N^k)+F[4]+1272893353&4294967295,G=D+(B<<11&4294967295|B>>>21),B=k+(G^D^N)+F[7]+4139469664&4294967295,k=G+(B<<16&4294967295|B>>>16),B=N+(k^G^D)+F[10]+3200236656&4294967295,N=k+(B<<23&4294967295|B>>>9),B=D+(N^k^G)+F[13]+681279174&4294967295,D=N+(B<<4&4294967295|B>>>28),B=G+(D^N^k)+F[0]+3936430074&4294967295,G=D+(B<<11&4294967295|B>>>21),B=k+(G^D^N)+F[3]+3572445317&4294967295,k=G+(B<<16&4294967295|B>>>16),B=N+(k^G^D)+F[6]+76029189&4294967295,N=k+(B<<23&4294967295|B>>>9),B=D+(N^k^G)+F[9]+3654602809&4294967295,D=N+(B<<4&4294967295|B>>>28),B=G+(D^N^k)+F[12]+3873151461&4294967295,G=D+(B<<11&4294967295|B>>>21),B=k+(G^D^N)+F[15]+530742520&4294967295,k=G+(B<<16&4294967295|B>>>16),B=N+(k^G^D)+F[2]+3299628645&4294967295,N=k+(B<<23&4294967295|B>>>9),B=D+(k^(N|~G))+F[0]+4096336452&4294967295,D=N+(B<<6&4294967295|B>>>26),B=G+(N^(D|~k))+F[7]+1126891415&4294967295,G=D+(B<<10&4294967295|B>>>22),B=k+(D^(G|~N))+F[14]+2878612391&4294967295,k=G+(B<<15&4294967295|B>>>17),B=N+(G^(k|~D))+F[5]+4237533241&4294967295,N=k+(B<<21&4294967295|B>>>11),B=D+(k^(N|~G))+F[12]+1700485571&4294967295,D=N+(B<<6&4294967295|B>>>26),B=G+(N^(D|~k))+F[3]+2399980690&4294967295,G=D+(B<<10&4294967295|B>>>22),B=k+(D^(G|~N))+F[10]+4293915773&4294967295,k=G+(B<<15&4294967295|B>>>17),B=N+(G^(k|~D))+F[1]+2240044497&4294967295,N=k+(B<<21&4294967295|B>>>11),B=D+(k^(N|~G))+F[8]+1873313359&4294967295,D=N+(B<<6&4294967295|B>>>26),B=G+(N^(D|~k))+F[15]+4264355552&4294967295,G=D+(B<<10&4294967295|B>>>22),B=k+(D^(G|~N))+F[6]+2734768916&4294967295,k=G+(B<<15&4294967295|B>>>17),B=N+(G^(k|~D))+F[13]+1309151649&4294967295,N=k+(B<<21&4294967295|B>>>11),B=D+(k^(N|~G))+F[4]+4149444226&4294967295,D=N+(B<<6&4294967295|B>>>26),B=G+(N^(D|~k))+F[11]+3174756917&4294967295,G=D+(B<<10&4294967295|B>>>22),B=k+(D^(G|~N))+F[2]+718787259&4294967295,k=G+(B<<15&4294967295|B>>>17),B=N+(G^(k|~D))+F[9]+3951481745&4294967295,P.g[0]=P.g[0]+D&4294967295,P.g[1]=P.g[1]+(k+(B<<21&4294967295|B>>>11))&4294967295,P.g[2]=P.g[2]+k&4294967295,P.g[3]=P.g[3]+G&4294967295}s.prototype.v=function(P,D){D===void 0&&(D=P.length);const N=D-this.blockSize,F=this.C;let k=this.h,G=0;for(;G<D;){if(k==0)for(;G<=N;)a(this,P,G),G+=this.blockSize;if(typeof P=="string"){for(;G<D;)if(F[k++]=P.charCodeAt(G++),k==this.blockSize){a(this,F),k=0;break}}else for(;G<D;)if(F[k++]=P[G++],k==this.blockSize){a(this,F),k=0;break}}this.h=k,this.o+=D},s.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var D=1;D<P.length-8;++D)P[D]=0;D=this.o*8;for(var N=P.length-8;N<P.length;++N)P[N]=D&255,D/=256;for(this.v(P),P=Array(16),D=0,N=0;N<4;++N)for(let F=0;F<32;F+=8)P[D++]=this.g[N]>>>F&255;return P};function u(P,D){var N=g;return Object.prototype.hasOwnProperty.call(N,P)?N[P]:N[P]=D(P)}function f(P,D){this.h=D;const N=[];let F=!0;for(let k=P.length-1;k>=0;k--){const G=P[k]|0;F&&G==D||(N[k]=G,F=!1)}this.g=N}var g={};function y(P){return-128<=P&&P<128?u(P,function(D){return new f([D|0],D<0?-1:0)}):new f([P|0],P<0?-1:0)}function v(P){if(isNaN(P)||!isFinite(P))return w;if(P<0)return Z(v(-P));const D=[];let N=1;for(let F=0;P>=N;F++)D[F]=P/N|0,N*=4294967296;return new f(D,0)}function b(P,D){if(P.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(P.charAt(0)=="-")return Z(b(P.substring(1),D));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(D,8));let F=w;for(let G=0;G<P.length;G+=8){var k=Math.min(8,P.length-G);const B=parseInt(P.substring(G,G+k),D);k<8?(k=v(Math.pow(D,k)),F=F.j(k).add(v(B))):(F=F.j(N),F=F.add(v(B)))}return F}var w=y(0),A=y(1),I=y(16777216);e=f.prototype,e.m=function(){if(z(this))return-Z(this).m();let P=0,D=1;for(let N=0;N<this.g.length;N++){const F=this.i(N);P+=(F>=0?F:4294967296+F)*D,D*=4294967296}return P},e.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(U(this))return"0";if(z(this))return"-"+Z(this).toString(P);const D=v(Math.pow(P,6));var N=this;let F="";for(;;){const k=ht(N,D).g;N=$(N,k.j(D));let G=((N.g.length>0?N.g[0]:N.h)>>>0).toString(P);if(N=k,U(N))return G+F;for(;G.length<6;)G="0"+G;F=G+F}},e.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function U(P){if(P.h!=0)return!1;for(let D=0;D<P.g.length;D++)if(P.g[D]!=0)return!1;return!0}function z(P){return P.h==-1}e.l=function(P){return P=$(this,P),z(P)?-1:U(P)?0:1};function Z(P){const D=P.g.length,N=[];for(let F=0;F<D;F++)N[F]=~P.g[F];return new f(N,~P.h).add(A)}e.abs=function(){return z(this)?Z(this):this},e.add=function(P){const D=Math.max(this.g.length,P.g.length),N=[];let F=0;for(let k=0;k<=D;k++){let G=F+(this.i(k)&65535)+(P.i(k)&65535),B=(G>>>16)+(this.i(k)>>>16)+(P.i(k)>>>16);F=B>>>16,G&=65535,B&=65535,N[k]=B<<16|G}return new f(N,N[N.length-1]&-2147483648?-1:0)};function $(P,D){return P.add(Z(D))}e.j=function(P){if(U(this)||U(P))return w;if(z(this))return z(P)?Z(this).j(Z(P)):Z(Z(this).j(P));if(z(P))return Z(this.j(Z(P)));if(this.l(I)<0&&P.l(I)<0)return v(this.m()*P.m());const D=this.g.length+P.g.length,N=[];for(var F=0;F<2*D;F++)N[F]=0;for(F=0;F<this.g.length;F++)for(let k=0;k<P.g.length;k++){const G=this.i(F)>>>16,B=this.i(F)&65535,Ft=P.i(k)>>>16,we=P.i(k)&65535;N[2*F+2*k]+=B*we,nt(N,2*F+2*k),N[2*F+2*k+1]+=G*we,nt(N,2*F+2*k+1),N[2*F+2*k+1]+=B*Ft,nt(N,2*F+2*k+1),N[2*F+2*k+2]+=G*Ft,nt(N,2*F+2*k+2)}for(P=0;P<D;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=D;P<2*D;P++)N[P]=0;return new f(N,0)};function nt(P,D){for(;(P[D]&65535)!=P[D];)P[D+1]+=P[D]>>>16,P[D]&=65535,D++}function K(P,D){this.g=P,this.h=D}function ht(P,D){if(U(D))throw Error("division by zero");if(U(P))return new K(w,w);if(z(P))return D=ht(Z(P),D),new K(Z(D.g),Z(D.h));if(z(D))return D=ht(P,Z(D)),new K(Z(D.g),D.h);if(P.g.length>30){if(z(P)||z(D))throw Error("slowDivide_ only works with positive integers.");for(var N=A,F=D;F.l(P)<=0;)N=ct(N),F=ct(F);var k=ut(N,1),G=ut(F,1);for(F=ut(F,2),N=ut(N,2);!U(F);){var B=G.add(F);B.l(P)<=0&&(k=k.add(N),G=B),F=ut(F,1),N=ut(N,1)}return D=$(P,k.j(D)),new K(k,D)}for(k=w;P.l(D)>=0;){for(N=Math.max(1,Math.floor(P.m()/D.m())),F=Math.ceil(Math.log(N)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),G=v(N),B=G.j(D);z(B)||B.l(P)>0;)N-=F,G=v(N),B=G.j(D);U(G)&&(G=A),k=k.add(G),P=$(P,B)}return new K(k,P)}e.B=function(P){return ht(this,P).h},e.and=function(P){const D=Math.max(this.g.length,P.g.length),N=[];for(let F=0;F<D;F++)N[F]=this.i(F)&P.i(F);return new f(N,this.h&P.h)},e.or=function(P){const D=Math.max(this.g.length,P.g.length),N=[];for(let F=0;F<D;F++)N[F]=this.i(F)|P.i(F);return new f(N,this.h|P.h)},e.xor=function(P){const D=Math.max(this.g.length,P.g.length),N=[];for(let F=0;F<D;F++)N[F]=this.i(F)^P.i(F);return new f(N,this.h^P.h)};function ct(P){const D=P.g.length+1,N=[];for(let F=0;F<D;F++)N[F]=P.i(F)<<1|P.i(F-1)>>>31;return new f(N,P.h)}function ut(P,D){const N=D>>5;D%=32;const F=P.g.length-N,k=[];for(let G=0;G<F;G++)k[G]=D>0?P.i(G+N)>>>D|P.i(G+N+1)<<32-D:P.i(G+N);return new f(k,P.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Fx=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=b,va=f}).apply(typeof $1<"u"?$1:typeof self<"u"?self:typeof window<"u"?window:{});var Ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hx,Vc,qx,ed,hy,Zx,Gx,Kx;(function(){var e,t=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ff=="object"&&Ff];for(var E=0;E<d.length;++E){var C=d[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var s=n(this);function a(d,E){if(E)t:{var C=s;d=d.split(".");for(var O=0;O<d.length-1;O++){var J=d[O];if(!(J in C))break t;C=C[J]}d=d[d.length-1],O=C[d],E=E(O),E!=O&&E!=null&&t(C,d,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(E){var C=[],O;for(O in E)Object.prototype.hasOwnProperty.call(E,O)&&C.push([O,E[O]]);return C}});var u=u||{},f=this||self;function g(d){var E=typeof d;return E=="object"&&d!=null||E=="function"}function y(d,E,C){return d.call.apply(d.bind,arguments)}function v(d,E,C){return v=y,v.apply(null,arguments)}function b(d,E){var C=Array.prototype.slice.call(arguments,1);return function(){var O=C.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function w(d,E){function C(){}C.prototype=E.prototype,d.Z=E.prototype,d.prototype=new C,d.prototype.constructor=d,d.Ob=function(O,J,rt){for(var St=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)St[Ht-2]=arguments[Ht];return E.prototype[J].apply(O,St)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function I(d){const E=d.length;if(E>0){const C=Array(E);for(let O=0;O<E;O++)C[O]=d[O];return C}return[]}function U(d,E){for(let O=1;O<arguments.length;O++){const J=arguments[O];var C=typeof J;if(C=C!="object"?C:J?Array.isArray(J)?"array":C:"null",C=="array"||C=="object"&&typeof J.length=="number"){C=d.length||0;const rt=J.length||0;d.length=C+rt;for(let St=0;St<rt;St++)d[C+St]=J[St]}else d.push(J)}}class z{constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function Z(d){f.setTimeout(()=>{throw d},0)}function $(){var d=P;let E=null;return d.g&&(E=d.g,d.g=d.g.next,d.g||(d.h=null),E.next=null),E}class nt{constructor(){this.h=this.g=null}add(E,C){const O=K.get();O.set(E,C),this.h?this.h.next=O:this.g=O,this.h=O}}var K=new z(()=>new ht,d=>d.reset());class ht{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,ut=!1,P=new nt,D=()=>{const d=Promise.resolve(void 0);ct=()=>{d.then(N)}};function N(){for(var d;d=$();){try{d.h.call(d.g)}catch(C){Z(C)}var E=K;E.j(d),E.h<100&&(E.h++,d.next=E.g,E.g=d)}ut=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,E){this.type=d,this.g=this.target=E,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,E=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const C=()=>{};f.addEventListener("test",C,E),f.removeEventListener("test",C,E)}catch{}return d})();function B(d){return/^[\s\xa0]*$/.test(d)}function Ft(d,E){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,E)}w(Ft,k),Ft.prototype.init=function(d,E){const C=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=E,E=d.relatedTarget,E||(C=="mouseover"?E=d.fromElement:C=="mouseout"&&(E=d.toElement)),this.relatedTarget=E,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ft.Z.h.call(this)},Ft.prototype.h=function(){Ft.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),ot=0;function gt(d,E,C,O,J){this.listener=d,this.proxy=null,this.src=E,this.type=C,this.capture=!!O,this.ha=J,this.key=++ot,this.da=this.fa=!1}function yt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Vt(d,E,C){for(const O in d)E.call(C,d[O],O,d)}function wt(d,E){for(const C in d)E.call(void 0,d[C],C,d)}function H(d){const E={};for(const C in d)E[C]=d[C];return E}const at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(d,E){let C,O;for(let J=1;J<arguments.length;J++){O=arguments[J];for(C in O)d[C]=O[C];for(let rt=0;rt<at.length;rt++)C=at[rt],Object.prototype.hasOwnProperty.call(O,C)&&(d[C]=O[C])}}function bt(d){this.src=d,this.g={},this.h=0}bt.prototype.add=function(d,E,C,O,J){const rt=d.toString();d=this.g[rt],d||(d=this.g[rt]=[],this.h++);const St=Et(d,E,O,J);return St>-1?(E=d[St],C||(E.fa=!1)):(E=new gt(E,this.src,rt,!!O,J),E.fa=C,d.push(E)),E};function xt(d,E){const C=E.type;if(C in d.g){var O=d.g[C],J=Array.prototype.indexOf.call(O,E,void 0),rt;(rt=J>=0)&&Array.prototype.splice.call(O,J,1),rt&&(yt(E),d.g[C].length==0&&(delete d.g[C],d.h--))}}function Et(d,E,C,O){for(let J=0;J<d.length;++J){const rt=d[J];if(!rt.da&&rt.listener==E&&rt.capture==!!C&&rt.ha==O)return J}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),te={};function ee(d,E,C,O,J){if(Array.isArray(E)){for(let rt=0;rt<E.length;rt++)ee(d,E[rt],C,O,J);return null}return C=es(C),d&&d[we]?d.J(E,C,g(O)?!!O.capture:!1,J):Qt(d,E,C,!1,O,J)}function Qt(d,E,C,O,J,rt){if(!E)throw Error("Invalid event type");const St=g(J)?!!J.capture:!!J;let Ht=ei(d);if(Ht||(d[Ut]=Ht=new bt(d)),C=Ht.add(E,C,O,St,rt),C.proxy)return C;if(O=hi(),C.proxy=O,O.src=d,O.listener=C,d.addEventListener)G||(J=St),J===void 0&&(J=!1),d.addEventListener(E.toString(),O,J);else if(d.attachEvent)d.attachEvent(rn(E.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return C}function hi(){function d(C){return E.call(d.src,d.listener,C)}const E=Ai;return d}function Xe(d,E,C,O,J){if(Array.isArray(E))for(var rt=0;rt<E.length;rt++)Xe(d,E[rt],C,O,J);else O=g(O)?!!O.capture:!!O,C=es(C),d&&d[we]?(d=d.i,rt=String(E).toString(),rt in d.g&&(E=d.g[rt],C=Et(E,C,O,J),C>-1&&(yt(E[C]),Array.prototype.splice.call(E,C,1),E.length==0&&(delete d.g[rt],d.h--)))):d&&(d=ei(d))&&(E=d.g[E.toString()],d=-1,E&&(d=Et(E,C,O,J)),(C=d>-1?E[d]:null)&&ti(C))}function ti(d){if(typeof d!="number"&&d&&!d.da){var E=d.src;if(E&&E[we])xt(E.i,d);else{var C=d.type,O=d.proxy;E.removeEventListener?E.removeEventListener(C,O,d.capture):E.detachEvent?E.detachEvent(rn(C),O):E.addListener&&E.removeListener&&E.removeListener(O),(C=ei(E))?(xt(C,d),C.h==0&&(C.src=null,E[Ut]=null)):yt(d)}}}function rn(d){return d in te?te[d]:te[d]="on"+d}function Ai(d,E){if(d.da)d=!0;else{E=new Ft(E,this);const C=d.listener,O=d.ha||d.src;d.fa&&ti(d),d=C.call(O,E)}return d}function ei(d){return d=d[Ut],d instanceof bt?d:null}var vs="__closure_events_fn_"+(Math.random()*1e9>>>0);function es(d){return typeof d=="function"?d:(d[vs]||(d[vs]=function(E){return d.handleEvent(E)}),d[vs])}function Ve(){F.call(this),this.i=new bt(this),this.M=this,this.G=null}w(Ve,F),Ve.prototype[we]=!0,Ve.prototype.removeEventListener=function(d,E,C,O){Xe(this,d,E,C,O)};function be(d,E){var C,O=d.G;if(O)for(C=[];O;O=O.G)C.push(O);if(d=d.M,O=E.type||E,typeof E=="string")E=new k(E,d);else if(E instanceof k)E.target=E.target||d;else{var J=E;E=new k(O,d),Tt(E,J)}J=!0;let rt,St;if(C)for(St=C.length-1;St>=0;St--)rt=E.g=C[St],J=ni(rt,O,!0,E)&&J;if(rt=E.g=d,J=ni(rt,O,!0,E)&&J,J=ni(rt,O,!1,E)&&J,C)for(St=0;St<C.length;St++)rt=E.g=C[St],J=ni(rt,O,!1,E)&&J}Ve.prototype.N=function(){if(Ve.Z.N.call(this),this.i){var d=this.i;for(const E in d.g){const C=d.g[E];for(let O=0;O<C.length;O++)yt(C[O]);delete d.g[E],d.h--}}this.G=null},Ve.prototype.J=function(d,E,C,O){return this.i.add(String(d),E,!1,C,O)},Ve.prototype.K=function(d,E,C,O){return this.i.add(String(d),E,!0,C,O)};function ni(d,E,C,O){if(E=d.i.g[String(E)],!E)return!0;E=E.concat();let J=!0;for(let rt=0;rt<E.length;++rt){const St=E[rt];if(St&&!St.da&&St.capture==C){const Ht=St.listener,fe=St.ha||St.src;St.fa&&xt(d.i,St),J=Ht.call(fe,O)!==!1&&J}}return J&&!O.defaultPrevented}function qs(d,E){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:f.setTimeout(d,E||0)}function pr(d){d.g=qs(()=>{d.g=null,d.i&&(d.i=!1,pr(d))},d.l);const E=d.h;d.h=null,d.m.apply(null,E)}class _n extends F{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:pr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zs(d){F.call(this),this.h=d,this.g={}}w(Zs,F);var Gs=[];function Ci(d){Vt(d.g,function(E,C){this.g.hasOwnProperty(C)&&ti(E)},d),d.g={}}Zs.prototype.N=function(){Zs.Z.N.call(this),Ci(this)},Zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=f.JSON.stringify,Ks=f.JSON.parse,gr=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function fi(){}function Zr(){}var di={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){k.call(this,"d")}w(Qe,k);function Mn(){k.call(this,"c")}w(Mn,k);var ke={},Ts=null;function Ys(){return Ts=Ts||new Ve}ke.Ia="serverreachability";function Ao(d){k.call(this,ke.Ia,d)}w(Ao,k);function Ri(d){const E=Ys();be(E,new Ao(E))}ke.STAT_EVENT="statevent";function bs(d,E){k.call(this,ke.STAT_EVENT,d),this.stat=E}w(bs,k);function Wt(d){const E=Ys();be(E,new bs(E,d))}ke.Ja="timingevent";function ze(d,E){k.call(this,ke.Ja,d),this.size=E}w(ze,k);function Be(d,E){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},E)}function on(){this.g=!0}on.prototype.ua=function(){this.g=!1};function Bn(d,E,C,O,J,rt){d.info(function(){if(d.g)if(rt){var St="",Ht=rt.split("&");for(let de=0;de<Ht.length;de++){var fe=Ht[de].split("=");if(fe.length>1){const Oe=fe[0];fe=fe[1];const Hi=Oe.split("_");St=Hi.length>=2&&Hi[1]=="type"?St+(Oe+"="+fe+"&"):St+(Oe+"=redacted&")}}}else St=null;else St=rt;return"XMLHTTP REQ ("+O+") [attempt "+J+"]: "+E+`
`+C+`
`+St})}function vn(d,E,C,O,J,rt,St){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+J+"]: "+E+`
`+C+`
`+rt+" "+St})}function We(d,E,C,O){d.info(function(){return"XMLHTTP TEXT ("+E+"): "+$e(d,C)+(O?" "+O:"")})}function Un(d,E){d.info(function(){return"TIMEOUT: "+E})}on.prototype.info=function(){};function $e(d,E){if(!d.g)return E;if(!E)return null;try{const rt=JSON.parse(E);if(rt){for(d=0;d<rt.length;d++)if(Array.isArray(rt[d])){var C=rt[d];if(!(C.length<2)){var O=C[1];if(Array.isArray(O)&&!(O.length<1)){var J=O[0];if(J!="noop"&&J!="stop"&&J!="close")for(let St=1;St<O.length;St++)O[St]=""}}}}return zn(rt)}catch{return E}}var jn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ii;function Ge(){}w(Ge,fi),Ge.prototype.g=function(){return new XMLHttpRequest},ii=new Ge;function Ct(d){return encodeURIComponent(String(d))}function mi(d){var E=1;d=d.split(":");const C=[];for(;E>0&&d.length;)C.push(d.shift()),E--;return d.length&&C.push(d.join(":")),C}function Tn(d,E,C,O){this.j=d,this.i=E,this.l=C,this.S=O||1,this.V=new Zs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Je={},an={};function ns(d,E,C){d.M=1,d.A=Ae(Ue(E)),d.u=C,d.R=!0,is(d,null)}function is(d,E){d.F=Date.now(),Es(d),d.B=Ue(d.A);var C=d.B,O=d.S;Array.isArray(O)||(O=[String(O)]),_r(C.i,"t",O),d.C=0,C=d.j.L,d.h=new Hn,d.g=ka(d.j,C?E:null,!d.u),d.P>0&&(d.O=new _n(v(d.Y,d,d.g),d.P)),E=d.V,C=d.g,O=d.ba;var J="readystatechange";Array.isArray(J)||(J&&(Gs[0]=J.toString()),J=Gs);for(let rt=0;rt<J.length;rt++){const St=ee(C,J[rt],O||E.handleEvent,!1,E.h||E);if(!St)break;E.g[St.key]=St}E=d.J?H(d.J):{},d.u?(d.v||(d.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,E)):(d.v="GET",d.g.ea(d.B,d.v,null,E)),Ri(),Bn(d.i,d.v,d.B,d.l,d.S,d.u)}Tn.prototype.ba=function(d){d=d.target;const E=this.O;E&&as(d)==3?E.j():this.Y(d)},Tn.prototype.Y=function(d){try{if(d==this.g)t:{const Ht=as(this.g),fe=this.g.ya(),de=this.g.ca();if(!(Ht<3)&&(Ht!=3||this.g&&(this.h.h||this.g.la()||En(this.g)))){this.K||Ht!=4||fe==7||(fe==8||de<=0?Ri(3):Ri(2)),ss(this);var E=this.g.ca();this.X=E;var C=Al(this);if(this.o=E==200,vn(this.i,this.v,this.B,this.l,this.S,Ht,E),this.o){if(this.U&&!this.L){e:{if(this.g){var O,J=this.g;if((O=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(O)){var rt=O;break e}}rt=null}if(d=rt)We(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ws(this,d);else{this.o=!1,this.m=3,Wt(12),qn(this),zi(this);break t}}if(this.R){d=!0;let Oe;for(;!this.K&&this.C<C.length;)if(Oe=Rl(this,C),Oe==an){Ht==4&&(this.m=4,Wt(14),d=!1),We(this.i,this.l,null,"[Incomplete Response]");break}else if(Oe==Je){this.m=4,Wt(15),We(this.i,this.l,C,"[Invalid Chunk]"),d=!1;break}else We(this.i,this.l,Oe,null),ws(this,Oe);if(Cl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||C.length!=0||this.h.h||(this.m=1,Wt(16),d=!1),this.o=this.o&&d,!d)We(this.i,this.l,C,"[Invalid Chunked Response]"),qn(this),zi(this);else if(C.length>0&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.aa&&!St.P&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Na(St),St.P=!0,Wt(11))}}else We(this.i,this.l,C,null),ws(this,C);Ht==4&&qn(this),this.o&&!this.K&&(Ht==4?Ii(this.j,this):(this.o=!1,Es(this)))}else ls(this.g),E==400&&C.indexOf("Unknown SID")>0?(this.m=3,Wt(12)):(this.m=0,Wt(13)),qn(this),zi(this)}}}catch{}};function Al(d){if(!Cl(d))return d.g.la();const E=En(d.g);if(E==="")return"";let C="";const O=E.length,J=as(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return qn(d),zi(d),"";d.h.i=new f.TextDecoder}for(let rt=0;rt<O;rt++)d.h.h=!0,C+=d.h.i.decode(E[rt],{stream:!(J&&rt==O-1)});return E.length=0,d.h.g+=C,d.C=0,d.h.g}function Cl(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Rl(d,E){var C=d.C,O=E.indexOf(`
`,C);return O==-1?an:(C=Number(E.substring(C,O)),isNaN(C)?Je:(O+=1,O+C>E.length?an:(E=E.slice(O,O+C),d.C=O+C,E)))}Tn.prototype.cancel=function(){this.K=!0,qn(this)};function Es(d){d.T=Date.now()+d.H,Co(d,d.H)}function Co(d,E){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Be(v(d.aa,d),E)}function ss(d){d.D&&(f.clearTimeout(d.D),d.D=null)}Tn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Un(this.i,this.B),this.M!=2&&(Ri(),Wt(17)),qn(this),this.m=2,zi(this)):Co(this,this.T-d)};function zi(d){d.j.I==0||d.K||Ii(d.j,d)}function qn(d){ss(d);var E=d.O;E&&typeof E.dispose=="function"&&E.dispose(),d.O=null,Ci(d.V),d.g&&(E=d.g,d.g=null,E.abort(),E.dispose())}function ws(d,E){try{var C=d.j;if(C.I!=0&&(C.g==d||Bi(C.h,d))){if(!d.L&&Bi(C.h,d)&&C.I==3){try{var O=C.Ba.g.parse(E)}catch{O=null}if(Array.isArray(O)&&O.length==3){var J=O;if(J[0]==0){t:if(!C.v){if(C.g)if(C.g.F+3e3<d.F)Oo(C),Er(C);else break t;Wr(C),Wt(18)}}else C.xa=J[1],0<C.xa-C.K&&J[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Be(v(C.Va,C),6e3));Ss(C.h)<=1&&C.ta&&(C.ta=void 0)}else us(C,11)}else if((d.L||C.g==d)&&Oo(C),!B(E))for(J=C.Ba.g.parse(E),E=0;E<J.length;E++){let de=J[E];const Oe=de[0];if(!(Oe<=C.K))if(C.K=Oe,de=de[1],C.I==2)if(de[0]=="c"){C.M=de[1],C.ba=de[2];const Hi=de[3];Hi!=null&&(C.ka=Hi,C.j.info("VER="+C.ka));const qi=de[4];qi!=null&&(C.za=qi,C.j.info("SVER="+C.za));const Pi=de[5];Pi!=null&&typeof Pi=="number"&&Pi>0&&(O=1.5*Pi,C.O=O,C.j.info("backChannelRequestTimeoutMs_="+O)),O=C;const hs=d.g;if(hs){const $r=hs.g?hs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var rt=O.h;rt.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(rt.j=rt.l,rt.g=new Set,rt.h&&(Xs(rt,rt.h),rt.h=null))}if(O.G){const Jr=hs.g?hs.g.getResponseHeader("X-HTTP-Session-Id"):null;Jr&&(O.wa=Jr,Rt(O.J,O.G,Jr))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-d.F,C.j.info("Handshake RTT: "+C.T+"ms")),O=C;var St=d;if(O.na=Va(O,O.L?O.ba:null,O.W),St.L){Ro(O.h,St);var Ht=St,fe=O.O;fe&&(Ht.H=fe),Ht.D&&(ss(Ht),Es(Ht)),O.g=St}else Oa(O);C.i.length>0&&_i(C)}else de[0]!="stop"&&de[0]!="close"||us(C,7);else C.I==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?us(C,7):$t(C):de[0]!="noop"&&C.l&&C.l.qa(de),C.A=0)}}Ri(4)}catch{}}var ln=class{constructor(d,E){this.g=d,this.map=E}};function Ia(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pa(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ss(d){return d.h?1:d.g?d.g.size:0}function Bi(d,E){return d.h?d.h==E:d.g?d.g.has(E):!1}function Xs(d,E){d.g?d.g.add(E):d.h=E}function Ro(d,E){d.h&&d.h==E?d.h=null:d.g&&d.g.has(E)&&d.g.delete(E)}Ia.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Do(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let E=d.i;for(const C of d.g.values())E=E.concat(C.G);return E}return I(d.i)}var yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jt(d,E){if(d){d=d.split("&");for(let C=0;C<d.length;C++){const O=d[C].indexOf("=");let J,rt=null;O>=0?(J=d[C].substring(0,O),rt=d[C].substring(O+1)):J=d[C],E(J,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}function ne(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;d instanceof ne?(this.l=d.l,je(this,d.j),this.o=d.o,this.g=d.g,Di(this,d.u),this.h=d.h,Gr(this,Xr(d.i)),this.m=d.m):d&&(E=String(d).match(yr))?(this.l=!1,je(this,E[1]||"",!0),this.o=Ui(E[2]||""),this.g=Ui(E[3]||"",!0),Di(this,E[4]),this.h=Ui(E[5]||"",!0),Gr(this,E[6]||"",!0),this.m=Ui(E[7]||"")):(this.l=!1,this.i=new ji(null,this.l))}ne.prototype.toString=function(){const d=[];var E=this.j;E&&d.push(xs(E,Mo,!0),":");var C=this.g;return(C||E=="file")&&(d.push("//"),(E=this.o)&&d.push(xs(E,Mo,!0),"@"),d.push(Ct(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&d.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&d.push("/"),d.push(xs(C,C.charAt(0)=="/"?rs:Kr,!0))),(C=this.i.toString())&&d.push("?",C),(C=this.m)&&d.push("#",xs(C,As)),d.join("")},ne.prototype.resolve=function(d){const E=Ue(this);let C=!!d.j;C?je(E,d.j):C=!!d.o,C?E.o=d.o:C=!!d.g,C?E.g=d.g:C=d.u!=null;var O=d.h;if(C)Di(E,d.u);else if(C=!!d.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var J=E.h.lastIndexOf("/");J!=-1&&(O=E.h.slice(0,J+1)+O)}if(J=O,J==".."||J==".")O="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){O=J.lastIndexOf("/",0)==0,J=J.split("/");const rt=[];for(let St=0;St<J.length;){const Ht=J[St++];Ht=="."?O&&St==J.length&&rt.push(""):Ht==".."?((rt.length>1||rt.length==1&&rt[0]!="")&&rt.pop(),O&&St==J.length&&rt.push("")):(rt.push(Ht),O=!0)}O=rt.join("/")}else O=J}return C?E.h=O:C=d.i.toString()!=="",C?Gr(E,Xr(d.i)):C=!!d.m,C&&(E.m=d.m),E};function Ue(d){return new ne(d)}function je(d,E,C){d.j=C?Ui(E,!0):E,d.j&&(d.j=d.j.replace(/:$/,""))}function Di(d,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);d.u=E}else d.u=null}function Gr(d,E,C){E instanceof ji?(d.i=E,vr(d.i,d.l)):(C||(E=xs(E,Ce)),d.i=new ji(E,d.l))}function Rt(d,E,C){d.i.set(E,C)}function Ae(d){return Rt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ui(d,E){return d?E?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function xs(d,E,C){return typeof d=="string"?(d=encodeURI(d).replace(E,Le),C&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Le(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Mo=/[#\/\?@]/g,Kr=/[#\?:]/g,rs=/[#\?]/g,Ce=/[#\?@]/g,As=/#/g;function ji(d,E){this.h=this.g=null,this.i=d||null,this.j=!!E}function bn(d){d.g||(d.g=new Map,d.h=0,d.i&&Jt(d.i,function(E,C){d.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}e=ji.prototype,e.add=function(d,E){bn(this),this.i=null,d=Cs(this,d);let C=this.g.get(d);return C||this.g.set(d,C=[]),C.push(E),this.h+=1,this};function Io(d,E){bn(d),E=Cs(d,E),d.g.has(E)&&(d.i=null,d.h-=d.g.get(E).length,d.g.delete(E))}function Qs(d,E){return bn(d),E=Cs(d,E),d.g.has(E)}e.forEach=function(d,E){bn(this),this.g.forEach(function(C,O){C.forEach(function(J){d.call(E,J,O,this)},this)},this)};function Yr(d,E){bn(d);let C=[];if(typeof E=="string")Qs(d,E)&&(C=C.concat(d.g.get(Cs(d,E))));else for(d=Array.from(d.g.values()),E=0;E<d.length;E++)C=C.concat(d[E]);return C}e.set=function(d,E){return bn(this),this.i=null,d=Cs(this,d),Qs(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[E]),this.h+=1,this},e.get=function(d,E){return d?(d=Yr(this,d),d.length>0?String(d[0]):E):E};function _r(d,E,C){Io(d,E),C.length>0&&(d.i=null,d.g.set(Cs(d,E),I(C)),d.h+=C.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],E=Array.from(this.g.keys());for(let O=0;O<E.length;O++){var C=E[O];const J=Ct(C);C=Yr(this,C);for(let rt=0;rt<C.length;rt++){let St=J;C[rt]!==""&&(St+="="+Ct(C[rt])),d.push(St)}}return this.i=d.join("&")};function Xr(d){const E=new ji;return E.i=d.i,d.g&&(E.g=new Map(d.g),E.h=d.h),E}function Cs(d,E){return E=String(E),d.j&&(E=E.toLowerCase()),E}function vr(d,E){E&&!d.j&&(bn(d),d.i=null,d.g.forEach(function(C,O){const J=O.toLowerCase();O!=J&&(Io(this,O),_r(this,J,C))},d)),d.j=E}function pi(d,E){const C=new on;if(f.Image){const O=new Image;O.onload=b(gi,C,"TestLoadImage: loaded",!0,E,O),O.onerror=b(gi,C,"TestLoadImage: error",!1,E,O),O.onabort=b(gi,C,"TestLoadImage: abort",!1,E,O),O.ontimeout=b(gi,C,"TestLoadImage: timeout",!1,E,O),f.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else E(!1)}function Po(d,E){const C=new on,O=new AbortController,J=setTimeout(()=>{O.abort(),gi(C,"TestPingServer: timeout",!1,E)},1e4);fetch(d,{signal:O.signal}).then(rt=>{clearTimeout(J),rt.ok?gi(C,"TestPingServer: ok",!0,E):gi(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(J),gi(C,"TestPingServer: error",!1,E)})}function gi(d,E,C,O,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),O(C)}catch{}}function Tr(){this.g=new gr}function kt(d){this.i=d.Sb||null,this.h=d.ab||!1}w(kt,fi),kt.prototype.g=function(){return new Zn(this.i,this.h)};function Zn(d,E){Ve.call(this),this.H=d,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Zn,Ve),e=Zn.prototype,e.open=function(d,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=E,this.readyState=1,Mi(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(E.body=d),(this.H||f).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},e.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ge(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function ge(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}e.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var E=d.value?d.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!d.done}))&&(this.response=this.responseText+=E)}d.done?Ws(this):Mi(this),this.readyState==3&&ge(this)}},e.Oa=function(d){this.g&&(this.response=this.responseText=d,Ws(this))},e.Na=function(d){this.g&&(this.response=d,Ws(this))},e.ga=function(){this.g&&Ws(this)};function Ws(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Mi(d)}e.setRequestHeader=function(d,E){this.A.append(d,E)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,d.push(C[0]+": "+C[1]),C=E.next();return d.join(`\r
`)};function Mi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Zn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function yi(d){let E="";return Vt(d,function(C,O){E+=O,E+=":",E+=C,E+=`\r
`}),E}function $s(d,E,C){t:{for(O in C){var O=!1;break t}O=!0}O||(C=yi(C),typeof d=="string"?C!=null&&Ct(C):Rt(d,E,C))}function oe(d){Ve.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(oe,Ve);var Fi=/^https?$/i,Js=["POST","PUT"];e=oe.prototype,e.Fa=function(d){this.H=d},e.ea=function(d,E,C,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);E=E?E.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ii.g(),this.g.onreadystatechange=A(v(this.Ca,this));try{this.B=!0,this.g.open(E,String(d),!0),this.B=!1}catch(rt){Fe(this,rt);return}if(d=C||"",C=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var J in O)C.set(J,O[J]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const rt of O.keys())C.set(rt,O.get(rt));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(C.keys()).find(rt=>rt.toLowerCase()=="content-type"),J=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call(Js,E,void 0)>=0)||O||J||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rt,St]of C)this.g.setRequestHeader(rt,St);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(rt){Fe(this,rt)}};function Fe(d,E){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=E,d.o=5,os(d),Rs(d)}function os(d){d.A||(d.A=!0,be(d,"complete"),be(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,be(this,"complete"),be(this,"abort"),Rs(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rs(this,!0)),oe.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},e.Xa=function(){br(this)};function br(d){if(d.h&&typeof u<"u"){if(d.v&&as(d)==4)setTimeout(d.Ca.bind(d),0);else if(be(d,"readystatechange"),as(d)==4){d.h=!1;try{const rt=d.ca();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var C;if(!(C=E)){var O;if(O=rt===0){let St=String(d.D).match(yr)[1]||null;!St&&f.self&&f.self.location&&(St=f.self.location.protocol.slice(0,-1)),O=!Fi.test(St?St.toLowerCase():"")}C=O}if(C)be(d,"complete"),be(d,"success");else{d.o=6;try{var J=as(d)>2?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.ca()+"]",os(d)}}finally{Rs(d)}}}}function Rs(d,E){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const C=d.g;d.g=null,E||be(d,"ready");try{C.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function as(d){return d.g?d.g.readyState:0}e.ca=function(){try{return as(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(d){if(this.g){var E=this.g.responseText;return d&&E.indexOf(d)==0&&(E=E.substring(d.length)),Ks(E)}};function En(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(d){const E={};d=(d.g&&as(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(B(d[O]))continue;var C=mi(d[O]);const J=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const rt=E[J]||[];E[J]=rt,rt.push(C)}wt(E,function(O){return O.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(d,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[d]||E}function tr(d){this.za=0,this.i=[],this.j=new on,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ds("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ds("baseRetryDelayMs",5e3,d),this.Za=Ds("retryDelaySeedMs",1e4,d),this.Ta=Ds("forwardChannelMaxRetries",2,d),this.va=Ds("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Ia(d&&d.concurrentRequestLimit),this.Ba=new Tr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=tr.prototype,e.ka=8,e.I=1,e.connect=function(d,E,C,O){Wt(0),this.W=d,this.H=E||{},C&&O!==void 0&&(this.H.OSID=C,this.H.OAID=O),this.F=this.X,this.J=Va(this,null,this.W),_i(this)};function $t(d){if(Gn(d),d.I==3){var E=d.V++,C=Ue(d.J);if(Rt(C,"SID",d.M),Rt(C,"RID",E),Rt(C,"TYPE","terminate"),er(d,C),E=new Tn(d,d.j,E),E.M=2,E.A=Ae(Ue(C)),C=!1,f.navigator&&f.navigator.sendBeacon)try{C=f.navigator.sendBeacon(E.A.toString(),"")}catch{}!C&&f.Image&&(new Image().src=E.A,C=!0),C||(E.g=ka(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Es(E)}cs(d)}function Er(d){d.g&&(Na(d),d.g.cancel(),d.g=null)}function Gn(d){Er(d),d.v&&(f.clearTimeout(d.v),d.v=null),Oo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function _i(d){if(!Pa(d.h)&&!d.m){d.m=!0;var E=d.Ea;ct||D(),ut||(ct(),ut=!0),P.add(E,d),d.D=0}}function Qr(d,E){return Ss(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=E.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Be(v(d.Ea,d,E),Ml(d,d.D)),d.D++,!0)}e.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const J=new Tn(this,this.j,d);let rt=this.o;if(this.U&&(rt?(rt=H(rt),Tt(rt,this.U)):rt=this.U),this.u!==null||this.R||(J.J=rt,rt=null),this.S)t:{for(var E=0,C=0;C<this.i.length;C++){e:{var O=this.i[C];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(E+=O,E>4096){E=C;break t}if(E===4096||C===this.i.length-1){E=C+1;break t}}E=1e3}else E=1e3;E=Dl(this,J,E),C=Ue(this.J),Rt(C,"RID",d),Rt(C,"CVER",22),this.G&&Rt(C,"X-HTTP-Session-Id",this.G),er(this,C),rt&&(this.R?E="headers="+Ct(yi(rt))+"&"+E:this.u&&$s(C,this.u,rt)),Xs(this.h,J),this.Ra&&Rt(C,"TYPE","init"),this.S?(Rt(C,"$req",E),Rt(C,"SID","null"),J.U=!0,ns(J,C,null)):ns(J,C,E),this.I=2}}else this.I==3&&(d?La(this,d):this.i.length==0||Pa(this.h)||La(this))};function La(d,E){var C;E?C=E.l:C=d.V++;const O=Ue(d.J);Rt(O,"SID",d.M),Rt(O,"RID",C),Rt(O,"AID",d.K),er(d,O),d.u&&d.o&&$s(O,d.u,d.o),C=new Tn(d,d.j,C,d.D+1),d.u===null&&(C.J=d.o),E&&(d.i=E.G.concat(d.i)),E=Dl(d,C,1e3),C.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Xs(d.h,C),ns(C,O,E)}function er(d,E){d.H&&Vt(d.H,function(C,O){Rt(E,O,C)}),d.l&&Vt({},function(C,O){Rt(E,O,C)})}function Dl(d,E,C){C=Math.min(d.i.length,C);const O=d.l?v(d.l.Ka,d.l,d):null;t:{var J=d.i;let Ht=-1;for(;;){const fe=["count="+C];Ht==-1?C>0?(Ht=J[0].g,fe.push("ofs="+Ht)):Ht=0:fe.push("ofs="+Ht);let de=!0;for(let Oe=0;Oe<C;Oe++){var rt=J[Oe].g;const Hi=J[Oe].map;if(rt-=Ht,rt<0)Ht=Math.max(0,J[Oe].g-100),de=!1;else try{rt="req"+rt+"_"||"";try{var St=Hi instanceof Map?Hi:Object.entries(Hi);for(const[qi,Pi]of St){let hs=Pi;g(Pi)&&(hs=zn(Pi)),fe.push(rt+qi+"="+encodeURIComponent(hs))}}catch(qi){throw fe.push(rt+"type="+encodeURIComponent("_badmap")),qi}}catch{O&&O(Hi)}}if(de){St=fe.join("&");break t}}St=void 0}return d=d.i.splice(0,C),E.G=d,St}function Oa(d){if(!d.g&&!d.v){d.Y=1;var E=d.Da;ct||D(),ut||(ct(),ut=!0),P.add(E,d),d.A=0}}function Wr(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Be(v(d.Da,d),Ml(d,d.A)),d.A++,!0)}e.Da=function(){if(this.v=null,Lo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Be(v(this.Wa,this),d)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Wt(10),Er(this),Lo(this))};function Na(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function Lo(d){d.g=new Tn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var E=Ue(d.na);Rt(E,"RID","rpc"),Rt(E,"SID",d.M),Rt(E,"AID",d.K),Rt(E,"CI",d.F?"0":"1"),!d.F&&d.ia&&Rt(E,"TO",d.ia),Rt(E,"TYPE","xmlhttp"),er(d,E),d.u&&d.o&&$s(E,d.u,d.o),d.O&&(d.g.H=d.O);var C=d.g;d=d.ba,C.M=1,C.A=Ae(Ue(E)),C.u=null,C.R=!0,is(C,d)}e.Va=function(){this.C!=null&&(this.C=null,Er(this),Wr(this),Wt(19))};function Oo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Ii(d,E){var C=null;if(d.g==E){Oo(d),Na(d),d.g=null;var O=2}else if(Bi(d.h,E))C=E.G,Ro(d.h,E),O=1;else return;if(d.I!=0){if(E.o)if(O==1){C=E.u?E.u.length:0,E=Date.now()-E.F;var J=d.D;O=Ys(),be(O,new ze(O,C)),_i(d)}else Oa(d);else if(J=E.m,J==3||J==0&&E.X>0||!(O==1&&Qr(d,E)||O==2&&Wr(d)))switch(C&&C.length>0&&(E=d.h,E.i=E.i.concat(C)),J){case 1:us(d,5);break;case 4:us(d,10);break;case 3:us(d,6);break;default:us(d,2)}}}function Ml(d,E){let C=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(C*=2),C*E}function us(d,E){if(d.j.info("Error code "+E),E==2){var C=v(d.bb,d),O=d.Ua;const J=!O;O=new ne(O||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||je(O,"https"),Ae(O),J?pi(O.toString(),C):Po(O.toString(),C)}else Wt(2);d.I=0,d.l&&d.l.pa(E),cs(d),Gn(d)}e.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function cs(d){if(d.I=0,d.ja=[],d.l){const E=Do(d.h);(E.length!=0||d.i.length!=0)&&(U(d.ja,E),U(d.ja,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.oa()}}function Va(d,E,C){var O=C instanceof ne?Ue(C):new ne(C);if(O.g!="")E&&(O.g=E+"."+O.g),Di(O,O.u);else{var J=f.location;O=J.protocol,E=E?E+"."+J.hostname:J.hostname,J=+J.port;const rt=new ne(null);O&&je(rt,O),E&&(rt.g=E),J&&Di(rt,J),C&&(rt.h=C),O=rt}return C=d.G,E=d.wa,C&&E&&Rt(O,C,E),Rt(O,"VER",d.ka),er(d,O),O}function ka(d,E,C){if(E&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=d.Aa&&!d.ma?new oe(new kt({ab:C})):new oe(d.ma),E.Fa(d.L),E}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function No(){}e=No.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function wr(){}wr.prototype.g=function(d,E){return new Kn(d,E)};function Kn(d,E){Ve.call(this),this.g=new tr(E),this.l=d,this.h=E&&E.messageUrlParams||null,d=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(d?d["X-WebChannel-Content-Type"]=E.messageContentType:d={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(d?d["X-WebChannel-Client-Profile"]=E.sa:d={"X-WebChannel-Client-Profile":E.sa}),this.g.U=d,(d=E&&E.Qb)&&!B(d)&&(this.g.u=d),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!B(E)&&(this.g.G=E,d=this.h,d!==null&&E in d&&(d=this.h,E in d&&delete d[E])),this.j=new nr(this)}w(Kn,Ve),Kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){$t(this.g)},Kn.prototype.o=function(d){var E=this.g;if(typeof d=="string"){var C={};C.__data__=d,d=C}else this.v&&(C={},C.__data__=zn(d),d=C);E.i.push(new ln(E.Ya++,d)),E.I==3&&_i(E)},Kn.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,Kn.Z.N.call(this)};function za(d){Qe.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var E=d.__sm__;if(E){t:{for(const C in E){d=C;break t}d=void 0}(this.i=d)&&(d=this.i,E=E!==null&&d in E?E[d]:void 0),this.data=E}else this.data=d}w(za,Qe);function Il(){Mn.call(this),this.status=1}w(Il,Mn);function nr(d){this.g=d}w(nr,No),nr.prototype.ra=function(){be(this.g,"a")},nr.prototype.qa=function(d){be(this.g,new za(d))},nr.prototype.pa=function(d){be(this.g,new Il)},nr.prototype.oa=function(){be(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,Kx=function(){return new wr},Gx=function(){return Ys()},Zx=ke,hy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jn.NO_ERROR=0,jn.TIMEOUT=8,jn.HTTP_ERROR=6,ed=jn,Fn.COMPLETE="complete",qx=Fn,Zr.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",Ve.prototype.listen=Ve.prototype.J,Vc=Zr,oe.prototype.listenOnce=oe.prototype.K,oe.prototype.getLastError=oe.prototype.Ha,oe.prototype.getLastErrorCode=oe.prototype.ya,oe.prototype.getStatus=oe.prototype.ca,oe.prototype.getResponseJson=oe.prototype.La,oe.prototype.getResponseText=oe.prototype.la,oe.prototype.send=oe.prototype.ea,oe.prototype.setWithCredentials=oe.prototype.Fa,Hx=oe}).apply(typeof Ff<"u"?Ff:typeof self<"u"?self:typeof window<"u"?window:{});class wi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let Bu="12.8.0";function Y4(e){Bu=e}const _l=new Px("@firebase/firestore");function uu(){return _l.logLevel}function Dt(e,...t){if(_l.logLevel<=pe.DEBUG){const n=t.map(w_);_l.debug(`Firestore (${Bu}): ${e}`,...n)}}function Eo(e,...t){if(_l.logLevel<=pe.ERROR){const n=t.map(w_);_l.error(`Firestore (${Bu}): ${e}`,...n)}}function Au(e,...t){if(_l.logLevel<=pe.WARN){const n=t.map(w_);_l.warn(`Firestore (${Bu}): ${e}`,...n)}}function w_(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function jt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,Yx(e,s,n)}function Yx(e,t,n){let s=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Eo(s),new Error(s)}function xe(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||Yx(t,a,s)}function Gt(e,t){return e}const vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends bl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _o{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Xx{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class X4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(wi.UNAUTHENTICATED)))}shutdown(){}}class Q4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class W4{constructor(t){this.t=t,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){xe(this.o===void 0,42304);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new _o;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _o,t.enqueueRetryable((()=>a(this.currentUser)))};const f=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await a(this.currentUser)}))},g=y=>{Dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(Dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _o)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(Dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(xe(typeof s.accessToken=="string",31837,{l:s}),new Xx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return xe(t===null||typeof t=="string",2055,{h:t}),new wi(t)}}class $4{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=wi.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class J4{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new $4(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(wi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t3{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vx(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){xe(this.o===void 0,3512);const s=u=>{u.error!=null&&Dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Dt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const a=u=>{Dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>a(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):Dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new J1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new J1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function e3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class S_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=e3(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=t.charAt(a[u]%62))}return s}}function ue(e,t){return e<t?-1:e>t?1:0}function fy(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),u=t.charAt(s);if(a!==u)return xg(a)===xg(u)?ue(a,u):xg(a)?1:-1}return ue(e.length,t.length)}const n3=55296,i3=57343;function xg(e){const t=e.charCodeAt(0);return t>=n3&&t<=i3}function Cu(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}const tE="__name__";class Or{constructor(t,n,s){n===void 0?n=0:n>t.length&&jt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&jt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Or.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Or?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const u=Or.compareSegments(t.get(a),n.get(a));if(u!==0)return u}return ue(t.length,n.length)}static compareSegments(t,n){const s=Or.isNumericId(t),a=Or.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Or.extractNumericId(t).compare(Or.extractNumericId(n)):fy(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return va.fromString(t.substring(4,t.length-2))}}class qe extends Or{construct(t,n,s){return new qe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new Lt(vt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new qe(n)}static emptyPath(){return new qe([])}}const s3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ui extends Or{construct(t,n,s){return new ui(t,n,s)}static isValidIdentifier(t){return s3.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ui.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tE}static keyField(){return new ui([tE])}static fromServerFormat(t){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new Lt(vt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<t.length;){const g=t[a];if(g==="\\"){if(a+1===t.length)throw new Lt(vt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Lt(vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,a+=2}else g==="`"?(f=!f,a++):g!=="."||f?(s+=g,a++):(u(),a++)}if(u(),f)throw new Lt(vt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ui(n)}static emptyPath(){return new ui([])}}class zt{constructor(t){this.path=t}static fromPath(t){return new zt(qe.fromString(t))}static fromName(t){return new zt(qe.fromString(t).popFirst(5))}static empty(){return new zt(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&qe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return qe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new zt(new qe(t.slice()))}}function Qx(e,t,n){if(!n)throw new Lt(vt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function r3(e,t,n,s){if(t===!0&&s===!0)throw new Lt(vt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function eE(e){if(!zt.isDocumentKey(e))throw new Lt(vt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function nE(e){if(zt.isDocumentKey(e))throw new Lt(vt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Wx(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function x_(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":jt(12329,{type:typeof e})}function wo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Lt(vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=x_(e);throw new Lt(vt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Dn(e,t){const n={typeString:e};return t&&(n.value=t),n}function Sh(e,t){if(!Wx(e))throw new Lt(vt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const f=e[s];if(a&&typeof f!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new Lt(vt.INVALID_ARGUMENT,n);return!0}const iE=-62135596800,sE=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*sE);return new Se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Lt(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Lt(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<iE)throw new Lt(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lt(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sE}_compareTo(t){return this.seconds===t.seconds?ue(this.nanoseconds,t.nanoseconds):ue(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Sh(t,Se._jsonSchema))return new Se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-iE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:Dn("string",Se._jsonSchemaVersion),seconds:Dn("number"),nanoseconds:Dn("number")};class qt{static fromTimestamp(t){return new qt(t)}static min(){return new qt(new Se(0,0))}static max(){return new qt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ch=-1;function o3(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=qt.fromTimestamp(s===1e9?new Se(n+1,0):new Se(n,s));return new wa(a,zt.empty(),t)}function a3(e){return new wa(e.readTime,e.key,ch)}class wa{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new wa(qt.min(),zt.empty(),ch)}static max(){return new wa(qt.max(),zt.empty(),ch)}}function l3(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=zt.comparator(e.documentKey,t.documentKey),n!==0?n:ue(e.largestBatchId,t.largestBatchId))}const u3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Uu(e){if(e.code!==vt.FAILED_PRECONDITION||e.message!==u3)throw e;Dt("LocalStore","Unexpectedly lost primary lease")}class _t{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new _t(((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof _t?n:_t.resolve(n)}catch(n){return _t.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):_t.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):_t.reject(n)}static resolve(t){return new _t(((n,s)=>{n(t)}))}static reject(t){return new _t(((n,s)=>{s(t)}))}static waitFor(t){return new _t(((n,s)=>{let a=0,u=0,f=!1;t.forEach((g=>{++a,g.next((()=>{++u,f&&u===a&&n()}),(y=>s(y)))})),f=!0,u===a&&n()}))}static or(t){let n=_t.resolve(!1);for(const s of t)n=n.next((a=>a?_t.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,u)=>{s.push(n.call(this,a,u))})),this.waitFor(s)}static mapArray(t,n){return new _t(((s,a)=>{const u=t.length,f=new Array(u);let g=0;for(let y=0;y<u;y++){const v=y;n(t[v]).next((b=>{f[v]=b,++g,g===u&&s(f)}),(b=>a(b)))}}))}static doWhile(t,n){return new _t(((s,a)=>{const u=()=>{t()===!0?n().next((()=>{u()}),a):s()};u()}))}}function h3(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ju(e){return e.name==="IndexedDbTransactionError"}class Qd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Qd.ce=-1;const A_=-1;function Wd(e){return e==null}function wd(e){return e===0&&1/e==-1/0}function f3(e){return typeof e=="number"&&Number.isInteger(e)&&!wd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const $x="";function d3(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=rE(t)),t=m3(e.get(n),t);return rE(t)}function m3(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const u=e.charAt(a);switch(u){case"\0":n+="";break;case $x:n+="";break;default:n+=u}}return n}function rE(e){return e+$x+""}function oE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function El(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Jx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class nn{constructor(t,n){this.comparator=t,this.root=n||li.EMPTY}insert(t,n){return new nn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,li.BLACK,null,null))}remove(t){return new nn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,li.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hf(this.root,t,this.comparator,!0)}}class Hf{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&a&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class li{constructor(t,n,s,a,u){this.key=t,this.value=n,this.color=s??li.RED,this.left=a??li.EMPTY,this.right=u??li.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,u){return new li(t??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const u=s(t,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(t,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return li.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw jt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw jt(27949);return t+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1;li.EMPTY=new class{constructor(){this.size=0}get key(){throw jt(57766)}get value(){throw jt(16141)}get color(){throw jt(16727)}get left(){throw jt(29726)}get right(){throw jt(36894)}copy(t,n,s,a,u){return this}insert(t,n,s){return new li(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(t){this.comparator=t,this.data=new nn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new aE(this.data.getIterator())}getIteratorFrom(t){return new aE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof kn)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new kn(this.comparator);return n.data=t,n}}class aE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hr{constructor(t){this.fields=t,t.sort(ui.comparator)}static empty(){return new hr([])}unionWith(t){let n=new kn(ui.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new hr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Cu(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class tA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ci{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new tA("Invalid base64 string: "+u):u}})(t);return new ci(n)}static fromUint8Array(t){const n=(function(a){let u="";for(let f=0;f<a.length;++f)u+=String.fromCharCode(a[f]);return u})(t);return new ci(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ue(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ci.EMPTY_BYTE_STRING=new ci("");const p3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sa(e){if(xe(!!e,39018),typeof e=="string"){let t=0;const n=p3.exec(e);if(xe(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:yn(e.seconds),nanos:yn(e.nanos)}}function yn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function xa(e){return typeof e=="string"?ci.fromBase64String(e):ci.fromUint8Array(e)}const eA="server_timestamp",nA="__type__",iA="__previous_value__",sA="__local_write_time__";function C_(e){return(e?.mapValue?.fields||{})[nA]?.stringValue===eA}function $d(e){const t=e.mapValue.fields[iA];return C_(t)?$d(t):t}function hh(e){const t=Sa(e.mapValue.fields[sA].timestampValue);return new Se(t.seconds,t.nanos)}class g3{constructor(t,n,s,a,u,f,g,y,v,b,w){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=b,this.apiKey=w}}const Sd="(default)";class fh{constructor(t,n){this.projectId=t,this.database=n||Sd}static empty(){return new fh("","")}get isDefaultDatabase(){return this.database===Sd}isEqual(t){return t instanceof fh&&t.projectId===this.projectId&&t.database===this.database}}function y3(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Lt(vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fh(e.options.projectId,t)}const rA="__type__",_3="__max__",qf={mapValue:{}},oA="__vector__",xd="value";function Aa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?C_(e)?4:T3(e)?9007199254740991:v3(e)?10:11:jt(28295,{value:e})}function Hr(e,t){if(e===t)return!0;const n=Aa(e);if(n!==Aa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hh(e).isEqual(hh(t));case 3:return(function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const f=Sa(a.timestampValue),g=Sa(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,u){return xa(a.bytesValue).isEqual(xa(u.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,u){return yn(a.geoPointValue.latitude)===yn(u.geoPointValue.latitude)&&yn(a.geoPointValue.longitude)===yn(u.geoPointValue.longitude)})(e,t);case 2:return(function(a,u){if("integerValue"in a&&"integerValue"in u)return yn(a.integerValue)===yn(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const f=yn(a.doubleValue),g=yn(u.doubleValue);return f===g?wd(f)===wd(g):isNaN(f)&&isNaN(g)}return!1})(e,t);case 9:return Cu(e.arrayValue.values||[],t.arrayValue.values||[],Hr);case 10:case 11:return(function(a,u){const f=a.mapValue.fields||{},g=u.mapValue.fields||{};if(oE(f)!==oE(g))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(g[y]===void 0||!Hr(f[y],g[y])))return!1;return!0})(e,t);default:return jt(52216,{left:e})}}function dh(e,t){return(e.values||[]).find((n=>Hr(n,t)))!==void 0}function Ru(e,t){if(e===t)return 0;const n=Aa(e),s=Aa(t);if(n!==s)return ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(e.booleanValue,t.booleanValue);case 2:return(function(u,f){const g=yn(u.integerValue||u.doubleValue),y=yn(f.integerValue||f.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(e,t);case 3:return lE(e.timestampValue,t.timestampValue);case 4:return lE(hh(e),hh(t));case 5:return fy(e.stringValue,t.stringValue);case 6:return(function(u,f){const g=xa(u),y=xa(f);return g.compareTo(y)})(e.bytesValue,t.bytesValue);case 7:return(function(u,f){const g=u.split("/"),y=f.split("/");for(let v=0;v<g.length&&v<y.length;v++){const b=ue(g[v],y[v]);if(b!==0)return b}return ue(g.length,y.length)})(e.referenceValue,t.referenceValue);case 8:return(function(u,f){const g=ue(yn(u.latitude),yn(f.latitude));return g!==0?g:ue(yn(u.longitude),yn(f.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return uE(e.arrayValue,t.arrayValue);case 10:return(function(u,f){const g=u.fields||{},y=f.fields||{},v=g[xd]?.arrayValue,b=y[xd]?.arrayValue,w=ue(v?.values?.length||0,b?.values?.length||0);return w!==0?w:uE(v,b)})(e.mapValue,t.mapValue);case 11:return(function(u,f){if(u===qf.mapValue&&f===qf.mapValue)return 0;if(u===qf.mapValue)return 1;if(f===qf.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),v=f.fields||{},b=Object.keys(v);y.sort(),b.sort();for(let w=0;w<y.length&&w<b.length;++w){const A=fy(y[w],b[w]);if(A!==0)return A;const I=Ru(g[y[w]],v[b[w]]);if(I!==0)return I}return ue(y.length,b.length)})(e.mapValue,t.mapValue);default:throw jt(23264,{he:n})}}function lE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ue(e,t);const n=Sa(e),s=Sa(t),a=ue(n.seconds,s.seconds);return a!==0?a:ue(n.nanos,s.nanos)}function uE(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=Ru(n[a],s[a]);if(u)return u}return ue(n.length,s.length)}function Du(e){return dy(e)}function dy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Sa(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return xa(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return zt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=dy(u);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const f of s)u?u=!1:a+=",",a+=`${f}:${dy(n.fields[f])}`;return a+"}"})(e.mapValue):jt(61005,{value:e})}function nd(e){switch(Aa(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$d(e);return t?16+nd(t):16;case 5:return 2*e.stringValue.length;case 6:return xa(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,u)=>a+nd(u)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return El(s.fields,((u,f)=>{a+=u.length+nd(f)})),a})(e.mapValue);default:throw jt(13486,{value:e})}}function my(e){return!!e&&"integerValue"in e}function R_(e){return!!e&&"arrayValue"in e}function cE(e){return!!e&&"nullValue"in e}function hE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function id(e){return!!e&&"mapValue"in e}function v3(e){return(e?.mapValue?.fields||{})[rA]?.stringValue===oA}function Yc(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return El(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Yc(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Yc(e.arrayValue.values[n]);return t}return{...e}}function T3(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===_3}class Us{constructor(t){this.value=t}static empty(){return new Us({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!id(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Yc(n)}setAll(t){let n=ui.emptyPath(),s={},a=[];t.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=g.popLast()}f?s[g.lastSegment()]=Yc(f):a.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(t){const n=this.field(t.popLast());id(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Hr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];id(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){El(n,((a,u)=>t[a]=u));for(const a of s)delete t[a]}clone(){return new Us(Yc(this.value))}}function aA(e){const t=[];return El(e.fields,((n,s)=>{const a=new ui([n]);if(id(s)){const u=aA(s.mapValue).fields;if(u.length===0)t.push(a);else for(const f of u)t.push(a.child(f))}else t.push(a)})),new hr(t)}class Si{constructor(t,n,s,a,u,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Si(t,0,qt.min(),qt.min(),qt.min(),Us.empty(),0)}static newFoundDocument(t,n,s,a){return new Si(t,1,n,qt.min(),s,a,0)}static newNoDocument(t,n){return new Si(t,2,n,qt.min(),qt.min(),Us.empty(),0)}static newUnknownDocument(t,n){return new Si(t,3,n,qt.min(),qt.min(),Us.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Us.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Si&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ad{constructor(t,n){this.position=t,this.inclusive=n}}function fE(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const u=t[a],f=e.position[a];if(u.field.isKeyField()?s=zt.comparator(zt.fromName(f.referenceValue),n.key):s=Ru(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function dE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Hr(e.position[n],t.position[n]))return!1;return!0}class Cd{constructor(t,n="asc"){this.field=t,this.dir=n}}function b3(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class lA{}class Nn extends lA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new w3(t,n,s):n==="array-contains"?new A3(t,s):n==="in"?new C3(t,s):n==="not-in"?new R3(t,s):n==="array-contains-any"?new D3(t,s):new Nn(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new S3(t,s):new x3(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ru(n,this.value)):n!==null&&Aa(this.value)===Aa(n)&&this.matchesComparison(Ru(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends lA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new qr(t,n)}matches(t){return uA(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uA(e){return e.op==="and"}function cA(e){return E3(e)&&uA(e)}function E3(e){for(const t of e.filters)if(t instanceof qr)return!1;return!0}function py(e){if(e instanceof Nn)return e.field.canonicalString()+e.op.toString()+Du(e.value);if(cA(e))return e.filters.map((t=>py(t))).join(",");{const t=e.filters.map((n=>py(n))).join(",");return`${e.op}(${t})`}}function hA(e,t){return e instanceof Nn?(function(s,a){return a instanceof Nn&&s.op===a.op&&s.field.isEqual(a.field)&&Hr(s.value,a.value)})(e,t):e instanceof qr?(function(s,a){return a instanceof qr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((u,f,g)=>u&&hA(f,a.filters[g])),!0):!1})(e,t):void jt(19439)}function fA(e){return e instanceof Nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Du(n.value)}`})(e):e instanceof qr?(function(n){return n.op.toString()+" {"+n.getFilters().map(fA).join(" ,")+"}"})(e):"Filter"}class w3 extends Nn{constructor(t,n,s){super(t,n,s),this.key=zt.fromName(s.referenceValue)}matches(t){const n=zt.comparator(t.key,this.key);return this.matchesComparison(n)}}class S3 extends Nn{constructor(t,n){super(t,"in",n),this.keys=dA("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class x3 extends Nn{constructor(t,n){super(t,"not-in",n),this.keys=dA("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function dA(e,t){return(t.arrayValue?.values||[]).map((n=>zt.fromName(n.referenceValue)))}class A3 extends Nn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return R_(n)&&dh(n.arrayValue,this.value)}}class C3 extends Nn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&dh(this.value.arrayValue,n)}}class R3 extends Nn{constructor(t,n){super(t,"not-in",n)}matches(t){if(dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dh(this.value.arrayValue,n)}}class D3 extends Nn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!R_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>dh(this.value.arrayValue,s)))}}class M3{constructor(t,n=null,s=[],a=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function mE(e,t=null,n=[],s=[],a=null,u=null,f=null){return new M3(e,t,n,s,a,u,f)}function D_(e){const t=Gt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>py(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Wd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Du(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Du(s))).join(",")),t.Te=n}return t.Te}function M_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!b3(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!hA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!dE(e.startAt,t.startAt)&&dE(e.endAt,t.endAt)}function gy(e){return zt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Jd{constructor(t,n=null,s=[],a=[],u=null,f="F",g=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function I3(e,t,n,s,a,u,f,g){return new Jd(e,t,n,s,a,u,f,g)}function I_(e){return new Jd(e)}function pE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function P3(e){return zt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function L3(e){return e.collectionGroup!==null}function Xc(e){const t=Gt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new kn(ui.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Cd(u,s))})),n.has(ui.keyField().canonicalString())||t.Ie.push(new Cd(ui.keyField(),s))}return t.Ie}function zr(e){const t=Gt(e);return t.Ee||(t.Ee=O3(t,Xc(e))),t.Ee}function O3(e,t){if(e.limitType==="F")return mE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const u=a.dir==="desc"?"asc":"desc";return new Cd(a.field,u)}));const n=e.endAt?new Ad(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Ad(e.startAt.position,e.startAt.inclusive):null;return mE(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function yy(e,t,n){return new Jd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tm(e,t){return M_(zr(e),zr(t))&&e.limitType===t.limitType}function mA(e){return`${D_(zr(e))}|lt:${e.limitType}`}function cu(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>fA(a))).join(", ")}]`),Wd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Du(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Du(a))).join(",")),`Target(${s})`})(zr(e))}; limitType=${e.limitType})`}function em(e,t){return t.isFoundDocument()&&(function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):zt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(e,t)&&(function(s,a){for(const u of Xc(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(f,g,y){const v=fE(f,g,y);return f.inclusive?v<=0:v<0})(s.startAt,Xc(s),a)||s.endAt&&!(function(f,g,y){const v=fE(f,g,y);return f.inclusive?v>=0:v>0})(s.endAt,Xc(s),a))})(e,t)}function N3(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function pA(e){return(t,n)=>{let s=!1;for(const a of Xc(e)){const u=V3(a,t,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function V3(e,t,n){const s=e.field.isKeyField()?zt.comparator(t.key,n.key):(function(u,f,g){const y=f.data.field(u),v=g.data.field(u);return y!==null&&v!==null?Ru(y,v):jt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return jt(19790,{direction:e.dir})}}class wl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],t))return void(a[u]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){El(this.inner,((n,s)=>{for(const[a,u]of s)t(a,u)}))}isEmpty(){return Jx(this.inner)}size(){return this.innerSize}}const k3=new nn(zt.comparator);function So(){return k3}const gA=new nn(zt.comparator);function kc(...e){let t=gA;for(const n of e)t=t.insert(n.key,n);return t}function yA(e){let t=gA;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ml(){return Qc()}function _A(){return Qc()}function Qc(){return new wl((e=>e.toString()),((e,t)=>e.isEqual(t)))}const z3=new nn(zt.comparator),B3=new kn(zt.comparator);function ce(...e){let t=B3;for(const n of e)t=t.add(n);return t}const U3=new kn(ue);function j3(){return U3}function P_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(t)?"-0":t}}function vA(e){return{integerValue:""+e}}function F3(e,t){return f3(t)?vA(t):P_(e,t)}class nm{constructor(){this._=void 0}}function H3(e,t,n){return e instanceof Rd?(function(a,u){const f={fields:{[nA]:{stringValue:eA},[sA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&C_(u)&&(u=$d(u)),u&&(f.fields[iA]=u),{mapValue:f}})(n,t):e instanceof mh?bA(e,t):e instanceof ph?EA(e,t):(function(a,u){const f=TA(a,u),g=gE(f)+gE(a.Ae);return my(f)&&my(a.Ae)?vA(g):P_(a.serializer,g)})(e,t)}function q3(e,t,n){return e instanceof mh?bA(e,t):e instanceof ph?EA(e,t):n}function TA(e,t){return e instanceof Dd?(function(s){return my(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Rd extends nm{}class mh extends nm{constructor(t){super(),this.elements=t}}function bA(e,t){const n=wA(t);for(const s of e.elements)n.some((a=>Hr(a,s)))||n.push(s);return{arrayValue:{values:n}}}class ph extends nm{constructor(t){super(),this.elements=t}}function EA(e,t){let n=wA(t);for(const s of e.elements)n=n.filter((a=>!Hr(a,s)));return{arrayValue:{values:n}}}class Dd extends nm{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function gE(e){return yn(e.integerValue||e.doubleValue)}function wA(e){return R_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Z3(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof mh&&a instanceof mh||s instanceof ph&&a instanceof ph?Cu(s.elements,a.elements,Hr):s instanceof Dd&&a instanceof Dd?Hr(s.Ae,a.Ae):s instanceof Rd&&a instanceof Rd})(e.transform,t.transform)}class G3{constructor(t,n){this.version=t,this.transformResults=n}}class fr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new fr}static exists(t){return new fr(void 0,t)}static updateTime(t){return new fr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class im{}function SA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new L_(e.key,fr.none()):new xh(e.key,e.data,fr.none());{const n=e.data,s=Us.empty();let a=new kn(ui.comparator);for(let u of t.fields)if(!a.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),a=a.add(u)}return new Sl(e.key,s,new hr(a.toArray()),fr.none())}}function K3(e,t,n){e instanceof xh?(function(a,u,f){const g=a.value.clone(),y=_E(a.fieldTransforms,u,f.transformResults);g.setAll(y),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(e,t,n):e instanceof Sl?(function(a,u,f){if(!sd(a.precondition,u))return void u.convertToUnknownDocument(f.version);const g=_E(a.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(xA(a)),y.setAll(g),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(e,t,n):(function(a,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Wc(e,t,n,s){return e instanceof xh?(function(u,f,g,y){if(!sd(u.precondition,f))return g;const v=u.value.clone(),b=vE(u.fieldTransforms,y,f);return v.setAll(b),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(e,t,n,s):e instanceof Sl?(function(u,f,g,y){if(!sd(u.precondition,f))return g;const v=vE(u.fieldTransforms,y,f),b=f.data;return b.setAll(xA(u)),b.setAll(v),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(e,t,n,s):(function(u,f,g){return sd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(e,t,n)}function Y3(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),u=TA(s.transform,a||null);u!=null&&(n===null&&(n=Us.empty()),n.set(s.field,u))}return n||null}function yE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Cu(s,a,((u,f)=>Z3(u,f)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xh extends im{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Sl extends im{constructor(t,n,s,a,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xA(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function _E(e,t,n){const s=new Map;xe(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let a=0;a<n.length;a++){const u=e[a],f=u.transform,g=t.data.field(u.field);s.set(u.field,q3(f,g,n[a]))}return s}function vE(e,t,n){const s=new Map;for(const a of e){const u=a.transform,f=n.data.field(a.field);s.set(a.field,H3(u,f,t))}return s}class L_ extends im{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X3 extends im{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Q3{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(t.key)&&K3(u,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Wc(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Wc(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=_A();return this.mutations.forEach((a=>{const u=t.get(a.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(a.key)?null:g;const y=SA(f,g);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(qt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),ce())}isEqual(t){return this.batchId===t.batchId&&Cu(this.mutations,t.mutations,((n,s)=>yE(n,s)))&&Cu(this.baseMutations,t.baseMutations,((n,s)=>yE(n,s)))}}class O_{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){xe(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return z3})();const u=t.mutations;for(let f=0;f<u.length;f++)a=a.insert(u[f].key,s[f].version);return new O_(t,n,s,a)}}class W3{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $3{constructor(t,n){this.count=t,this.unchangedNames=n}}var Cn,me;function J3(e){switch(e){case vt.OK:return jt(64938);case vt.CANCELLED:case vt.UNKNOWN:case vt.DEADLINE_EXCEEDED:case vt.RESOURCE_EXHAUSTED:case vt.INTERNAL:case vt.UNAVAILABLE:case vt.UNAUTHENTICATED:return!1;case vt.INVALID_ARGUMENT:case vt.NOT_FOUND:case vt.ALREADY_EXISTS:case vt.PERMISSION_DENIED:case vt.FAILED_PRECONDITION:case vt.ABORTED:case vt.OUT_OF_RANGE:case vt.UNIMPLEMENTED:case vt.DATA_LOSS:return!0;default:return jt(15467,{code:e})}}function AA(e){if(e===void 0)return Eo("GRPC error has no .code"),vt.UNKNOWN;switch(e){case Cn.OK:return vt.OK;case Cn.CANCELLED:return vt.CANCELLED;case Cn.UNKNOWN:return vt.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return vt.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return vt.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return vt.INTERNAL;case Cn.UNAVAILABLE:return vt.UNAVAILABLE;case Cn.UNAUTHENTICATED:return vt.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return vt.INVALID_ARGUMENT;case Cn.NOT_FOUND:return vt.NOT_FOUND;case Cn.ALREADY_EXISTS:return vt.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return vt.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return vt.FAILED_PRECONDITION;case Cn.ABORTED:return vt.ABORTED;case Cn.OUT_OF_RANGE:return vt.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return vt.UNIMPLEMENTED;case Cn.DATA_LOSS:return vt.DATA_LOSS;default:return jt(39323,{code:e})}}(me=Cn||(Cn={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";function tk(){return new TextEncoder}const ek=new va([4294967295,4294967295],0);function TE(e){const t=tk().encode(e),n=new Fx;return n.update(t),new Uint8Array(n.digest())}function bE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new va([n,s],0),new va([a,u],0)]}class N_{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zc(`Invalid padding: ${n}`);if(s<0)throw new zc(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new zc(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new zc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=va.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(va.fromNumber(s)));return a.compare(ek)===1&&(a=new va([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=TE(t),[s,a]=bE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,a,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new N_(u,a,n);return s.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const n=TE(t),[s,a]=bE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,a,u);this.be(f)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sm{constructor(t,n,s,a,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,Ah.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new sm(qt.min(),a,new nn(ue),So(),ce())}}class Ah{constructor(t,n,s,a,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ah(s,n,ce(),ce(),ce())}}class rd{constructor(t,n,s,a){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=a}}class CA{constructor(t,n){this.targetId=t,this.Ce=n}}class RA{constructor(t,n,s=ci.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class EE{constructor(){this.ve=0,this.Fe=wE(),this.Me=ci.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ce(),n=ce(),s=ce();return this.Fe.forEach(((a,u)=>{switch(u){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:jt(38017,{changeType:u})}})),new Ah(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=wE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class nk{constructor(t){this.Ge=t,this.ze=new Map,this.je=So(),this.He=Zf(),this.Je=Zf(),this.Ze=new nn(ue)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:jt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const u=a.target;if(gy(u))if(s===0){const f=new zt(u.path);this.et(n,f,Si.newNoDocument(f,qt.min()))}else xe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(t),y=g?this.ct(g,t,f):1;if(y!==0){this.it(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,v)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let f,g;try{f=xa(s).toUint8Array()}catch(y){if(y instanceof tA)return Au("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new N_(f,a,u)}catch(y){return Au(y instanceof zc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(n,u,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&gy(g.target)){const y=new zt(g.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Si.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=ce();this.Je.forEach(((u,f)=>{let g=!0;f.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const a=new sm(t,n,this.Ze,this.je,s);return this.je=So(),this.He=Zf(),this.Je=Zf(),this.Ze=new nn(ue),a}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new EE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new kn(ue),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new kn(ue),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Dt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new EE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Zf(){return new nn(zt.comparator)}function wE(){return new nn(zt.comparator)}const ik={asc:"ASCENDING",desc:"DESCENDING"},sk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rk={and:"AND",or:"OR"};class ok{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function _y(e,t){return e.useProto3Json||Wd(t)?t:{value:t}}function Md(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ak(e,t){return Md(e,t.toTimestamp())}function Br(e){return xe(!!e,49232),qt.fromTimestamp((function(n){const s=Sa(n);return new Se(s.seconds,s.nanos)})(e))}function V_(e,t){return vy(e,t).canonicalString()}function vy(e,t){const n=(function(a){return new qe(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function MA(e){const t=qe.fromString(e);return xe(NA(t),10190,{key:t.toString()}),t}function Ty(e,t){return V_(e.databaseId,t.path)}function Ag(e,t){const n=MA(t);if(n.get(1)!==e.databaseId.projectId)throw new Lt(vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Lt(vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zt(PA(n))}function IA(e,t){return V_(e.databaseId,t)}function lk(e){const t=MA(e);return t.length===4?qe.emptyPath():PA(t)}function by(e){return new qe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function PA(e){return xe(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function SE(e,t,n){return{name:Ty(e,t),fields:n.value.mapValue.fields}}function uk(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:jt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],u=(function(v,b){return v.useProto3Json?(xe(b===void 0||typeof b=="string",58123),ci.fromBase64String(b||"")):(xe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),ci.fromUint8Array(b||new Uint8Array))})(e,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(v){const b=v.code===void 0?vt.UNKNOWN:AA(v.code);return new Lt(b,v.message||"")})(f);n=new RA(s,a,u,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Ag(e,s.document.name),u=Br(s.document.updateTime),f=s.document.createTime?Br(s.document.createTime):qt.min(),g=new Us({mapValue:{fields:s.document.fields}}),y=Si.newFoundDocument(a,u,f,g),v=s.targetIds||[],b=s.removedTargetIds||[];n=new rd(v,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Ag(e,s.document),u=s.readTime?Br(s.readTime):qt.min(),f=Si.newNoDocument(a,u),g=s.removedTargetIds||[];n=new rd([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Ag(e,s.document),u=s.removedTargetIds||[];n=new rd([],u,a,null)}else{if(!("filter"in t))return jt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,f=new $3(a,u),g=s.targetId;n=new CA(g,f)}}return n}function ck(e,t){let n;if(t instanceof xh)n={update:SE(e,t.key,t.value)};else if(t instanceof L_)n={delete:Ty(e,t.key)};else if(t instanceof Sl)n={update:SE(e,t.key,t.data),updateMask:vk(t.fieldMask)};else{if(!(t instanceof X3))return jt(16599,{dt:t.type});n={verify:Ty(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof Rd)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof mh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ph)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Dd)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw jt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,u){return u.updateTime!==void 0?{updateTime:ak(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:jt(27497)})(e,t.precondition)),n}function hk(e,t){return e&&e.length>0?(xe(t!==void 0,14353),e.map((n=>(function(a,u){let f=a.updateTime?Br(a.updateTime):Br(u);return f.isEqual(qt.min())&&(f=Br(u)),new G3(f,a.transformResults||[])})(n,t)))):[]}function fk(e,t){return{documents:[IA(e,t.path)]}}function dk(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=IA(e,a);const u=(function(v){if(v.length!==0)return OA(qr.create(v,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(v){if(v.length!==0)return v.map((b=>(function(A){return{field:hu(A.field),direction:gk(A.dir)}})(b)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=_y(e,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:n,parent:a}}function mk(e){let t=lk(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){xe(s===1,65062);const b=n.from[0];b.allDescendants?a=b.collectionId:t=t.child(b.collectionId)}let u=[];n.where&&(u=(function(w){const A=LA(w);return A instanceof qr&&cA(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((A=>(function(U){return new Cd(fu(U.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(A)))})(n.orderBy));let g=null;n.limit&&(g=(function(w){let A;return A=typeof w=="object"?w.value:w,Wd(A)?null:A})(n.limit));let y=null;n.startAt&&(y=(function(w){const A=!!w.before,I=w.values||[];return new Ad(I,A)})(n.startAt));let v=null;return n.endAt&&(v=(function(w){const A=!w.before,I=w.values||[];return new Ad(I,A)})(n.endAt)),I3(t,a,f,u,g,"F",y,v)}function pk(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function LA(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fu(n.unaryFilter.field);return Nn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=fu(n.unaryFilter.field);return Nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fu(n.unaryFilter.field);return Nn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=fu(n.unaryFilter.field);return Nn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return jt(61313);default:return jt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Nn.create(fu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return jt(58110);default:return jt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return qr.create(n.compositeFilter.filters.map((s=>LA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return jt(1026)}})(n.compositeFilter.op))})(e):jt(30097,{filter:e})}function gk(e){return ik[e]}function yk(e){return sk[e]}function _k(e){return rk[e]}function hu(e){return{fieldPath:e.canonicalString()}}function fu(e){return ui.fromServerFormat(e.fieldPath)}function OA(e){return e instanceof Nn?(function(n){if(n.op==="=="){if(hE(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NAN"}};if(cE(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hE(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NOT_NAN"}};if(cE(n.value))return{unaryFilter:{field:hu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hu(n.field),op:yk(n.op),value:n.value}}})(e):e instanceof qr?(function(n){const s=n.getFilters().map((a=>OA(a)));return s.length===1?s[0]:{compositeFilter:{op:_k(n.op),filters:s}}})(e):jt(54877,{filter:e})}function vk(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function NA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function VA(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class pa{constructor(t,n,s,a,u=qt.min(),f=qt.min(),g=ci.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new pa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Tk{constructor(t){this.yt=t}}function bk(e){const t=mk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?yy(t,t.limit,"L"):t}class Ek{constructor(){this.Sn=new wk}addToCollectionParentIndex(t,n){return this.Sn.add(n),_t.resolve()}getCollectionParents(t,n){return _t.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return _t.resolve()}deleteFieldIndex(t,n){return _t.resolve()}deleteAllFieldIndexes(t){return _t.resolve()}createTargetIndexes(t,n){return _t.resolve()}getDocumentsMatchingTarget(t,n){return _t.resolve(null)}getIndexType(t,n){return _t.resolve(0)}getFieldIndexes(t,n){return _t.resolve([])}getNextCollectionGroupToUpdate(t){return _t.resolve(null)}getMinOffset(t,n){return _t.resolve(wa.min())}getMinOffsetFromCollectionGroup(t,n){return _t.resolve(wa.min())}updateCollectionGroup(t,n,s){return _t.resolve()}updateIndexEntries(t,n){return _t.resolve()}}class wk{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new kn(qe.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new kn(qe.comparator)).toArray()}}const xE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kA=41943040;class Ji{static withCacheSize(t){return new Ji(t,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Ji.DEFAULT_COLLECTION_PERCENTILE=10,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ji.DEFAULT=new Ji(kA,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ji.DISABLED=new Ji(-1,0,0);class Mu{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Mu(0)}static ar(){return new Mu(-1)}}const AE="LruGarbageCollector",Sk=1048576;function CE([e,t],[n,s]){const a=ue(e,n);return a===0?ue(t,s):a}class xk{constructor(t){this.Pr=t,this.buffer=new kn(CE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();CE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ak{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){Dt(AE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ju(n)?Dt(AE,"Ignoring IndexedDB error during garbage collection: ",n):await Uu(n)}await this.Ar(3e5)}))}}class Ck{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return _t.resolve(Qd.ce);const s=new xk(n);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Dt("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(xE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,a,u,f,g,y,v;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(Dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,f=Date.now(),this.nthSequenceNumber(t,a)))).next((w=>(s=w,g=Date.now(),this.removeTargets(t,s,n)))).next((w=>(u=w,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((w=>(v=Date.now(),uu()<=pe.DEBUG&&Dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${a} in `+(g-f)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(v-y)+`ms
Total Duration: ${v-b}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:w}))))}}function Rk(e,t){return new Ck(e,t)}class Dk{constructor(){this.changes=new wl((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Si.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?_t.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Mk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class Ik{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Wc(s.mutation,a,hr.empty(),Se.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,ce()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=ce()){const a=ml();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((u=>{let f=kc();return u.forEach(((g,y)=>{f=f.insert(g,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=ml();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,ce())))}populateOverlays(t,n,s){const a=[];return s.forEach((u=>{n.has(u)||a.push(u)})),this.documentOverlayCache.getOverlays(t,a).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(t,n,s,a){let u=So();const f=Qc(),g=(function(){return Qc()})();return n.forEach(((y,v)=>{const b=s.get(v.key);a.has(v.key)&&(b===void 0||b.mutation instanceof Sl)?u=u.insert(v.key,v):b!==void 0?(f.set(v.key,b.mutation.getFieldMask()),Wc(b.mutation,v,b.mutation.getFieldMask(),Se.now())):f.set(v.key,hr.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((v,b)=>f.set(v,b))),n.forEach(((v,b)=>g.set(v,new Mk(b,f.get(v)??null)))),g)))}recalculateAndSaveOverlays(t,n){const s=Qc();let a=new nn(((f,g)=>f-g)),u=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const g of f)g.keys().forEach((y=>{const v=n.get(y);if(v===null)return;let b=s.get(y)||hr.empty();b=g.applyToLocalView(v,b),s.set(y,b);const w=(a.get(g.batchId)||ce()).add(y);a=a.insert(g.batchId,w)}))})).next((()=>{const f=[],g=a.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,b=y.value,w=_A();b.forEach((A=>{if(!u.has(A)){const I=SA(n.get(A),s.get(A));I!==null&&w.set(A,I),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(t,v,w))}return _t.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return P3(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):L3(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((u=>{const f=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-u.size):_t.resolve(ml());let g=ch,y=u;return f.next((v=>_t.forEach(v,((b,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),u.get(b)?_t.resolve():this.remoteDocumentCache.getEntry(t,b).next((A=>{y=y.insert(b,A)}))))).next((()=>this.populateOverlays(t,v,u))).next((()=>this.computeViews(t,y,v,ce()))).next((b=>({batchId:g,changes:yA(b)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new zt(n)).next((s=>{let a=kc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const u=n.collectionGroup;let f=kc();return this.indexManager.getCollectionParents(t,u).next((g=>_t.forEach(g,(y=>{const v=(function(w,A){return new Jd(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,s,a).next((b=>{b.forEach(((w,A)=>{f=f.insert(w,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,a)))).next((f=>{u.forEach(((y,v)=>{const b=v.getKey();f.get(b)===null&&(f=f.insert(b,Si.newInvalidDocument(b)))}));let g=kc();return f.forEach(((y,v)=>{const b=u.get(y);b!==void 0&&Wc(b.mutation,v,hr.empty(),Se.now()),em(n,v)&&(g=g.insert(y,v))})),g}))}}class Pk{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return _t.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Br(a.createTime)}})(n)),_t.resolve()}getNamedQuery(t,n){return _t.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:bk(a.bundledQuery),readTime:Br(a.readTime)}})(n)),_t.resolve()}}class Lk{constructor(){this.overlays=new nn(zt.comparator),this.Lr=new Map}getOverlay(t,n){return _t.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ml();return _t.forEach(n,(a=>this.getOverlay(t,a).next((u=>{u!==null&&s.set(a,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,u)=>{this.bt(t,n,u)})),_t.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),_t.resolve()}getOverlaysForCollection(t,n,s){const a=ml(),u=n.length+1,f=new zt(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&y.largestBatchId>s&&a.set(y.getKey(),y)}return _t.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let u=new nn(((v,b)=>v-b));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let b=u.get(v.largestBatchId);b===null&&(b=ml(),u=u.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const g=ml(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,b)=>g.set(v,b))),!(g.size()>=a)););return _t.resolve(g)}bt(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new W3(n,s));let u=this.Lr.get(n);u===void 0&&(u=ce(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class Ok{constructor(){this.sessionToken=ci.EMPTY_BYTE_STRING}getSessionToken(t){return _t.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,_t.resolve()}}class k_{constructor(){this.kr=new kn(Wn.Kr),this.qr=new kn(Wn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Wn(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Wn(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new zt(new qe([])),s=new Wn(n,t),a=new Wn(n,t+1),u=[];return this.qr.forEachInRange([s,a],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new zt(new qe([])),s=new Wn(n,t),a=new Wn(n,t+1);let u=ce();return this.qr.forEachInRange([s,a],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Wn(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Wn{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return zt.comparator(t.key,n.key)||ue(t.Hr,n.Hr)}static Ur(t,n){return ue(t.Hr,n.Hr)||zt.comparator(t.key,n.key)}}class Nk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kn(Wn.Kr)}checkEmpty(t){return _t.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Q3(u,n,s,a);this.mutationQueue.push(f);for(const g of a)this.Jr=this.Jr.add(new Wn(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return _t.resolve(f)}lookupMutationBatch(t,n){return _t.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.Xr(s),u=a<0?0:a;return _t.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(this.mutationQueue.length===0?A_:this.Yn-1)}getAllMutationBatches(t){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Wn(n,0),a=new Wn(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,a],(f=>{const g=this.Zr(f.Hr);u.push(g)})),_t.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new kn(ue);return n.forEach((a=>{const u=new Wn(a,0),f=new Wn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(g=>{s=s.add(g.Hr)}))})),_t.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let u=s;zt.isDocumentKey(u)||(u=u.child(""));const f=new Wn(new zt(u),0);let g=new kn(ue);return this.Jr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(g=g.add(y.Hr)),!0)}),f),_t.resolve(this.Yr(g))}Yr(t){const n=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){xe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return _t.forEach(n.mutations,(a=>{const u=new Wn(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Wn(n,0),a=this.Jr.firstAfterOrEqual(s);return _t.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,_t.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Vk{constructor(t){this.ti=t,this.docs=(function(){return new nn(zt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return _t.resolve(s?s.document.mutableCopy():Si.newInvalidDocument(n))}getEntries(t,n){let s=So();return n.forEach((a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():Si.newInvalidDocument(a))})),_t.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let u=So();const f=n.path,g=new zt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:b}}=y.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||l3(a3(b),s)<=0||(a.has(b.key)||em(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return _t.resolve(u)}getAllFromCollectionGroup(t,n,s,a){jt(9500)}ni(t,n){return _t.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new kk(this)}getSize(t){return _t.resolve(this.size)}}class kk extends Dk{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),_t.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class zk{constructor(t){this.persistence=t,this.ri=new wl((n=>D_(n)),M_),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.ii=0,this.si=new k_,this.targetCount=0,this.oi=Mu._r()}forEachTarget(t,n){return this.ri.forEach(((s,a)=>n(a))),_t.resolve()}getLastRemoteSnapshotVersion(t){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return _t.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),_t.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Mu(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,_t.resolve()}updateTargetData(t,n){return this.lr(n),_t.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,_t.resolve()}removeTargets(t,n,s){let a=0;const u=[];return this.ri.forEach(((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),a++)})),_t.waitFor(u).next((()=>a))}getTargetCount(t){return _t.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return _t.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),_t.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach((f=>{u.push(a.markPotentiallyOrphaned(t,f))})),_t.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),_t.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return _t.resolve(s)}containsKey(t,n){return _t.resolve(this.si.containsKey(n))}}class zA{constructor(t,n){this._i={},this.overlays={},this.ai=new Qd(0),this.ui=!1,this.ui=!0,this.ci=new Ok,this.referenceDelegate=t(this),this.li=new zk(this),this.indexManager=new Ek,this.remoteDocumentCache=(function(a){return new Vk(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Tk(n),this.Pi=new Pk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Lk,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new Nk(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){Dt("MemoryPersistence","Starting transaction:",t);const a=new Bk(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((u=>this.referenceDelegate.Ii(a).next((()=>u)))).toPromise().then((u=>(a.raiseOnCommittedEvent(),u)))}Ei(t,n){return _t.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class Bk extends c3{constructor(t){super(),this.currentSequenceNumber=t}}class z_{constructor(t){this.persistence=t,this.Ri=new k_,this.Ai=null}static Vi(t){return new z_(t)}get di(){if(this.Ai)return this.Ai;throw jt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),_t.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),_t.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),_t.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.di,(s=>{const a=zt.fromPath(s);return this.mi(t,a).next((u=>{u||n.removeEntry(a,qt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return _t.or([()=>_t.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Id{constructor(t,n){this.persistence=t,this.fi=new wl((s=>d3(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Rk(this,n)}static Vi(t,n){return new Id(t,n)}Ti(){}Ii(t){return _t.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return _t.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((u=>u?_t.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.ni(t,(f=>this.wr(t,f,n).next((g=>{g||(s++,u.removeEntry(f,qt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),_t.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),_t.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),_t.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),_t.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=nd(t.data.value)),n}wr(t,n,s){return _t.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.fi.get(n);return _t.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class B_{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=a}static Es(t,n){let s=ce(),a=ce();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new B_(t,n.fromCache,s,a)}}class Uk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class jk{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return PV()?8:h3(MV())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,a,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new Uk;return this.ys(t,n,f).next((g=>{if(u.result=g,this.As)return this.ws(t,n,f,g.size)}))})).next((()=>u.result))}ws(t,n,s,a){return s.documentReadCount<this.Vs?(uu()<=pe.DEBUG&&Dt("QueryEngine","SDK will not create cache indexes for query:",cu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),_t.resolve()):(uu()<=pe.DEBUG&&Dt("QueryEngine","Query:",cu(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(uu()<=pe.DEBUG&&Dt("QueryEngine","The SDK decides to create cache indexes for query:",cu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zr(n))):_t.resolve())}gs(t,n){if(pE(n))return _t.resolve(null);let s=zr(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=yy(n,null,"F"),s=zr(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=ce(...u);return this.fs.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,s).next((y=>{const v=this.bs(n,g);return this.Ss(n,v,f,y.readTime)?this.gs(t,yy(n,null,"F")):this.Ds(t,v,n,y)}))))})))))}ps(t,n,s,a){return pE(n)||a.isEqual(qt.min())?_t.resolve(null):this.fs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,a)?_t.resolve(null):(uu()<=pe.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),cu(n)),this.Ds(t,f,n,o3(a,ch)).next((g=>g)))}))}bs(t,n){let s=new kn(pA(t));return n.forEach(((a,u)=>{em(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}ys(t,n,s){return uu()<=pe.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",cu(n)),this.fs.getDocumentsMatchingQuery(t,n,wa.min(),s)}Ds(t,n,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const U_="LocalStore",Fk=3e8;class Hk{constructor(t,n,s,a){this.persistence=t,this.Cs=n,this.serializer=a,this.vs=new nn(ue),this.Fs=new wl((u=>D_(u)),M_),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ik(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function qk(e,t,n,s){return new Hk(e,t,n,s)}async function BA(e,t){const n=Gt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((u=>(a=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let y=ce();for(const v of a){f.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}for(const v of u){g.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}return n.localDocuments.getDocuments(s,y).next((v=>({Ns:v,removedBatchIds:f,addedBatchIds:g})))}))}))}function Zk(e,t){const n=Gt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,v,b){const w=v.batch,A=w.keys();let I=_t.resolve();return A.forEach((U=>{I=I.next((()=>b.getEntry(y,U))).next((z=>{const Z=v.docVersions.get(U);xe(Z!==null,48541),z.version.compareTo(Z)<0&&(w.applyToRemoteDocument(z,v),z.isValidDocument()&&(z.setReadTime(v.commitVersion),b.addEntry(z)))}))})),I.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=ce();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function UA(e){const t=Gt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function Gk(e,t){const n=Gt(e),s=t.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const g=[];t.targetChanges.forEach(((b,w)=>{const A=a.get(w);if(!A)return;g.push(n.li.removeMatchingKeys(u,b.removedDocuments,w).next((()=>n.li.addMatchingKeys(u,b.addedDocuments,w))));let I=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(w)!==null?I=I.withResumeToken(ci.EMPTY_BYTE_STRING,qt.min()).withLastLimboFreeSnapshotVersion(qt.min()):b.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(b.resumeToken,s)),a=a.insert(w,I),(function(z,Z,$){return z.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=Fk?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(A,I,b)&&g.push(n.li.updateTargetData(u,I))}));let y=So(),v=ce();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),g.push(Kk(u,f,t.documentUpdates).next((b=>{y=b.Bs,v=b.Ls}))),!s.isEqual(qt.min())){const b=n.li.getLastRemoteSnapshotVersion(u).next((w=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(b)}return _t.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,v))).next((()=>y))})).then((u=>(n.vs=a,u)))}function Kk(e,t,n){let s=ce(),a=ce();return n.forEach((u=>s=s.add(u))),t.getEntries(e,s).next((u=>{let f=So();return n.forEach(((g,y)=>{const v=u.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(g)),y.isNoDocument()&&y.version.isEqual(qt.min())?(t.removeEntry(g,y.readTime),f=f.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),f=f.insert(g,y)):Dt(U_,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)})),{Bs:f,Ls:a}}))}function Yk(e,t){const n=Gt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=A_),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function Xk(e,t){const n=Gt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,t).next((u=>u?(a=u,_t.resolve(a)):n.li.allocateTargetId(s).next((f=>(a=new pa(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function Ey(e,t,n){const s=Gt(e),a=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!ju(f))throw f;Dt(U_,`Failed to update sequence numbers for target ${t}: ${f}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function RE(e,t,n){const s=Gt(e);let a=qt.min(),u=ce();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,v,b){const w=Gt(y),A=w.Fs.get(b);return A!==void 0?_t.resolve(w.vs.get(A)):w.li.getTargetData(v,b)})(s,f,zr(t)).next((g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,g.targetId).next((y=>{u=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?a:qt.min(),n?u:ce()))).next((g=>(Qk(s,N3(t),g),{documents:g,ks:u})))))}function Qk(e,t,n){let s=e.Ms.get(t)||qt.min();n.forEach(((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),e.Ms.set(t,s)}class DE{constructor(){this.activeTargetIds=j3()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Wk{constructor(){this.vo=new DE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new DE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class $k{Mo(t){}shutdown(){}}const ME="ConnectivityMonitor";class IE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Dt(ME,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){Dt(ME,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gf=null;function wy(){return Gf===null?Gf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gf++,"0x"+Gf.toString(16)}const Cg="RestConnection",Jk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class t6{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Sd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,n,s,a,u){const f=wy(),g=this.Qo(t,n.toUriEncodedString());Dt(Cg,`Sending RPC '${t}' ${f}:`,g,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,a,u);const{host:v}=new URL(g),b=wh(v);return this.zo(t,g,y,s,b).then((w=>(Dt(Cg,`Received RPC '${t}' ${f}: `,w),w)),(w=>{throw Au(Cg,`RPC '${t}' ${f} failed with error: `,w,"url: ",g,"request:",s),w}))}jo(t,n,s,a,u,f){return this.Wo(t,n,s,a,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,u)=>t[u]=a)),s&&s.headers.forEach(((a,u)=>t[u]=a))}Qo(t,n){const s=Jk[t];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class e6{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ei="WebChannelConnection",Dc=(e,t,n)=>{e.listen(t,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class bu extends t6{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!bu.c_){const t=Gx();Dc(t,Zx.STAT_EVENT,(n=>{n.stat===hy.PROXY?Dt(Ei,"STAT_EVENT: detected buffering proxy"):n.stat===hy.NOPROXY&&Dt(Ei,"STAT_EVENT: detected no buffering proxy")})),bu.c_=!0}}zo(t,n,s,a,u){const f=wy();return new Promise(((g,y)=>{const v=new Hx;v.setWithCredentials(!0),v.listenOnce(qx.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case ed.NO_ERROR:const w=v.getResponseJson();Dt(Ei,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(w)),g(w);break;case ed.TIMEOUT:Dt(Ei,`RPC '${t}' ${f} timed out`),y(new Lt(vt.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:const A=v.getStatus();if(Dt(Ei,`RPC '${t}' ${f} failed with status:`,A,"response text:",v.getResponseText()),A>0){let I=v.getResponseJson();Array.isArray(I)&&(I=I[0]);const U=I?.error;if(U&&U.status&&U.message){const z=(function($){const nt=$.toLowerCase().replace(/_/g,"-");return Object.values(vt).indexOf(nt)>=0?nt:vt.UNKNOWN})(U.status);y(new Lt(z,U.message))}else y(new Lt(vt.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new Lt(vt.UNAVAILABLE,"Connection failed."));break;default:jt(9055,{l_:t,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Dt(Ei,`RPC '${t}' ${f} completed.`)}}));const b=JSON.stringify(a);Dt(Ei,`RPC '${t}' ${f} sending request:`,a),v.send(n,"POST",b,s,15)}))}T_(t,n,s){const a=wy(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const v=u.join("");Dt(Ei,`Creating RPC '${t}' stream ${a}: ${v}`,g);const b=f.createWebChannel(v,g);this.I_(b);let w=!1,A=!1;const I=new e6({Ho:U=>{A?Dt(Ei,`Not sending because RPC '${t}' stream ${a} is closed:`,U):(w||(Dt(Ei,`Opening RPC '${t}' stream ${a} transport.`),b.open(),w=!0),Dt(Ei,`RPC '${t}' stream ${a} sending:`,U),b.send(U))},Jo:()=>b.close()});return Dc(b,Vc.EventType.OPEN,(()=>{A||(Dt(Ei,`RPC '${t}' stream ${a} transport opened.`),I.i_())})),Dc(b,Vc.EventType.CLOSE,(()=>{A||(A=!0,Dt(Ei,`RPC '${t}' stream ${a} transport closed`),I.o_(),this.E_(b))})),Dc(b,Vc.EventType.ERROR,(U=>{A||(A=!0,Au(Ei,`RPC '${t}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),I.o_(new Lt(vt.UNAVAILABLE,"The operation could not be completed")))})),Dc(b,Vc.EventType.MESSAGE,(U=>{if(!A){const z=U.data[0];xe(!!z,16349);const Z=z,$=Z?.error||Z[0]?.error;if($){Dt(Ei,`RPC '${t}' stream ${a} received error:`,$);const nt=$.status;let K=(function(ut){const P=Cn[ut];if(P!==void 0)return AA(P)})(nt),ht=$.message;K===void 0&&(K=vt.INTERNAL,ht="Unknown error status: "+nt+" with message "+$.message),A=!0,I.o_(new Lt(K,ht)),b.close()}else Dt(Ei,`RPC '${t}' stream ${a} received:`,z),I.__(z)}})),bu.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Kx()}}function n6(e){return new bu(e)}function Rg(){return typeof document<"u"?document:null}function rm(e){return new ok(e,!0)}bu.c_=!1;class jA{constructor(t,n,s=1e3,a=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=a,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&Dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const PE="PersistentStream";class FA{constructor(t,n,s,a,u,f,g,y){this.Ci=t,this.b_=s,this.S_=a,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===vt.RESOURCE_EXHAUSTED?(Eo(n.toString()),Eo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===vt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new Lt(vt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Dt(PE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(Dt(PE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class i6 extends FA{constructor(t,n,s,a,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=uk(this.serializer,t),s=(function(u){if(!("targetChange"in u))return qt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?qt.min():f.readTime?Br(f.readTime):qt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=by(this.serializer),n.addTarget=(function(u,f){let g;const y=f.target;if(g=gy(y)?{documents:fk(u,y)}:{query:dk(u,y).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=DA(u,f.resumeToken);const v=_y(u,f.expectedCount);v!==null&&(g.expectedCount=v)}else if(f.snapshotVersion.compareTo(qt.min())>0){g.readTime=Md(u,f.snapshotVersion.toTimestamp());const v=_y(u,f.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,t);const s=pk(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=by(this.serializer),n.removeTarget=t,this.K_(n)}}class s6 extends FA{constructor(t,n,s,a,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return xe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,xe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){xe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=hk(t.writeResults,t.commitTime),s=Br(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=by(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>ck(this.serializer,s)))};this.K_(n)}}class r6{}class o6 extends r6{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Lt(vt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,vy(n,s),a,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Lt(vt.UNKNOWN,u.toString())}))}jo(t,n,s,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.jo(t,vy(n,s),a,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Lt(vt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function a6(e,t,n,s){return new o6(e,t,n,s)}class l6{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Eo(n),this.aa=!1):Dt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vl="RemoteStore";class u6{constructor(t,n,s,a,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{xl(this)&&(Dt(vl,"Restarting streams for network reachability change."),await(async function(y){const v=Gt(y);v.Ea.add(4),await Ch(v),v.Va.set("Unknown"),v.Ea.delete(4),await om(v)})(this))}))})),this.Va=new l6(s,a)}}async function om(e){if(xl(e))for(const t of e.Ra)await t(!0)}async function Ch(e){for(const t of e.Ra)await t(!1)}function HA(e,t){const n=Gt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),q_(n)?H_(n):Fu(n).O_()&&F_(n,t))}function j_(e,t){const n=Gt(e),s=Fu(n);n.Ia.delete(t),s.O_()&&qA(n,t),n.Ia.size===0&&(s.O_()?s.L_():xl(n)&&n.Va.set("Unknown"))}function F_(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(qt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fu(e).Z_(t)}function qA(e,t){e.da.$e(t),Fu(e).X_(t)}function H_(e){e.da=new nk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Fu(e).start(),e.Va.ua()}function q_(e){return xl(e)&&!Fu(e).x_()&&e.Ia.size>0}function xl(e){return Gt(e).Ea.size===0}function ZA(e){e.da=void 0}async function c6(e){e.Va.set("Online")}async function h6(e){e.Ia.forEach(((t,n)=>{F_(e,t)}))}async function f6(e,t){ZA(e),q_(e)?(e.Va.ha(t),H_(e)):e.Va.set("Unknown")}async function d6(e,t,n){if(e.Va.set("Online"),t instanceof RA&&t.state===2&&t.cause)try{await(async function(a,u){const f=u.cause;for(const g of u.targetIds)a.Ia.has(g)&&(await a.remoteSyncer.rejectListen(g,f),a.Ia.delete(g),a.da.removeTarget(g))})(e,t)}catch(s){Dt(vl,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Pd(e,s)}else if(t instanceof rd?e.da.Xe(t):t instanceof CA?e.da.st(t):e.da.tt(t),!n.isEqual(qt.min()))try{const s=await UA(e.localStore);n.compareTo(s)>=0&&await(function(u,f){const g=u.da.Tt(f);return g.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const b=u.Ia.get(v);b&&u.Ia.set(v,b.withResumeToken(y.resumeToken,f))}})),g.targetMismatches.forEach(((y,v)=>{const b=u.Ia.get(y);if(!b)return;u.Ia.set(y,b.withResumeToken(ci.EMPTY_BYTE_STRING,b.snapshotVersion)),qA(u,y);const w=new pa(b.target,y,v,b.sequenceNumber);F_(u,w)})),u.remoteSyncer.applyRemoteEvent(g)})(e,n)}catch(s){Dt(vl,"Failed to raise snapshot:",s),await Pd(e,s)}}async function Pd(e,t,n){if(!ju(t))throw t;e.Ea.add(1),await Ch(e),e.Va.set("Offline"),n||(n=()=>UA(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Dt(vl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await om(e)}))}function GA(e,t){return t().catch((n=>Pd(e,n,t)))}async function am(e){const t=Gt(e),n=Ca(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:A_;for(;m6(t);)try{const a=await Yk(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,p6(t,a)}catch(a){await Pd(t,a)}KA(t)&&YA(t)}function m6(e){return xl(e)&&e.Ta.length<10}function p6(e,t){e.Ta.push(t);const n=Ca(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function KA(e){return xl(e)&&!Ca(e).x_()&&e.Ta.length>0}function YA(e){Ca(e).start()}async function g6(e){Ca(e).ra()}async function y6(e){const t=Ca(e);for(const n of e.Ta)t.ea(n.mutations)}async function _6(e,t,n){const s=e.Ta.shift(),a=O_.from(s,t,n);await GA(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await am(e)}async function v6(e,t){t&&Ca(e).Y_&&await(async function(s,a){if((function(f){return J3(f)&&f!==vt.ABORTED})(a.code)){const u=s.Ta.shift();Ca(s).B_(),await GA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a))),await am(s)}})(e,t),KA(e)&&YA(e)}async function LE(e,t){const n=Gt(e);n.asyncQueue.verifyOperationInProgress(),Dt(vl,"RemoteStore received new credentials");const s=xl(n);n.Ea.add(3),await Ch(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await om(n)}async function T6(e,t){const n=Gt(e);t?(n.Ea.delete(2),await om(n)):t||(n.Ea.add(2),await Ch(n),n.Va.set("Unknown"))}function Fu(e){return e.ma||(e.ma=(function(n,s,a){const u=Gt(n);return u.sa(),new i6(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(e.datastore,e.asyncQueue,{Zo:c6.bind(null,e),Yo:h6.bind(null,e),t_:f6.bind(null,e),J_:d6.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),q_(e)?H_(e):e.Va.set("Unknown")):(await e.ma.stop(),ZA(e))}))),e.ma}function Ca(e){return e.fa||(e.fa=(function(n,s,a){const u=Gt(n);return u.sa(),new s6(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:g6.bind(null,e),t_:v6.bind(null,e),ta:y6.bind(null,e),na:_6.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await am(e)):(await e.fa.stop(),e.Ta.length>0&&(Dt(vl,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Z_{constructor(t,n,s,a,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new _o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,u){const f=Date.now()+s,g=new Z_(t,n,f,a,u);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Lt(vt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G_(e,t){if(Eo("AsyncQueue",`${t}: ${e}`),ju(e))return new Lt(vt.UNAVAILABLE,`${t}: ${e}`);throw e}class Eu{static emptySet(t){return new Eu(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||zt.comparator(n.key,s.key):(n,s)=>zt.comparator(n.key,s.key),this.keyedMap=kc(),this.sortedSet=new nn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Eu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Eu;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class OE{constructor(){this.ga=new nn(zt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):jt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Iu{constructor(t,n,s,a,u,f,g,y,v){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,n,s,a,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new Iu(t,n,Eu.emptySet(n),f,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class b6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class E6{constructor(){this.queries=NE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Gt(n),u=a.queries;a.queries=NE(),u.forEach(((f,g)=>{for(const y of g.ba)y.onError(s)}))})(this,new Lt(vt.ABORTED,"Firestore shutting down"))}}function NE(){return new wl((e=>mA(e)),tm)}async function XA(e,t){const n=Gt(e);let s=3;const a=t.query;let u=n.queries.get(a);u?!u.Sa()&&t.Da()&&(s=2):(u=new b6,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(a,!0);break;case 1:u.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const g=G_(f,`Initialization of query '${cu(t.query)}' failed`);return void t.onError(g)}n.queries.set(a,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&K_(n)}async function QA(e,t){const n=Gt(e),s=t.query;let a=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?a=t.Da()?0:1:!u.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function w6(e,t){const n=Gt(e);let s=!1;for(const a of t){const u=a.query,f=n.queries.get(u);if(f){for(const g of f.ba)g.Fa(a)&&(s=!0);f.wa=a}}s&&K_(n)}function S6(e,t,n){const s=Gt(e),a=s.queries.get(t);if(a)for(const u of a.ba)u.onError(n);s.queries.delete(t)}function K_(e){e.Ca.forEach((t=>{t.next()}))}var Sy,VE;(VE=Sy||(Sy={})).Ma="default",VE.Cache="cache";class WA{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Iu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Iu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sy.Cache}}class $A{constructor(t){this.key=t}}class JA{constructor(t){this.key=t}}class x6{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ce(),this.mutatedKeys=ce(),this.eu=pA(t),this.tu=new Eu(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new OE,a=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=a,g=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((b,w)=>{const A=a.get(b),I=em(this.query,w)?w:null,U=!!A&&this.mutatedKeys.has(A.key),z=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let Z=!1;A&&I?A.data.isEqual(I.data)?U!==z&&(s.track({type:3,doc:I}),Z=!0):this.su(A,I)||(s.track({type:2,doc:I}),Z=!0,(y&&this.eu(I,y)>0||v&&this.eu(I,v)<0)&&(g=!0)):!A&&I?(s.track({type:0,doc:I}),Z=!0):A&&!I&&(s.track({type:1,doc:A}),Z=!0,(y||v)&&(g=!0)),Z&&(I?(f=f.add(I),u=z?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Ss:g,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((b,w)=>(function(I,U){const z=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt(20277,{Vt:Z})}};return z(I)-z(U)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(s),a=a??!1;const g=n&&!a?this._u():[],y=this.Ya.size===0&&this.current&&!a?1:0,v=y!==this.Xa;return this.Xa=y,f.length!==0||v?{snapshot:new Iu(this.query,t.tu,u,f,t.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=ce(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new JA(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new $A(s))})),n}cu(t){this.Za=t.ks,this.Ya=ce();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Iu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Y_="SyncEngine";class A6{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class C6{constructor(t){this.key=t,this.hu=!1}}class R6{constructor(t,n,s,a,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new wl((g=>mA(g)),tm),this.Iu=new Map,this.Eu=new Set,this.Ru=new nn(zt.comparator),this.Au=new Map,this.Vu=new k_,this.du={},this.mu=new Map,this.fu=Mu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function D6(e,t,n=!0){const s=rC(e);let a;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.lu()):a=await tC(s,t,n,!0),a}async function M6(e,t){const n=rC(e);await tC(n,t,!0,!1)}async function tC(e,t,n,s){const a=await Xk(e.localStore,zr(t)),u=a.targetId,f=e.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await I6(e,t,u,f==="current",a.resumeToken)),e.isPrimaryClient&&n&&HA(e.remoteStore,a),g}async function I6(e,t,n,s,a){e.pu=(w,A,I)=>(async function(z,Z,$,nt){let K=Z.view.ru($);K.Ss&&(K=await RE(z.localStore,Z.query,!1).then((({documents:P})=>Z.view.ru(P,K))));const ht=nt&&nt.targetChanges.get(Z.targetId),ct=nt&&nt.targetMismatches.get(Z.targetId)!=null,ut=Z.view.applyChanges(K,z.isPrimaryClient,ht,ct);return zE(z,Z.targetId,ut.au),ut.snapshot})(e,w,A,I);const u=await RE(e.localStore,t,!0),f=new x6(t,u.ks),g=f.ru(u.documents),y=Ah.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),v=f.applyChanges(g,e.isPrimaryClient,y);zE(e,n,v.au);const b=new A6(t,n,f);return e.Tu.set(t,b),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),v.snapshot}async function P6(e,t,n){const s=Gt(e),a=s.Tu.get(t),u=s.Iu.get(a.targetId);if(u.length>1)return s.Iu.set(a.targetId,u.filter((f=>!tm(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ey(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&j_(s.remoteStore,a.targetId),xy(s,a.targetId)})).catch(Uu)):(xy(s,a.targetId),await Ey(s.localStore,a.targetId,!0))}async function L6(e,t){const n=Gt(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),j_(n.remoteStore,s.targetId))}async function O6(e,t,n){const s=j6(e);try{const a=await(function(f,g){const y=Gt(f),v=Se.now(),b=g.reduce(((I,U)=>I.add(U.key)),ce());let w,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let U=So(),z=ce();return y.xs.getEntries(I,b).next((Z=>{U=Z,U.forEach((($,nt)=>{nt.isValidDocument()||(z=z.add($))}))})).next((()=>y.localDocuments.getOverlayedDocuments(I,U))).next((Z=>{w=Z;const $=[];for(const nt of g){const K=Y3(nt,w.get(nt.key).overlayedDocument);K!=null&&$.push(new Sl(nt.key,K,aA(K.value.mapValue),fr.exists(!0)))}return y.mutationQueue.addMutationBatch(I,v,$,g)})).next((Z=>{A=Z;const $=Z.applyToLocalDocumentSet(w,z);return y.documentOverlayCache.saveOverlays(I,Z.batchId,$)}))})).then((()=>({batchId:A.batchId,changes:yA(w)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(f,g,y){let v=f.du[f.currentUser.toKey()];v||(v=new nn(ue)),v=v.insert(g,y),f.du[f.currentUser.toKey()]=v})(s,a.batchId,n),await Rh(s,a.changes),await am(s.remoteStore)}catch(a){const u=G_(a,"Failed to persist write");n.reject(u)}}async function eC(e,t){const n=Gt(e);try{const s=await Gk(n.localStore,t);t.targetChanges.forEach(((a,u)=>{const f=n.Au.get(u);f&&(xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?f.hu=!0:a.modifiedDocuments.size>0?xe(f.hu,14607):a.removedDocuments.size>0&&(xe(f.hu,42227),f.hu=!1))})),await Rh(n,s,t)}catch(s){await Uu(s)}}function kE(e,t,n){const s=Gt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(t);g.snapshot&&a.push(g.snapshot)})),(function(f,g){const y=Gt(f);y.onlineState=g;let v=!1;y.queries.forEach(((b,w)=>{for(const A of w.ba)A.va(g)&&(v=!0)})),v&&K_(y)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function N6(e,t,n){const s=Gt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),u=a&&a.key;if(u){let f=new nn(zt.comparator);f=f.insert(u,Si.newNoDocument(u,qt.min()));const g=ce().add(u),y=new sm(qt.min(),new Map,new nn(ue),f,g);await eC(s,y),s.Ru=s.Ru.remove(u),s.Au.delete(t),X_(s)}else await Ey(s.localStore,t,!1).then((()=>xy(s,t,n))).catch(Uu)}async function V6(e,t){const n=Gt(e),s=t.batch.batchId;try{const a=await Zk(n.localStore,t);iC(n,s,null),nC(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Rh(n,a)}catch(a){await Uu(a)}}async function k6(e,t,n){const s=Gt(e);try{const a=await(function(f,g){const y=Gt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let b;return y.mutationQueue.lookupMutationBatch(v,g).next((w=>(xe(w!==null,37113),b=w.keys(),y.mutationQueue.removeMutationBatch(v,w)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,b,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b))).next((()=>y.localDocuments.getDocuments(v,b)))}))})(s.localStore,t);iC(s,t,n),nC(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Rh(s,a)}catch(a){await Uu(a)}}function nC(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function iC(e,t,n){const s=Gt(e);let a=s.du[s.currentUser.toKey()];if(a){const u=a.get(t);u&&(n?u.reject(n):u.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function xy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((s=>{e.Vu.containsKey(s)||sC(e,s)}))}function sC(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(j_(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),X_(e))}function zE(e,t,n){for(const s of n)s instanceof $A?(e.Vu.addReference(s.key,t),z6(e,s)):s instanceof JA?(Dt(Y_,"Document no longer in limbo: "+s.key),e.Vu.removeReference(s.key,t),e.Vu.containsKey(s.key)||sC(e,s.key)):jt(19791,{wu:s})}function z6(e,t){const n=t.key,s=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(s)||(Dt(Y_,"New document in limbo: "+n),e.Eu.add(s),X_(e))}function X_(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new zt(qe.fromString(t)),s=e.fu.next();e.Au.set(s,new C6(n)),e.Ru=e.Ru.insert(n,s),HA(e.remoteStore,new pa(zr(I_(n.path)),s,"TargetPurposeLimboResolution",Qd.ce))}}async function Rh(e,t,n){const s=Gt(e),a=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{f.push(s.pu(y,t,n).then((v=>{if((v||n)&&s.isPrimaryClient){const b=v?!v.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(v){a.push(v);const b=B_.Es(y.targetId,v);u.push(b)}})))})),await Promise.all(f),s.Pu.J_(a),await(async function(y,v){const b=Gt(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>_t.forEach(v,(A=>_t.forEach(A.Ts,(I=>b.persistence.referenceDelegate.addReference(w,A.targetId,I))).next((()=>_t.forEach(A.Is,(I=>b.persistence.referenceDelegate.removeReference(w,A.targetId,I)))))))))}catch(w){if(!ju(w))throw w;Dt(U_,"Failed to update sequence numbers: "+w)}for(const w of v){const A=w.targetId;if(!w.fromCache){const I=b.vs.get(A),U=I.snapshotVersion,z=I.withLastLimboFreeSnapshotVersion(U);b.vs=b.vs.insert(A,z)}}})(s.localStore,u))}async function B6(e,t){const n=Gt(e);if(!n.currentUser.isEqual(t)){Dt(Y_,"User change. New user:",t.toKey());const s=await BA(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new Lt(vt.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Rh(n,s.Ns)}}function U6(e,t){const n=Gt(e),s=n.Au.get(t);if(s&&s.hu)return ce().add(s.key);{let a=ce();const u=n.Iu.get(t);if(!u)return a;for(const f of u){const g=n.Tu.get(f);a=a.unionWith(g.view.nu)}return a}}function rC(e){const t=Gt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=eC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=U6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=N6.bind(null,t),t.Pu.J_=w6.bind(null,t.eventManager),t.Pu.yu=S6.bind(null,t.eventManager),t}function j6(e){const t=Gt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=V6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=k6.bind(null,t),t}class Ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return qk(this.persistence,new jk,t.initialUser,this.serializer)}Cu(t){return new zA(z_.Vi,this.serializer)}Du(t){return new Wk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ld.provider={build:()=>new Ld};class F6 extends Ld{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){xe(this.persistence.referenceDelegate instanceof Id,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ak(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ji.withCacheSize(this.cacheSizeBytes):Ji.DEFAULT;return new zA((s=>Id.Vi(s,n)),this.serializer)}}class Ay{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>kE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=B6.bind(null,this.syncEngine),await T6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new E6})()}createDatastore(t){const n=rm(t.databaseInfo.databaseId),s=n6(t.databaseInfo);return a6(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,u,f,g){return new u6(s,a,u,f,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>kE(this.syncEngine,n,0)),(function(){return IE.v()?new IE:new $k})())}createSyncEngine(t,n){return(function(a,u,f,g,y,v,b){const w=new R6(a,u,f,g,y,v);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Gt(n);Dt(vl,"RemoteStore shutting down."),s.Ea.add(5),await Ch(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ay.provider={build:()=>new Ay};class oC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Eo("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Ra="FirestoreClient";class H6{constructor(t,n,s,a,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=wi.UNAUTHENTICATED,this.clientId=S_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{Dt(Ra,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(Dt(Ra,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=G_(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Dg(e,t){e.asyncQueue.verifyOperationInProgress(),Dt(Ra,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await BA(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function BE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await q6(e);Dt(Ra,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>LE(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>LE(t.remoteStore,a))),e._onlineComponents=t}async function q6(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Dt(Ra,"Using user provided OfflineComponentProvider");try{await Dg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===vt.FAILED_PRECONDITION||a.code===vt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Au("Error using user provided cache. Falling back to memory cache: "+n),await Dg(e,new Ld)}}else Dt(Ra,"Using default OfflineComponentProvider"),await Dg(e,new F6(void 0));return e._offlineComponents}async function aC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Dt(Ra,"Using user provided OnlineComponentProvider"),await BE(e,e._uninitializedComponentsProvider._online)):(Dt(Ra,"Using default OnlineComponentProvider"),await BE(e,new Ay))),e._onlineComponents}function Z6(e){return aC(e).then((t=>t.syncEngine))}async function lC(e){const t=await aC(e),n=t.eventManager;return n.onListen=D6.bind(null,t.syncEngine),n.onUnlisten=P6.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=M6.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=L6.bind(null,t.syncEngine),n}function G6(e,t,n={}){const s=new _o;return e.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,y,v){const b=new oC({next:A=>{b.Nu(),f.enqueueAndForget((()=>QA(u,w)));const I=A.docs.has(g);!I&&A.fromCache?v.reject(new Lt(vt.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&y&&y.source==="server"?v.reject(new Lt(vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(A)},error:A=>v.reject(A)}),w=new WA(I_(g.path),b,{includeMetadataChanges:!0,Ka:!0});return XA(u,w)})(await lC(e),e.asyncQueue,t,n,s))),s.promise}function K6(e,t,n={}){const s=new _o;return e.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,y,v){const b=new oC({next:A=>{b.Nu(),f.enqueueAndForget((()=>QA(u,w))),A.fromCache&&y.source==="server"?v.reject(new Lt(vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),w=new WA(g,b,{includeMetadataChanges:!0,Ka:!0});return XA(u,w)})(await lC(e),e.asyncQueue,t,n,s))),s.promise}function Y6(e,t){const n=new _o;return e.asyncQueue.enqueueAndForget((async()=>O6(await Z6(e),t,n))),n.promise}function uC(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const X6="ComponentProvider",UE=new Map;function Q6(e,t,n,s,a){return new g3(e,t,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,uC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const cC="firestore.googleapis.com",jE=!0;class FE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Lt(vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cC,this.ssl=jE}else this.host=t.host,this.ssl=t.ssl??jE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=kA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Sk)throw new Lt(vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}r3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uC(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Lt(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Lt(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Lt(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lm{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Lt(vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Lt(vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new X4;switch(s.type){case"firstParty":return new J4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Lt(vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=UE.get(n);s&&(Dt(X6,"Removing Datastore"),UE.delete(n),s.terminate())})(this),Promise.resolve()}}function W6(e,t,n,s={}){e=wo(e,lm);const a=wh(t),u=e._getSettings(),f={...u,emulatorOptions:e._getEmulatorOptions()},g=`${t}:${n}`;a&&(Rx(`https://${g}`),Mx("Firestore",!0)),u.host!==cC&&u.host!==g&&Au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:a,emulatorOptions:s};if(!bd(y,f)&&(e._setSettings(y),s.mockUserToken)){let v,b;if(typeof s.mockUserToken=="string")v=s.mockUserToken,b=wi.MOCK_USER;else{v=Dx(s.mockUserToken,e._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new Lt(vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new wi(w)}e._authCredentials=new Q4(new Xx(v,b))}}class um{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new um(this.firestore,t,this._query)}}class Vn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vn(this.firestore,t,this._key)}toJSON(){return{type:Vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Sh(n,Vn._jsonSchema))return new Vn(t,s||null,new zt(qe.fromString(n.referencePath)))}}Vn._jsonSchemaVersion="firestore/documentReference/1.0",Vn._jsonSchema={type:Dn("string",Vn._jsonSchemaVersion),referencePath:Dn("string")};class Ta extends um{constructor(t,n,s){super(t,n,I_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vn(this.firestore,null,new zt(t))}withConverter(t){return new Ta(this.firestore,t,this._path)}}function HE(e,t,...n){if(e=To(e),Qx("collection","path",t),e instanceof lm){const s=qe.fromString(t,...n);return nE(s),new Ta(e,null,s)}{if(!(e instanceof Vn||e instanceof Ta))throw new Lt(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(qe.fromString(t,...n));return nE(s),new Ta(e.firestore,null,s)}}function od(e,t,...n){if(e=To(e),arguments.length===1&&(t=S_.newId()),Qx("doc","path",t),e instanceof lm){const s=qe.fromString(t,...n);return eE(s),new Vn(e,null,new zt(s))}{if(!(e instanceof Vn||e instanceof Ta))throw new Lt(vt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(qe.fromString(t,...n));return eE(s),new Vn(e.firestore,e instanceof Ta?e.converter:null,new zt(s))}}const qE="AsyncQueue";class ZE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jA(this,"async_queue_retry"),this._c=()=>{const s=Rg();s&&Dt(qE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Rg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Rg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _o;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ju(t))throw t;Dt(qE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Eo("INTERNAL UNHANDLED ERROR: ",GE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=Z_.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(a),a}uc(){this.nc&&jt(47125,{Pc:GE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function GE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Hu extends lm{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new ZE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ZE(t),this._firestoreClient=void 0,await t}}}function $6(e,t){const n=typeof e=="object"?e:Bx(),s=typeof e=="string"?e:Sd,a=Nx(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=Ax("firestore");u&&W6(a,...u)}return a}function Q_(e){if(e._terminated)throw new Lt(vt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||J6(e),e._firestoreClient}function J6(e){const t=e._freezeSettings(),n=Q6(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new H6(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(e._componentsProvider))}class js{constructor(t){this._byteString=t}static fromBase64String(t){try{return new js(ci.fromBase64String(t))}catch(n){throw new Lt(vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new js(ci.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:js._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Sh(t,js._jsonSchema))return js.fromBase64String(t.bytes)}}js._jsonSchemaVersion="firestore/bytes/1.0",js._jsonSchema={type:Dn("string",js._jsonSchemaVersion),bytes:Dn("string")};class hC{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Lt(vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ui(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class fC{constructor(t){this._methodName=t}}class Ur{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Lt(vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Lt(vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ue(this._lat,t._lat)||ue(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ur._jsonSchemaVersion}}static fromJSON(t){if(Sh(t,Ur._jsonSchema))return new Ur(t.latitude,t.longitude)}}Ur._jsonSchemaVersion="firestore/geoPoint/1.0",Ur._jsonSchema={type:Dn("string",Ur._jsonSchemaVersion),latitude:Dn("number"),longitude:Dn("number")};class dr{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Sh(t,dr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new dr(t.vectorValues);throw new Lt(vt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}dr._jsonSchemaVersion="firestore/vectorValue/1.0",dr._jsonSchema={type:Dn("string",dr._jsonSchemaVersion),vectorValues:Dn("object")};const tz=/^__.*__$/;class ez{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Sl(t,this.data,this.fieldMask,n,this.fieldTransforms):new xh(t,this.data,n,this.fieldTransforms)}}function dC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt(40011,{dataSource:e})}}class W_{constructor(t,n,s,a,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new W_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Od(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(dC(this.dataSource)&&tz.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class nz{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||rm(t)}createContext(t,n,s,a=!1){return new W_({dataSource:t,methodName:n,targetDoc:s,path:ui.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mC(e){const t=e._freezeSettings(),n=rm(e._databaseId);return new nz(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pC(e,t,n,s,a,u={}){const f=e.createContext(u.merge||u.mergeFields?2:0,t,n,a);vC("Data must be an object, but it was:",f,s);const g=yC(s,f);let y,v;if(u.merge)y=new hr(f.fieldMask),v=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const w of u.mergeFields){const A=$_(t,w,n);if(!f.contains(A))throw new Lt(vt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);rz(b,A)||b.push(A)}y=new hr(b),v=f.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,v=f.fieldTransforms;return new ez(new Us(g),y,v)}function gC(e,t){if(_C(e=To(e)))return vC("Unsupported field value:",t,e),yC(e,t);if(e instanceof fC)return(function(s,a){if(!dC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const u=[];let f=0;for(const g of s){let y=gC(g,a.childContextForArray(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(e,t)}return(function(s,a){if((s=To(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return F3(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Se.fromDate(s);return{timestampValue:Md(a.serializer,u)}}if(s instanceof Se){const u=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Md(a.serializer,u)}}if(s instanceof Ur)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof js)return{bytesValue:DA(a.serializer,s._byteString)};if(s instanceof Vn){const u=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw a.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:V_(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof dr)return(function(f,g){const y=f instanceof dr?f.toArray():f;return{mapValue:{fields:{[rA]:{stringValue:oA},[xd]:{arrayValue:{values:y.map((b=>{if(typeof b!="number")throw g.createError("VectorValues must only contain numeric values.");return P_(g.serializer,b)}))}}}}}})(s,a);if(VA(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${x_(s)}`)})(e,t)}function yC(e,t){const n={};return Jx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):El(e,((s,a)=>{const u=gC(a,t.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function _C(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Se||e instanceof Ur||e instanceof js||e instanceof Vn||e instanceof fC||e instanceof dr||VA(e))}function vC(e,t,n){if(!_C(n)||!Wx(n)){const s=x_(n);throw s==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+s)}}function $_(e,t,n){if((t=To(t))instanceof hC)return t._internalPath;if(typeof t=="string")return sz(e,t);throw Od("Field path arguments must be of type string or ",e,!1,void 0,n)}const iz=new RegExp("[~\\*/\\[\\]]");function sz(e,t,n){if(t.search(iz)>=0)throw Od(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new hC(...t.split("."))._internalPath}catch{throw Od(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Od(e,t,n,s,a){const u=s&&!s.isEmpty(),f=a!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${a}`),y+=")"),new Lt(vt.INVALID_ARGUMENT,g+e+y)}function rz(e,t){return e.some((n=>n.isEqual(t)))}class oz{convertValue(t,n="none"){switch(Aa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(xa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw jt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return El(t,((a,u)=>{s[a]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[xd].arrayValue?.values?.map((s=>yn(s.doubleValue)));return new dr(n)}convertGeoPoint(t){return new Ur(yn(t.latitude),yn(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=$d(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hh(t));default:return null}}convertTimestamp(t){const n=Sa(t);return new Se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=qe.fromString(t);xe(NA(s),9688,{name:t});const a=new fh(s.get(1),s.get(3)),u=new zt(s.popFirst(5));return a.isEqual(n)||Eo(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class TC extends oz{constructor(t){super(),this.firestore=t}convertBytes(t){return new js(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}const KE="@firebase/firestore",YE="4.10.0";class bC{constructor(t,n,s,a,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new az(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field($_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class az extends bC{data(){return super.data()}}function lz(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Lt(vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function EC(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class Bc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class gl extends bC{constructor(t,n,s,a,u,f){super(t,n,s,a,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field($_("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Lt(vt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=gl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}gl._jsonSchemaVersion="firestore/documentSnapshot/1.0",gl._jsonSchema={type:Dn("string",gl._jsonSchemaVersion),bundleSource:Dn("string","DocumentSnapshot"),bundleName:Dn("string"),bundle:Dn("string")};class ad extends gl{data(t={}){return super.data(t)}}class wu{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Bc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new ad(this._firestore,this._userDataWriter,s.key,s,new Bc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Lt(vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,u){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map((g=>{const y=new ad(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Bc(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new ad(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Bc(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,b=-1;return g.type!==0&&(v=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),b=f.indexOf(g.doc.key)),{type:uz(g.type),doc:y,oldIndex:v,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Lt(vt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=wu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=S_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),a.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function uz(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt(61501,{type:e})}}wu._jsonSchemaVersion="firestore/querySnapshot/1.0",wu._jsonSchema={type:Dn("string",wu._jsonSchemaVersion),bundleSource:Dn("string","QuerySnapshot"),bundleName:Dn("string"),bundle:Dn("string")};function cz(e){e=wo(e,Vn);const t=wo(e.firestore,Hu),n=Q_(t);return G6(n,e._key).then((s=>pz(t,e,s)))}function hz(e){e=wo(e,um);const t=wo(e.firestore,Hu),n=Q_(t),s=new TC(t);return lz(e._query),K6(n,e._query).then((a=>new wu(t,s,e,a)))}function fz(e,t,n){e=wo(e,Vn);const s=wo(e.firestore,Hu),a=EC(e.converter,t,n),u=mC(s);return J_(s,[pC(u,"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,fr.none())])}function dz(e){return J_(wo(e.firestore,Hu),[new L_(e._key,fr.none())])}function mz(e,t){const n=wo(e.firestore,Hu),s=od(e),a=EC(e.converter,t),u=mC(e.firestore);return J_(n,[pC(u,"addDoc",s._key,a,e.converter!==null,{}).toMutation(s._key,fr.exists(!1))]).then((()=>s))}function J_(e,t){const n=Q_(e);return Y6(n,t)}function pz(e,t,n){const s=n.docs.get(t._key),a=new TC(e);return new gl(e,a,t._key,s,new Bc(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){Y4(kx),lh(new xu("firestore",((s,{instanceIdentifier:a,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new Hu(new W4(s.getProvider("auth-internal")),new t3(f,s.getProvider("app-check-internal")),y3(f,a),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),_a(KE,YE,t),_a(KE,YE,"esm2020")})();const wC="firebasestorage.googleapis.com",SC="storageBucket",gz=120*1e3,yz=600*1e3;class mn extends bl{constructor(t,n,s=0){super(Mg(t),`Firebase Storage: ${n} (${Mg(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Mg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dn||(dn={}));function Mg(e){return"storage/"+e}function tv(){const e="An unknown error occurred, please check the error payload for server response.";return new mn(dn.UNKNOWN,e)}function _z(e){return new mn(dn.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function vz(e){return new mn(dn.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Tz(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(dn.UNAUTHENTICATED,e)}function bz(){return new mn(dn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ez(e){return new mn(dn.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function wz(){return new mn(dn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sz(){return new mn(dn.CANCELED,"User canceled the upload/download.")}function xz(e){return new mn(dn.INVALID_URL,"Invalid URL '"+e+"'.")}function Az(e){return new mn(dn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Cz(){return new mn(dn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SC+"' property when initializing the app?")}function Rz(){return new mn(dn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Dz(){return new mn(dn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Mz(e){return new mn(dn.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Cy(e){return new mn(dn.INVALID_ARGUMENT,e)}function xC(){return new mn(dn.APP_DELETED,"The Firebase app was deleted.")}function Iz(e){return new mn(dn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $c(e,t){return new mn(dn.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Mc(e){throw new mn(dn.INTERNAL_ERROR,"Internal error: "+e)}class _s{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=_s.makeFromUrl(t,n)}catch{return new _s(t,"")}if(s.path==="")return s;throw Az(t)}static makeFromUrl(t,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function u(ht){ht.path.charAt(ht.path.length-1)==="/"&&(ht.path_=ht.path_.slice(0,-1))}const f="(/(.*))?$",g=new RegExp("^gs://"+a+f,"i"),y={bucket:1,path:3};function v(ht){ht.path_=decodeURIComponent(ht.path)}const b="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",I=new RegExp(`^https?://${w}/${b}/b/${a}/o${A}`,"i"),U={bucket:1,path:3},z=n===wC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Z="([^?#]*)",$=new RegExp(`^https?://${z}/${a}/${Z}`,"i"),K=[{regex:g,indices:y,postModify:u},{regex:I,indices:U,postModify:v},{regex:$,indices:{bucket:1,path:2},postModify:v}];for(let ht=0;ht<K.length;ht++){const ct=K[ht],ut=ct.regex.exec(t);if(ut){const P=ut[ct.indices.bucket];let D=ut[ct.indices.path];D||(D=""),s=new _s(P,D),ct.postModify(s);break}}if(s==null)throw xz(t);return s}}class Pz{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Lz(e,t,n){let s=1,a=null,u=null,f=!1,g=0;function y(){return g===2}let v=!1;function b(...Z){v||(v=!0,t.apply(null,Z))}function w(Z){a=setTimeout(()=>{a=null,e(I,y())},Z)}function A(){u&&clearTimeout(u)}function I(Z,...$){if(v){A();return}if(Z){A(),b.call(null,Z,...$);return}if(y()||f){A(),b.call(null,Z,...$);return}s<64&&(s*=2);let K;g===1?(g=2,K=0):K=(s+Math.random())*1e3,w(K)}let U=!1;function z(Z){U||(U=!0,A(),!v&&(a!==null?(Z||(g=2),clearTimeout(a),w(0)):Z||(g=1)))}return w(0),u=setTimeout(()=>{f=!0,z(!0)},n),z}function Oz(e){e(!1)}function Nz(e){return e!==void 0}function Vz(e){return typeof e=="object"&&!Array.isArray(e)}function ev(e){return typeof e=="string"||e instanceof String}function XE(e){return nv()&&e instanceof Blob}function nv(){return typeof Blob<"u"}function QE(e,t,n,s){if(s<t)throw Cy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw Cy(`Invalid value for '${e}'. Expected ${n} or less.`)}function iv(e,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${e}`}function AC(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){const a=t(s)+"="+t(e[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var yl;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(yl||(yl={}));function kz(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,u=t.indexOf(e)!==-1;return n||a||u}class zz{constructor(t,n,s,a,u,f,g,y,v,b,w,A=!0,I=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=y,this.timeout_=v,this.progressCallback_=b,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,z)=>{this.resolve_=U,this.reject_=z,this.start_()})}start_(){const t=(s,a)=>{if(a){s(!1,new Kf(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=g=>{const y=g.loaded,v=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,v)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const g=u.getErrorCode()===yl.NO_ERROR,y=u.getStatus();if(!g||kz(y,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===yl.ABORT;s(!1,new Kf(!1,null,b));return}const v=this.successCodes_.indexOf(y)!==-1;s(!0,new Kf(v,u))})},n=(s,a)=>{const u=this.resolve_,f=this.reject_,g=a.connection;if(a.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());Nz(y)?u(y):u()}catch(y){f(y)}else if(g!==null){const y=tv();y.serverResponse=g.getErrorText(),this.errorCallback_?f(this.errorCallback_(g,y)):f(y)}else if(a.canceled){const y=this.appDelete_?xC():Sz();f(y)}else{const y=wz();f(y)}};this.canceled_?n(!1,new Kf(!1,null,!0)):this.backoffId_=Lz(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Oz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kf{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function Bz(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Uz(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function jz(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Fz(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Hz(e,t,n,s,a,u,f=!0,g=!1){const y=AC(e.urlParams),v=e.url+y,b=Object.assign({},e.headers);return jz(b,t),Bz(b,n),Uz(b,u),Fz(b,s),new zz(v,e.method,b,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,f,g)}function qz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Zz(...e){const t=qz();if(t!==void 0){const n=new t;for(let s=0;s<e.length;s++)n.append(e[s]);return n.getBlob()}else{if(nv())return new Blob(e);throw new mn(dn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Gz(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function Kz(e){if(typeof atob>"u")throw Mz("base-64");return atob(e)}const Nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ig{constructor(t,n){this.data=t,this.contentType=n||null}}function Yz(e,t){switch(e){case Nr.RAW:return new Ig(CC(t));case Nr.BASE64:case Nr.BASE64URL:return new Ig(RC(e,t));case Nr.DATA_URL:return new Ig(Qz(t),Wz(t))}throw tv()}function CC(e){const t=[];for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=s,f=e.charCodeAt(++n);s=65536|(u&1023)<<10|f&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function Xz(e){let t;try{t=decodeURIComponent(e)}catch{throw $c(Nr.DATA_URL,"Malformed data URL.")}return CC(t)}function RC(e,t){switch(e){case Nr.BASE64:{const a=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(a||u)throw $c(e,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Nr.BASE64URL:{const a=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(a||u)throw $c(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Kz(t)}catch(a){throw a.message.includes("polyfill")?a:$c(e,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class DC{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw $c(Nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=$z(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function Qz(e){const t=new DC(e);return t.base64?RC(Nr.BASE64,t.rest):Xz(t.rest)}function Wz(e){return new DC(e).contentType}function $z(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}class fa{constructor(t,n){let s=0,a="";XE(t)?(this.data_=t,s=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,n){if(XE(this.data_)){const s=this.data_,a=Gz(s,t,n);return a===null?null:new fa(a)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new fa(s,!0)}}static getBlob(...t){if(nv()){const n=t.map(s=>s instanceof fa?s.data_:s);return new fa(Zz.apply(null,n))}else{const n=t.map(f=>ev(f)?Yz(Nr.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const a=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let g=0;g<f.length;g++)a[u++]=f[g]}),new fa(a,!0)}}uploadData(){return this.data_}}function MC(e){let t;try{t=JSON.parse(e)}catch{return null}return Vz(t)?t:null}function Jz(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function t5(e,t){const n=t.split("/").filter(s=>s.length>0).join("/");return e.length===0?n:e+"/"+n}function IC(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function e5(e,t){return t}class Ni{constructor(t,n,s,a){this.server=t,this.local=n||t,this.writable=!!s,this.xform=a||e5}}let Yf=null;function n5(e){return!ev(e)||e.length<2?e:IC(e)}function PC(){if(Yf)return Yf;const e=[];e.push(new Ni("bucket")),e.push(new Ni("generation")),e.push(new Ni("metageneration")),e.push(new Ni("name","fullPath",!0));function t(u,f){return n5(f)}const n=new Ni("name");n.xform=t,e.push(n);function s(u,f){return f!==void 0?Number(f):f}const a=new Ni("size");return a.xform=s,e.push(a),e.push(new Ni("timeCreated")),e.push(new Ni("updated")),e.push(new Ni("md5Hash",null,!0)),e.push(new Ni("cacheControl",null,!0)),e.push(new Ni("contentDisposition",null,!0)),e.push(new Ni("contentEncoding",null,!0)),e.push(new Ni("contentLanguage",null,!0)),e.push(new Ni("contentType",null,!0)),e.push(new Ni("metadata","customMetadata",!0)),Yf=e,Yf}function i5(e,t){function n(){const s=e.bucket,a=e.fullPath,u=new _s(s,a);return t._makeStorageReference(u)}Object.defineProperty(e,"ref",{get:n})}function s5(e,t,n){const s={};s.type="file";const a=n.length;for(let u=0;u<a;u++){const f=n[u];s[f.local]=f.xform(s,t[f.server])}return i5(s,e),s}function LC(e,t,n){const s=MC(t);return s===null?null:s5(e,s,n)}function r5(e,t,n,s){const a=MC(t);if(a===null||!ev(a.downloadTokens))return null;const u=a.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(v=>{const b=e.bucket,w=e.fullPath,A="/b/"+f(b)+"/o/"+f(w),I=iv(A,n,s),U=AC({alt:"media",token:v});return I+U})[0]}function o5(e,t){const n={},s=t.length;for(let a=0;a<s;a++){const u=t[a];u.writable&&(n[u.server]=e[u.local])}return JSON.stringify(n)}class OC{constructor(t,n,s,a){this.url=t,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function NC(e){if(!e)throw tv()}function a5(e,t){function n(s,a){const u=LC(e,a,t);return NC(u!==null),u}return n}function l5(e,t){function n(s,a){const u=LC(e,a,t);return NC(u!==null),r5(u,a,e.host,e._protocol)}return n}function VC(e){function t(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=bz():a=Tz():n.getStatus()===402?a=vz(e.bucket):n.getStatus()===403?a=Ez(e.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return t}function u5(e){const t=VC(e);function n(s,a){let u=t(s,a);return s.getStatus()===404&&(u=_z(e.path)),u.serverResponse=a.serverResponse,u}return n}function c5(e,t,n){const s=t.fullServerUrl(),a=iv(s,e.host,e._protocol),u="GET",f=e.maxOperationRetryTime,g=new OC(a,u,l5(e,n),f);return g.errorHandler=u5(t),g}function h5(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function f5(e,t,n){const s=Object.assign({},n);return s.fullPath=e.path,s.size=t.size(),s.contentType||(s.contentType=h5(null,t)),s}function d5(e,t,n,s,a){const u=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function g(){let K="";for(let ht=0;ht<2;ht++)K=K+Math.random().toString().slice(2);return K}const y=g();f["Content-Type"]="multipart/related; boundary="+y;const v=f5(t,s,a),b=o5(v,n),w="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+y+`\r
Content-Type: `+v.contentType+`\r
\r
`,A=`\r
--`+y+"--",I=fa.getBlob(w,s,A);if(I===null)throw Rz();const U={name:v.fullPath},z=iv(u,e.host,e._protocol),Z="POST",$=e.maxUploadRetryTime,nt=new OC(z,Z,a5(e,n),$);return nt.urlParams=U,nt.headers=f,nt.body=I.uploadData(),nt.errorHandler=VC(t),nt}class m5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yl.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yl.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yl.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,a,u){if(this.sent_)throw Mc("cannot .send() more than once");if(wh(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class p5 extends m5{initXhr(){this.xhr_.responseType="text"}}function kC(){return new p5}class Tl{constructor(t,n){this._service=t,n instanceof _s?this._location=n:this._location=_s.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Tl(t,n)}get root(){const t=new _s(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IC(this._location.path)}get storage(){return this._service}get parent(){const t=Jz(this._location.path);if(t===null)return null;const n=new _s(this._location.bucket,t);return new Tl(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Iz(t)}}function g5(e,t,n){e._throwIfRoot("uploadBytes");const s=d5(e.storage,e._location,PC(),new fa(t,!0),n);return e.storage.makeRequestWithTokens(s,kC).then(a=>({metadata:a,ref:e}))}function y5(e){e._throwIfRoot("getDownloadURL");const t=c5(e.storage,e._location,PC());return e.storage.makeRequestWithTokens(t,kC).then(n=>{if(n===null)throw Dz();return n})}function _5(e,t){const n=t5(e._location.path,t),s=new _s(e._location.bucket,n);return new Tl(e.storage,s)}function v5(e){return/^[A-Za-z]+:\/\//.test(e)}function T5(e,t){return new Tl(e,t)}function zC(e,t){if(e instanceof sv){const n=e;if(n._bucket==null)throw Cz();const s=new Tl(n,n._bucket);return t!=null?zC(s,t):s}else return t!==void 0?_5(e,t):e}function b5(e,t){if(t&&v5(t)){if(e instanceof sv)return T5(e,t);throw Cy("To use ref(service, url), the first argument must be a Storage instance.")}else return zC(e,t)}function WE(e,t){const n=t?.[SC];return n==null?null:_s.makeFromBucketSpec(n,e)}function E5(e,t,n,s={}){e.host=`${t}:${n}`;const a=wh(t);a&&(Rx(`https://${e.host}/b`),Mx("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:u}=s;u&&(e._overrideAuthToken=typeof u=="string"?u:Dx(u,e.app.options.projectId))}class sv{constructor(t,n,s,a,u,f=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=wC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gz,this._maxUploadRetryTime=yz,this._requests=new Set,a!=null?this._bucket=_s.makeFromBucketSpec(a,this._host):this._bucket=WE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=_s.makeFromBucketSpec(this._url,t):this._bucket=WE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){QE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){QE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vx(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Tl(this,t)}_makeRequest(t,n,s,a,u=!0){if(this._deleted)return new Pz(xC());{const f=Hz(t,this._appId,s,a,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,a).getPromise()}}const $E="@firebase/storage",JE="0.14.0";const BC="storage";function w5(e,t,n){return e=To(e),g5(e,t,n)}function S5(e){return e=To(e),y5(e)}function x5(e,t){return e=To(e),b5(e,t)}function A5(e=Bx(),t){e=To(e);const s=Nx(e,BC).getImmediate({identifier:t}),a=Ax("storage");return a&&C5(s,...a),s}function C5(e,t,n,s={}){E5(e,t,n,s)}function R5(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new sv(n,s,a,t,kx)}function D5(){lh(new xu(BC,R5,"PUBLIC").setMultipleInstances(!0)),_a($E,JE,""),_a($E,JE,"esm2020")}D5();const M5={apiKey:"AIzaSyC7DPgSTDQ2OjGzxIooVSYTQaiwH8JKg9Y",authDomain:"outdoor-trip-planner-32836.firebaseapp.com",projectId:"outdoor-trip-planner-32836",storageBucket:"outdoor-trip-planner-32836.firebasestorage.app",messagingSenderId:"102100531874",appId:"1:102100531874:web:b6928eb1745dbf0355f5fb"},UC=zx(M5),Ic=$6(UC),I5=A5(UC);let P5=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const L5={async uploadImage(e,t="uploads"){try{const n=`${P5()}_${e.name}`,s=`${t}/${n}`,a=x5(I5,s),u=await w5(a,e);return{url:await S5(u.ref),path:s}}catch(n){throw console.error("Error uploading image: ",n),n}}};let O5={data:""},N5=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||O5},V5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,k5=/\/\*[^]*?\*\/|  +/g,tw=/\n+/g,da=(e,t)=>{let n="",s="",a="";for(let u in e){let f=e[u];u[0]=="@"?u[1]=="i"?n=u+" "+f+";":s+=u[1]=="f"?da(f,u):u+"{"+da(f,u[1]=="k"?"":t)+"}":typeof f=="object"?s+=da(f,t?t.replace(/([^,])+/g,g=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,y=>/&/.test(y)?y.replace(/&/g,g):g?g+" "+y:y)):u):f!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=da.p?da.p(u,f):u+":"+f+";")}return n+(t&&a?t+"{"+a+"}":a)+s},go={},jC=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+jC(e[n]);return t}return e},z5=(e,t,n,s,a)=>{let u=jC(e),f=go[u]||(go[u]=(y=>{let v=0,b=11;for(;v<y.length;)b=101*b+y.charCodeAt(v++)>>>0;return"go"+b})(u));if(!go[f]){let y=u!==e?e:(v=>{let b,w,A=[{}];for(;b=V5.exec(v.replace(k5,""));)b[4]?A.shift():b[3]?(w=b[3].replace(tw," ").trim(),A.unshift(A[0][w]=A[0][w]||{})):A[0][b[1]]=b[2].replace(tw," ").trim();return A[0]})(e);go[f]=da(a?{["@keyframes "+f]:y}:y,n?"":"."+f)}let g=n&&go.g?go.g:null;return n&&(go.g=go[f]),((y,v,b,w)=>{w?v.data=v.data.replace(w,y):v.data.indexOf(y)===-1&&(v.data=b?y+v.data:v.data+y)})(go[f],t,s,g),f},B5=(e,t,n)=>e.reduce((s,a,u)=>{let f=t[u];if(f&&f.call){let g=f(n),y=g&&g.props&&g.props.className||/^go/.test(g)&&g;f=y?"."+y:g&&typeof g=="object"?g.props?"":da(g,""):g===!1?"":g}return s+a+(f??"")},"");function cm(e){let t=this||{},n=e.call?e(t.p):e;return z5(n.unshift?n.raw?B5(n,[].slice.call(arguments,1),t.p):n.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):n,N5(t.target),t.g,t.o,t.k)}let FC,Ry,Dy;cm.bind({g:1});let xo=cm.bind({k:1});function U5(e,t,n,s){da.p=t,FC=e,Ry=n,Dy=s}function Ma(e,t){let n=this||{};return function(){let s=arguments;function a(u,f){let g=Object.assign({},u),y=g.className||a.className;n.p=Object.assign({theme:Ry&&Ry()},g),n.o=/ *go\d+/.test(y),g.className=cm.apply(n,s)+(y?" "+y:"");let v=e;return e[0]&&(v=g.as||e,delete g.as),Dy&&v[0]&&Dy(g),FC(v,g)}return a}}var j5=e=>typeof e=="function",Nd=(e,t)=>j5(e)?e(t):e,F5=(()=>{let e=0;return()=>(++e).toString()})(),HC=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),H5=20,rv="default",qC=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(f=>f.id===t.toast.id?{...f,...t.toast}:f)};case 2:let{toast:s}=t;return qC(e,{type:e.toasts.find(f=>f.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(f=>f.id===a||a===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(f=>f.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let u=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+u}))}}},ld=[],ZC={toasts:[],pausedAt:void 0,settings:{toastLimit:H5}},Vr={},GC=(e,t=rv)=>{Vr[t]=qC(Vr[t]||ZC,e),ld.forEach(([n,s])=>{n===t&&s(Vr[t])})},KC=e=>Object.keys(Vr).forEach(t=>GC(e,t)),q5=e=>Object.keys(Vr).find(t=>Vr[t].toasts.some(n=>n.id===e)),hm=(e=rv)=>t=>{GC(t,e)},Z5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},G5=(e={},t=rv)=>{let[n,s]=V.useState(Vr[t]||ZC),a=V.useRef(Vr[t]);V.useEffect(()=>(a.current!==Vr[t]&&s(Vr[t]),ld.push([t,s]),()=>{let f=ld.findIndex(([g])=>g===t);f>-1&&ld.splice(f,1)}),[t]);let u=n.toasts.map(f=>{var g,y,v;return{...e,...e[f.type],...f,removeDelay:f.removeDelay||((g=e[f.type])==null?void 0:g.removeDelay)||e?.removeDelay,duration:f.duration||((y=e[f.type])==null?void 0:y.duration)||e?.duration||Z5[f.type],style:{...e.style,...(v=e[f.type])==null?void 0:v.style,...f.style}}});return{...n,toasts:u}},K5=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||F5()}),Dh=e=>(t,n)=>{let s=K5(t,e,n);return hm(s.toasterId||q5(s.id))({type:2,toast:s}),s.id},Ye=(e,t)=>Dh("blank")(e,t);Ye.error=Dh("error");Ye.success=Dh("success");Ye.loading=Dh("loading");Ye.custom=Dh("custom");Ye.dismiss=(e,t)=>{let n={type:3,toastId:e};t?hm(t)(n):KC(n)};Ye.dismissAll=e=>Ye.dismiss(void 0,e);Ye.remove=(e,t)=>{let n={type:4,toastId:e};t?hm(t)(n):KC(n)};Ye.removeAll=e=>Ye.remove(void 0,e);Ye.promise=(e,t,n)=>{let s=Ye.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let u=t.success?Nd(t.success,a):void 0;return u?Ye.success(u,{id:s,...n,...n?.success}):Ye.dismiss(s),a}).catch(a=>{let u=t.error?Nd(t.error,a):void 0;u?Ye.error(u,{id:s,...n,...n?.error}):Ye.dismiss(s)}),e};var Y5=1e3,X5=(e,t="default")=>{let{toasts:n,pausedAt:s}=G5(e,t),a=V.useRef(new Map).current,u=V.useCallback((w,A=Y5)=>{if(a.has(w))return;let I=setTimeout(()=>{a.delete(w),f({type:4,toastId:w})},A);a.set(w,I)},[]);V.useEffect(()=>{if(s)return;let w=Date.now(),A=n.map(I=>{if(I.duration===1/0)return;let U=(I.duration||0)+I.pauseDuration-(w-I.createdAt);if(U<0){I.visible&&Ye.dismiss(I.id);return}return setTimeout(()=>Ye.dismiss(I.id,t),U)});return()=>{A.forEach(I=>I&&clearTimeout(I))}},[n,s,t]);let f=V.useCallback(hm(t),[t]),g=V.useCallback(()=>{f({type:5,time:Date.now()})},[f]),y=V.useCallback((w,A)=>{f({type:1,toast:{id:w,height:A}})},[f]),v=V.useCallback(()=>{s&&f({type:6,time:Date.now()})},[s,f]),b=V.useCallback((w,A)=>{let{reverseOrder:I=!1,gutter:U=8,defaultPosition:z}=A||{},Z=n.filter(K=>(K.position||z)===(w.position||z)&&K.height),$=Z.findIndex(K=>K.id===w.id),nt=Z.filter((K,ht)=>ht<$&&K.visible).length;return Z.filter(K=>K.visible).slice(...I?[nt+1]:[0,nt]).reduce((K,ht)=>K+(ht.height||0)+U,0)},[n]);return V.useEffect(()=>{n.forEach(w=>{if(w.dismissed)u(w.id,w.removeDelay);else{let A=a.get(w.id);A&&(clearTimeout(A),a.delete(w.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:y,startPause:g,endPause:v,calculateOffset:b}}},Q5=xo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,W5=xo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$5=xo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,J5=Ma("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Q5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${W5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,tB=xo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,eB=Ma("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${tB} 1s linear infinite;
`,nB=xo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,iB=xo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,sB=Ma("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${iB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,rB=Ma("div")`
  position: absolute;
`,oB=Ma("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,aB=xo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lB=Ma("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${aB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,uB=({toast:e})=>{let{icon:t,type:n,iconTheme:s}=e;return t!==void 0?typeof t=="string"?V.createElement(lB,null,t):t:n==="blank"?null:V.createElement(oB,null,V.createElement(eB,{...s}),n!=="loading"&&V.createElement(rB,null,n==="error"?V.createElement(J5,{...s}):V.createElement(sB,{...s})))},cB=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,hB=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,fB="0%{opacity:0;} 100%{opacity:1;}",dB="0%{opacity:1;} 100%{opacity:0;}",mB=Ma("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pB=Ma("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,gB=(e,t)=>{let n=e.includes("top")?1:-1,[s,a]=HC()?[fB,dB]:[cB(n),hB(n)];return{animation:t?`${xo(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xo(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},yB=V.memo(({toast:e,position:t,style:n,children:s})=>{let a=e.height?gB(e.position||t||"top-center",e.visible):{opacity:0},u=V.createElement(uB,{toast:e}),f=V.createElement(pB,{...e.ariaProps},Nd(e.message,e));return V.createElement(mB,{className:e.className,style:{...a,...n,...e.style}},typeof s=="function"?s({icon:u,message:f}):V.createElement(V.Fragment,null,u,f))});U5(V.createElement);var _B=({id:e,className:t,style:n,onHeightUpdate:s,children:a})=>{let u=V.useCallback(f=>{if(f){let g=()=>{let y=f.getBoundingClientRect().height;s(e,y)};g(),new MutationObserver(g).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return V.createElement("div",{ref:u,className:t,style:n},a)},vB=(e,t)=>{let n=e.includes("top"),s=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:HC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...s,...a}},TB=cm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xf=16,bB=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:s,children:a,toasterId:u,containerStyle:f,containerClassName:g})=>{let{toasts:y,handlers:v}=X5(n,u);return V.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:Xf,left:Xf,right:Xf,bottom:Xf,pointerEvents:"none",...f},className:g,onMouseEnter:v.startPause,onMouseLeave:v.endPause},y.map(b=>{let w=b.position||t,A=v.calculateOffset(b,{reverseOrder:e,gutter:s,defaultPosition:t}),I=vB(w,A);return V.createElement(_B,{id:b.id,key:b.id,onHeightUpdate:v.updateHeight,className:b.visible?TB:"",style:I},b.type==="custom"?Nd(b.message,b):a?a(b):V.createElement(yB,{toast:b,position:w}))}))};function EB({event:e,onUpdate:t,onDelete:n}){const s=a=>{const u=a.target.value,f={...e.location,name:u},g=u.match(/(-?\d+\.?\d*)\s*[,]\s*(-?\d+\.?\d*)/);g&&(f.lat=parseFloat(g[1]),f.lng=parseFloat(g[2])),t("location",f)};return X.jsxs("div",{className:"event-item",children:[X.jsxs("div",{className:"event-time",children:[X.jsx(fL,{size:14,className:"text-muted"}),X.jsx("input",{type:"time",value:e.time,onChange:a=>t("time",a.target.value),className:"time-input"})]}),X.jsxs("div",{className:"event-details",children:[X.jsxs("div",{className:"event-header",children:[X.jsx("input",{type:"text",value:e.title,onChange:a=>t("title",a.target.value),placeholder:"...",className:"title-input"}),X.jsx("button",{className:"delete-btn",onClick:n,title:"",children:X.jsx(ZS,{size:14})})]}),X.jsxs("div",{className:"event-location",children:[X.jsx(xL,{size:14,className:"text-muted"}),X.jsx("input",{type:"text",value:e.location?.name||"",onChange:s,placeholder:" ( 'lat,lng')",className:"location-input",title:" '24.5, 121.5' "})]})]}),X.jsx("style",{children:`
                .event-item {
                    display: flex;
                    gap: 12px;
                    padding: 8px;
                    margin-bottom: 8px;
                    background: rgba(255, 255, 255, 0.5);
                    border-radius: 6px;
                    border: 1px solid var(--color-border);
                    align-items: flex-start;
                }
                .event-time {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 4px;
                    min-width: 60px;
                }
                .time-input {
                    border: 1px solid var(--color-border);
                    border-radius: 4px;
                    padding: 2px;
                    font-size: 0.85rem;
                    width: 100%;
                    text-align: center;
                }
                .event-details {
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    gap: 4px;
                }
                .event-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                }
                .title-input {
                    border: none;
                    background: transparent;
                    font-weight: 500;
                    width: 100%;
                    font-size: 0.95rem;
                }
                .title-input:focus {
                    outline: none;
                    border-bottom: 1px dashed var(--color-primary);
                }
                .event-location {
                    display: flex;
                    align-items: center;
                    gap: 4px;
                }
                .location-input {
                    border: none;
                    background: transparent;
                    font-size: 0.85rem;
                    color: var(--color-text-muted);
                    width: 100%;
                }
                .location-input:focus {
                    outline: none;
                    color: var(--color-text-main);
                }
                .delete-btn {
                    background: none;
                    border: none;
                    color: #ef4444;
                    cursor: pointer;
                    opacity: 0.5;
                    padding: 2px;
                }
                .delete-btn:hover {
                    opacity: 1;
                    background: #fee2e2;
                    border-radius: 4px;
                }
                .text-muted { color: var(--color-text-muted); }
            `})]})}function wB({day:e,onDelete:t,onDuplicate:n,onStatusChange:s,onUpdate:a,index:u}){const{attributes:f,listeners:g,setNodeRef:y,transform:v,transition:b,isDragging:w}=fV({id:e.id}),[A,I]=V.useState(!1),U={transform:oh.Transform.toString(v),transition:b,opacity:w?.5:1,marginBottom:"1rem",position:"relative"},z=async ct=>{const ut=ct.target.files[0];if(ut){I(!0);try{const P=await L5.uploadImage(ut);a(e.id,"image",P.url)}catch(P){Ye.error(": "+P.message)}I(!1)}},Z=()=>{confirm("")&&a(e.id,"image",null)},$=()=>{const ct={id:Math.random().toString(36).substr(2,9),time:"09:00",title:"",location:{name:"",lat:null,lng:null},type:"activity"},ut=e.events||[];a(e.id,"events",[...ut,ct])},nt=(ct,ut,P)=>{const N=(e.events||[]).map(F=>F.id===ct?{...F,[ut]:P}:F);a(e.id,"events",N)},K=ct=>{if(confirm("")){const ut=e.events||[];a(e.id,"events",ut.filter(P=>P.id!==ct))}},ht=(e.events||[]).sort((ct,ut)=>ct.time.localeCompare(ut.time));return X.jsxs("div",{ref:y,style:U,className:`card day-card ${e.status||"todo"}`,children:[X.jsxs("div",{className:"day-header",children:[X.jsx("div",{className:"drag-handle",...f,...g,children:X.jsx(_L,{size:20,className:"text-muted"})}),X.jsxs("select",{className:"status-select",value:e.status||"todo",onChange:ct=>s(e.id,ct.target.value),children:[X.jsx("option",{value:"todo",children:""}),X.jsx("option",{value:"active",children:""}),X.jsx("option",{value:"done",children:""})]}),X.jsx("input",{type:"text",value:e.title||"",onChange:ct=>a(e.id,"title",ct.target.value),className:"day-title-input",placeholder:`Day ${u+1} ...`}),X.jsxs("div",{className:"card-actions",children:[X.jsxs("label",{className:"icon-btn",title:"",style:{cursor:A?"wait":"pointer"},children:[A?X.jsx(u_,{size:18,className:"animate-spin"}):X.jsx(TL,{size:18}),X.jsx("input",{type:"file",accept:"image/*",onChange:z,style:{display:"none"},disabled:A})]}),X.jsx("button",{className:"icon-btn",onClick:()=>n(e.id),title:"",children:X.jsx(gL,{size:18})}),X.jsx("button",{className:"icon-btn danger",onClick:()=>t(e.id),title:"",children:X.jsx(ZS,{size:18})})]})]}),X.jsxs("div",{className:"day-content",children:[X.jsxs("div",{className:"events-list",style:{marginBottom:"1rem"},children:[ht.map(ct=>X.jsx(EB,{event:ct,onUpdate:(ut,P)=>nt(ct.id,ut,P),onDelete:()=>K(ct.id)},ct.id)),X.jsxs("button",{className:"btn btn-secondary",style:{width:"100%",fontSize:"0.85rem",padding:"6px",marginTop:"4px"},onClick:$,children:[X.jsx(HS,{size:16})," "]})]}),X.jsx("textarea",{className:"content-editor",value:e.content||"",onChange:ct=>a(e.id,"content",ct.target.value),placeholder:"...",rows:2,style:{fontSize:"0.9rem",color:"var(--color-text-muted)"}}),e.image&&X.jsxs("div",{className:"day-image-preview",children:[X.jsx("img",{src:e.image,alt:"Trip memory"}),X.jsx("button",{className:"remove-image-btn",onClick:Z,title:"",children:X.jsx(YL,{size:16})})]})]}),X.jsx("style",{children:`
        .day-card {
          border-left: 4px solid hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
          background: hsl(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l));
        }
        .day-card.active { border-left-color: var(--color-warning); }
        .day-card.done { border-left-color: var(--color-text-muted-l); opacity: 0.8; }
        
        .day-header {
          display: flex;
          align-items: center;
          gap: var(--space-2);
          margin-bottom: var(--space-2);
          padding-bottom: var(--space-2);
          border-bottom: 1px dashed hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
        }
        .status-select {
          padding: 4px;
          border-radius: 4px;
          border: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
          font-size: 0.8rem;
          background: transparent;
          color: hsl(var(--color-text-main-h), var(--color-text-main-s), var(--color-text-main-l));
        }
        .drag-handle {
          cursor: grab;
          padding: 4px;
        }
        .drag-handle:active {
          cursor: grabbing;
        }
        .day-title-input {
          flex: 1;
          border: none;
          font-size: 1.1rem;
          font-weight: 600;
          padding: 4px;
          border-radius: 4px;
          background: transparent;
          color: hsl(var(--color-text-main-h), var(--color-text-main-s), var(--color-text-main-l));
        }
        .day-title-input:focus {
          background: hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l));
          outline: none;
        }
        .card-actions {
          display: flex;
          gap: 4px;
        }
        .icon-btn {
          background: none;
          border: none;
          padding: 6px;
          cursor: pointer;
          color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
          border-radius: 4px;
          display: inline-flex;
          align-items: center;
          justify-content: center;
        }
        .icon-btn:hover {
          background: rgba(0,0,0,0.05);
          color: hsl(var(--color-text-main-h), var(--color-text-main-s), var(--color-text-main-l));
        }
        .icon-btn.danger:hover {
          background: #fee2e2;
          color: #ef4444;
        }
        .content-editor {
          width: 100%;
          border: 1px solid transparent;
          padding: var(--space-2);
          border-radius: var(--radius-md);
          resize: vertical;
          font-family: inherit;
          background: transparent;
          color: hsl(var(--color-text-main-h), var(--color-text-main-s), var(--color-text-main-l));
        }
        .content-editor:focus {
          border-color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
          outline: none;
        }
        
        .day-image-preview {
            margin-top: var(--space-2);
            position: relative;
            border-radius: var(--radius-md);
            overflow: hidden;
            max-width: 100%;
            display: inline-block;
        }
        .day-image-preview img {
            max-height: 200px;
            border-radius: var(--radius-md);
            border: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
            object-fit: cover;
        }
        .remove-image-btn {
            position: absolute;
            top: 4px;
            right: 4px;
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            backdrop-filter: blur(4px);
        }
        .remove-image-btn:hover {
            background: rgba(220, 38, 38, 0.8);
        }
      `})]})}const Pc="trips",ew=(e={})=>({title:"",category:"hiking",status:"planning",startDate:Se.now(),endDate:Se.now(),passwords:{admin_pwd:"admin",participant_pwd:"team",viewer_pwd:"view"},is_private:!1,itinerary:[{id:"1",title:"Day 1: ",content:"08:00  ()",status:"done",events:[{id:"e1",time:"08:00",title:"",location:{name:"",lat:25.0478,lng:121.517},type:"transport"},{id:"e2",time:"11:00",title:"",location:{name:"",lat:24.5134,lng:121.6068},type:"activity"}]},{id:"2",title:"Day 2: ",content:"05:00 ",status:"active",events:[]}],gearList:[],...e}),Vd={async getAllTrips(){try{return(await hz(HE(Ic,Pc))).docs.map(t=>({id:t.id,...t.data()}))}catch(e){throw console.error("Error getting trips: ",e),e}},async getTripById(e){try{const t=od(Ic,Pc,e),n=await cz(t);return n.exists()?{id:n.id,...n.data()}:null}catch(t){return console.error("Error getting trip: ",t),null}},async saveTrip(e,t){try{const n={...t};if(n.startDate instanceof Date&&(n.startDate=Se.fromDate(n.startDate)),n.endDate instanceof Date&&(n.endDate=Se.fromDate(n.endDate)),n.lastUpdated=Se.now(),e){const s=od(Ic,Pc,e);return await fz(s,n,{merge:!0}),e}else return(await mz(HE(Ic,Pc),n)).id}catch(n){throw console.error("Error saving trip: ",n),n}},async deleteTrip(e){try{await dz(od(Ic,Pc,e))}catch(t){throw console.error("Error deleting trip: ",t),t}}},nw=()=>Math.random().toString(36).substr(2,9);function SB(){const{updateTripData:e,setCurrentTrip:t}=JS(),[n,s]=V.useState([]),[a,u]=V.useState(null),[f,g]=V.useState(null),[y,v]=V.useState(!1),[b,w]=V.useState(!1),[A,I]=V.useState(null);V.useEffect(()=>{async function ut(){v(!0),I(null);try{const D=(await Vd.getAllTrips()).sort((N,F)=>{const k=N.lastUpdated?.seconds||0;return(F.lastUpdated?.seconds||0)-k});if(D.length>0){const N=D[0];console.log("Loaded Trip:",N),g(N.id),u(N),t(N),N.itinerary&&N.itinerary.length>0?s(N.itinerary):N.days&&N.days.length>0&&s(N.days)}else{const N=ew({title:"",itinerary:[{id:"1",title:"Day 1: ",content:"08:00 ",status:"done"},{id:"2",title:"Day 2: ",content:"05:00 ",status:"active"}]});u(N),s(N.itinerary)}}catch(P){console.error(P),I(": "+P.message);const D=ew({title:" (/)",itinerary:[{id:"1",title:"Day 1: ",content:"08:00 ",status:"done"},{id:"2",title:"Day 2: ",content:"05:00 ",status:"active"}]});u(D),s(D.itinerary)}v(!1)}ut()},[]);const U=async()=>{w(!0);try{const ut={itinerary:n,lastUpdated:new Date};let P=ut;!f&&a&&(P={...a,...ut});const D=await Vd.saveTrip(f,P);g(D),t({...P,id:D}),Ye.success("")}catch(ut){Ye.error(""+ut.message)}w(!1)},z=qO(R1(v_),R1(y_,{coordinateGetter:pV}));function Z(ut){const{active:P,over:D}=ut;P.id!==D.id&&s(N=>{const F=N.findIndex(G=>G.id===P.id),k=N.findIndex(G=>G.id===D.id);return T_(N,F,k)})}const $=()=>{s([...n,{id:nw(),title:"",content:"",status:"todo"}])},nt=ut=>{confirm("")&&s(n.filter(P=>P.id!==ut))},K=ut=>{const P=n.find(D=>D.id===ut);if(P){const D={...P,id:nw(),title:`${P.title} ()`,status:"todo"},N=n.findIndex(k=>k.id===ut),F=[...n];F.splice(N+1,0,D),s(F)}},ht=(ut,P)=>{s(n.map(D=>D.id===ut?{...D,status:P}:D))},ct=(ut,P,D)=>{s(n.map(N=>N.id===ut?{...N,[P]:D}:N))};return X.jsxs("div",{className:"itinerary-manager",children:[X.jsxs("div",{className:"manager-header flex-col",style:{marginBottom:"1rem"},children:[X.jsxs("div",{className:"flex-row justify-between items-center",children:[X.jsxs("h2",{children:[" (",n.length," )"]}),X.jsxs("div",{className:"flex-row gap-2",children:[X.jsxs("button",{className:"btn btn-secondary",onClick:U,disabled:b,children:[b?X.jsx(u_,{className:"animate-spin",size:18}):X.jsx(qS,{size:18}),b?"...":""]}),X.jsxs("button",{className:"btn btn-primary",onClick:$,children:[X.jsx(HS,{size:18})," "]})]})]}),A&&X.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"#fee2e2",color:"#b91c1c",borderRadius:"4px",fontSize:"0.9rem"},children:[" ",A]})]}),X.jsx(GN,{sensors:z,collisionDetection:GO,onDragEnd:Z,children:X.jsx(rV,{items:n.map(ut=>ut.id),strategy:iV,children:n.map((ut,P)=>X.jsx(wB,{day:ut,index:P,onDelete:nt,onDuplicate:K,onStatusChange:ht,onUpdate:ct},ut.id))})})]})}const iw={hiking_day:{id:"hiking_day",label:"",categories:[{id:"essentials",name:"",items:[{id:"backpack",name:" (15-25L)",checked:!1},{id:"shoes",name:"/",checked:!1},{id:"water",name:" (1-2L)",checked:!1},{id:"rain",name:"/",checked:!1}]},{id:"navigation",name:"",items:[{id:"phone",name:" & ",checked:!1},{id:"powerbank",name:" & ",checked:!1}]}]},hiking_multiday:{id:"hiking_multiday",label:"",categories:[{id:"sleep",name:"",items:[{id:"tent",name:"",checked:!1},{id:"sleeping_bag",name:"",checked:!1},{id:"mat",name:"",checked:!1}]},{id:"cook",name:"",items:[{id:"stove",name:"",checked:!1},{id:"gas",name:"",checked:!1},{id:"pot",name:"",checked:!1}]}]},camping:{id:"camping",label:"",categories:[{id:"living",name:"",items:[{id:"tarp",name:"/",checked:!1},{id:"chair",name:"",checked:!1},{id:"table",name:"",checked:!1}]}]}};function xB(){const[e,t]=V.useState([]),[n,s]=V.useState(null),[a,u]=V.useState(!1),[f,g]=V.useState(!1);V.useEffect(()=>{async function A(){u(!0);try{const U=(await Vd.getAllTrips()).sort((z,Z)=>{const $=z.lastUpdated?.seconds||0;return(Z.lastUpdated?.seconds||0)-$});if(U.length>0){const z=U[0];s(z.id),z.gearList&&t(z.gearList)}}catch(I){console.error("Failed to load gear list:",I)}u(!1)}A()},[]);const y=async()=>{if(!n){Ye.error("");return}g(!0);try{await Vd.saveTrip(n,{gearList:e,lastUpdated:new Date}),Ye.success("")}catch(A){Ye.error(""+A.message)}g(!1)},v=A=>{const I=iw[A];if(!I)return;const U=[...e];I.categories.forEach(z=>{const Z=U.find($=>$.name===z.name);if(Z){const $=new Set(Z.items.map(K=>K.name)),nt=z.items.filter(K=>!$.has(K.name));Z.items=[...Z.items,...nt]}else U.push({...z,id:Math.random().toString(36).substr(2,9)})}),t(U)},b=(A,I)=>{const U=[...e];U[A].items[I].checked=!U[A].items[I].checked,t(U)},w=()=>{let A=0,I=0;return e.forEach(U=>{U.items.forEach(z=>{A++,z.checked&&I++})}),A===0?0:Math.round(I/A*100)};return X.jsxs("div",{className:"gear-manager card",children:[X.jsxs("div",{className:"manager-header",style:{marginBottom:"1.5rem"},children:[X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[X.jsxs("h2",{className:"flex-row items-center gap-2",children:[X.jsx(NL,{size:24,className:"text-primary"}),""]}),X.jsxs("button",{className:"btn btn-secondary",onClick:y,disabled:f||!n,children:[f?X.jsx(u_,{className:"animate-spin",size:16}):X.jsx(qS,{size:16}),f?"...":""]})]}),X.jsxs("div",{className:"progress-bar-container",children:[X.jsxs("div",{className:"progress-text",children:[": ",w(),"%"]}),X.jsx("div",{className:"progress-track",children:X.jsx("div",{className:"progress-fill",style:{width:`${w()}%`}})})]})]}),X.jsxs("div",{className:"import-actions",style:{marginBottom:"1.5rem",display:"flex",gap:"8px",flexWrap:"wrap"},children:[X.jsx("span",{className:"text-muted",style:{fontSize:"0.9rem",alignSelf:"center"},children:""}),Object.entries(iw).map(([A,I])=>X.jsxs("button",{className:"btn btn-secondary",style:{fontSize:"0.85rem",padding:"4px 12px"},onClick:()=>v(A),children:["+ ",I.label]},A))]}),X.jsx("div",{className:"gear-categories",children:e.length===0?X.jsx("div",{className:"empty-state",children:X.jsx("p",{children:""})}):e.map((A,I)=>X.jsxs("div",{className:"gear-category",style:{marginBottom:"1.5rem"},children:[X.jsx("h3",{className:"category-title",style:{fontSize:"1rem",fontWeight:"bold",marginBottom:"0.5rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"4px"},children:A.name}),X.jsx("div",{className:"items-grid",children:A.items.map((U,z)=>X.jsxs("label",{className:`gear-item ${U.checked?"checked":""}`,children:[X.jsx("input",{type:"checkbox",checked:U.checked,onChange:()=>b(I,z)}),X.jsx("span",{className:"item-name",children:U.name})]},U.id))})]},A.id))}),X.jsx("style",{children:`
        .text-primary { color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l)); }
        .text-muted { color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l)); }
        
        .progress-bar-container {
            margin-top: 8px;
        }
        .progress-text {
            font-size: 0.85rem;
            color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
            margin-bottom: 4px;
            text-align: right;
        }
        .progress-track {
            height: 6px;
            background: #e5e7eb;
            border-radius: 99px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
            transition: width 0.3s ease;
        }

        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 8px;
        }
        .gear-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .gear-item:hover {
            background: rgba(0,0,0,0.03);
        }
        .gear-item.checked .item-name {
            text-decoration: line-through;
            color: #9ca3af;
        }
        .gear-item input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
        }
        
        .empty-state {
            padding: 2rem;
            text-align: center;
            color: #9ca3af;
            background: #f9fafb;
            border-radius: 8px;
            border: 1px dashed #d1d5db;
        }
      `})]})}function AB(){return X.jsxs(xO,{children:[X.jsx(bB,{position:"top-center"}),X.jsxs("div",{className:"trip-content",children:[X.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem"},children:""}),X.jsx(DO,{children:X.jsxs("div",{className:"card",style:{marginBottom:"2rem",borderLeft:"4px solid var(--color-warning)"},children:[X.jsxs("h2",{style:{fontSize:"1.2rem",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"8px"},children:[X.jsx(jL,{size:20})," "]}),X.jsxs("div",{style:{display:"grid",gap:"8px"},children:[X.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[X.jsx(GL,{size:16}),"  $3,500 ()"]}),X.jsx("div",{children:" 05001234567"}),X.jsx("div",{children:" 0912-345-678"})]}),X.jsx("p",{style:{marginTop:"8px",fontSize:"0.85rem",color:"var(--color-danger)"},children:"*  (Viewer )"})]})}),X.jsx(SB,{}),X.jsx("div",{style:{marginTop:"2rem"},children:X.jsx(xB,{})})]})]})}function CB(){return X.jsx(SO,{children:X.jsx(_O,{children:X.jsx(CO,{children:X.jsx(AB,{})})})})}_2.createRoot(document.getElementById("root")).render(X.jsx(V.StrictMode,{children:X.jsx(CB,{})}));
