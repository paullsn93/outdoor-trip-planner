(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function FM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tm={exports:{}},Eu={};var o_;function HM(){if(o_)return Eu;o_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:t,type:s,key:u,ref:o!==void 0?o:null,props:l}}return Eu.Fragment=e,Eu.jsx=n,Eu.jsxs=n,Eu}var a_;function qM(){return a_||(a_=1,Tm.exports=HM()),Tm.exports}var K=qM(),Sm={exports:{}},Pe={};var l_;function GM(){if(l_)return Pe;l_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),E=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=E&&z[E]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,O={};function U(z,W,se){this.props=z,this.context=W,this.refs=O,this.updater=se||x}U.prototype.isReactComponent={},U.prototype.setState=function(z,W){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,W,"setState")},U.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=U.prototype;function B(z,W,se){this.props=z,this.context=W,this.refs=O,this.updater=se||x}var N=B.prototype=new j;N.constructor=B,D(N,U.prototype),N.isPureReactComponent=!0;var k=Array.isArray;function H(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(z,W,se){var fe=se.ref;return{$$typeof:t,type:z,key:W,ref:fe!==void 0?fe:null,props:se}}function V(z,W){return R(z.type,W,z.props)}function I(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function F(z){var W={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(se){return W[se]})}var P=/\/+/g;function me(z,W){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):W.toString(36)}function be(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(H,H):(z.status="pending",z.then(function(W){z.status==="pending"&&(z.status="fulfilled",z.value=W)},function(W){z.status==="pending"&&(z.status="rejected",z.reason=W)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function $(z,W,se,fe,Q){var ve=typeof z;(ve==="undefined"||ve==="boolean")&&(z=null);var Te=!1;if(z===null)Te=!0;else switch(ve){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(z.$$typeof){case t:case e:Te=!0;break;case v:return Te=z._init,$(Te(z._payload),W,se,fe,Q)}}if(Te)return Q=Q(z),Te=fe===""?"."+me(z,0):fe,k(Q)?(se="",Te!=null&&(se=Te.replace(P,"$&/")+"/"),$(Q,W,se,"",function(de){return de})):Q!=null&&(I(Q)&&(Q=V(Q,se+(Q.key==null||z&&z.key===Q.key?"":(""+Q.key).replace(P,"$&/")+"/")+Te)),W.push(Q)),1;Te=0;var Ee=fe===""?".":fe+":";if(k(z))for(var Re=0;Re<z.length;Re++)fe=z[Re],ve=Ee+me(fe,Re),Te+=$(fe,W,se,ve,Q);else if(Re=w(z),typeof Re=="function")for(z=Re.call(z),Re=0;!(fe=z.next()).done;)fe=fe.value,ve=Ee+me(fe,Re++),Te+=$(fe,W,se,ve,Q);else if(ve==="object"){if(typeof z.then=="function")return $(be(z),W,se,fe,Q);throw W=String(z),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ie(z,W,se){if(z==null)return z;var fe=[],Q=0;return $(z,fe,"","",function(ve){return W.call(se,ve,Q++)}),fe}function ce(z){if(z._status===-1){var W=z._result;W=W(),W.then(function(se){(z._status===0||z._status===-1)&&(z._status=1,z._result=se)},function(se){(z._status===0||z._status===-1)&&(z._status=2,z._result=se)}),z._status===-1&&(z._status=0,z._result=W)}if(z._status===1)return z._result.default;throw z._result}var ge=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ye={map:ie,forEach:function(z,W,se){ie(z,function(){W.apply(this,arguments)},se)},count:function(z){var W=0;return ie(z,function(){W++}),W},toArray:function(z){return ie(z,function(W){return W})||[]},only:function(z){if(!I(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Pe.Activity=y,Pe.Children=ye,Pe.Component=U,Pe.Fragment=n,Pe.Profiler=o,Pe.PureComponent=B,Pe.StrictMode=s,Pe.Suspense=d,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return C.H.useMemoCache(z)}},Pe.cache=function(z){return function(){return z.apply(null,arguments)}},Pe.cacheSignal=function(){return null},Pe.cloneElement=function(z,W,se){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var fe=D({},z.props),Q=z.key;if(W!=null)for(ve in W.key!==void 0&&(Q=""+W.key),W)!A.call(W,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&W.ref===void 0||(fe[ve]=W[ve]);var ve=arguments.length-2;if(ve===1)fe.children=se;else if(1<ve){for(var Te=Array(ve),Ee=0;Ee<ve;Ee++)Te[Ee]=arguments[Ee+2];fe.children=Te}return R(z.type,Q,fe)},Pe.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Pe.createElement=function(z,W,se){var fe,Q={},ve=null;if(W!=null)for(fe in W.key!==void 0&&(ve=""+W.key),W)A.call(W,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Q[fe]=W[fe]);var Te=arguments.length-2;if(Te===1)Q.children=se;else if(1<Te){for(var Ee=Array(Te),Re=0;Re<Te;Re++)Ee[Re]=arguments[Re+2];Q.children=Ee}if(z&&z.defaultProps)for(fe in Te=z.defaultProps,Te)Q[fe]===void 0&&(Q[fe]=Te[fe]);return R(z,ve,Q)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(z){return{$$typeof:h,render:z}},Pe.isValidElement=I,Pe.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:ce}},Pe.memo=function(z,W){return{$$typeof:m,type:z,compare:W===void 0?null:W}},Pe.startTransition=function(z){var W=C.T,se={};C.T=se;try{var fe=z(),Q=C.S;Q!==null&&Q(se,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(H,ge)}catch(ve){ge(ve)}finally{W!==null&&se.types!==null&&(W.types=se.types),C.T=W}},Pe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Pe.use=function(z){return C.H.use(z)},Pe.useActionState=function(z,W,se){return C.H.useActionState(z,W,se)},Pe.useCallback=function(z,W){return C.H.useCallback(z,W)},Pe.useContext=function(z){return C.H.useContext(z)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(z,W){return C.H.useDeferredValue(z,W)},Pe.useEffect=function(z,W){return C.H.useEffect(z,W)},Pe.useEffectEvent=function(z){return C.H.useEffectEvent(z)},Pe.useId=function(){return C.H.useId()},Pe.useImperativeHandle=function(z,W,se){return C.H.useImperativeHandle(z,W,se)},Pe.useInsertionEffect=function(z,W){return C.H.useInsertionEffect(z,W)},Pe.useLayoutEffect=function(z,W){return C.H.useLayoutEffect(z,W)},Pe.useMemo=function(z,W){return C.H.useMemo(z,W)},Pe.useOptimistic=function(z,W){return C.H.useOptimistic(z,W)},Pe.useReducer=function(z,W,se){return C.H.useReducer(z,W,se)},Pe.useRef=function(z){return C.H.useRef(z)},Pe.useState=function(z){return C.H.useState(z)},Pe.useSyncExternalStore=function(z,W,se){return C.H.useSyncExternalStore(z,W,se)},Pe.useTransition=function(){return C.H.useTransition()},Pe.version="19.2.4",Pe}var u_;function uv(){return u_||(u_=1,Sm.exports=GM()),Sm.exports}var b=uv();const In=FM(b);var wm={exports:{}},_u={},Cm={exports:{}},Am={};var c_;function KM(){return c_||(c_=1,(function(t){function e($,ie){var ce=$.length;$.push(ie);e:for(;0<ce;){var ge=ce-1>>>1,ye=$[ge];if(0<o(ye,ie))$[ge]=ie,$[ce]=ye,ce=ge;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ie=$[0],ce=$.pop();if(ce!==ie){$[0]=ce;e:for(var ge=0,ye=$.length,z=ye>>>1;ge<z;){var W=2*(ge+1)-1,se=$[W],fe=W+1,Q=$[fe];if(0>o(se,ce))fe<ye&&0>o(Q,se)?($[ge]=Q,$[fe]=ce,ge=fe):($[ge]=se,$[W]=ce,ge=W);else if(fe<ye&&0>o(Q,ce))$[ge]=Q,$[fe]=ce,ge=fe;else break e}}return ie}function o($,ie){var ce=$.sortIndex-ie.sortIndex;return ce!==0?ce:$.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],m=[],v=1,y=null,E=3,w=!1,x=!1,D=!1,O=!1,U=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function N($){for(var ie=n(m);ie!==null;){if(ie.callback===null)s(m);else if(ie.startTime<=$)s(m),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=n(m)}}function k($){if(D=!1,N($),!x)if(n(d)!==null)x=!0,H||(H=!0,F());else{var ie=n(m);ie!==null&&be(k,ie.startTime-$)}}var H=!1,C=-1,A=5,R=-1;function V(){return O?!0:!(t.unstable_now()-R<A)}function I(){if(O=!1,H){var $=t.unstable_now();R=$;var ie=!0;try{e:{x=!1,D&&(D=!1,j(C),C=-1),w=!0;var ce=E;try{t:{for(N($),y=n(d);y!==null&&!(y.expirationTime>$&&V());){var ge=y.callback;if(typeof ge=="function"){y.callback=null,E=y.priorityLevel;var ye=ge(y.expirationTime<=$);if($=t.unstable_now(),typeof ye=="function"){y.callback=ye,N($),ie=!0;break t}y===n(d)&&s(d),N($)}else s(d);y=n(d)}if(y!==null)ie=!0;else{var z=n(m);z!==null&&be(k,z.startTime-$),ie=!1}}break e}finally{y=null,E=ce,w=!1}ie=void 0}}finally{ie?F():H=!1}}}var F;if(typeof B=="function")F=function(){B(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,me=P.port2;P.port1.onmessage=I,F=function(){me.postMessage(null)}}else F=function(){U(I,0)};function be($,ie){C=U(function(){$(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function($){switch(E){case 1:case 2:case 3:var ie=3;break;default:ie=E}var ce=E;E=ie;try{return $()}finally{E=ce}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function($,ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ce=E;E=$;try{return ie()}finally{E=ce}},t.unstable_scheduleCallback=function($,ie,ce){var ge=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ge+ce:ge):ce=ge,$){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=ce+ye,$={id:v++,callback:ie,priorityLevel:$,startTime:ce,expirationTime:ye,sortIndex:-1},ce>ge?($.sortIndex=ce,e(m,$),n(d)===null&&$===n(m)&&(D?(j(C),C=-1):D=!0,be(k,ce-ge))):($.sortIndex=ye,e(d,$),x||w||(x=!0,H||(H=!0,F()))),$},t.unstable_shouldYield=V,t.unstable_wrapCallback=function($){var ie=E;return function(){var ce=E;E=ie;try{return $.apply(this,arguments)}finally{E=ce}}}})(Am)),Am}var h_;function YM(){return h_||(h_=1,Cm.exports=KM()),Cm.exports}var xm={exports:{}},Un={};var f_;function $M(){if(f_)return Un;f_=1;var t=uv();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:d,containerInfo:m,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Un.createPortal=function(d,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,v)},Un.flushSync=function(d){var m=u.T,v=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=m,s.p=v,s.d.f()}},Un.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},Un.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Un.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var v=m.as,y=h(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:w}):v==="script"&&s.d.X(d,{crossOrigin:y,integrity:E,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Un.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},Un.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=h(v,m.crossOrigin);s.d.L(d,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Un.preloadModule=function(d,m){if(typeof d=="string")if(m){var v=h(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},Un.requestFormReset=function(d){s.d.r(d)},Un.unstable_batchedUpdates=function(d,m){return d(m)},Un.useFormState=function(d,m,v){return u.H.useFormState(d,m,v)},Un.useFormStatus=function(){return u.H.useHostTransitionStatus()},Un.version="19.2.4",Un}var d_;function Cw(){if(d_)return xm.exports;d_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xm.exports=$M(),xm.exports}var p_;function XM(){if(p_)return _u;p_=1;var t=YM(),e=uv(),n=Cw();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,c=r;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return d(p),i;if(g===c)return d(p),r;g=g.sibling}throw Error(s(188))}if(a.return!==c.return)a=p,c=g;else{for(var T=!1,L=p.child;L;){if(L===a){T=!0,a=p,c=g;break}if(L===c){T=!0,c=p,a=g;break}L=L.sibling}if(!T){for(L=g.child;L;){if(L===a){T=!0,a=g,c=p;break}if(L===c){T=!0,c=g,a=p;break}L=L.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),B=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function me(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case U:return"Profiler";case O:return"StrictMode";case k:return"Suspense";case H:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case B:return i.displayName||"Context";case j:return(i._context.displayName||"Context")+".Consumer";case N:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:me(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return me(i(r))}catch{}}return null}var be=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ge=[],ye=-1;function z(i){return{current:i}}function W(i){0>ye||(i.current=ge[ye],ge[ye]=null,ye--)}function se(i,r){ye++,ge[ye]=i.current,i.current=r}var fe=z(null),Q=z(null),ve=z(null),Te=z(null);function Ee(i,r){switch(se(ve,r),se(Q,i),se(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?LE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=LE(r),i=ME(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(fe),se(fe,i)}function Re(){W(fe),W(Q),W(ve)}function de(i){i.memoizedState!==null&&se(Te,i);var r=fe.current,a=ME(r,i.type);r!==a&&(se(Q,i),se(fe,a))}function Ie(i){Q.current===i&&(W(fe),W(Q)),Te.current===i&&(W(Te),gu._currentValue=ce)}var ut,Ot;function St(i){if(ut===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ut=r&&r[1]||"",Ot=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+i+Ot}var je=!1;function Sn(i,r){if(!i||je)return"";je=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ne){var ee=ne}Reflect.construct(i,[],le)}else{try{le.call()}catch(ne){ee=ne}i.call(le.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],L=g[1];if(T&&L){var q=T.split(`
`),J=L.split(`
`);for(p=c=0;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(c===q.length||p===J.length)for(c=q.length-1,p=J.length-1;1<=c&&0<=p&&q[c]!==J[p];)p--;for(;1<=c&&0<=p;c--,p--)if(q[c]!==J[p]){if(c!==1||p!==1)do if(c--,p--,0>p||q[c]!==J[p]){var oe=`
`+q[c].replace(" at new "," at ");return i.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",i.displayName)),oe}while(1<=c&&0<=p);break}}}finally{je=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?St(a):""}function li(i,r){switch(i.tag){case 26:case 27:case 5:return St(i.type);case 16:return St("Lazy");case 13:return i.child!==r&&r!==null?St("Suspense Fallback"):St("Suspense");case 19:return St("SuspenseList");case 0:case 15:return Sn(i.type,!1);case 11:return Sn(i.type.render,!1);case 1:return Sn(i.type,!0);case 31:return St("Activity");default:return""}}function Gi(i){try{var r="",a=null;do r+=li(i,a),a=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ct=Object.prototype.hasOwnProperty,st=t.unstable_scheduleCallback,pn=t.unstable_cancelCallback,Ki=t.unstable_shouldYield,Ti=t.unstable_requestPaint,Ft=t.unstable_now,Si=t.unstable_getCurrentPriorityLevel,cs=t.unstable_ImmediatePriority,wn=t.unstable_UserBlockingPriority,mn=t.unstable_NormalPriority,Wn=t.unstable_LowPriority,hs=t.unstable_IdlePriority,gn=t.log,fs=t.unstable_setDisableYieldValue,vn=null,kt=null;function Ht(i){if(typeof gn=="function"&&fs(i),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(vn,i)}catch{}}var bt=Math.clz32?Math.clz32:$i,Yi=Math.log,wi=Math.LN2;function $i(i){return i>>>=0,i===0?32:31-(Yi(i)/wi|0)|0}var Hn=256,Ci=262144,Fe=4194304;function ht(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Et(i,r,a){var c=i.pendingLanes;if(c===0)return 0;var p=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var L=c&134217727;return L!==0?(c=L&~g,c!==0?p=ht(c):(T&=L,T!==0?p=ht(T):a||(a=L&~i,a!==0&&(p=ht(a))))):(L=c&~g,L!==0?p=ht(L):T!==0?p=ht(T):a||(a=c&~i,a!==0&&(p=ht(a)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,a=r&-r,g>=a||g===32&&(a&4194048)!==0)?r:p}function wt(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function on(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function It(){var i=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),i}function Lt(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function kn(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function _t(i,r,a,c,p,g){var T=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var L=i.entanglements,q=i.expirationTimes,J=i.hiddenUpdates;for(a=T&~a;0<a;){var oe=31-bt(a),le=1<<oe;L[oe]=0,q[oe]=-1;var ee=J[oe];if(ee!==null)for(J[oe]=null,oe=0;oe<ee.length;oe++){var ne=ee[oe];ne!==null&&(ne.lane&=-536870913)}a&=~le}c!==0&&xe(i,c,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function xe(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-bt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|a&261930}function Nn(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var c=31-bt(a),p=1<<c;p&r|i[c]&r&&(i[c]|=r),a&=~p}}function qn(i,r){var a=r&-r;return a=(a&42)!==0?1:ui(a),(a&(i.suspendedLanes|r))!==0?0:a}function ui(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Gn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ci(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:JE(i.type))}function Cn(i,r){var a=ie.p;try{return ie.p=i,r()}finally{ie.p=a}}var Kn=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Kn,yn="__reactProps$"+Kn,ds="__reactContainer$"+Kn,ta="__reactEvents$"+Kn,Rd="__reactListeners$"+Kn,Rc="__reactHandles$"+Kn,Lc="__reactResources$"+Kn,ps="__reactMarker$"+Kn;function na(i){delete i[Xt],delete i[yn],delete i[ta],delete i[Rd],delete i[Rc]}function ms(i){var r=i[Xt];if(r)return r;for(var a=i.parentNode;a;){if(r=a[ds]||a[Xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=NE(i);i!==null;){if(a=i[Xt])return a;i=NE(i)}return r}i=a,a=i.parentNode}return null}function Ai(i){if(i=i[Xt]||i[ds]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function hi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function gs(i){var r=i[Lc];return r||(r=i[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Qt(i){i[ps]=!0}var Sl=new Set,wl={};function vs(i,r){ys(i,r),ys(i+"Capture",r)}function ys(i,r){for(wl[i]=r,i=0;i<r.length;i++)Sl.add(r[i])}var Cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Al={},xl={};function Mc(i){return ct.call(xl,i)?!0:ct.call(Al,i)?!1:Cl.test(i)?xl[i]=!0:(Al[i]=!0,!1)}function ia(i,r,a){if(Mc(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function fi(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Zt(i,r,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+c)}}function bn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function fr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Rl(i,r,a){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(T){a=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ft(i){if(!i._valueTracker){var r=fr(i)?"checked":"value";i._valueTracker=Rl(i,r,""+i[r])}}function ho(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return i&&(c=fr(i)?i.checked?"true":"false":i.value),i=c,i!==a?(r.setValue(i),!0):!1}function bs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var fo=/[\n"\\]/g;function Jn(i){return i.replace(fo,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function sa(i,r,a,c,p,g,T,L){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+bn(r)):i.value!==""+bn(r)&&(i.value=""+bn(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Ll(i,T,bn(r)):a!=null?Ll(i,T,bn(a)):c!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.name=""+bn(L):i.removeAttribute("name")}function Dc(i,r,a,c,p,g,T,L){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){ft(i);return}a=a!=null?""+bn(a):"",r=r!=null?""+bn(r):a,L||r===i.value||(i.value=r),i.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=L?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),ft(i)}function Ll(i,r,a){r==="number"&&bs(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function dr(i,r,a,c){if(i=i.options,r){r={};for(var p=0;p<a.length;p++)r["$"+a[p]]=!0;for(a=0;a<i.length;a++)p=r.hasOwnProperty("$"+i[a].value),i[a].selected!==p&&(i[a].selected=p),p&&c&&(i[a].defaultSelected=!0)}else{for(a=""+bn(a),r=null,p=0;p<i.length;p++){if(i[p].value===a){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function Oc(i,r,a){if(r!=null&&(r=""+bn(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+bn(a):""}function pr(i,r,a,c){if(r==null){if(c!=null){if(a!=null)throw Error(s(92));if(be(c)){if(1<c.length)throw Error(s(93));c=c[0]}a=c}a==null&&(a=""),r=a}a=bn(r),i.defaultValue=a,c=i.textContent,c===a&&c!==""&&c!==null&&(i.value=c),ft(i)}function ei(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var Ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ml(i,r,a){var c=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,a):typeof a!="number"||a===0||Ic.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function Dl(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&a[p]!==c&&Ml(i,p,c)}else for(var g in r)r.hasOwnProperty(g)&&Ml(i,g,r[g])}function ra(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(i){return mr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Xi(){}var Ol=null;function xi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var gr=null,Es=null;function po(i){var r=Ai(i);if(r&&(i=r.stateNode)){var a=i[yn]||null;e:switch(i=r.stateNode,r.type){case"input":if(sa(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Jn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==i&&c.form===i.form){var p=c[yn]||null;if(!p)throw Error(s(90));sa(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<a.length;r++)c=a[r],c.form===i.form&&ho(c)}break e;case"textarea":Oc(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&dr(i,!!a.multiple,r,!1)}}}var aa=!1;function vr(i,r,a){if(aa)return i(r,a);aa=!0;try{var c=i(r);return c}finally{if(aa=!1,(gr!==null||Es!==null)&&(xh(),gr&&(r=gr,i=Es,Es=gr=null,po(r),i)))for(r=0;r<i.length;r++)po(i[r])}}function Qi(i,r){var a=i.stateNode;if(a===null)return null;var c=a[yn]||null;if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=!1;if(Ri)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){mo=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{mo=!1}var _s=null,Il=null,go=null;function Vl(){if(go)return go;var i,r=Il,a=r.length,c,p="value"in _s?_s.value:_s.textContent,g=p.length;for(i=0;i<a&&r[i]===p[i];i++);var T=a-i;for(c=1;c<=T&&r[a-c]===p[g-c];c++);return go=p.slice(i,1<c?1-c:void 0)}function vo(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Bs(){return!0}function Zi(){return!1}function An(i){function r(a,c,p,g,T){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(a=i[L],this[L]=a?a(g):g[L]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Bs:Zi,this.isPropagationStopped=Zi,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),r}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=An(zs),yr=y({},zs,{view:0,detail:0}),Pl=An(yr),br,la,Ss,ua=y({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ss&&(Ss&&i.type==="mousemove"?(br=i.screenX-Ss.screenX,la=i.screenY-Ss.screenY):la=br=0,Ss=i),br)},movementY:function(i){return"movementY"in i?i.movementY:la}}),kl=An(ua),yo=y({},ua,{dataTransfer:0}),Pc=An(yo),kc=y({},yr,{relatedTarget:0}),bo=An(kc),Nl=y({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),Nc=An(Nl),ca=y({},zs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Uc=An(ca),jc=y({},zs,{data:0}),ws=An(jc),Bc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Fc[i])?!!r[i]:!1}function Er(){return Hc}var Yn=y({},yr,{key:function(i){if(i.key){var r=Bc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=vo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?zc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(i){return i.type==="keypress"?vo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qc=An(Yn),Gc=y({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fs=An(Gc),f=y({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),_=An(f),S=y({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),M=An(S),X=y({},ua,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),te=An(X),pe=y({},zs,{newState:0,oldState:0}),Ne=An(pe),qt=[9,13,27,32],rt=Ri&&"CompositionEvent"in window,Mt=null;Ri&&"documentMode"in document&&(Mt=document.documentMode);var Li=Ri&&"TextEvent"in window&&!Mt,Cs=Ri&&(!rt||Mt&&8<Mt&&11>=Mt),Wi=" ",Ji=!1;function Eo(i,r){switch(i){case"keyup":return qt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fa=!1;function fL(i,r){switch(i){case"compositionend":return ha(r);case"keypress":return r.which!==32?null:(Ji=!0,Wi);case"textInput":return i=r.data,i===Wi&&Ji?null:i;default:return null}}function dL(i,r){if(fa)return i==="compositionend"||!rt&&Eo(i,r)?(i=Vl(),go=Il=_s=null,fa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Cs&&r.locale!=="ko"?null:r.data;default:return null}}var pL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!pL[i.type]:r==="textarea"}function zy(i,r,a,c){gr?Es?Es.push(c):Es=[c]:gr=c,r=Vh(r,"onChange"),0<r.length&&(a=new Ts("onChange","change",null,a,c),i.push({event:a,listeners:r}))}var Ul=null,jl=null;function mL(i){SE(i,0)}function Kc(i){var r=hi(i);if(ho(r))return i}function Fy(i,r){if(i==="change")return r}var Hy=!1;if(Ri){var Ld;if(Ri){var Md="oninput"in document;if(!Md){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),Md=typeof qy.oninput=="function"}Ld=Md}else Ld=!1;Hy=Ld&&(!document.documentMode||9<document.documentMode)}function Gy(){Ul&&(Ul.detachEvent("onpropertychange",Ky),jl=Ul=null)}function Ky(i){if(i.propertyName==="value"&&Kc(jl)){var r=[];zy(r,jl,i,xi(i)),vr(mL,r)}}function gL(i,r,a){i==="focusin"?(Gy(),Ul=r,jl=a,Ul.attachEvent("onpropertychange",Ky)):i==="focusout"&&Gy()}function vL(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Kc(jl)}function yL(i,r){if(i==="click")return Kc(r)}function bL(i,r){if(i==="input"||i==="change")return Kc(r)}function EL(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var di=typeof Object.is=="function"?Object.is:EL;function Bl(i,r){if(di(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!ct.call(r,p)||!di(i[p],r[p]))return!1}return!0}function Yy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $y(i,r){var a=Yy(i);i=0;for(var c;a;){if(a.nodeType===3){if(c=i+a.textContent.length,i<=r&&c>=r)return{node:a,offset:r-i};i=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yy(a)}}function Xy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Xy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Qy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=bs(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=bs(i.document)}return r}function Dd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var _L=Ri&&"documentMode"in document&&11>=document.documentMode,da=null,Od=null,zl=null,Id=!1;function Zy(i,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Id||da==null||da!==bs(c)||(c=da,"selectionStart"in c&&Dd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zl&&Bl(zl,c)||(zl=c,c=Vh(Od,"onSelect"),0<c.length&&(r=new Ts("onSelect","select",null,r,a),i.push({event:r,listeners:c}),r.target=da)))}function _o(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var pa={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionrun:_o("Transition","TransitionRun"),transitionstart:_o("Transition","TransitionStart"),transitioncancel:_o("Transition","TransitionCancel"),transitionend:_o("Transition","TransitionEnd")},Vd={},Wy={};Ri&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function To(i){if(Vd[i])return Vd[i];if(!pa[i])return i;var r=pa[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in Wy)return Vd[i]=r[a];return i}var Jy=To("animationend"),e0=To("animationiteration"),t0=To("animationstart"),TL=To("transitionrun"),SL=To("transitionstart"),wL=To("transitioncancel"),n0=To("transitionend"),i0=new Map,Pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pd.push("scrollEnd");function es(i,r){i0.set(i,r),vs(r,[i])}var Yc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Mi=[],ma=0,kd=0;function $c(){for(var i=ma,r=kd=ma=0;r<i;){var a=Mi[r];Mi[r++]=null;var c=Mi[r];Mi[r++]=null;var p=Mi[r];Mi[r++]=null;var g=Mi[r];if(Mi[r++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}g!==0&&s0(a,p,g)}}function Xc(i,r,a,c){Mi[ma++]=i,Mi[ma++]=r,Mi[ma++]=a,Mi[ma++]=c,kd|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Nd(i,r,a,c){return Xc(i,r,a,c),Qc(i)}function So(i,r){return Xc(i,null,null,r),Qc(i)}function s0(i,r,a){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a);for(var p=!1,g=i.return;g!==null;)g.childLanes|=a,c=g.alternate,c!==null&&(c.childLanes|=a),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&r!==null&&(p=31-bt(a),i=g.hiddenUpdates,c=i[p],c===null?i[p]=[r]:c.push(r),r.lane=a|536870912),g):null}function Qc(i){if(50<uu)throw uu=0,Kp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ga={};function CL(i,r,a,c){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(i,r,a,c){return new CL(i,r,a,c)}function Ud(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Hs(i,r){var a=i.alternate;return a===null?(a=pi(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function r0(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Zc(i,r,a,c,p,g){var T=0;if(c=i,typeof i=="function")Ud(i)&&(T=1);else if(typeof i=="string")T=MM(i,a,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=pi(31,a,r,p),i.elementType=R,i.lanes=g,i;case D:return wo(a.children,p,g,r);case O:T=8,p|=24;break;case U:return i=pi(12,a,r,p|2),i.elementType=U,i.lanes=g,i;case k:return i=pi(13,a,r,p),i.elementType=k,i.lanes=g,i;case H:return i=pi(19,a,r,p),i.elementType=H,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:T=10;break e;case j:T=9;break e;case N:T=11;break e;case C:T=14;break e;case A:T=16,c=null;break e}T=29,a=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=pi(T,a,r,p),r.elementType=i,r.type=c,r.lanes=g,r}function wo(i,r,a,c){return i=pi(7,i,c,r),i.lanes=a,i}function jd(i,r,a){return i=pi(6,i,null,r),i.lanes=a,i}function o0(i){var r=pi(18,null,null,0);return r.stateNode=i,r}function Bd(i,r,a){return r=pi(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var a0=new WeakMap;function Di(i,r){if(typeof i=="object"&&i!==null){var a=a0.get(i);return a!==void 0?a:(r={value:i,source:r,stack:Gi(r)},a0.set(i,r),r)}return{value:i,source:r,stack:Gi(r)}}var va=[],ya=0,Wc=null,Fl=0,Oi=[],Ii=0,_r=null,As=1,xs="";function qs(i,r){va[ya++]=Fl,va[ya++]=Wc,Wc=i,Fl=r}function l0(i,r,a){Oi[Ii++]=As,Oi[Ii++]=xs,Oi[Ii++]=_r,_r=i;var c=As;i=xs;var p=32-bt(c)-1;c&=~(1<<p),a+=1;var g=32-bt(r)+p;if(30<g){var T=p-p%5;g=(c&(1<<T)-1).toString(32),c>>=T,p-=T,As=1<<32-bt(r)+p|a<<p|c,xs=g+i}else As=1<<g|a<<p|c,xs=i}function zd(i){i.return!==null&&(qs(i,1),l0(i,1,0))}function Fd(i){for(;i===Wc;)Wc=va[--ya],va[ya]=null,Fl=va[--ya],va[ya]=null;for(;i===_r;)_r=Oi[--Ii],Oi[Ii]=null,xs=Oi[--Ii],Oi[Ii]=null,As=Oi[--Ii],Oi[Ii]=null}function u0(i,r){Oi[Ii++]=As,Oi[Ii++]=xs,Oi[Ii++]=_r,As=r.id,xs=r.overflow,_r=i}var xn=null,Ct=null,Ze=!1,Tr=null,Vi=!1,Hd=Error(s(519));function Sr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(Di(r,i)),Hd}function c0(i){var r=i.stateNode,a=i.type,c=i.memoizedProps;switch(r[Xt]=i,r[yn]=c,a){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(a=0;a<hu.length;a++)Ge(hu[a],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":Ge("invalid",r),Dc(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ge("invalid",r);break;case"textarea":Ge("invalid",r),pr(r,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||c.suppressHydrationWarning===!0||xE(r.textContent,a)?(c.popover!=null&&(Ge("beforetoggle",r),Ge("toggle",r)),c.onScroll!=null&&Ge("scroll",r),c.onScrollEnd!=null&&Ge("scrollend",r),c.onClick!=null&&(r.onclick=Xi),r=!0):r=!1,r||Sr(i,!0)}function h0(i){for(xn=i.return;xn;)switch(xn.tag){case 5:case 31:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:xn=xn.return}}function ba(i){if(i!==xn)return!1;if(!Ze)return h0(i),Ze=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||am(i.type,i.memoizedProps)),a=!a),a&&Ct&&Sr(i),h0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ct=kE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ct=kE(i)}else r===27?(r=Ct,Nr(i.type)?(i=fm,fm=null,Ct=i):Ct=r):Ct=xn?ki(i.stateNode.nextSibling):null;return!0}function Co(){Ct=xn=null,Ze=!1}function qd(){var i=Tr;return i!==null&&(si===null?si=i:si.push.apply(si,i),Tr=null),i}function Hl(i){Tr===null?Tr=[i]:Tr.push(i)}var Gd=z(null),Ao=null,Gs=null;function wr(i,r,a){se(Gd,r._currentValue),r._currentValue=a}function Ks(i){i._currentValue=Gd.current,W(Gd)}function Kd(i,r,a){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===a)break;i=i.return}}function Yd(i,r,a,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var L=g;g=p;for(var q=0;q<r.length;q++)if(L.context===r[q]){g.lanes|=a,L=g.alternate,L!==null&&(L.lanes|=a),Kd(g.return,a,i),c||(T=null);break e}g=L.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(s(341));T.lanes|=a,g=T.alternate,g!==null&&(g.lanes|=a),Kd(T,a,i),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===i){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Ea(i,r,a,c){i=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var L=p.type;di(p.pendingProps.value,T.value)||(i!==null?i.push(L):i=[L])}}else if(p===Te.current){if(T=p.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(gu):i=[gu])}p=p.return}i!==null&&Yd(r,i,a,c),r.flags|=262144}function Jc(i){for(i=i.firstContext;i!==null;){if(!di(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function xo(i){Ao=i,Gs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Rn(i){return f0(Ao,i)}function eh(i,r){return Ao===null&&xo(i),f0(i,r)}function f0(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Gs===null){if(i===null)throw Error(s(308));Gs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Gs=Gs.next=r;return a}var AL=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},xL=t.unstable_scheduleCallback,RL=t.unstable_NormalPriority,Wt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $d(){return{controller:new AL,data:new Map,refCount:0}}function ql(i){i.refCount--,i.refCount===0&&xL(RL,function(){i.controller.abort()})}var Gl=null,Xd=0,_a=0,Ta=null;function LL(i,r){if(Gl===null){var a=Gl=[];Xd=0,_a=Wp(),Ta={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Xd++,r.then(d0,d0),r}function d0(){if(--Xd===0&&Gl!==null){Ta!==null&&(Ta.status="fulfilled");var i=Gl;Gl=null,_a=0,Ta=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function ML(i,r){var a=[],c={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<a.length;p++)(0,a[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),c}var p0=$.S;$.S=function(i,r){Zb=Ft(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&LL(i,r),p0!==null&&p0(i,r)};var Ro=z(null);function Qd(){var i=Ro.current;return i!==null?i:Tt.pooledCache}function th(i,r){r===null?se(Ro,Ro.current):se(Ro,r.pool)}function m0(){var i=Qd();return i===null?null:{parent:Wt._currentValue,pool:i}}var Sa=Error(s(460)),Zd=Error(s(474)),nh=Error(s(542)),ih={then:function(){}};function g0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function v0(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Xi,Xi),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,b0(i),i;default:if(typeof r.status=="string")r.then(Xi,Xi);else{if(i=Tt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,b0(i),i}throw Mo=r,Sa}}function Lo(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Mo=a,Sa):a}}var Mo=null;function y0(){if(Mo===null)throw Error(s(459));var i=Mo;return Mo=null,i}function b0(i){if(i===Sa||i===nh)throw Error(s(483))}var wa=null,Kl=0;function sh(i){var r=Kl;return Kl+=1,wa===null&&(wa=[]),v0(wa,i,r)}function Yl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function rh(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function E0(i){function r(Y,G){if(i){var Z=Y.deletions;Z===null?(Y.deletions=[G],Y.flags|=16):Z.push(G)}}function a(Y,G){if(!i)return null;for(;G!==null;)r(Y,G),G=G.sibling;return null}function c(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function p(Y,G){return Y=Hs(Y,G),Y.index=0,Y.sibling=null,Y}function g(Y,G,Z){return Y.index=Z,i?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<G?(Y.flags|=67108866,G):Z):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function T(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function L(Y,G,Z,ae){return G===null||G.tag!==6?(G=jd(Z,Y.mode,ae),G.return=Y,G):(G=p(G,Z),G.return=Y,G)}function q(Y,G,Z,ae){var Le=Z.type;return Le===D?oe(Y,G,Z.props.children,ae,Z.key):G!==null&&(G.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===A&&Lo(Le)===G.type)?(G=p(G,Z.props),Yl(G,Z),G.return=Y,G):(G=Zc(Z.type,Z.key,Z.props,null,Y.mode,ae),Yl(G,Z),G.return=Y,G)}function J(Y,G,Z,ae){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=Bd(Z,Y.mode,ae),G.return=Y,G):(G=p(G,Z.children||[]),G.return=Y,G)}function oe(Y,G,Z,ae,Le){return G===null||G.tag!==7?(G=wo(Z,Y.mode,ae,Le),G.return=Y,G):(G=p(G,Z),G.return=Y,G)}function le(Y,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=jd(""+G,Y.mode,Z),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return Z=Zc(G.type,G.key,G.props,null,Y.mode,Z),Yl(Z,G),Z.return=Y,Z;case x:return G=Bd(G,Y.mode,Z),G.return=Y,G;case A:return G=Lo(G),le(Y,G,Z)}if(be(G)||F(G))return G=wo(G,Y.mode,Z,null),G.return=Y,G;if(typeof G.then=="function")return le(Y,sh(G),Z);if(G.$$typeof===B)return le(Y,eh(Y,G),Z);rh(Y,G)}return null}function ee(Y,G,Z,ae){var Le=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Le!==null?null:L(Y,G,""+Z,ae);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return Z.key===Le?q(Y,G,Z,ae):null;case x:return Z.key===Le?J(Y,G,Z,ae):null;case A:return Z=Lo(Z),ee(Y,G,Z,ae)}if(be(Z)||F(Z))return Le!==null?null:oe(Y,G,Z,ae,null);if(typeof Z.then=="function")return ee(Y,G,sh(Z),ae);if(Z.$$typeof===B)return ee(Y,G,eh(Y,Z),ae);rh(Y,Z)}return null}function ne(Y,G,Z,ae,Le){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Y=Y.get(Z)||null,L(G,Y,""+ae,Le);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return Y=Y.get(ae.key===null?Z:ae.key)||null,q(G,Y,ae,Le);case x:return Y=Y.get(ae.key===null?Z:ae.key)||null,J(G,Y,ae,Le);case A:return ae=Lo(ae),ne(Y,G,Z,ae,Le)}if(be(ae)||F(ae))return Y=Y.get(Z)||null,oe(G,Y,ae,Le,null);if(typeof ae.then=="function")return ne(Y,G,Z,sh(ae),Le);if(ae.$$typeof===B)return ne(Y,G,Z,eh(G,ae),Le);rh(G,ae)}return null}function Se(Y,G,Z,ae){for(var Le=null,tt=null,Ce=G,Be=G=0,$e=null;Ce!==null&&Be<Z.length;Be++){Ce.index>Be?($e=Ce,Ce=null):$e=Ce.sibling;var nt=ee(Y,Ce,Z[Be],ae);if(nt===null){Ce===null&&(Ce=$e);break}i&&Ce&&nt.alternate===null&&r(Y,Ce),G=g(nt,G,Be),tt===null?Le=nt:tt.sibling=nt,tt=nt,Ce=$e}if(Be===Z.length)return a(Y,Ce),Ze&&qs(Y,Be),Le;if(Ce===null){for(;Be<Z.length;Be++)Ce=le(Y,Z[Be],ae),Ce!==null&&(G=g(Ce,G,Be),tt===null?Le=Ce:tt.sibling=Ce,tt=Ce);return Ze&&qs(Y,Be),Le}for(Ce=c(Ce);Be<Z.length;Be++)$e=ne(Ce,Y,Be,Z[Be],ae),$e!==null&&(i&&$e.alternate!==null&&Ce.delete($e.key===null?Be:$e.key),G=g($e,G,Be),tt===null?Le=$e:tt.sibling=$e,tt=$e);return i&&Ce.forEach(function(Fr){return r(Y,Fr)}),Ze&&qs(Y,Be),Le}function De(Y,G,Z,ae){if(Z==null)throw Error(s(151));for(var Le=null,tt=null,Ce=G,Be=G=0,$e=null,nt=Z.next();Ce!==null&&!nt.done;Be++,nt=Z.next()){Ce.index>Be?($e=Ce,Ce=null):$e=Ce.sibling;var Fr=ee(Y,Ce,nt.value,ae);if(Fr===null){Ce===null&&(Ce=$e);break}i&&Ce&&Fr.alternate===null&&r(Y,Ce),G=g(Fr,G,Be),tt===null?Le=Fr:tt.sibling=Fr,tt=Fr,Ce=$e}if(nt.done)return a(Y,Ce),Ze&&qs(Y,Be),Le;if(Ce===null){for(;!nt.done;Be++,nt=Z.next())nt=le(Y,nt.value,ae),nt!==null&&(G=g(nt,G,Be),tt===null?Le=nt:tt.sibling=nt,tt=nt);return Ze&&qs(Y,Be),Le}for(Ce=c(Ce);!nt.done;Be++,nt=Z.next())nt=ne(Ce,Y,Be,nt.value,ae),nt!==null&&(i&&nt.alternate!==null&&Ce.delete(nt.key===null?Be:nt.key),G=g(nt,G,Be),tt===null?Le=nt:tt.sibling=nt,tt=nt);return i&&Ce.forEach(function(zM){return r(Y,zM)}),Ze&&qs(Y,Be),Le}function yt(Y,G,Z,ae){if(typeof Z=="object"&&Z!==null&&Z.type===D&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:e:{for(var Le=Z.key;G!==null;){if(G.key===Le){if(Le=Z.type,Le===D){if(G.tag===7){a(Y,G.sibling),ae=p(G,Z.props.children),ae.return=Y,Y=ae;break e}}else if(G.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===A&&Lo(Le)===G.type){a(Y,G.sibling),ae=p(G,Z.props),Yl(ae,Z),ae.return=Y,Y=ae;break e}a(Y,G);break}else r(Y,G);G=G.sibling}Z.type===D?(ae=wo(Z.props.children,Y.mode,ae,Z.key),ae.return=Y,Y=ae):(ae=Zc(Z.type,Z.key,Z.props,null,Y.mode,ae),Yl(ae,Z),ae.return=Y,Y=ae)}return T(Y);case x:e:{for(Le=Z.key;G!==null;){if(G.key===Le)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){a(Y,G.sibling),ae=p(G,Z.children||[]),ae.return=Y,Y=ae;break e}else{a(Y,G);break}else r(Y,G);G=G.sibling}ae=Bd(Z,Y.mode,ae),ae.return=Y,Y=ae}return T(Y);case A:return Z=Lo(Z),yt(Y,G,Z,ae)}if(be(Z))return Se(Y,G,Z,ae);if(F(Z)){if(Le=F(Z),typeof Le!="function")throw Error(s(150));return Z=Le.call(Z),De(Y,G,Z,ae)}if(typeof Z.then=="function")return yt(Y,G,sh(Z),ae);if(Z.$$typeof===B)return yt(Y,G,eh(Y,Z),ae);rh(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(a(Y,G.sibling),ae=p(G,Z),ae.return=Y,Y=ae):(a(Y,G),ae=jd(Z,Y.mode,ae),ae.return=Y,Y=ae),T(Y)):a(Y,G)}return function(Y,G,Z,ae){try{Kl=0;var Le=yt(Y,G,Z,ae);return wa=null,Le}catch(Ce){if(Ce===Sa||Ce===nh)throw Ce;var tt=pi(29,Ce,null,Y.mode);return tt.lanes=ae,tt.return=Y,tt}}}var Do=E0(!0),_0=E0(!1),Cr=!1;function Wd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ar(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xr(i,r,a){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=Qc(i),s0(i,null,a),r}return Xc(i,c,r,a),Qc(i)}function $l(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,a|=c,r.lanes=a,Nn(i,a)}}function ep(i,r){var a=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,a=a.next}while(a!==null);g===null?p=g=r:g=g.next=r}else p=g=r;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var tp=!1;function Xl(){if(tp){var i=Ta;if(i!==null)throw i}}function Ql(i,r,a,c){tp=!1;var p=i.updateQueue;Cr=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,L=p.shared.pending;if(L!==null){p.shared.pending=null;var q=L,J=q.next;q.next=null,T===null?g=J:T.next=J,T=q;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,L=oe.lastBaseUpdate,L!==T&&(L===null?oe.firstBaseUpdate=J:L.next=J,oe.lastBaseUpdate=q))}if(g!==null){var le=p.baseState;T=0,oe=J=q=null,L=g;do{var ee=L.lane&-536870913,ne=ee!==L.lane;if(ne?(Ye&ee)===ee:(c&ee)===ee){ee!==0&&ee===_a&&(tp=!0),oe!==null&&(oe=oe.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Se=i,De=L;ee=r;var yt=a;switch(De.tag){case 1:if(Se=De.payload,typeof Se=="function"){le=Se.call(yt,le,ee);break e}le=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=De.payload,ee=typeof Se=="function"?Se.call(yt,le,ee):Se,ee==null)break e;le=y({},le,ee);break e;case 2:Cr=!0}}ee=L.callback,ee!==null&&(i.flags|=64,ne&&(i.flags|=8192),ne=p.callbacks,ne===null?p.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:L.tag,payload:L.payload,callback:L.callback,next:null},oe===null?(J=oe=ne,q=le):oe=oe.next=ne,T|=ee;if(L=L.next,L===null){if(L=p.shared.pending,L===null)break;ne=L,L=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);oe===null&&(q=le),p.baseState=q,p.firstBaseUpdate=J,p.lastBaseUpdate=oe,g===null&&(p.shared.lanes=0),Or|=T,i.lanes=T,i.memoizedState=le}}function T0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function S0(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)T0(a[i],r)}var Ca=z(null),oh=z(0);function w0(i,r){i=tr,se(oh,i),se(Ca,r),tr=i|r.baseLanes}function np(){se(oh,tr),se(Ca,Ca.current)}function ip(){tr=oh.current,W(Ca),W(oh)}var mi=z(null),Pi=null;function Rr(i){var r=i.alternate;se(Gt,Gt.current&1),se(mi,i),Pi===null&&(r===null||Ca.current!==null||r.memoizedState!==null)&&(Pi=i)}function sp(i){se(Gt,Gt.current),se(mi,i),Pi===null&&(Pi=i)}function C0(i){i.tag===22?(se(Gt,Gt.current),se(mi,i),Pi===null&&(Pi=i)):Lr()}function Lr(){se(Gt,Gt.current),se(mi,mi.current)}function gi(i){W(mi),Pi===i&&(Pi=null),W(Gt)}var Gt=z(0);function ah(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||cm(a)||hm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ys=0,Ue=null,gt=null,Jt=null,lh=!1,Aa=!1,Oo=!1,uh=0,Zl=0,xa=null,DL=0;function Nt(){throw Error(s(321))}function rp(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!di(i[a],r[a]))return!1;return!0}function op(i,r,a,c,p,g){return Ys=g,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=i===null||i.memoizedState===null?lb:_p,Oo=!1,g=a(c,p),Oo=!1,Aa&&(g=x0(r,a,c,p)),A0(i),g}function A0(i){$.H=eu;var r=gt!==null&&gt.next!==null;if(Ys=0,Jt=gt=Ue=null,lh=!1,Zl=0,xa=null,r)throw Error(s(300));i===null||en||(i=i.dependencies,i!==null&&Jc(i)&&(en=!0))}function x0(i,r,a,c){Ue=i;var p=0;do{if(Aa&&(xa=null),Zl=0,Aa=!1,25<=p)throw Error(s(301));if(p+=1,Jt=gt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=ub,g=r(a,c)}while(Aa);return g}function OL(){var i=$.H,r=i.useState()[0];return r=typeof r.then=="function"?Wl(r):r,i=i.useState()[0],(gt!==null?gt.memoizedState:null)!==i&&(Ue.flags|=1024),r}function ap(){var i=uh!==0;return uh=0,i}function lp(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function up(i){if(lh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}lh=!1}Ys=0,Jt=gt=Ue=null,Aa=!1,Zl=uh=0,xa=null}function $n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ue.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function Kt(){if(gt===null){var i=Ue.alternate;i=i!==null?i.memoizedState:null}else i=gt.next;var r=Jt===null?Ue.memoizedState:Jt.next;if(r!==null)Jt=r,gt=i;else{if(i===null)throw Ue.alternate===null?Error(s(467)):Error(s(310));gt=i,i={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Jt===null?Ue.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(i){var r=Zl;return Zl+=1,xa===null&&(xa=[]),i=v0(xa,i,r),r=Ue,(Jt===null?r.memoizedState:Jt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?lb:_p),i}function hh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wl(i);if(i.$$typeof===B)return Rn(i)}throw Error(s(438,String(i)))}function cp(i){var r=null,a=Ue.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var c=Ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ch(),Ue.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),c=0;c<i;c++)a[c]=V;return r.index++,a}function $s(i,r){return typeof r=="function"?r(i):r}function fh(i){var r=Kt();return hp(r,gt,i)}function hp(i,r,a){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var p=i.baseQueue,g=c.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}r.baseQueue=p=g,c.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{r=p.next;var L=T=null,q=null,J=r,oe=!1;do{var le=J.lane&-536870913;if(le!==J.lane?(Ye&le)===le:(Ys&le)===le){var ee=J.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),le===_a&&(oe=!0);else if((Ys&ee)===ee){J=J.next,ee===_a&&(oe=!0);continue}else le={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(L=q=le,T=g):q=q.next=le,Ue.lanes|=ee,Or|=ee;le=J.action,Oo&&a(g,le),g=J.hasEagerState?J.eagerState:a(g,le)}else ee={lane:le,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},q===null?(L=q=ee,T=g):q=q.next=ee,Ue.lanes|=le,Or|=le;J=J.next}while(J!==null&&J!==r);if(q===null?T=g:q.next=L,!di(g,i.memoizedState)&&(en=!0,oe&&(a=Ta,a!==null)))throw a;i.memoizedState=g,i.baseState=T,i.baseQueue=q,c.lastRenderedState=g}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function fp(i){var r=Kt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var c=a.dispatch,p=a.pending,g=r.memoizedState;if(p!==null){a.pending=null;var T=p=p.next;do g=i(g,T.action),T=T.next;while(T!==p);di(g,r.memoizedState)||(en=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),a.lastRenderedState=g}return[g,c]}function R0(i,r,a){var c=Ue,p=Kt(),g=Ze;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!di((gt||p).memoizedState,a);if(T&&(p.memoizedState=a,en=!0),p=p.queue,mp(D0.bind(null,c,p,i),[i]),p.getSnapshot!==r||T||Jt!==null&&Jt.memoizedState.tag&1){if(c.flags|=2048,Ra(9,{destroy:void 0},M0.bind(null,c,p,a,r),null),Tt===null)throw Error(s(349));g||(Ys&127)!==0||L0(c,r,a)}return a}function L0(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Ue.updateQueue,r===null?(r=ch(),Ue.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function M0(i,r,a,c){r.value=a,r.getSnapshot=c,O0(r)&&I0(i)}function D0(i,r,a){return a(function(){O0(r)&&I0(i)})}function O0(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!di(i,a)}catch{return!0}}function I0(i){var r=So(i,2);r!==null&&ri(r,i,2)}function dp(i){var r=$n();if(typeof i=="function"){var a=i;if(i=a(),Oo){Ht(!0);try{a()}finally{Ht(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:i},r}function V0(i,r,a,c){return i.baseState=a,hp(i,gt,typeof c=="function"?c:$s)}function IL(i,r,a,c,p){if(mh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};$.T!==null?a(!0):g.isTransition=!1,c(g),a=r.pending,a===null?(g.next=r.pending=g,P0(r,g)):(g.next=a.next,r.pending=a.next=g)}}function P0(i,r){var a=r.action,c=r.payload,p=i.state;if(r.isTransition){var g=$.T,T={};$.T=T;try{var L=a(p,c),q=$.S;q!==null&&q(T,L),k0(i,r,L)}catch(J){pp(i,r,J)}finally{g!==null&&T.types!==null&&(g.types=T.types),$.T=g}}else try{g=a(p,c),k0(i,r,g)}catch(J){pp(i,r,J)}}function k0(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){N0(i,r,c)},function(c){return pp(i,r,c)}):N0(i,r,a)}function N0(i,r,a){r.status="fulfilled",r.value=a,U0(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,P0(i,a)))}function pp(i,r,a){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=a,U0(r),r=r.next;while(r!==c)}i.action=null}function U0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function j0(i,r){return r}function B0(i,r){if(Ze){var a=Tt.formState;if(a!==null){e:{var c=Ue;if(Ze){if(Ct){t:{for(var p=Ct,g=Vi;p.nodeType!==8;){if(!g){p=null;break t}if(p=ki(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Ct=ki(p.nextSibling),c=p.data==="F!";break e}}Sr(c)}c=!1}c&&(r=a[0])}}return a=$n(),a.memoizedState=a.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:j0,lastRenderedState:r},a.queue=c,a=rb.bind(null,Ue,c),c.dispatch=a,c=dp(!1),g=Ep.bind(null,Ue,!1,c.queue),c=$n(),p={state:r,dispatch:null,action:i,pending:null},c.queue=p,a=IL.bind(null,Ue,p,g,a),p.dispatch=a,c.memoizedState=i,[r,a,!1]}function z0(i){var r=Kt();return F0(r,gt,i)}function F0(i,r,a){if(r=hp(i,r,j0)[0],i=fh($s)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Wl(r)}catch(T){throw T===Sa?nh:T}else c=r;r=Kt();var p=r.queue,g=p.dispatch;return a!==r.memoizedState&&(Ue.flags|=2048,Ra(9,{destroy:void 0},VL.bind(null,p,a),null)),[c,g,i]}function VL(i,r){i.action=r}function H0(i){var r=Kt(),a=gt;if(a!==null)return F0(r,a,i);Kt(),r=r.memoizedState,a=Kt();var c=a.queue.dispatch;return a.memoizedState=i,[r,c,!1]}function Ra(i,r,a,c){return i={tag:i,create:a,deps:c,inst:r,next:null},r=Ue.updateQueue,r===null&&(r=ch(),Ue.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(c=a.next,a.next=i,i.next=c,r.lastEffect=i),i}function q0(){return Kt().memoizedState}function dh(i,r,a,c){var p=$n();Ue.flags|=i,p.memoizedState=Ra(1|r,{destroy:void 0},a,c===void 0?null:c)}function ph(i,r,a,c){var p=Kt();c=c===void 0?null:c;var g=p.memoizedState.inst;gt!==null&&c!==null&&rp(c,gt.memoizedState.deps)?p.memoizedState=Ra(r,g,a,c):(Ue.flags|=i,p.memoizedState=Ra(1|r,g,a,c))}function G0(i,r){dh(8390656,8,i,r)}function mp(i,r){ph(2048,8,i,r)}function PL(i){Ue.flags|=4;var r=Ue.updateQueue;if(r===null)r=ch(),Ue.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function K0(i){var r=Kt().memoizedState;return PL({ref:r,nextImpl:i}),function(){if((ot&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Y0(i,r){return ph(4,2,i,r)}function $0(i,r){return ph(4,4,i,r)}function X0(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Q0(i,r,a){a=a!=null?a.concat([i]):null,ph(4,4,X0.bind(null,r,i),a)}function gp(){}function Z0(i,r){var a=Kt();r=r===void 0?null:r;var c=a.memoizedState;return r!==null&&rp(r,c[1])?c[0]:(a.memoizedState=[i,r],i)}function W0(i,r){var a=Kt();r=r===void 0?null:r;var c=a.memoizedState;if(r!==null&&rp(r,c[1]))return c[0];if(c=i(),Oo){Ht(!0);try{i()}finally{Ht(!1)}}return a.memoizedState=[c,r],c}function vp(i,r,a){return a===void 0||(Ys&1073741824)!==0&&(Ye&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=Jb(),Ue.lanes|=i,Or|=i,a)}function J0(i,r,a,c){return di(a,r)?a:Ca.current!==null?(i=vp(i,a,c),di(i,r)||(en=!0),i):(Ys&42)===0||(Ys&1073741824)!==0&&(Ye&261930)===0?(en=!0,i.memoizedState=a):(i=Jb(),Ue.lanes|=i,Or|=i,r)}function eb(i,r,a,c,p){var g=ie.p;ie.p=g!==0&&8>g?g:8;var T=$.T,L={};$.T=L,Ep(i,!1,r,a);try{var q=p(),J=$.S;if(J!==null&&J(L,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var oe=ML(q,c);Jl(i,r,oe,bi(i))}else Jl(i,r,c,bi(i))}catch(le){Jl(i,r,{then:function(){},status:"rejected",reason:le},bi())}finally{ie.p=g,T!==null&&L.types!==null&&(T.types=L.types),$.T=T}}function kL(){}function yp(i,r,a,c){if(i.tag!==5)throw Error(s(476));var p=tb(i).queue;eb(i,p,r,ce,a===null?kL:function(){return nb(i),a(c)})}function tb(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:ce},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function nb(i){var r=tb(i);r.next===null&&(r=i.alternate.memoizedState),Jl(i,r.next.queue,{},bi())}function bp(){return Rn(gu)}function ib(){return Kt().memoizedState}function sb(){return Kt().memoizedState}function NL(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=bi();i=Ar(a);var c=xr(r,i,a);c!==null&&(ri(c,r,a),$l(c,r,a)),r={cache:$d()},i.payload=r;return}r=r.return}}function UL(i,r,a){var c=bi();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mh(i)?ob(r,a):(a=Nd(i,r,a,c),a!==null&&(ri(a,i,c),ab(a,r,c)))}function rb(i,r,a){var c=bi();Jl(i,r,a,c)}function Jl(i,r,a,c){var p={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mh(i))ob(r,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,L=g(T,a);if(p.hasEagerState=!0,p.eagerState=L,di(L,T))return Xc(i,r,p,0),Tt===null&&$c(),!1}catch{}if(a=Nd(i,r,p,c),a!==null)return ri(a,i,c),ab(a,r,c),!0}return!1}function Ep(i,r,a,c){if(c={lane:2,revertLane:Wp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},mh(i)){if(r)throw Error(s(479))}else r=Nd(i,a,c,2),r!==null&&ri(r,i,2)}function mh(i){var r=i.alternate;return i===Ue||r!==null&&r===Ue}function ob(i,r){Aa=lh=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function ab(i,r,a){if((a&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,a|=c,r.lanes=a,Nn(i,a)}}var eu={readContext:Rn,use:hh,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};eu.useEffectEvent=Nt;var lb={readContext:Rn,use:hh,useCallback:function(i,r){return $n().memoizedState=[i,r===void 0?null:r],i},useContext:Rn,useEffect:G0,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,dh(4194308,4,X0.bind(null,r,i),a)},useLayoutEffect:function(i,r){return dh(4194308,4,i,r)},useInsertionEffect:function(i,r){dh(4,2,i,r)},useMemo:function(i,r){var a=$n();r=r===void 0?null:r;var c=i();if(Oo){Ht(!0);try{i()}finally{Ht(!1)}}return a.memoizedState=[c,r],c},useReducer:function(i,r,a){var c=$n();if(a!==void 0){var p=a(r);if(Oo){Ht(!0);try{a(r)}finally{Ht(!1)}}}else p=r;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=UL.bind(null,Ue,i),[c.memoizedState,i]},useRef:function(i){var r=$n();return i={current:i},r.memoizedState=i},useState:function(i){i=dp(i);var r=i.queue,a=rb.bind(null,Ue,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:gp,useDeferredValue:function(i,r){var a=$n();return vp(a,i,r)},useTransition:function(){var i=dp(!1);return i=eb.bind(null,Ue,i.queue,!0,!1),$n().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var c=Ue,p=$n();if(Ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Tt===null)throw Error(s(349));(Ye&127)!==0||L0(c,r,a)}p.memoizedState=a;var g={value:a,getSnapshot:r};return p.queue=g,G0(D0.bind(null,c,g,i),[i]),c.flags|=2048,Ra(9,{destroy:void 0},M0.bind(null,c,g,a,r),null),a},useId:function(){var i=$n(),r=Tt.identifierPrefix;if(Ze){var a=xs,c=As;a=(c&~(1<<32-bt(c)-1)).toString(32)+a,r="_"+r+"R_"+a,a=uh++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=DL++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:bp,useFormState:B0,useActionState:B0,useOptimistic:function(i){var r=$n();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ep.bind(null,Ue,!0,a),a.dispatch=r,[i,r]},useMemoCache:cp,useCacheRefresh:function(){return $n().memoizedState=NL.bind(null,Ue)},useEffectEvent:function(i){var r=$n(),a={impl:i};return r.memoizedState=a,function(){if((ot&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},_p={readContext:Rn,use:hh,useCallback:Z0,useContext:Rn,useEffect:mp,useImperativeHandle:Q0,useInsertionEffect:Y0,useLayoutEffect:$0,useMemo:W0,useReducer:fh,useRef:q0,useState:function(){return fh($s)},useDebugValue:gp,useDeferredValue:function(i,r){var a=Kt();return J0(a,gt.memoizedState,i,r)},useTransition:function(){var i=fh($s)[0],r=Kt().memoizedState;return[typeof i=="boolean"?i:Wl(i),r]},useSyncExternalStore:R0,useId:ib,useHostTransitionStatus:bp,useFormState:z0,useActionState:z0,useOptimistic:function(i,r){var a=Kt();return V0(a,gt,i,r)},useMemoCache:cp,useCacheRefresh:sb};_p.useEffectEvent=K0;var ub={readContext:Rn,use:hh,useCallback:Z0,useContext:Rn,useEffect:mp,useImperativeHandle:Q0,useInsertionEffect:Y0,useLayoutEffect:$0,useMemo:W0,useReducer:fp,useRef:q0,useState:function(){return fp($s)},useDebugValue:gp,useDeferredValue:function(i,r){var a=Kt();return gt===null?vp(a,i,r):J0(a,gt.memoizedState,i,r)},useTransition:function(){var i=fp($s)[0],r=Kt().memoizedState;return[typeof i=="boolean"?i:Wl(i),r]},useSyncExternalStore:R0,useId:ib,useHostTransitionStatus:bp,useFormState:H0,useActionState:H0,useOptimistic:function(i,r){var a=Kt();return gt!==null?V0(a,gt,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:cp,useCacheRefresh:sb};ub.useEffectEvent=K0;function Tp(i,r,a,c){r=i.memoizedState,a=a(c,r),a=a==null?r:y({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Sp={enqueueSetState:function(i,r,a){i=i._reactInternals;var c=bi(),p=Ar(c);p.payload=r,a!=null&&(p.callback=a),r=xr(i,p,c),r!==null&&(ri(r,i,c),$l(r,i,c))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var c=bi(),p=Ar(c);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=xr(i,p,c),r!==null&&(ri(r,i,c),$l(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=bi(),c=Ar(a);c.tag=2,r!=null&&(c.callback=r),r=xr(i,c,a),r!==null&&(ri(r,i,a),$l(r,i,a))}};function cb(i,r,a,c,p,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):r.prototype&&r.prototype.isPureReactComponent?!Bl(a,c)||!Bl(p,g):!0}function hb(i,r,a,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==i&&Sp.enqueueReplaceState(r,r.state,null)}function Io(i,r){var a=r;if("ref"in r){a={};for(var c in r)c!=="ref"&&(a[c]=r[c])}if(i=i.defaultProps){a===r&&(a=y({},a));for(var p in i)a[p]===void 0&&(a[p]=i[p])}return a}function fb(i){Yc(i)}function db(i){console.error(i)}function pb(i){Yc(i)}function gh(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function mb(i,r,a){try{var c=i.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function wp(i,r,a){return a=Ar(a),a.tag=3,a.payload={element:null},a.callback=function(){gh(i,r)},a}function gb(i){return i=Ar(i),i.tag=3,i}function vb(i,r,a,c){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;i.payload=function(){return p(g)},i.callback=function(){mb(r,a,c)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){mb(r,a,c),typeof p!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var L=c.stack;this.componentDidCatch(c.value,{componentStack:L!==null?L:""})})}function jL(i,r,a,c,p){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=a.alternate,r!==null&&Ea(r,a,p,!0),a=mi.current,a!==null){switch(a.tag){case 31:case 13:return Pi===null?Rh():a.alternate===null&&Ut===0&&(Ut=3),a.flags&=-257,a.flags|=65536,a.lanes=p,c===ih?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([c]):r.add(c),Xp(i,c,p)),!1;case 22:return a.flags|=65536,c===ih?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([c]):a.add(c)),Xp(i,c,p)),!1}throw Error(s(435,a.tag))}return Xp(i,c,p),Rh(),!1}if(Ze)return r=mi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==Hd&&(i=Error(s(422),{cause:c}),Hl(Di(i,a)))):(c!==Hd&&(r=Error(s(423),{cause:c}),Hl(Di(r,a))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=Di(c,a),p=wp(i.stateNode,c,p),ep(i,p),Ut!==4&&(Ut=2)),!1;var g=Error(s(520),{cause:c});if(g=Di(g,a),lu===null?lu=[g]:lu.push(g),Ut!==4&&(Ut=2),r===null)return!0;c=Di(c,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=p&-p,a.lanes|=i,i=wp(a.stateNode,c,i),ep(a,i),!1;case 1:if(r=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ir===null||!Ir.has(g))))return a.flags|=65536,p&=-p,a.lanes|=p,p=gb(p),vb(p,i,a,c),ep(a,p),!1}a=a.return}while(a!==null);return!1}var Cp=Error(s(461)),en=!1;function Ln(i,r,a,c){r.child=i===null?_0(r,null,a,c):Do(r,i.child,a,c)}function yb(i,r,a,c,p){a=a.render;var g=r.ref;if("ref"in c){var T={};for(var L in c)L!=="ref"&&(T[L]=c[L])}else T=c;return xo(r),c=op(i,r,a,T,g,p),L=ap(),i!==null&&!en?(lp(i,r,p),Xs(i,r,p)):(Ze&&L&&zd(r),r.flags|=1,Ln(i,r,c,p),r.child)}function bb(i,r,a,c,p){if(i===null){var g=a.type;return typeof g=="function"&&!Ud(g)&&g.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=g,Eb(i,r,g,c,p)):(i=Zc(a.type,null,c,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Ip(i,p)){var T=g.memoizedProps;if(a=a.compare,a=a!==null?a:Bl,a(T,c)&&i.ref===r.ref)return Xs(i,r,p)}return r.flags|=1,i=Hs(g,c),i.ref=r.ref,i.return=r,r.child=i}function Eb(i,r,a,c,p){if(i!==null){var g=i.memoizedProps;if(Bl(g,c)&&i.ref===r.ref)if(en=!1,r.pendingProps=c=g,Ip(i,p))(i.flags&131072)!==0&&(en=!0);else return r.lanes=i.lanes,Xs(i,r,p)}return Ap(i,r,a,c,p)}function _b(i,r,a,c){var p=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|a:a,i!==null){for(c=r.child=i.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,r.child=null;return Tb(i,r,g,a,c)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&th(r,g!==null?g.cachePool:null),g!==null?w0(r,g):np(),C0(r);else return c=r.lanes=536870912,Tb(i,r,g!==null?g.baseLanes|a:a,a,c)}else g!==null?(th(r,g.cachePool),w0(r,g),Lr(),r.memoizedState=null):(i!==null&&th(r,null),np(),Lr());return Ln(i,r,p,a),r.child}function tu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Tb(i,r,a,c,p){var g=Qd();return g=g===null?null:{parent:Wt._currentValue,pool:g},r.memoizedState={baseLanes:a,cachePool:g},i!==null&&th(r,null),np(),C0(r),i!==null&&Ea(i,r,c,!0),r.childLanes=p,null}function vh(i,r){return r=bh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Sb(i,r,a){return Do(r,i.child,null,a),i=vh(r,r.pendingProps),i.flags|=2,gi(r),r.memoizedState=null,i}function BL(i,r,a){var c=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ze){if(c.mode==="hidden")return i=vh(r,c),r.lanes=536870912,tu(null,i);if(sp(r),(i=Ct)?(i=PE(i,Vi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:_r!==null?{id:As,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},a=o0(i),a.return=r,r.child=a,xn=r,Ct=null)):i=null,i===null)throw Sr(r);return r.lanes=536870912,null}return vh(r,c)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(sp(r),p)if(r.flags&256)r.flags&=-257,r=Sb(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(en||Ea(i,r,a,!1),p=(a&i.childLanes)!==0,en||p){if(c=Tt,c!==null&&(T=qn(c,a),T!==0&&T!==g.retryLane))throw g.retryLane=T,So(i,T),ri(c,i,T),Cp;Rh(),r=Sb(i,r,a)}else i=g.treeContext,Ct=ki(T.nextSibling),xn=r,Ze=!0,Tr=null,Vi=!1,i!==null&&u0(r,i),r=vh(r,c),r.flags|=4096;return r}return i=Hs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function yh(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function Ap(i,r,a,c,p){return xo(r),a=op(i,r,a,c,void 0,p),c=ap(),i!==null&&!en?(lp(i,r,p),Xs(i,r,p)):(Ze&&c&&zd(r),r.flags|=1,Ln(i,r,a,p),r.child)}function wb(i,r,a,c,p,g){return xo(r),r.updateQueue=null,a=x0(r,c,a,p),A0(i),c=ap(),i!==null&&!en?(lp(i,r,g),Xs(i,r,g)):(Ze&&c&&zd(r),r.flags|=1,Ln(i,r,a,g),r.child)}function Cb(i,r,a,c,p){if(xo(r),r.stateNode===null){var g=ga,T=a.contextType;typeof T=="object"&&T!==null&&(g=Rn(T)),g=new a(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Sp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Wd(r),T=a.contextType,g.context=typeof T=="object"&&T!==null?Rn(T):ga,g.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Tp(r,a,T,c),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Sp.enqueueReplaceState(g,g.state,null),Ql(r,c,g,p),Xl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var L=r.memoizedProps,q=Io(a,L);g.props=q;var J=g.context,oe=a.contextType;T=ga,typeof oe=="object"&&oe!==null&&(T=Rn(oe));var le=a.getDerivedStateFromProps;oe=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",L=r.pendingProps!==L,oe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(L||J!==T)&&hb(r,g,c,T),Cr=!1;var ee=r.memoizedState;g.state=ee,Ql(r,c,g,p),Xl(),J=r.memoizedState,L||ee!==J||Cr?(typeof le=="function"&&(Tp(r,a,le,c),J=r.memoizedState),(q=Cr||cb(r,a,q,c,ee,J,T))?(oe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=J),g.props=c,g.state=J,g.context=T,c=q):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Jd(i,r),T=r.memoizedProps,oe=Io(a,T),g.props=oe,le=r.pendingProps,ee=g.context,J=a.contextType,q=ga,typeof J=="object"&&J!==null&&(q=Rn(J)),L=a.getDerivedStateFromProps,(J=typeof L=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==le||ee!==q)&&hb(r,g,c,q),Cr=!1,ee=r.memoizedState,g.state=ee,Ql(r,c,g,p),Xl();var ne=r.memoizedState;T!==le||ee!==ne||Cr||i!==null&&i.dependencies!==null&&Jc(i.dependencies)?(typeof L=="function"&&(Tp(r,a,L,c),ne=r.memoizedState),(oe=Cr||cb(r,a,oe,c,ee,ne,q)||i!==null&&i.dependencies!==null&&Jc(i.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ne,q),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ne,q)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&ee===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&ee===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ne),g.props=c,g.state=ne,g.context=q,c=oe):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&ee===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&ee===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,yh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=Do(r,i.child,null,p),r.child=Do(r,null,a,p)):Ln(i,r,a,p),r.memoizedState=g.state,i=r.child):i=Xs(i,r,p),i}function Ab(i,r,a,c){return Co(),r.flags|=256,Ln(i,r,a,c),r.child}var xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rp(i){return{baseLanes:i,cachePool:m0()}}function Lp(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=yi),i}function xb(i,r,a){var c=r.pendingProps,p=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Gt.current&2)!==0),T&&(p=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ze){if(p?Rr(r):Lr(),(i=Ct)?(i=PE(i,Vi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:_r!==null?{id:As,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},a=o0(i),a.return=r,r.child=a,xn=r,Ct=null)):i=null,i===null)throw Sr(r);return hm(i)?r.lanes=32:r.lanes=536870912,null}var L=c.children;return c=c.fallback,p?(Lr(),p=r.mode,L=bh({mode:"hidden",children:L},p),c=wo(c,p,a,null),L.return=r,c.return=r,L.sibling=c,r.child=L,c=r.child,c.memoizedState=Rp(a),c.childLanes=Lp(i,T,a),r.memoizedState=xp,tu(null,c)):(Rr(r),Mp(r,L))}var q=i.memoizedState;if(q!==null&&(L=q.dehydrated,L!==null)){if(g)r.flags&256?(Rr(r),r.flags&=-257,r=Dp(i,r,a)):r.memoizedState!==null?(Lr(),r.child=i.child,r.flags|=128,r=null):(Lr(),L=c.fallback,p=r.mode,c=bh({mode:"visible",children:c.children},p),L=wo(L,p,a,null),L.flags|=2,c.return=r,L.return=r,c.sibling=L,r.child=c,Do(r,i.child,null,a),c=r.child,c.memoizedState=Rp(a),c.childLanes=Lp(i,T,a),r.memoizedState=xp,r=tu(null,c));else if(Rr(r),hm(L)){if(T=L.nextSibling&&L.nextSibling.dataset,T)var J=T.dgst;T=J,c=Error(s(419)),c.stack="",c.digest=T,Hl({value:c,source:null,stack:null}),r=Dp(i,r,a)}else if(en||Ea(i,r,a,!1),T=(a&i.childLanes)!==0,en||T){if(T=Tt,T!==null&&(c=qn(T,a),c!==0&&c!==q.retryLane))throw q.retryLane=c,So(i,c),ri(T,i,c),Cp;cm(L)||Rh(),r=Dp(i,r,a)}else cm(L)?(r.flags|=192,r.child=i.child,r=null):(i=q.treeContext,Ct=ki(L.nextSibling),xn=r,Ze=!0,Tr=null,Vi=!1,i!==null&&u0(r,i),r=Mp(r,c.children),r.flags|=4096);return r}return p?(Lr(),L=c.fallback,p=r.mode,q=i.child,J=q.sibling,c=Hs(q,{mode:"hidden",children:c.children}),c.subtreeFlags=q.subtreeFlags&65011712,J!==null?L=Hs(J,L):(L=wo(L,p,a,null),L.flags|=2),L.return=r,c.return=r,c.sibling=L,r.child=c,tu(null,c),c=r.child,L=i.child.memoizedState,L===null?L=Rp(a):(p=L.cachePool,p!==null?(q=Wt._currentValue,p=p.parent!==q?{parent:q,pool:q}:p):p=m0(),L={baseLanes:L.baseLanes|a,cachePool:p}),c.memoizedState=L,c.childLanes=Lp(i,T,a),r.memoizedState=xp,tu(i.child,c)):(Rr(r),a=i.child,i=a.sibling,a=Hs(a,{mode:"visible",children:c.children}),a.return=r,a.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=a,r.memoizedState=null,a)}function Mp(i,r){return r=bh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function bh(i,r){return i=pi(22,i,null,r),i.lanes=0,i}function Dp(i,r,a){return Do(r,i.child,null,a),i=Mp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Rb(i,r,a){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Kd(i.return,r,a)}function Op(i,r,a,c,p,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=a,T.tailMode=p,T.treeForkCount=g)}function Lb(i,r,a){var c=r.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var T=Gt.current,L=(T&2)!==0;if(L?(T=T&1|2,r.flags|=128):T&=1,se(Gt,T),Ln(i,r,c,a),c=Ze?Fl:0,!L&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Rb(i,a,r);else if(i.tag===19)Rb(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(a=r.child,p=null;a!==null;)i=a.alternate,i!==null&&ah(i)===null&&(p=a),a=a.sibling;a=p,a===null?(p=r.child,r.child=null):(p=a.sibling,a.sibling=null),Op(r,!1,p,a,g,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&ah(i)===null){r.child=p;break}i=p.sibling,p.sibling=a,a=p,p=i}Op(r,!0,a,null,g,c);break;case"together":Op(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Xs(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Or|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Ea(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Hs(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Hs(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function Ip(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Jc(i)))}function zL(i,r,a){switch(r.tag){case 3:Ee(r,r.stateNode.containerInfo),wr(r,Wt,i.memoizedState.cache),Co();break;case 27:case 5:de(r);break;case 4:Ee(r,r.stateNode.containerInfo);break;case 10:wr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,sp(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Rr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?xb(i,r,a):(Rr(r),i=Xs(i,r,a),i!==null?i.sibling:null);Rr(r);break;case 19:var p=(i.flags&128)!==0;if(c=(a&r.childLanes)!==0,c||(Ea(i,r,a,!1),c=(a&r.childLanes)!==0),p){if(c)return Lb(i,r,a);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),se(Gt,Gt.current),c)break;return null;case 22:return r.lanes=0,_b(i,r,a,r.pendingProps);case 24:wr(r,Wt,i.memoizedState.cache)}return Xs(i,r,a)}function Mb(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)en=!0;else{if(!Ip(i,a)&&(r.flags&128)===0)return en=!1,zL(i,r,a);en=(i.flags&131072)!==0}else en=!1,Ze&&(r.flags&1048576)!==0&&l0(r,Fl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Lo(r.elementType),r.type=i,typeof i=="function")Ud(i)?(c=Io(i,c),r.tag=1,r=Cb(null,r,i,c,a)):(r.tag=0,r=Ap(null,r,i,c,a));else{if(i!=null){var p=i.$$typeof;if(p===N){r.tag=11,r=yb(null,r,i,c,a);break e}else if(p===C){r.tag=14,r=bb(null,r,i,c,a);break e}}throw r=me(i)||i,Error(s(306,r,""))}}return r;case 0:return Ap(i,r,r.type,r.pendingProps,a);case 1:return c=r.type,p=Io(c,r.pendingProps),Cb(i,r,c,p,a);case 3:e:{if(Ee(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;p=g.element,Jd(i,r),Ql(r,c,null,a);var T=r.memoizedState;if(c=T.cache,wr(r,Wt,c),c!==g.cache&&Yd(r,[Wt],a,!0),Xl(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Ab(i,r,c,a);break e}else if(c!==p){p=Di(Error(s(424)),r),Hl(p),r=Ab(i,r,c,a);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Ct=ki(i.firstChild),xn=r,Ze=!0,Tr=null,Vi=!0,a=_0(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Co(),c===p){r=Xs(i,r,a);break e}Ln(i,r,c,a)}r=r.child}return r;case 26:return yh(i,r),i===null?(a=zE(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ze||(a=r.type,i=r.pendingProps,c=Ph(ve.current).createElement(a),c[Xt]=r,c[yn]=i,Mn(c,a,i),Qt(c),r.stateNode=c):r.memoizedState=zE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return de(r),i===null&&Ze&&(c=r.stateNode=UE(r.type,r.pendingProps,ve.current),xn=r,Vi=!0,p=Ct,Nr(r.type)?(fm=p,Ct=ki(c.firstChild)):Ct=p),Ln(i,r,r.pendingProps.children,a),yh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ze&&((p=c=Ct)&&(c=vM(c,r.type,r.pendingProps,Vi),c!==null?(r.stateNode=c,xn=r,Ct=ki(c.firstChild),Vi=!1,p=!0):p=!1),p||Sr(r)),de(r),p=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,am(p,g)?c=null:T!==null&&am(p,T)&&(r.flags|=32),r.memoizedState!==null&&(p=op(i,r,OL,null,null,a),gu._currentValue=p),yh(i,r),Ln(i,r,c,a),r.child;case 6:return i===null&&Ze&&((i=a=Ct)&&(a=yM(a,r.pendingProps,Vi),a!==null?(r.stateNode=a,xn=r,Ct=null,i=!0):i=!1),i||Sr(r)),null;case 13:return xb(i,r,a);case 4:return Ee(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Do(r,null,c,a):Ln(i,r,c,a),r.child;case 11:return yb(i,r,r.type,r.pendingProps,a);case 7:return Ln(i,r,r.pendingProps,a),r.child;case 8:return Ln(i,r,r.pendingProps.children,a),r.child;case 12:return Ln(i,r,r.pendingProps.children,a),r.child;case 10:return c=r.pendingProps,wr(r,r.type,c.value),Ln(i,r,c.children,a),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,xo(r),p=Rn(p),c=c(p),r.flags|=1,Ln(i,r,c,a),r.child;case 14:return bb(i,r,r.type,r.pendingProps,a);case 15:return Eb(i,r,r.type,r.pendingProps,a);case 19:return Lb(i,r,a);case 31:return BL(i,r,a);case 22:return _b(i,r,a,r.pendingProps);case 24:return xo(r),c=Rn(Wt),i===null?(p=Qd(),p===null&&(p=Tt,g=$d(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=a),p=g),r.memoizedState={parent:c,cache:p},Wd(r),wr(r,Wt,p)):((i.lanes&a)!==0&&(Jd(i,r),Ql(r,null,null,a),Xl()),p=i.memoizedState,g=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),wr(r,Wt,c)):(c=g.cache,wr(r,Wt,c),c!==p.cache&&Yd(r,[Wt],a,!0))),Ln(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Qs(i){i.flags|=4}function Vp(i,r,a,c,p){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(iE())i.flags|=8192;else throw Mo=ih,Zd}else i.flags&=-16777217}function Db(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!KE(r))if(iE())i.flags|=8192;else throw Mo=ih,Zd}function Eh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?It():536870912,i.lanes|=r,Oa|=r)}function nu(i,r){if(!Ze)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function At(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,c=0;if(r)for(var p=i.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=a,r}function FL(i,r,a){var c=r.pendingProps;switch(Fd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(r),null;case 1:return At(r),null;case 3:return a=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Ks(Wt),Re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(ba(r)?Qs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,qd())),At(r),null;case 26:var p=r.type,g=r.memoizedState;return i===null?(Qs(r),g!==null?(At(r),Db(r,g)):(At(r),Vp(r,p,null,c,a))):g?g!==i.memoizedState?(Qs(r),At(r),Db(r,g)):(At(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Qs(r),At(r),Vp(r,p,i,c,a)),null;case 27:if(Ie(r),a=ve.current,p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Qs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return At(r),null}i=fe.current,ba(r)?c0(r):(i=UE(p,c,a),r.stateNode=i,Qs(r))}return At(r),null;case 5:if(Ie(r),p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Qs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return At(r),null}if(g=fe.current,ba(r))c0(r);else{var T=Ph(ve.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(p,{is:c.is}):T.createElement(p)}}g[Xt]=r,g[yn]=c;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(Mn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Qs(r)}}return At(r),Vp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Qs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=ve.current,ba(r)){if(i=r.stateNode,a=r.memoizedProps,c=null,p=xn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Xt]=r,i=!!(i.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||xE(i.nodeValue,a)),i||Sr(r,!0)}else i=Ph(i).createTextNode(c),i[Xt]=r,r.stateNode=i}return At(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(c=ba(r),a!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Xt]=r}else Co(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),i=!1}else a=qd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(gi(r),r):(gi(r),null);if((r.flags&128)!==0)throw Error(s(558))}return At(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=ba(r),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Xt]=r}else Co(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),p=!1}else p=qd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(gi(r),r):(gi(r),null)}return gi(r),(r.flags&128)!==0?(r.lanes=a,r):(a=c!==null,i=i!==null&&i.memoizedState!==null,a&&(c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),Eh(r,r.updateQueue),At(r),null);case 4:return Re(),i===null&&nm(r.stateNode.containerInfo),At(r),null;case 10:return Ks(r.type),At(r),null;case 19:if(W(Gt),c=r.memoizedState,c===null)return At(r),null;if(p=(r.flags&128)!==0,g=c.rendering,g===null)if(p)nu(c,!1);else{if(Ut!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=ah(i),g!==null){for(r.flags|=128,nu(c,!1),i=g.updateQueue,r.updateQueue=i,Eh(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)r0(a,i),a=a.sibling;return se(Gt,Gt.current&1|2),Ze&&qs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Ft()>Ch&&(r.flags|=128,p=!0,nu(c,!1),r.lanes=4194304)}else{if(!p)if(i=ah(g),i!==null){if(r.flags|=128,p=!0,i=i.updateQueue,r.updateQueue=i,Eh(r,i),nu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Ze)return At(r),null}else 2*Ft()-c.renderingStartTime>Ch&&a!==536870912&&(r.flags|=128,p=!0,nu(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Ft(),i.sibling=null,a=Gt.current,se(Gt,p?a&1|2:a&1),Ze&&qs(r,c.treeForkCount),i):(At(r),null);case 22:case 23:return gi(r),ip(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(a&536870912)!==0&&(r.flags&128)===0&&(At(r),r.subtreeFlags&6&&(r.flags|=8192)):At(r),a=r.updateQueue,a!==null&&Eh(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==a&&(r.flags|=2048),i!==null&&W(Ro),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ks(Wt),At(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function HL(i,r){switch(Fd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ks(Wt),Re(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ie(r),null;case 31:if(r.memoizedState!==null){if(gi(r),r.alternate===null)throw Error(s(340));Co()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(gi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Co()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return W(Gt),null;case 4:return Re(),null;case 10:return Ks(r.type),null;case 22:case 23:return gi(r),ip(),i!==null&&W(Ro),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ks(Wt),null;case 25:return null;default:return null}}function Ob(i,r){switch(Fd(r),r.tag){case 3:Ks(Wt),Re();break;case 26:case 27:case 5:Ie(r);break;case 4:Re();break;case 31:r.memoizedState!==null&&gi(r);break;case 13:gi(r);break;case 19:W(Gt);break;case 10:Ks(r.type);break;case 22:case 23:gi(r),ip(),i!==null&&W(Ro);break;case 24:Ks(Wt)}}function iu(i,r){try{var a=r.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var p=c.next;a=p;do{if((a.tag&i)===i){c=void 0;var g=a.create,T=a.inst;c=g(),T.destroy=c}a=a.next}while(a!==p)}}catch(L){pt(r,r.return,L)}}function Mr(i,r,a){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&i)===i){var T=c.inst,L=T.destroy;if(L!==void 0){T.destroy=void 0,p=r;var q=a,J=L;try{J()}catch(oe){pt(p,q,oe)}}}c=c.next}while(c!==g)}}catch(oe){pt(r,r.return,oe)}}function Ib(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{S0(r,a)}catch(c){pt(i,i.return,c)}}}function Vb(i,r,a){a.props=Io(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(c){pt(i,r,c)}}function su(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof a=="function"?i.refCleanup=a(c):a.current=c}}catch(p){pt(i,r,p)}}function Rs(i,r){var a=i.ref,c=i.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(p){pt(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){pt(i,r,p)}else a.current=null}function Pb(i){var r=i.type,a=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(p){pt(i,i.return,p)}}function Pp(i,r,a){try{var c=i.stateNode;hM(c,i.type,a,r),c[yn]=r}catch(p){pt(i,i.return,p)}}function kb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Nr(i.type)||i.tag===4}function kp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||kb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Nr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Np(i,r,a){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Xi));else if(c!==4&&(c===27&&Nr(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(Np(i,r,a),i=i.sibling;i!==null;)Np(i,r,a),i=i.sibling}function _h(i,r,a){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(c!==4&&(c===27&&Nr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(_h(i,r,a),i=i.sibling;i!==null;)_h(i,r,a),i=i.sibling}function Nb(i){var r=i.stateNode,a=i.memoizedProps;try{for(var c=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Mn(r,c,a),r[Xt]=i,r[yn]=a}catch(g){pt(i,i.return,g)}}var Zs=!1,tn=!1,Up=!1,Ub=typeof WeakSet=="function"?WeakSet:Set,En=null;function qL(i,r){if(i=i.containerInfo,rm=Fh,i=Qy(i),Dd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var T=0,L=-1,q=-1,J=0,oe=0,le=i,ee=null;t:for(;;){for(var ne;le!==a||p!==0&&le.nodeType!==3||(L=T+p),le!==g||c!==0&&le.nodeType!==3||(q=T+c),le.nodeType===3&&(T+=le.nodeValue.length),(ne=le.firstChild)!==null;)ee=le,le=ne;for(;;){if(le===i)break t;if(ee===a&&++J===p&&(L=T),ee===g&&++oe===c&&(q=T),(ne=le.nextSibling)!==null)break;le=ee,ee=le.parentNode}le=ne}a=L===-1||q===-1?null:{start:L,end:q}}else a=null}a=a||{start:0,end:0}}else a=null;for(om={focusedElem:i,selectionRange:a},Fh=!1,En=r;En!==null;)if(r=En,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,En=i;else for(;En!==null;){switch(r=En,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)p=i[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,a=r,p=g.memoizedProps,g=g.memoizedState,c=a.stateNode;try{var Se=Io(a.type,p);i=c.getSnapshotBeforeUpdate(Se,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(De){pt(a,a.return,De)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)um(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":um(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,En=i;break}En=r.return}}function jb(i,r,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Js(i,a),c&4&&iu(5,a);break;case 1:if(Js(i,a),c&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(T){pt(a,a.return,T)}else{var p=Io(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){pt(a,a.return,T)}}c&64&&Ib(a),c&512&&su(a,a.return);break;case 3:if(Js(i,a),c&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{S0(i,r)}catch(T){pt(a,a.return,T)}}break;case 27:r===null&&c&4&&Nb(a);case 26:case 5:Js(i,a),r===null&&c&4&&Pb(a),c&512&&su(a,a.return);break;case 12:Js(i,a);break;case 31:Js(i,a),c&4&&Fb(i,a);break;case 13:Js(i,a),c&4&&Hb(i,a),c&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=JL.bind(null,a),bM(i,a))));break;case 22:if(c=a.memoizedState!==null||Zs,!c){r=r!==null&&r.memoizedState!==null||tn,p=Zs;var g=tn;Zs=c,(tn=r)&&!g?er(i,a,(a.subtreeFlags&8772)!==0):Js(i,a),Zs=p,tn=g}break;case 30:break;default:Js(i,a)}}function Bb(i){var r=i.alternate;r!==null&&(i.alternate=null,Bb(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&na(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Dt=null,ti=!1;function Ws(i,r,a){for(a=a.child;a!==null;)zb(i,r,a),a=a.sibling}function zb(i,r,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(vn,a)}catch{}switch(a.tag){case 26:tn||Rs(a,r),Ws(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tn||Rs(a,r);var c=Dt,p=ti;Nr(a.type)&&(Dt=a.stateNode,ti=!1),Ws(i,r,a),du(a.stateNode),Dt=c,ti=p;break;case 5:tn||Rs(a,r);case 6:if(c=Dt,p=ti,Dt=null,Ws(i,r,a),Dt=c,ti=p,Dt!==null)if(ti)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(a.stateNode)}catch(g){pt(a,r,g)}else try{Dt.removeChild(a.stateNode)}catch(g){pt(a,r,g)}break;case 18:Dt!==null&&(ti?(i=Dt,IE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Ba(i)):IE(Dt,a.stateNode));break;case 4:c=Dt,p=ti,Dt=a.stateNode.containerInfo,ti=!0,Ws(i,r,a),Dt=c,ti=p;break;case 0:case 11:case 14:case 15:Mr(2,a,r),tn||Mr(4,a,r),Ws(i,r,a);break;case 1:tn||(Rs(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Vb(a,r,c)),Ws(i,r,a);break;case 21:Ws(i,r,a);break;case 22:tn=(c=tn)||a.memoizedState!==null,Ws(i,r,a),tn=c;break;default:Ws(i,r,a)}}function Fb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ba(i)}catch(a){pt(r,r.return,a)}}}function Hb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ba(i)}catch(a){pt(r,r.return,a)}}function GL(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Ub),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Ub),r;default:throw Error(s(435,i.tag))}}function Th(i,r){var a=GL(i);r.forEach(function(c){if(!a.has(c)){a.add(c);var p=eM.bind(null,i,c);c.then(p,p)}})}function ni(i,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c],g=i,T=r,L=T;e:for(;L!==null;){switch(L.tag){case 27:if(Nr(L.type)){Dt=L.stateNode,ti=!1;break e}break;case 5:Dt=L.stateNode,ti=!1;break e;case 3:case 4:Dt=L.stateNode.containerInfo,ti=!0;break e}L=L.return}if(Dt===null)throw Error(s(160));zb(g,T,p),Dt=null,ti=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)qb(r,i),r=r.sibling}var ts=null;function qb(i,r){var a=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ni(r,i),ii(i),c&4&&(Mr(3,i,i.return),iu(3,i),Mr(5,i,i.return));break;case 1:ni(r,i),ii(i),c&512&&(tn||a===null||Rs(a,a.return)),c&64&&Zs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var p=ts;if(ni(r,i),ii(i),c&512&&(tn||a===null||Rs(a,a.return)),c&4){var g=a!==null?a.memoizedState:null;if(c=i.memoizedState,a===null)if(c===null)if(i.stateNode===null){e:{c=i.type,a=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ps]||g[Xt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Mn(g,c,a),g[Xt]=i,Qt(g),c=g;break e;case"link":var T=qE("link","href",p).get(c+(a.href||""));if(T){for(var L=0;L<T.length;L++)if(g=T[L],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(L,1);break t}}g=p.createElement(c),Mn(g,c,a),p.head.appendChild(g);break;case"meta":if(T=qE("meta","content",p).get(c+(a.content||""))){for(L=0;L<T.length;L++)if(g=T[L],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(L,1);break t}}g=p.createElement(c),Mn(g,c,a),p.head.appendChild(g);break;default:throw Error(s(468,c))}g[Xt]=i,Qt(g),c=g}i.stateNode=c}else GE(p,i.type,i.stateNode);else i.stateNode=HE(p,c,i.memoizedProps);else g!==c?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,c===null?GE(p,i.type,i.stateNode):HE(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Pp(i,i.memoizedProps,a.memoizedProps)}break;case 27:ni(r,i),ii(i),c&512&&(tn||a===null||Rs(a,a.return)),a!==null&&c&4&&Pp(i,i.memoizedProps,a.memoizedProps);break;case 5:if(ni(r,i),ii(i),c&512&&(tn||a===null||Rs(a,a.return)),i.flags&32){p=i.stateNode;try{ei(p,"")}catch(Se){pt(i,i.return,Se)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,Pp(i,p,a!==null?a.memoizedProps:p)),c&1024&&(Up=!0);break;case 6:if(ni(r,i),ii(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,a=i.stateNode;try{a.nodeValue=c}catch(Se){pt(i,i.return,Se)}}break;case 3:if(Uh=null,p=ts,ts=kh(r.containerInfo),ni(r,i),ts=p,ii(i),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ba(r.containerInfo)}catch(Se){pt(i,i.return,Se)}Up&&(Up=!1,Gb(i));break;case 4:c=ts,ts=kh(i.stateNode.containerInfo),ni(r,i),ii(i),ts=c;break;case 12:ni(r,i),ii(i);break;case 31:ni(r,i),ii(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Th(i,c)));break;case 13:ni(r,i),ii(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wh=Ft()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Th(i,c)));break;case 22:p=i.memoizedState!==null;var q=a!==null&&a.memoizedState!==null,J=Zs,oe=tn;if(Zs=J||p,tn=oe||q,ni(r,i),tn=oe,Zs=J,ii(i),c&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(a===null||q||Zs||tn||Vo(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){q=a=r;try{if(g=q.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{L=q.stateNode;var le=q.memoizedProps.style,ee=le!=null&&le.hasOwnProperty("display")?le.display:null;L.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Se){pt(q,q.return,Se)}}}else if(r.tag===6){if(a===null){q=r;try{q.stateNode.nodeValue=p?"":q.memoizedProps}catch(Se){pt(q,q.return,Se)}}}else if(r.tag===18){if(a===null){q=r;try{var ne=q.stateNode;p?VE(ne,!0):VE(q.stateNode,!1)}catch(Se){pt(q,q.return,Se)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Th(i,a))));break;case 19:ni(r,i),ii(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Th(i,c)));break;case 30:break;case 21:break;default:ni(r,i),ii(i)}}function ii(i){var r=i.flags;if(r&2){try{for(var a,c=i.return;c!==null;){if(kb(c)){a=c;break}c=c.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var p=a.stateNode,g=kp(i);_h(i,g,p);break;case 5:var T=a.stateNode;a.flags&32&&(ei(T,""),a.flags&=-33);var L=kp(i);_h(i,L,T);break;case 3:case 4:var q=a.stateNode.containerInfo,J=kp(i);Np(i,J,q);break;default:throw Error(s(161))}}catch(oe){pt(i,i.return,oe)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Gb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Gb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Js(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)jb(i,r.alternate,r),r=r.sibling}function Vo(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Mr(4,r,r.return),Vo(r);break;case 1:Rs(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Vb(r,r.return,a),Vo(r);break;case 27:du(r.stateNode);case 26:case 5:Rs(r,r.return),Vo(r);break;case 22:r.memoizedState===null&&Vo(r);break;case 30:Vo(r);break;default:Vo(r)}i=i.sibling}}function er(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:er(p,g,a),iu(4,g);break;case 1:if(er(p,g,a),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){pt(c,c.return,J)}if(c=g,p=c.updateQueue,p!==null){var L=c.stateNode;try{var q=p.shared.hiddenCallbacks;if(q!==null)for(p.shared.hiddenCallbacks=null,p=0;p<q.length;p++)T0(q[p],L)}catch(J){pt(c,c.return,J)}}a&&T&64&&Ib(g),su(g,g.return);break;case 27:Nb(g);case 26:case 5:er(p,g,a),a&&c===null&&T&4&&Pb(g),su(g,g.return);break;case 12:er(p,g,a);break;case 31:er(p,g,a),a&&T&4&&Fb(p,g);break;case 13:er(p,g,a),a&&T&4&&Hb(p,g);break;case 22:g.memoizedState===null&&er(p,g,a),su(g,g.return);break;case 30:break;default:er(p,g,a)}r=r.sibling}}function jp(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&ql(a))}function Bp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ql(i))}function ns(i,r,a,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Kb(i,r,a,c),r=r.sibling}function Kb(i,r,a,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:ns(i,r,a,c),p&2048&&iu(9,r);break;case 1:ns(i,r,a,c);break;case 3:ns(i,r,a,c),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ql(i)));break;case 12:if(p&2048){ns(i,r,a,c),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,L=g.onPostCommit;typeof L=="function"&&L(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){pt(r,r.return,q)}}else ns(i,r,a,c);break;case 31:ns(i,r,a,c);break;case 13:ns(i,r,a,c);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?ns(i,r,a,c):ru(i,r):g._visibility&2?ns(i,r,a,c):(g._visibility|=2,La(i,r,a,c,(r.subtreeFlags&10256)!==0||!1)),p&2048&&jp(T,r);break;case 24:ns(i,r,a,c),p&2048&&Bp(r.alternate,r);break;default:ns(i,r,a,c)}}function La(i,r,a,c,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,L=a,q=c,J=T.flags;switch(T.tag){case 0:case 11:case 15:La(g,T,L,q,p),iu(8,T);break;case 23:break;case 22:var oe=T.stateNode;T.memoizedState!==null?oe._visibility&2?La(g,T,L,q,p):ru(g,T):(oe._visibility|=2,La(g,T,L,q,p)),p&&J&2048&&jp(T.alternate,T);break;case 24:La(g,T,L,q,p),p&&J&2048&&Bp(T.alternate,T);break;default:La(g,T,L,q,p)}r=r.sibling}}function ru(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,c=r,p=c.flags;switch(c.tag){case 22:ru(a,c),p&2048&&jp(c.alternate,c);break;case 24:ru(a,c),p&2048&&Bp(c.alternate,c);break;default:ru(a,c)}r=r.sibling}}var ou=8192;function Ma(i,r,a){if(i.subtreeFlags&ou)for(i=i.child;i!==null;)Yb(i,r,a),i=i.sibling}function Yb(i,r,a){switch(i.tag){case 26:Ma(i,r,a),i.flags&ou&&i.memoizedState!==null&&DM(a,ts,i.memoizedState,i.memoizedProps);break;case 5:Ma(i,r,a);break;case 3:case 4:var c=ts;ts=kh(i.stateNode.containerInfo),Ma(i,r,a),ts=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=ou,ou=16777216,Ma(i,r,a),ou=c):Ma(i,r,a));break;default:Ma(i,r,a)}}function $b(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function au(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];En=c,Qb(c,i)}$b(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xb(i),i=i.sibling}function Xb(i){switch(i.tag){case 0:case 11:case 15:au(i),i.flags&2048&&Mr(9,i,i.return);break;case 3:au(i);break;case 12:au(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Sh(i)):au(i);break;default:au(i)}}function Sh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];En=c,Qb(c,i)}$b(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Mr(8,r,r.return),Sh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Sh(r));break;default:Sh(r)}i=i.sibling}}function Qb(i,r){for(;En!==null;){var a=En;switch(a.tag){case 0:case 11:case 15:Mr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ql(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,En=c;else e:for(a=i;En!==null;){c=En;var p=c.sibling,g=c.return;if(Bb(c),c===a){En=null;break e}if(p!==null){p.return=g,En=p;break e}En=g}}}var KL={getCacheForType:function(i){var r=Rn(Wt),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return Rn(Wt).controller.signal}},YL=typeof WeakMap=="function"?WeakMap:Map,ot=0,Tt=null,qe=null,Ye=0,dt=0,vi=null,Dr=!1,Da=!1,zp=!1,tr=0,Ut=0,Or=0,Po=0,Fp=0,yi=0,Oa=0,lu=null,si=null,Hp=!1,wh=0,Zb=0,Ch=1/0,Ah=null,Ir=null,an=0,Vr=null,Ia=null,nr=0,qp=0,Gp=null,Wb=null,uu=0,Kp=null;function bi(){return(ot&2)!==0&&Ye!==0?Ye&-Ye:$.T!==null?Wp():ci()}function Jb(){if(yi===0)if((Ye&536870912)===0||Ze){var i=Ci;Ci<<=1,(Ci&3932160)===0&&(Ci=262144),yi=i}else yi=536870912;return i=mi.current,i!==null&&(i.flags|=32),yi}function ri(i,r,a){(i===Tt&&(dt===2||dt===9)||i.cancelPendingCommit!==null)&&(Va(i,0),Pr(i,Ye,yi,!1)),kn(i,a),((ot&2)===0||i!==Tt)&&(i===Tt&&((ot&2)===0&&(Po|=a),Ut===4&&Pr(i,Ye,yi,!1)),Ls(i))}function eE(i,r,a){if((ot&6)!==0)throw Error(s(327));var c=!a&&(r&127)===0&&(r&i.expiredLanes)===0||wt(i,r),p=c?QL(i,r):$p(i,r,!0),g=c;do{if(p===0){Da&&!c&&Pr(i,r,0,!1);break}else{if(a=i.current.alternate,g&&!$L(a)){p=$p(i,r,!1),g=!1;continue}if(p===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var L=i;p=lu;var q=L.current.memoizedState.isDehydrated;if(q&&(Va(L,T).flags|=256),T=$p(L,T,!1),T!==2){if(zp&&!q){L.errorRecoveryDisabledLanes|=g,Po|=g,p=4;break e}g=si,si=p,g!==null&&(si===null?si=g:si.push.apply(si,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){Va(i,0),Pr(i,r,0,!0);break}e:{switch(c=i,g=p,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Pr(c,r,yi,!Dr);break e;case 2:si=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=wh+300-Ft(),10<p)){if(Pr(c,r,yi,!Dr),Et(c,0,!0)!==0)break e;nr=r,c.timeoutHandle=DE(tE.bind(null,c,a,si,Ah,Hp,r,yi,Po,Oa,Dr,g,"Throttled",-0,0),p);break e}tE(c,a,si,Ah,Hp,r,yi,Po,Oa,Dr,g,null,-0,0)}}break}while(!0);Ls(i)}function tE(i,r,a,c,p,g,T,L,q,J,oe,le,ee,ne){if(i.timeoutHandle=-1,le=r.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xi},Yb(r,g,le);var Se=(g&62914560)===g?wh-Ft():(g&4194048)===g?Zb-Ft():0;if(Se=OM(le,Se),Se!==null){nr=g,i.cancelPendingCommit=Se(uE.bind(null,i,r,g,a,c,p,T,L,q,oe,le,null,ee,ne)),Pr(i,g,T,!J);return}}uE(i,r,g,a,c,p,T,L,q)}function $L(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var p=a[c],g=p.getSnapshot;p=p.value;try{if(!di(g(),p))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Pr(i,r,a,c){r&=~Fp,r&=~Po,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var p=r;0<p;){var g=31-bt(p),T=1<<g;c[g]=-1,p&=~T}a!==0&&xe(i,a,r)}function xh(){return(ot&6)===0?(cu(0),!1):!0}function Yp(){if(qe!==null){if(dt===0)var i=qe.return;else i=qe,Gs=Ao=null,up(i),wa=null,Kl=0,i=qe;for(;i!==null;)Ob(i.alternate,i),i=i.return;qe=null}}function Va(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,pM(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),nr=0,Yp(),Tt=i,qe=a=Hs(i.current,null),Ye=r,dt=0,vi=null,Dr=!1,Da=wt(i,r),zp=!1,Oa=yi=Fp=Po=Or=Ut=0,si=lu=null,Hp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var p=31-bt(c),g=1<<p;r|=i[p],c&=~g}return tr=r,$c(),a}function nE(i,r){Ue=null,$.H=eu,r===Sa||r===nh?(r=y0(),dt=3):r===Zd?(r=y0(),dt=4):dt=r===Cp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vi=r,qe===null&&(Ut=1,gh(i,Di(r,i.current)))}function iE(){var i=mi.current;return i===null?!0:(Ye&4194048)===Ye?Pi===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?i===Pi:!1}function sE(){var i=$.H;return $.H=eu,i===null?eu:i}function rE(){var i=$.A;return $.A=KL,i}function Rh(){Ut=4,Dr||(Ye&4194048)!==Ye&&mi.current!==null||(Da=!0),(Or&134217727)===0&&(Po&134217727)===0||Tt===null||Pr(Tt,Ye,yi,!1)}function $p(i,r,a){var c=ot;ot|=2;var p=sE(),g=rE();(Tt!==i||Ye!==r)&&(Ah=null,Va(i,r)),r=!1;var T=Ut;e:do try{if(dt!==0&&qe!==null){var L=qe,q=vi;switch(dt){case 8:Yp(),T=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(r=!0);var J=dt;if(dt=0,vi=null,Pa(i,L,q,J),a&&Da){T=0;break e}break;default:J=dt,dt=0,vi=null,Pa(i,L,q,J)}}XL(),T=Ut;break}catch(oe){nE(i,oe)}while(!0);return r&&i.shellSuspendCounter++,Gs=Ao=null,ot=c,$.H=p,$.A=g,qe===null&&(Tt=null,Ye=0,$c()),T}function XL(){for(;qe!==null;)oE(qe)}function QL(i,r){var a=ot;ot|=2;var c=sE(),p=rE();Tt!==i||Ye!==r?(Ah=null,Ch=Ft()+500,Va(i,r)):Da=wt(i,r);e:do try{if(dt!==0&&qe!==null){r=qe;var g=vi;t:switch(dt){case 1:dt=0,vi=null,Pa(i,r,g,1);break;case 2:case 9:if(g0(g)){dt=0,vi=null,aE(r);break}r=function(){dt!==2&&dt!==9||Tt!==i||(dt=7),Ls(i)},g.then(r,r);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:g0(g)?(dt=0,vi=null,aE(r)):(dt=0,vi=null,Pa(i,r,g,7));break;case 5:var T=null;switch(qe.tag){case 26:T=qe.memoizedState;case 5:case 27:var L=qe;if(T?KE(T):L.stateNode.complete){dt=0,vi=null;var q=L.sibling;if(q!==null)qe=q;else{var J=L.return;J!==null?(qe=J,Lh(J)):qe=null}break t}}dt=0,vi=null,Pa(i,r,g,5);break;case 6:dt=0,vi=null,Pa(i,r,g,6);break;case 8:Yp(),Ut=6;break e;default:throw Error(s(462))}}ZL();break}catch(oe){nE(i,oe)}while(!0);return Gs=Ao=null,$.H=c,$.A=p,ot=a,qe!==null?0:(Tt=null,Ye=0,$c(),Ut)}function ZL(){for(;qe!==null&&!Ki();)oE(qe)}function oE(i){var r=Mb(i.alternate,i,tr);i.memoizedProps=i.pendingProps,r===null?Lh(i):qe=r}function aE(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=wb(a,r,r.pendingProps,r.type,void 0,Ye);break;case 11:r=wb(a,r,r.pendingProps,r.type.render,r.ref,Ye);break;case 5:up(r);default:Ob(a,r),r=qe=r0(r,tr),r=Mb(a,r,tr)}i.memoizedProps=i.pendingProps,r===null?Lh(i):qe=r}function Pa(i,r,a,c){Gs=Ao=null,up(r),wa=null,Kl=0;var p=r.return;try{if(jL(i,p,r,a,Ye)){Ut=1,gh(i,Di(a,i.current)),qe=null;return}}catch(g){if(p!==null)throw qe=p,g;Ut=1,gh(i,Di(a,i.current)),qe=null;return}r.flags&32768?(Ze||c===1?i=!0:Da||(Ye&536870912)!==0?i=!1:(Dr=i=!0,(c===2||c===9||c===3||c===6)&&(c=mi.current,c!==null&&c.tag===13&&(c.flags|=16384))),lE(r,i)):Lh(r)}function Lh(i){var r=i;do{if((r.flags&32768)!==0){lE(r,Dr);return}i=r.return;var a=FL(r.alternate,r,tr);if(a!==null){qe=a;return}if(r=r.sibling,r!==null){qe=r;return}qe=r=i}while(r!==null);Ut===0&&(Ut=5)}function lE(i,r){do{var a=HL(i.alternate,i);if(a!==null){a.flags&=32767,qe=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){qe=i;return}qe=i=a}while(i!==null);Ut=6,qe=null}function uE(i,r,a,c,p,g,T,L,q){i.cancelPendingCommit=null;do Mh();while(an!==0);if((ot&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=kd,_t(i,a,g,T,L,q),i===Tt&&(qe=Tt=null,Ye=0),Ia=r,Vr=i,nr=a,qp=g,Gp=p,Wb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,tM(mn,function(){return pE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,p=ie.p,ie.p=2,T=ot,ot|=4;try{qL(i,r,a)}finally{ot=T,ie.p=p,$.T=c}}an=1,cE(),hE(),fE()}}function cE(){if(an===1){an=0;var i=Vr,r=Ia,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var c=ie.p;ie.p=2;var p=ot;ot|=4;try{qb(r,i);var g=om,T=Qy(i.containerInfo),L=g.focusedElem,q=g.selectionRange;if(T!==L&&L&&L.ownerDocument&&Xy(L.ownerDocument.documentElement,L)){if(q!==null&&Dd(L)){var J=q.start,oe=q.end;if(oe===void 0&&(oe=J),"selectionStart"in L)L.selectionStart=J,L.selectionEnd=Math.min(oe,L.value.length);else{var le=L.ownerDocument||document,ee=le&&le.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),Se=L.textContent.length,De=Math.min(q.start,Se),yt=q.end===void 0?De:Math.min(q.end,Se);!ne.extend&&De>yt&&(T=yt,yt=De,De=T);var Y=$y(L,De),G=$y(L,yt);if(Y&&G&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Z=le.createRange();Z.setStart(Y.node,Y.offset),ne.removeAllRanges(),De>yt?(ne.addRange(Z),ne.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),ne.addRange(Z))}}}}for(le=[],ne=L;ne=ne.parentNode;)ne.nodeType===1&&le.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<le.length;L++){var ae=le[L];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Fh=!!rm,om=rm=null}finally{ot=p,ie.p=c,$.T=a}}i.current=r,an=2}}function hE(){if(an===2){an=0;var i=Vr,r=Ia,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var c=ie.p;ie.p=2;var p=ot;ot|=4;try{jb(i,r.alternate,r)}finally{ot=p,ie.p=c,$.T=a}}an=3}}function fE(){if(an===4||an===3){an=0,Ti();var i=Vr,r=Ia,a=nr,c=Wb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?an=5:(an=0,Ia=Vr=null,dE(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ir=null),Gn(a),r=r.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(vn,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=$.T,p=ie.p,ie.p=2,$.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var L=c[T];g(L.value,{componentStack:L.stack})}}finally{$.T=r,ie.p=p}}(nr&3)!==0&&Mh(),Ls(i),p=i.pendingLanes,(a&261930)!==0&&(p&42)!==0?i===Kp?uu++:(uu=0,Kp=i):uu=0,cu(0)}}function dE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,ql(r)))}function Mh(){return cE(),hE(),fE(),pE()}function pE(){if(an!==5)return!1;var i=Vr,r=qp;qp=0;var a=Gn(nr),c=$.T,p=ie.p;try{ie.p=32>a?32:a,$.T=null,a=Gp,Gp=null;var g=Vr,T=nr;if(an=0,Ia=Vr=null,nr=0,(ot&6)!==0)throw Error(s(331));var L=ot;if(ot|=4,Xb(g.current),Kb(g,g.current,T,a),ot=L,cu(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(vn,g)}catch{}return!0}finally{ie.p=p,$.T=c,dE(i,r)}}function mE(i,r,a){r=Di(a,r),r=wp(i.stateNode,r,2),i=xr(i,r,2),i!==null&&(kn(i,2),Ls(i))}function pt(i,r,a){if(i.tag===3)mE(i,i,a);else for(;r!==null;){if(r.tag===3){mE(r,i,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ir===null||!Ir.has(c))){i=Di(a,i),a=gb(2),c=xr(r,a,2),c!==null&&(vb(a,c,r,i),kn(c,2),Ls(c));break}}r=r.return}}function Xp(i,r,a){var c=i.pingCache;if(c===null){c=i.pingCache=new YL;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(a)||(zp=!0,p.add(a),i=WL.bind(null,i,r,a),r.then(i,i))}function WL(i,r,a){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Tt===i&&(Ye&a)===a&&(Ut===4||Ut===3&&(Ye&62914560)===Ye&&300>Ft()-wh?(ot&2)===0&&Va(i,0):Fp|=a,Oa===Ye&&(Oa=0)),Ls(i)}function gE(i,r){r===0&&(r=It()),i=So(i,r),i!==null&&(kn(i,r),Ls(i))}function JL(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),gE(i,a)}function eM(i,r){var a=0;switch(i.tag){case 31:case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),gE(i,a)}function tM(i,r){return st(i,r)}var Dh=null,ka=null,Qp=!1,Oh=!1,Zp=!1,kr=0;function Ls(i){i!==ka&&i.next===null&&(ka===null?Dh=ka=i:ka=ka.next=i),Oh=!0,Qp||(Qp=!0,iM())}function cu(i,r){if(!Zp&&Oh){Zp=!0;do for(var a=!1,c=Dh;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var T=c.suspendedLanes,L=c.pingedLanes;g=(1<<31-bt(42|i)+1)-1,g&=p&~(T&~L),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,EE(c,g))}else g=Ye,g=Et(c,c===Tt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||wt(c,g)||(a=!0,EE(c,g));c=c.next}while(a);Zp=!1}}function nM(){vE()}function vE(){Oh=Qp=!1;var i=0;kr!==0&&dM()&&(i=kr);for(var r=Ft(),a=null,c=Dh;c!==null;){var p=c.next,g=yE(c,r);g===0?(c.next=null,a===null?Dh=p:a.next=p,p===null&&(ka=a)):(a=c,(i!==0||(g&3)!==0)&&(Oh=!0)),c=p}an!==0&&an!==5||cu(i),kr!==0&&(kr=0)}function yE(i,r){for(var a=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-bt(g),L=1<<T,q=p[T];q===-1?((L&a)===0||(L&c)!==0)&&(p[T]=on(L,r)):q<=r&&(i.expiredLanes|=L),g&=~L}if(r=Tt,a=Ye,a=Et(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,a===0||i===r&&(dt===2||dt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&pn(c),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||wt(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(c!==null&&pn(c),Gn(a)){case 2:case 8:a=wn;break;case 32:a=mn;break;case 268435456:a=hs;break;default:a=mn}return c=bE.bind(null,i),a=st(a,c),i.callbackPriority=r,i.callbackNode=a,r}return c!==null&&c!==null&&pn(c),i.callbackPriority=2,i.callbackNode=null,2}function bE(i,r){if(an!==0&&an!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Mh()&&i.callbackNode!==a)return null;var c=Ye;return c=Et(i,i===Tt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(eE(i,c,r),yE(i,Ft()),i.callbackNode!=null&&i.callbackNode===a?bE.bind(null,i):null)}function EE(i,r){if(Mh())return null;eE(i,r,!0)}function iM(){mM(function(){(ot&6)!==0?st(cs,nM):vE()})}function Wp(){if(kr===0){var i=_a;i===0&&(i=Hn,Hn<<=1,(Hn&261888)===0&&(Hn=256)),kr=i}return kr}function _E(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:oa(""+i)}function TE(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function sM(i,r,a,c,p){if(r==="submit"&&a&&a.stateNode===p){var g=_E((p[yn]||null).action),T=c.submitter;T&&(r=(r=T[yn]||null)?_E(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var L=new Ts("action","action",null,c,p);i.push({event:L,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(kr!==0){var q=T?TE(p,T):new FormData(p);yp(a,{pending:!0,data:q,method:p.method,action:g},null,q)}}else typeof g=="function"&&(L.preventDefault(),q=T?TE(p,T):new FormData(p),yp(a,{pending:!0,data:q,method:p.method,action:g},g,q))},currentTarget:p}]})}}for(var Jp=0;Jp<Pd.length;Jp++){var em=Pd[Jp],rM=em.toLowerCase(),oM=em[0].toUpperCase()+em.slice(1);es(rM,"on"+oM)}es(Jy,"onAnimationEnd"),es(e0,"onAnimationIteration"),es(t0,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(TL,"onTransitionRun"),es(SL,"onTransitionStart"),es(wL,"onTransitionCancel"),es(n0,"onTransitionEnd"),ys("onMouseEnter",["mouseout","mouseover"]),ys("onMouseLeave",["mouseout","mouseover"]),ys("onPointerEnter",["pointerout","pointerover"]),ys("onPointerLeave",["pointerout","pointerover"]),vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vs("onBeforeInput",["compositionend","keypress","textInput","paste"]),vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hu));function SE(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var c=i[a],p=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var T=c.length-1;0<=T;T--){var L=c[T],q=L.instance,J=L.currentTarget;if(L=L.listener,q!==g&&p.isPropagationStopped())break e;g=L,p.currentTarget=J;try{g(p)}catch(oe){Yc(oe)}p.currentTarget=null,g=q}else for(T=0;T<c.length;T++){if(L=c[T],q=L.instance,J=L.currentTarget,L=L.listener,q!==g&&p.isPropagationStopped())break e;g=L,p.currentTarget=J;try{g(p)}catch(oe){Yc(oe)}p.currentTarget=null,g=q}}}}function Ge(i,r){var a=r[ta];a===void 0&&(a=r[ta]=new Set);var c=i+"__bubble";a.has(c)||(wE(r,i,2,!1),a.add(c))}function tm(i,r,a){var c=0;r&&(c|=4),wE(a,i,c,r)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function nm(i){if(!i[Ih]){i[Ih]=!0,Sl.forEach(function(a){a!=="selectionchange"&&(aM.has(a)||tm(a,!1,i),tm(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ih]||(r[Ih]=!0,tm("selectionchange",!1,r))}}function wE(i,r,a,c){switch(JE(r)){case 2:var p=PM;break;case 8:p=kM;break;default:p=vm}a=p.bind(null,r,a,i),p=void 0,!mo||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(r,a,{capture:!0,passive:p}):i.addEventListener(r,a,!0):p!==void 0?i.addEventListener(r,a,{passive:p}):i.addEventListener(r,a,!1)}function im(i,r,a,c,p){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var L=c.stateNode.containerInfo;if(L===p)break;if(T===4)for(T=c.return;T!==null;){var q=T.tag;if((q===3||q===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;L!==null;){if(T=ms(L),T===null)return;if(q=T.tag,q===5||q===6||q===26||q===27){c=g=T;continue e}L=L.parentNode}}c=c.return}vr(function(){var J=g,oe=xi(a),le=[];e:{var ee=i0.get(i);if(ee!==void 0){var ne=Ts,Se=i;switch(i){case"keypress":if(vo(a)===0)break e;case"keydown":case"keyup":ne=qc;break;case"focusin":Se="focus",ne=bo;break;case"focusout":Se="blur",ne=bo;break;case"beforeblur":case"afterblur":ne=bo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=_;break;case Jy:case e0:case t0:ne=Nc;break;case n0:ne=M;break;case"scroll":case"scrollend":ne=Pl;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=Uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Fs;break;case"toggle":case"beforetoggle":ne=Ne}var De=(r&4)!==0,yt=!De&&(i==="scroll"||i==="scrollend"),Y=De?ee!==null?ee+"Capture":null:ee;De=[];for(var G=J,Z;G!==null;){var ae=G;if(Z=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Z===null||Y===null||(ae=Qi(G,Y),ae!=null&&De.push(fu(G,ae,Z))),yt)break;G=G.return}0<De.length&&(ee=new ne(ee,Se,null,a,oe),le.push({event:ee,listeners:De}))}}if((r&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",ee&&a!==Ol&&(Se=a.relatedTarget||a.fromElement)&&(ms(Se)||Se[ds]))break e;if((ne||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(Se=a.relatedTarget||a.toElement,ne=J,Se=Se?ms(Se):null,Se!==null&&(yt=l(Se),De=Se.tag,Se!==yt||De!==5&&De!==27&&De!==6)&&(Se=null)):(ne=null,Se=J),ne!==Se)){if(De=kl,ae="onMouseLeave",Y="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(De=Fs,ae="onPointerLeave",Y="onPointerEnter",G="pointer"),yt=ne==null?ee:hi(ne),Z=Se==null?ee:hi(Se),ee=new De(ae,G+"leave",ne,a,oe),ee.target=yt,ee.relatedTarget=Z,ae=null,ms(oe)===J&&(De=new De(Y,G+"enter",Se,a,oe),De.target=Z,De.relatedTarget=yt,ae=De),yt=ae,ne&&Se)t:{for(De=lM,Y=ne,G=Se,Z=0,ae=Y;ae;ae=De(ae))Z++;ae=0;for(var Le=G;Le;Le=De(Le))ae++;for(;0<Z-ae;)Y=De(Y),Z--;for(;0<ae-Z;)G=De(G),ae--;for(;Z--;){if(Y===G||G!==null&&Y===G.alternate){De=Y;break t}Y=De(Y),G=De(G)}De=null}else De=null;ne!==null&&CE(le,ee,ne,De,!1),Se!==null&&yt!==null&&CE(le,yt,Se,De,!0)}}e:{if(ee=J?hi(J):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var tt=Fy;else if(By(ee))if(Hy)tt=bL;else{tt=vL;var Ce=gL}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&ra(J.elementType)&&(tt=Fy):tt=yL;if(tt&&(tt=tt(i,J))){zy(le,tt,a,oe);break e}Ce&&Ce(i,ee,J),i==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&Ll(ee,"number",ee.value)}switch(Ce=J?hi(J):window,i){case"focusin":(By(Ce)||Ce.contentEditable==="true")&&(da=Ce,Od=J,zl=null);break;case"focusout":zl=Od=da=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,Zy(le,a,oe);break;case"selectionchange":if(_L)break;case"keydown":case"keyup":Zy(le,a,oe)}var Be;if(rt)e:{switch(i){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else fa?Eo(i,a)&&($e="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&($e="onCompositionStart");$e&&(Cs&&a.locale!=="ko"&&(fa||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&fa&&(Be=Vl()):(_s=oe,Il="value"in _s?_s.value:_s.textContent,fa=!0)),Ce=Vh(J,$e),0<Ce.length&&($e=new ws($e,i,null,a,oe),le.push({event:$e,listeners:Ce}),Be?$e.data=Be:(Be=ha(a),Be!==null&&($e.data=Be)))),(Be=Li?fL(i,a):dL(i,a))&&($e=Vh(J,"onBeforeInput"),0<$e.length&&(Ce=new ws("onBeforeInput","beforeinput",null,a,oe),le.push({event:Ce,listeners:$e}),Ce.data=Be)),sM(le,i,J,a,oe)}SE(le,r)})}function fu(i,r,a){return{instance:i,listener:r,currentTarget:a}}function Vh(i,r){for(var a=r+"Capture",c=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Qi(i,a),p!=null&&c.unshift(fu(i,p,g)),p=Qi(i,r),p!=null&&c.push(fu(i,p,g))),i.tag===3)return c;i=i.return}return[]}function lM(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function CE(i,r,a,c,p){for(var g=r._reactName,T=[];a!==null&&a!==c;){var L=a,q=L.alternate,J=L.stateNode;if(L=L.tag,q!==null&&q===c)break;L!==5&&L!==26&&L!==27||J===null||(q=J,p?(J=Qi(a,g),J!=null&&T.unshift(fu(a,J,q))):p||(J=Qi(a,g),J!=null&&T.push(fu(a,J,q)))),a=a.return}T.length!==0&&i.push({event:r,listeners:T})}var uM=/\r\n?/g,cM=/\u0000|\uFFFD/g;function AE(i){return(typeof i=="string"?i:""+i).replace(uM,`
`).replace(cM,"")}function xE(i,r){return r=AE(r),AE(i)===r}function vt(i,r,a,c,p,g){switch(a){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||ei(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&ei(i,""+c);break;case"className":fi(i,"class",c);break;case"tabIndex":fi(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(i,a,c);break;case"style":Dl(i,c,g);break;case"data":if(r!=="object"){fi(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(a);break}c=oa(""+c),i.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(r!=="input"&&vt(i,r,"name",p.name,p,null),vt(i,r,"formEncType",p.formEncType,p,null),vt(i,r,"formMethod",p.formMethod,p,null),vt(i,r,"formTarget",p.formTarget,p,null)):(vt(i,r,"encType",p.encType,p,null),vt(i,r,"method",p.method,p,null),vt(i,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(a);break}c=oa(""+c),i.setAttribute(a,c);break;case"onClick":c!=null&&(i.onclick=Xi);break;case"onScroll":c!=null&&Ge("scroll",i);break;case"onScrollEnd":c!=null&&Ge("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}a=oa(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,""+c):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":c===!0?i.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,c):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(a,c):i.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(a):i.setAttribute(a,c);break;case"popover":Ge("beforetoggle",i),Ge("toggle",i),ia(i,"popover",c);break;case"xlinkActuate":Zt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Zt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Zt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Zt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Zt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Zt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ia(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vc.get(a)||a,ia(i,a,c))}}function sm(i,r,a,c,p,g){switch(a){case"style":Dl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof c=="string"?ei(i,c):(typeof c=="number"||typeof c=="bigint")&&ei(i,""+c);break;case"onScroll":c!=null&&Ge("scroll",i);break;case"onScrollEnd":c!=null&&Ge("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),r=a.slice(2,p?a.length-7:void 0),g=i[yn]||null,g=g!=null?g[a]:null,typeof g=="function"&&i.removeEventListener(r,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,c,p);break e}a in i?i[a]=c:c===!0?i.setAttribute(a,""):ia(i,a,c)}}}function Mn(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",i),Ge("load",i);var c=!1,p=!1,g;for(g in a)if(a.hasOwnProperty(g)){var T=a[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:vt(i,r,g,T,a,null)}}p&&vt(i,r,"srcSet",a.srcSet,a,null),c&&vt(i,r,"src",a.src,a,null);return;case"input":Ge("invalid",i);var L=g=T=p=null,q=null,J=null;for(c in a)if(a.hasOwnProperty(c)){var oe=a[c];if(oe!=null)switch(c){case"name":p=oe;break;case"type":T=oe;break;case"checked":q=oe;break;case"defaultChecked":J=oe;break;case"value":g=oe;break;case"defaultValue":L=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,r));break;default:vt(i,r,c,oe,a,null)}}Dc(i,g,L,q,J,T,p,!1);return;case"select":Ge("invalid",i),c=T=g=null;for(p in a)if(a.hasOwnProperty(p)&&(L=a[p],L!=null))switch(p){case"value":g=L;break;case"defaultValue":T=L;break;case"multiple":c=L;default:vt(i,r,p,L,a,null)}r=g,a=T,i.multiple=!!c,r!=null?dr(i,!!c,r,!1):a!=null&&dr(i,!!c,a,!0);return;case"textarea":Ge("invalid",i),g=p=c=null;for(T in a)if(a.hasOwnProperty(T)&&(L=a[T],L!=null))switch(T){case"value":c=L;break;case"defaultValue":p=L;break;case"children":g=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(91));break;default:vt(i,r,T,L,a,null)}pr(i,c,p,g);return;case"option":for(q in a)a.hasOwnProperty(q)&&(c=a[q],c!=null)&&(q==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":vt(i,r,q,c,a,null));return;case"dialog":Ge("beforetoggle",i),Ge("toggle",i),Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":Ge("load",i);break;case"video":case"audio":for(c=0;c<hu.length;c++)Ge(hu[c],i);break;case"image":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"embed":case"source":case"link":Ge("error",i),Ge("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in a)if(a.hasOwnProperty(J)&&(c=a[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:vt(i,r,J,c,a,null)}return;default:if(ra(r)){for(oe in a)a.hasOwnProperty(oe)&&(c=a[oe],c!==void 0&&sm(i,r,oe,c,a,void 0));return}}for(L in a)a.hasOwnProperty(L)&&(c=a[L],c!=null&&vt(i,r,L,c,a,null))}function hM(i,r,a,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,L=null,q=null,J=null,oe=null;for(ne in a){var le=a[ne];if(a.hasOwnProperty(ne)&&le!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":q=le;default:c.hasOwnProperty(ne)||vt(i,r,ne,null,c,le)}}for(var ee in c){var ne=c[ee];if(le=a[ee],c.hasOwnProperty(ee)&&(ne!=null||le!=null))switch(ee){case"type":g=ne;break;case"name":p=ne;break;case"checked":J=ne;break;case"defaultChecked":oe=ne;break;case"value":T=ne;break;case"defaultValue":L=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:ne!==le&&vt(i,r,ee,ne,c,le)}}sa(i,T,L,q,J,oe,g,p);return;case"select":ne=T=L=ee=null;for(g in a)if(q=a[g],a.hasOwnProperty(g)&&q!=null)switch(g){case"value":break;case"multiple":ne=q;default:c.hasOwnProperty(g)||vt(i,r,g,null,c,q)}for(p in c)if(g=c[p],q=a[p],c.hasOwnProperty(p)&&(g!=null||q!=null))switch(p){case"value":ee=g;break;case"defaultValue":L=g;break;case"multiple":T=g;default:g!==q&&vt(i,r,p,g,c,q)}r=L,a=T,c=ne,ee!=null?dr(i,!!a,ee,!1):!!c!=!!a&&(r!=null?dr(i,!!a,r,!0):dr(i,!!a,a?[]:"",!1));return;case"textarea":ne=ee=null;for(L in a)if(p=a[L],a.hasOwnProperty(L)&&p!=null&&!c.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:vt(i,r,L,null,c,p)}for(T in c)if(p=c[T],g=a[T],c.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":ee=p;break;case"defaultValue":ne=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==g&&vt(i,r,T,p,c,g)}Oc(i,ee,ne);return;case"option":for(var Se in a)ee=a[Se],a.hasOwnProperty(Se)&&ee!=null&&!c.hasOwnProperty(Se)&&(Se==="selected"?i.selected=!1:vt(i,r,Se,null,c,ee));for(q in c)ee=c[q],ne=a[q],c.hasOwnProperty(q)&&ee!==ne&&(ee!=null||ne!=null)&&(q==="selected"?i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":vt(i,r,q,ee,c,ne));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in a)ee=a[De],a.hasOwnProperty(De)&&ee!=null&&!c.hasOwnProperty(De)&&vt(i,r,De,null,c,ee);for(J in c)if(ee=c[J],ne=a[J],c.hasOwnProperty(J)&&ee!==ne&&(ee!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:vt(i,r,J,ee,c,ne)}return;default:if(ra(r)){for(var yt in a)ee=a[yt],a.hasOwnProperty(yt)&&ee!==void 0&&!c.hasOwnProperty(yt)&&sm(i,r,yt,void 0,c,ee);for(oe in c)ee=c[oe],ne=a[oe],!c.hasOwnProperty(oe)||ee===ne||ee===void 0&&ne===void 0||sm(i,r,oe,ee,c,ne);return}}for(var Y in a)ee=a[Y],a.hasOwnProperty(Y)&&ee!=null&&!c.hasOwnProperty(Y)&&vt(i,r,Y,null,c,ee);for(le in c)ee=c[le],ne=a[le],!c.hasOwnProperty(le)||ee===ne||ee==null&&ne==null||vt(i,r,le,ee,c,ne)}function RE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fM(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var p=a[c],g=p.transferSize,T=p.initiatorType,L=p.duration;if(g&&L&&RE(T)){for(T=0,L=p.responseEnd,c+=1;c<a.length;c++){var q=a[c],J=q.startTime;if(J>L)break;var oe=q.transferSize,le=q.initiatorType;oe&&RE(le)&&(q=q.responseEnd,T+=oe*(q<L?1:(L-J)/(q-J)))}if(--c,r+=8*(g+T)/(p.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var rm=null,om=null;function Ph(i){return i.nodeType===9?i:i.ownerDocument}function LE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ME(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function am(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var lm=null;function dM(){var i=window.event;return i&&i.type==="popstate"?i===lm?!1:(lm=i,!0):(lm=null,!1)}var DE=typeof setTimeout=="function"?setTimeout:void 0,pM=typeof clearTimeout=="function"?clearTimeout:void 0,OE=typeof Promise=="function"?Promise:void 0,mM=typeof queueMicrotask=="function"?queueMicrotask:typeof OE<"u"?function(i){return OE.resolve(null).then(i).catch(gM)}:DE;function gM(i){setTimeout(function(){throw i})}function Nr(i){return i==="head"}function IE(i,r){var a=r,c=0;do{var p=a.nextSibling;if(i.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(c===0){i.removeChild(p),Ba(r);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")du(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,du(a);for(var g=a.firstChild;g;){var T=g.nextSibling,L=g.nodeName;g[ps]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=T}}else a==="body"&&du(i.ownerDocument.body);a=p}while(a);Ba(r)}function VE(i,r){var a=i;i=0;do{var c=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=c}while(a)}function um(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":um(a),na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function vM(i,r,a,c){for(;i.nodeType===1;){var p=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ps])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ki(i.nextSibling),i===null)break}return null}function yM(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ki(i.nextSibling),i===null))return null;return i}function PE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ki(i.nextSibling),i===null))return null;return i}function cm(i){return i.data==="$?"||i.data==="$~"}function hm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function bM(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var c=function(){r(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ki(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var fm=null;function kE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return ki(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function NE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function UE(i,r,a){switch(r=Ph(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function du(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);na(i)}var Ni=new Map,jE=new Set;function kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ir=ie.d;ie.d={f:EM,r:_M,D:TM,C:SM,L:wM,m:CM,X:xM,S:AM,M:RM};function EM(){var i=ir.f(),r=xh();return i||r}function _M(i){var r=Ai(i);r!==null&&r.tag===5&&r.type==="form"?nb(r):ir.r(i)}var Na=typeof document>"u"?null:document;function BE(i,r,a){var c=Na;if(c&&typeof r=="string"&&r){var p=Jn(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),jE.has(p)||(jE.add(p),i={rel:i,crossOrigin:a,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),Mn(r,"link",i),Qt(r),c.head.appendChild(r)))}}function TM(i){ir.D(i),BE("dns-prefetch",i,null)}function SM(i,r){ir.C(i,r),BE("preconnect",i,r)}function wM(i,r,a){ir.L(i,r,a);var c=Na;if(c&&i&&r){var p='link[rel="preload"][as="'+Jn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+Jn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+Jn(a.imageSizes)+'"]')):p+='[href="'+Jn(i)+'"]';var g=p;switch(r){case"style":g=Ua(i);break;case"script":g=ja(i)}Ni.has(g)||(i=y({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),Ni.set(g,i),c.querySelector(p)!==null||r==="style"&&c.querySelector(pu(g))||r==="script"&&c.querySelector(mu(g))||(r=c.createElement("link"),Mn(r,"link",i),Qt(r),c.head.appendChild(r)))}}function CM(i,r){ir.m(i,r);var a=Na;if(a&&i){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Jn(c)+'"][href="'+Jn(i)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ja(i)}if(!Ni.has(g)&&(i=y({rel:"modulepreload",href:i},r),Ni.set(g,i),a.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(mu(g)))return}c=a.createElement("link"),Mn(c,"link",i),Qt(c),a.head.appendChild(c)}}}function AM(i,r,a){ir.S(i,r,a);var c=Na;if(c&&i){var p=gs(c).hoistableStyles,g=Ua(i);r=r||"default";var T=p.get(g);if(!T){var L={loading:0,preload:null};if(T=c.querySelector(pu(g)))L.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},a),(a=Ni.get(g))&&dm(i,a);var q=T=c.createElement("link");Qt(q),Mn(q,"link",i),q._p=new Promise(function(J,oe){q.onload=J,q.onerror=oe}),q.addEventListener("load",function(){L.loading|=1}),q.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Nh(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:L},p.set(g,T)}}}function xM(i,r){ir.X(i,r);var a=Na;if(a&&i){var c=gs(a).hoistableScripts,p=ja(i),g=c.get(p);g||(g=a.querySelector(mu(p)),g||(i=y({src:i,async:!0},r),(r=Ni.get(p))&&pm(i,r),g=a.createElement("script"),Qt(g),Mn(g,"link",i),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function RM(i,r){ir.M(i,r);var a=Na;if(a&&i){var c=gs(a).hoistableScripts,p=ja(i),g=c.get(p);g||(g=a.querySelector(mu(p)),g||(i=y({src:i,async:!0,type:"module"},r),(r=Ni.get(p))&&pm(i,r),g=a.createElement("script"),Qt(g),Mn(g,"link",i),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function zE(i,r,a,c){var p=(p=ve.current)?kh(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ua(a.href),a=gs(p).hoistableStyles,c=a.get(r),c||(c={type:"style",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Ua(a.href);var g=gs(p).hoistableStyles,T=g.get(i);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=p.querySelector(pu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Ni.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ni.set(i,a),g||LM(p,i,a,T.state))),r&&c===null)throw Error(s(528,""));return T}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ja(a),a=gs(p).hoistableScripts,c=a.get(r),c||(c={type:"script",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ua(i){return'href="'+Jn(i)+'"'}function pu(i){return'link[rel="stylesheet"]['+i+"]"}function FE(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function LM(i,r,a,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Mn(r,"link",a),Qt(r),i.head.appendChild(r))}function ja(i){return'[src="'+Jn(i)+'"]'}function mu(i){return"script[async]"+i}function HE(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Jn(a.href)+'"]');if(c)return r.instance=c,Qt(c),c;var p=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Qt(c),Mn(c,"style",p),Nh(c,a.precedence,i),r.instance=c;case"stylesheet":p=Ua(a.href);var g=i.querySelector(pu(p));if(g)return r.state.loading|=4,r.instance=g,Qt(g),g;c=FE(a),(p=Ni.get(p))&&dm(c,p),g=(i.ownerDocument||i).createElement("link"),Qt(g);var T=g;return T._p=new Promise(function(L,q){T.onload=L,T.onerror=q}),Mn(g,"link",c),r.state.loading|=4,Nh(g,a.precedence,i),r.instance=g;case"script":return g=ja(a.src),(p=i.querySelector(mu(g)))?(r.instance=p,Qt(p),p):(c=a,(p=Ni.get(g))&&(c=y({},a),pm(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),Qt(p),Mn(p,"link",c),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Nh(c,a.precedence,i));return r.instance}function Nh(i,r,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,T=0;T<c.length;T++){var L=c[T];if(L.dataset.precedence===r)g=L;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function dm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function pm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Uh=null;function qE(i,r,a){if(Uh===null){var c=new Map,p=Uh=new Map;p.set(a,c)}else p=Uh,c=p.get(a),c||(c=new Map,p.set(a,c));if(c.has(i))return c;for(c.set(i,null),a=a.getElementsByTagName(i),p=0;p<a.length;p++){var g=a[p];if(!(g[ps]||g[Xt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var L=c.get(T);L?L.push(g):c.set(T,[g])}}return c}function GE(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function MM(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function KE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function DM(i,r,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Ua(c.href),g=r.querySelector(pu(p));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=jh.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=g,Qt(g);return}g=r.ownerDocument||r,c=FE(c),(p=Ni.get(p))&&dm(c,p),g=g.createElement("link"),Qt(g);var T=g;T._p=new Promise(function(L,q){T.onload=L,T.onerror=q}),Mn(g,"link",c),a.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=jh.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var mm=0;function OM(i,r){return i.stylesheets&&i.count===0&&zh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var c=setTimeout(function(){if(i.stylesheets&&zh(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&mm===0&&(mm=62500*fM());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&zh(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>mm?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function jh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Bh=null;function zh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Bh=new Map,r.forEach(IM,i),Bh=null,jh.call(i))}function IM(i,r){if(!(r.state.loading&4)){var a=Bh.get(i);if(a)var c=a.get(null);else{a=new Map,Bh.set(i,a);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),c=T)}c&&a.set(null,c)}p=r.instance,T=p.getAttribute("data-precedence"),g=a.get(T)||c,g===c&&a.set(null,p),a.set(T,p),this.count++,c=jh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var gu={$$typeof:B,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function VM(i,r,a,c,p,g,T,L,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lt(0),this.hiddenUpdates=Lt(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function YE(i,r,a,c,p,g,T,L,q,J,oe,le){return i=new VM(i,r,a,T,q,J,oe,le,L),r=1,g===!0&&(r|=24),g=pi(3,null,null,r),i.current=g,g.stateNode=i,r=$d(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:a,cache:r},Wd(g),i}function $E(i){return i?(i=ga,i):ga}function XE(i,r,a,c,p,g){p=$E(p),c.context===null?c.context=p:c.pendingContext=p,c=Ar(r),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=xr(i,c,r),a!==null&&(ri(a,i,r),$l(a,i,r))}function QE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function gm(i,r){QE(i,r),(i=i.alternate)&&QE(i,r)}function ZE(i){if(i.tag===13||i.tag===31){var r=So(i,67108864);r!==null&&ri(r,i,67108864),gm(i,67108864)}}function WE(i){if(i.tag===13||i.tag===31){var r=bi();r=ui(r);var a=So(i,r);a!==null&&ri(a,i,r),gm(i,r)}}var Fh=!0;function PM(i,r,a,c){var p=$.T;$.T=null;var g=ie.p;try{ie.p=2,vm(i,r,a,c)}finally{ie.p=g,$.T=p}}function kM(i,r,a,c){var p=$.T;$.T=null;var g=ie.p;try{ie.p=8,vm(i,r,a,c)}finally{ie.p=g,$.T=p}}function vm(i,r,a,c){if(Fh){var p=ym(c);if(p===null)im(i,r,c,Hh,a),e_(i,c);else if(UM(p,i,r,a,c))c.stopPropagation();else if(e_(i,c),r&4&&-1<NM.indexOf(i)){for(;p!==null;){var g=Ai(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ht(g.pendingLanes);if(T!==0){var L=g;for(L.pendingLanes|=2,L.entangledLanes|=2;T;){var q=1<<31-bt(T);L.entanglements[1]|=q,T&=~q}Ls(g),(ot&6)===0&&(Ch=Ft()+500,cu(0))}}break;case 31:case 13:L=So(g,2),L!==null&&ri(L,g,2),xh(),gm(g,2)}if(g=ym(c),g===null&&im(i,r,c,Hh,a),g===p)break;p=g}p!==null&&c.stopPropagation()}else im(i,r,c,null,a)}}function ym(i){return i=xi(i),bm(i)}var Hh=null;function bm(i){if(Hh=null,i=ms(i),i!==null){var r=l(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=u(r),i!==null)return i;i=null}else if(a===31){if(i=h(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Hh=i,null}function JE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Si()){case cs:return 2;case wn:return 8;case mn:case Wn:return 32;case hs:return 268435456;default:return 32}default:return 32}}var Em=!1,Ur=null,jr=null,Br=null,vu=new Map,yu=new Map,zr=[],NM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(i,r){switch(i){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":vu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(r.pointerId)}}function bu(i,r,a,c,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},r!==null&&(r=Ai(r),r!==null&&ZE(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function UM(i,r,a,c,p){switch(r){case"focusin":return Ur=bu(Ur,i,r,a,c,p),!0;case"dragenter":return jr=bu(jr,i,r,a,c,p),!0;case"mouseover":return Br=bu(Br,i,r,a,c,p),!0;case"pointerover":var g=p.pointerId;return vu.set(g,bu(vu.get(g)||null,i,r,a,c,p)),!0;case"gotpointercapture":return g=p.pointerId,yu.set(g,bu(yu.get(g)||null,i,r,a,c,p)),!0}return!1}function t_(i){var r=ms(i.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){i.blockedOn=r,Cn(i.priority,function(){WE(a)});return}}else if(r===31){if(r=h(a),r!==null){i.blockedOn=r,Cn(i.priority,function(){WE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function qh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=ym(i.nativeEvent);if(a===null){a=i.nativeEvent;var c=new a.constructor(a.type,a);Ol=c,a.target.dispatchEvent(c),Ol=null}else return r=Ai(a),r!==null&&ZE(r),i.blockedOn=a,!1;r.shift()}return!0}function n_(i,r,a){qh(i)&&a.delete(r)}function jM(){Em=!1,Ur!==null&&qh(Ur)&&(Ur=null),jr!==null&&qh(jr)&&(jr=null),Br!==null&&qh(Br)&&(Br=null),vu.forEach(n_),yu.forEach(n_)}function Gh(i,r){i.blockedOn===r&&(i.blockedOn=null,Em||(Em=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jM)))}var Kh=null;function i_(i){Kh!==i&&(Kh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kh===i&&(Kh=null);for(var r=0;r<i.length;r+=3){var a=i[r],c=i[r+1],p=i[r+2];if(typeof c!="function"){if(bm(c||a)===null)continue;break}var g=Ai(a);g!==null&&(i.splice(r,3),r-=3,yp(g,{pending:!0,data:p,method:a.method,action:c},c,p))}}))}function Ba(i){function r(q){return Gh(q,i)}Ur!==null&&Gh(Ur,i),jr!==null&&Gh(jr,i),Br!==null&&Gh(Br,i),vu.forEach(r),yu.forEach(r);for(var a=0;a<zr.length;a++){var c=zr[a];c.blockedOn===i&&(c.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)t_(a),a.blockedOn===null&&zr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var p=a[c],g=a[c+1],T=p[yn]||null;if(typeof g=="function")T||i_(a);else if(T){var L=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[yn]||null)L=T.formAction;else if(bm(p)!==null)continue}else L=T.action;typeof L=="function"?a[c+1]=L:(a.splice(c,3),c-=3),i_(a)}}}function s_(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function _m(i){this._internalRoot=i}Yh.prototype.render=_m.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,c=bi();XE(a,c,i,r,null,null)},Yh.prototype.unmount=_m.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;XE(i.current,2,null,i,null,null),xh(),r[ds]=null}};function Yh(i){this._internalRoot=i}Yh.prototype.unstable_scheduleHydration=function(i){if(i){var r=ci();i={blockedOn:null,target:i,priority:r};for(var a=0;a<zr.length&&r!==0&&r<zr[a].priority;a++);zr.splice(a,0,i),a===0&&t_(i)}};var r_=e.version;if(r_!=="19.2.4")throw Error(s(527,r_,"19.2.4"));ie.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var BM={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{vn=$h.inject(BM),kt=$h}catch{}}return _u.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,c="",p=fb,g=db,T=pb;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=YE(i,1,!1,null,null,a,c,null,p,g,T,s_),i[ds]=r.current,nm(i),new _m(r)},_u.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var c=!1,p="",g=fb,T=db,L=pb,q=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError),a.formState!==void 0&&(q=a.formState)),r=YE(i,1,!0,r,a??null,c,p,q,g,T,L,s_),r.context=$E(null),a=r.current,c=bi(),c=ui(c),p=Ar(c),p.callback=null,xr(a,p,c),a=c,r.current.lanes=a,kn(r,a),Ls(r),i[ds]=r.current,nm(i),new Yh(r)},_u.version="19.2.4",_u}var m_;function QM(){if(m_)return wm.exports;m_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wm.exports=XM(),wm.exports}var ZM=QM();function WM(t){const[e,n]=b.useState(!1);return b.useEffect(()=>{const s=window.matchMedia(t);s.matches!==e&&n(s.matches);const o=()=>{n(s.matches)};return s.addEventListener("change",o),()=>s.removeEventListener("change",o)},[e,t]),e}const cv=b.createContext({});function hv(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Aw=typeof window<"u",xw=Aw?b.useLayoutEffect:b.useEffect,rd=b.createContext(null);function fv(t,e){t.indexOf(e)===-1&&t.push(e)}function dv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ks=(t,e,n)=>n>e?e:n<t?t:n;let pv=()=>{};const or={},Rw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Lw(t){return typeof t=="object"&&t!==null}const Mw=t=>/^0[^.\s]+$/u.test(t);function mv(t){let e;return()=>(e===void 0&&(e=t()),e)}const qi=t=>t,JM=(t,e)=>n=>e(t(n)),mc=(...t)=>t.reduce(JM),Qu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class gv{constructor(){this.subscriptions=[]}add(e){return fv(this.subscriptions,e),()=>dv(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sr=t=>t*1e3,Hi=t=>t/1e3;function Dw(t,e){return e?t*(1e3/e):0}const Ow=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,eD=1e-7,tD=12;function nD(t,e,n,s,o){let l,u,h=0;do u=e+(n-e)/2,l=Ow(u,s,o)-t,l>0?n=u:e=u;while(Math.abs(l)>eD&&++h<tD);return u}function gc(t,e,n,s){if(t===e&&n===s)return qi;const o=l=>nD(l,0,1,t,n);return l=>l===0||l===1?l:Ow(o(l),e,s)}const Iw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Vw=t=>e=>1-t(1-e),Pw=gc(.33,1.53,.69,.99),vv=Vw(Pw),kw=Iw(vv),Nw=t=>(t*=2)<1?.5*vv(t):.5*(2-Math.pow(2,-10*(t-1))),yv=t=>1-Math.sin(Math.acos(t)),Uw=Vw(yv),jw=Iw(yv),iD=gc(.42,0,1,1),sD=gc(0,0,.58,1),Bw=gc(.42,0,.58,1),rD=t=>Array.isArray(t)&&typeof t[0]!="number",zw=t=>Array.isArray(t)&&typeof t[0]=="number",oD={linear:qi,easeIn:iD,easeInOut:Bw,easeOut:sD,circIn:yv,circInOut:jw,circOut:Uw,backIn:vv,backInOut:kw,backOut:Pw,anticipate:Nw},aD=t=>typeof t=="string",g_=t=>{if(zw(t)){pv(t.length===4);const[e,n,s,o]=t;return gc(e,n,s,o)}else if(aD(t))return oD[t];return t},Xh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lD(t,e){let n=new Set,s=new Set,o=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(v){u.has(v)&&(m.schedule(v),t()),v(h)}const m={schedule:(v,y=!1,E=!1)=>{const x=E&&o?n:s;return y&&u.add(v),x.has(v)||x.add(v),v},cancel:v=>{s.delete(v),u.delete(v)},process:v=>{if(h=v,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(d),n.clear(),o=!1,l&&(l=!1,m.process(v))}};return m}const uD=40;function Fw(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Xh.reduce((B,N)=>(B[N]=lD(l),B),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:v,update:y,preRender:E,render:w,postRender:x}=u,D=()=>{const B=or.useManualTiming?o.timestamp:performance.now();n=!1,or.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(B-o.timestamp,uD),1)),o.timestamp=B,o.isProcessing=!0,h.process(o),d.process(o),m.process(o),v.process(o),y.process(o),E.process(o),w.process(o),x.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(D))},O=()=>{n=!0,s=!0,o.isProcessing||t(D)};return{schedule:Xh.reduce((B,N)=>{const k=u[N];return B[N]=(H,C=!1,A=!1)=>(n||O(),k.schedule(H,C,A)),B},{}),cancel:B=>{for(let N=0;N<Xh.length;N++)u[Xh[N]].cancel(B)},state:o,steps:u}}const{schedule:Rt,cancel:no,state:Dn,steps:Rm}=Fw(typeof requestAnimationFrame<"u"?requestAnimationFrame:qi,!0);let hf;function cD(){hf=void 0}const Qn={now:()=>(hf===void 0&&Qn.set(Dn.isProcessing||or.useManualTiming?Dn.timestamp:performance.now()),hf),set:t=>{hf=t,queueMicrotask(cD)}},Hw=t=>e=>typeof e=="string"&&e.startsWith(t),qw=Hw("--"),hD=Hw("var(--"),bv=t=>hD(t)?fD.test(t.split("/*")[0].trim()):!1,fD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function v_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const hl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zu={...hl,transform:t=>ks(0,1,t)},Qh={...hl,default:1},ku=t=>Math.round(t*1e5)/1e5,Ev=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dD(t){return t==null}const pD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_v=(t,e)=>n=>!!(typeof n=="string"&&pD.test(n)&&n.startsWith(t)||e&&!dD(n)&&Object.prototype.hasOwnProperty.call(n,e)),Gw=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,l,u,h]=s.match(Ev);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},mD=t=>ks(0,255,t),Lm={...hl,transform:t=>Math.round(mD(t))},zo={test:_v("rgb","red"),parse:Gw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Lm.transform(t)+", "+Lm.transform(e)+", "+Lm.transform(n)+", "+ku(Zu.transform(s))+")"};function gD(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const hg={test:_v("#"),parse:gD,transform:zo.transform},vc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hr=vc("deg"),Os=vc("%"),we=vc("px"),vD=vc("vh"),yD=vc("vw"),y_={...Os,parse:t=>Os.parse(t)/100,transform:t=>Os.transform(t*100)},Ga={test:_v("hsl","hue"),parse:Gw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Os.transform(ku(e))+", "+Os.transform(ku(n))+", "+ku(Zu.transform(s))+")"},sn={test:t=>zo.test(t)||hg.test(t)||Ga.test(t),parse:t=>zo.test(t)?zo.parse(t):Ga.test(t)?Ga.parse(t):hg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?zo.transform(t):Ga.transform(t),getAnimatableNone:t=>{const e=sn.parse(t);return e.alpha=0,sn.transform(e)}},bD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ED(t){return isNaN(t)&&typeof t=="string"&&(t.match(Ev)?.length||0)+(t.match(bD)?.length||0)>0}const Kw="number",Yw="color",_D="var",TD="var(",b_="${}",SD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const h=e.replace(SD,d=>(sn.test(d)?(s.color.push(l),o.push(Yw),n.push(sn.parse(d))):d.startsWith(TD)?(s.var.push(l),o.push(_D),n.push(d)):(s.number.push(l),o.push(Kw),n.push(parseFloat(d))),++l,b_)).split(b_);return{values:n,split:h,indexes:s,types:o}}function $w(t){return Wu(t).values}function Xw(t){const{split:e,types:n}=Wu(t),s=e.length;return o=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],o[u]!==void 0){const h=n[u];h===Kw?l+=ku(o[u]):h===Yw?l+=sn.transform(o[u]):l+=o[u]}return l}}const wD=t=>typeof t=="number"?0:sn.test(t)?sn.getAnimatableNone(t):t;function CD(t){const e=$w(t);return Xw(t)(e.map(wD))}const io={test:ED,parse:$w,createTransformer:Xw,getAnimatableNone:CD};function Mm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function AD({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,l=0,u=0;if(!e)o=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;o=Mm(d,h,t+1/3),l=Mm(d,h,t),u=Mm(d,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Sf(t,e){return n=>n>0?e:t}const Vt=(t,e,n)=>t+(e-t)*n,Dm=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},xD=[hg,zo,Ga],RD=t=>xD.find(e=>e.test(t));function E_(t){const e=RD(t);if(!e)return!1;let n=e.parse(t);return e===Ga&&(n=AD(n)),n}const __=(t,e)=>{const n=E_(t),s=E_(e);if(!n||!s)return Sf(t,e);const o={...n};return l=>(o.red=Dm(n.red,s.red,l),o.green=Dm(n.green,s.green,l),o.blue=Dm(n.blue,s.blue,l),o.alpha=Vt(n.alpha,s.alpha,l),zo.transform(o))},fg=new Set(["none","hidden"]);function LD(t,e){return fg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function MD(t,e){return n=>Vt(t,e,n)}function Tv(t){return typeof t=="number"?MD:typeof t=="string"?bv(t)?Sf:sn.test(t)?__:ID:Array.isArray(t)?Qw:typeof t=="object"?sn.test(t)?__:DD:Sf}function Qw(t,e){const n=[...t],s=n.length,o=t.map((l,u)=>Tv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=o[u](l);return n}}function DD(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Tv(t[o])(t[o],e[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function OD(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][s[l]],h=t.values[u]??0;n[o]=h,s[l]++}return n}const ID=(t,e)=>{const n=io.createTransformer(e),s=Wu(t),o=Wu(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?fg.has(t)&&!o.values.length||fg.has(e)&&!s.values.length?LD(t,e):mc(Qw(OD(s,o),o.values),n):Sf(t,e)};function Zw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Vt(t,e,n):Tv(t)(t,e)}const VD=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Rt.update(e,n),stop:()=>no(e),now:()=>Dn.isProcessing?Dn.timestamp:Qn.now()}},Ww=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},wf=2e4;function Sv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<wf;)e+=n,s=t.next(e);return e>=wf?1/0:e}function PD(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(Sv(s),wf);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:Hi(o)}}const kD=5;function Jw(t,e,n){const s=Math.max(e-kD,0);return Dw(n-t(s),e-s)}const jt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Om=.001;function ND({duration:t=jt.duration,bounce:e=jt.bounce,velocity:n=jt.velocity,mass:s=jt.mass}){let o,l,u=1-e;u=ks(jt.minDamping,jt.maxDamping,u),t=ks(jt.minDuration,jt.maxDuration,Hi(t)),u<1?(o=m=>{const v=m*u,y=v*t,E=v-n,w=dg(m,u),x=Math.exp(-y);return Om-E/w*x},l=m=>{const y=m*u*t,E=y*n+n,w=Math.pow(u,2)*Math.pow(m,2)*t,x=Math.exp(-y),D=dg(Math.pow(m,2),u);return(-o(m)+Om>0?-1:1)*((E-w)*x)/D}):(o=m=>{const v=Math.exp(-m*t),y=(m-n)*t+1;return-Om+v*y},l=m=>{const v=Math.exp(-m*t),y=(n-m)*(t*t);return v*y});const h=5/t,d=jD(o,l,h);if(t=sr(t),isNaN(d))return{stiffness:jt.stiffness,damping:jt.damping,duration:t};{const m=Math.pow(d,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:t}}}const UD=12;function jD(t,e,n){let s=n;for(let o=1;o<UD;o++)s=s-t(s)/e(s);return s}function dg(t,e){return t*Math.sqrt(1-e*e)}const BD=["duration","bounce"],zD=["stiffness","damping","mass"];function T_(t,e){return e.some(n=>t[n]!==void 0)}function FD(t){let e={velocity:jt.velocity,stiffness:jt.stiffness,damping:jt.damping,mass:jt.mass,isResolvedFromDuration:!1,...t};if(!T_(t,zD)&&T_(t,BD))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*ks(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:jt.mass,stiffness:o,damping:l}}else{const n=ND(t);e={...e,...n,mass:jt.mass},e.isResolvedFromDuration=!0}return e}function Cf(t=jt.visualDuration,e=jt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:v,duration:y,velocity:E,isResolvedFromDuration:w}=FD({...n,velocity:-Hi(n.velocity||0)}),x=E||0,D=m/(2*Math.sqrt(d*v)),O=u-l,U=Hi(Math.sqrt(d/v)),j=Math.abs(O)<5;s||(s=j?jt.restSpeed.granular:jt.restSpeed.default),o||(o=j?jt.restDelta.granular:jt.restDelta.default);let B;if(D<1){const k=dg(U,D);B=H=>{const C=Math.exp(-D*U*H);return u-C*((x+D*U*O)/k*Math.sin(k*H)+O*Math.cos(k*H))}}else if(D===1)B=k=>u-Math.exp(-U*k)*(O+(x+U*O)*k);else{const k=U*Math.sqrt(D*D-1);B=H=>{const C=Math.exp(-D*U*H),A=Math.min(k*H,300);return u-C*((x+D*U*O)*Math.sinh(A)+k*O*Math.cosh(A))/k}}const N={calculatedDuration:w&&y||null,next:k=>{const H=B(k);if(w)h.done=k>=y;else{let C=k===0?x:0;D<1&&(C=k===0?sr(x):Jw(B,k,H));const A=Math.abs(C)<=s,R=Math.abs(u-H)<=o;h.done=A&&R}return h.value=h.done?u:H,h},toString:()=>{const k=Math.min(Sv(N),wf),H=Ww(C=>N.next(k*C).value,k,30);return k+"ms "+H},toTransition:()=>{}};return N}Cf.applyToOptions=t=>{const e=PD(t,100,Cf);return t.ease=e.ease,t.duration=sr(e.duration),t.type="keyframes",t};function pg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:m=.5,restSpeed:v}){const y=t[0],E={done:!1,value:y},w=A=>h!==void 0&&A<h||d!==void 0&&A>d,x=A=>h===void 0?d:d===void 0||Math.abs(h-A)<Math.abs(d-A)?h:d;let D=n*e;const O=y+D,U=u===void 0?O:u(O);U!==O&&(D=U-y);const j=A=>-D*Math.exp(-A/s),B=A=>U+j(A),N=A=>{const R=j(A),V=B(A);E.done=Math.abs(R)<=m,E.value=E.done?U:V};let k,H;const C=A=>{w(E.value)&&(k=A,H=Cf({keyframes:[E.value,x(E.value)],velocity:Jw(B,A,E.value),damping:o,stiffness:l,restDelta:m,restSpeed:v}))};return C(0),{calculatedDuration:null,next:A=>{let R=!1;return!H&&k===void 0&&(R=!0,N(A),C(A)),k!==void 0&&A>=k?H.next(A-k):(!R&&N(A),E)}}}function HD(t,e,n){const s=[],o=n||or.mix||Zw,l=t.length-1;for(let u=0;u<l;u++){let h=o(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||qi:e;h=mc(d,h)}s.push(h)}return s}function qD(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const l=t.length;if(pv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=HD(e,s,o),d=h.length,m=v=>{if(u&&v<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(v<t[y+1]);y++);const E=Qu(t[y],t[y+1],v);return h[y](E)};return n?v=>m(ks(t[0],t[l-1],v)):m}function GD(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=Qu(0,e,s);t.push(Vt(n,1,o))}}function KD(t){const e=[0];return GD(e,t.length-1),e}function YD(t,e){return t.map(n=>n*e)}function $D(t,e){return t.map(()=>e||Bw).splice(0,t.length-1)}function Nu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=rD(s)?s.map(g_):g_(s),l={done:!1,value:e[0]},u=YD(n&&n.length===e.length?n:KD(e),t),h=qD(u,e,{ease:Array.isArray(o)?o:$D(e,o)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const XD=t=>t!==null;function wv(t,{repeat:e,repeatType:n="loop"},s,o=1){const l=t.filter(XD),h=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const QD={decay:pg,inertia:pg,tween:Nu,keyframes:Nu,spring:Cf};function eC(t){typeof t.type=="string"&&(t.type=QD[t.type])}class Cv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const ZD=t=>t/100;class Av extends Cv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Qn.now()&&this.tick(Qn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;eC(e);const{type:n=Nu,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||Nu;d!==Nu&&typeof h[0]!="number"&&(this.mixKeyframes=mc(ZD,Zw(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=Sv(m));const{calculatedDuration:v}=m;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:v,repeat:y,repeatType:E,repeatDelay:w,type:x,onUpdate:D,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-m*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?U<0:U>o;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let B=this.currentTime,N=s;if(y){const A=Math.min(this.currentTime,o)/h;let R=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&R--,R=Math.min(R,y+1),R%2&&(E==="reverse"?(V=1-V,w&&(V-=w/h)):E==="mirror"&&(N=u)),B=ks(0,1,V)*h}const k=j?{done:!1,value:v[0]}:N.next(B);l&&(k.value=l(k.value));let{done:H}=k;!j&&d!==null&&(H=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return C&&x!==pg&&(k.value=wv(v,this.options,O,this.speed)),D&&D(k.value),C&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return Hi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Hi(e)}get time(){return Hi(this.currentTime)}set time(e){e=sr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Qn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Hi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=VD,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function WD(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Fo=t=>t*180/Math.PI,mg=t=>{const e=Fo(Math.atan2(t[1],t[0]));return gg(e)},JD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:mg,rotateZ:mg,skewX:t=>Fo(Math.atan(t[1])),skewY:t=>Fo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},gg=t=>(t=t%360,t<0&&(t+=360),t),S_=mg,w_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),C_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),e2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:w_,scaleY:C_,scale:t=>(w_(t)+C_(t))/2,rotateX:t=>gg(Fo(Math.atan2(t[6],t[5]))),rotateY:t=>gg(Fo(Math.atan2(-t[2],t[0]))),rotateZ:S_,rotate:S_,skewX:t=>Fo(Math.atan(t[4])),skewY:t=>Fo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function vg(t){return t.includes("scale")?1:0}function yg(t,e){if(!t||t==="none")return vg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=e2,o=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=JD,o=h}if(!o)return vg(e);const l=s[e],u=o[1].split(",").map(n2);return typeof l=="function"?l(u):u[l]}const t2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return yg(n,e)};function n2(t){return parseFloat(t.trim())}const fl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dl=new Set(fl),A_=t=>t===hl||t===we,i2=new Set(["x","y","z"]),s2=fl.filter(t=>!i2.has(t));function r2(t){const e=[];return s2.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const $r={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>yg(e,"x"),y:(t,{transform:e})=>yg(e,"y")};$r.translateX=$r.x;$r.translateY=$r.y;const qo=new Set;let bg=!1,Eg=!1,_g=!1;function tC(){if(Eg){const t=Array.from(qo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=r2(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Eg=!1,bg=!1,qo.forEach(t=>t.complete(_g)),qo.clear()}function nC(){qo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Eg=!0)})}function o2(){_g=!0,nC(),tC(),_g=!1}class xv{constructor(e,n,s,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(qo.add(this),bg||(bg=!0,Rt.read(nC),Rt.resolveKeyframes(tC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}WD(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qo.delete(this)}cancel(){this.state==="scheduled"&&(qo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const a2=t=>t.startsWith("--");function l2(t,e,n){a2(e)?t.style.setProperty(e,n):t.style[e]=n}const u2=mv(()=>window.ScrollTimeline!==void 0),c2={};function h2(t,e){const n=mv(t);return()=>c2[e]??n()}const iC=h2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,x_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mu([0,.65,.55,1]),circOut:Mu([.55,0,1,.45]),backIn:Mu([.31,.01,.66,-.59]),backOut:Mu([.33,1.53,.69,.99])};function sC(t,e){if(t)return typeof t=="function"?iC()?Ww(t,e):"ease-out":zw(t)?Mu(t):Array.isArray(t)?t.map(n=>sC(n,e)||x_.easeOut):x_[t]}function f2(t,e,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},m=void 0){const v={[e]:n};d&&(v.offset=d);const y=sC(h,o);Array.isArray(y)&&(v.easing=y);const E={delay:s,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(E.pseudoElement=m),t.animate(v,E)}function rC(t){return typeof t=="function"&&"applyToOptions"in t}function d2({type:t,...e}){return rC(t)&&iC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class p2 extends Cv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,pv(typeof e.type!="string");const m=d2(e);this.animation=f2(n,s,o,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=wv(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):l2(n,s,v),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Hi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Hi(e)}get time(){return Hi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=sr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&u2()?(this.animation.timeline=e,qi):n(this)}}const oC={anticipate:Nw,backInOut:kw,circInOut:jw};function m2(t){return t in oC}function g2(t){typeof t.ease=="string"&&m2(t.ease)&&(t.ease=oC[t.ease])}const Im=10;class v2 extends p2{constructor(e){g2(e),eC(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Av({...u,autoplay:!1}),d=Math.max(Im,Qn.now()-this.startTime),m=ks(0,Im,d-Im);n.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const R_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(io.test(t)||t==="0")&&!t.startsWith("url("));function y2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function b2(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=R_(o,e),h=R_(l,e);return!u||!h?!1:y2(t)||(n==="spring"||rC(n))&&s}function Tg(t){t.duration=0,t.type="keyframes"}const E2=new Set(["opacity","clipPath","filter","transform"]),_2=mv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function T2(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return _2()&&n&&E2.has(n)&&(n!=="transform"||!m)&&!d&&!s&&o!=="mirror"&&l!==0&&u!=="inertia"}const S2=40;class w2 extends Cv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:m,element:v,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Qn.now();const E={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:u,name:d,motionValue:m,element:v,...y},w=v?.KeyframeResolver||xv;this.keyframeResolver=new w(h,(x,D,O)=>this.onKeyframesResolved(x,D,E,!O),d,m,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:m,onUpdate:v}=s;this.resolvedAt=Qn.now(),b2(e,l,u,h)||((or.instantAnimations||!d)&&v?.(wv(e,s,n)),e[0]=e[e.length-1],Tg(s),s.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>S2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!m&&T2(E),x=E.motionValue?.owner?.current,D=w?new v2({...E,element:x}):new Av(E);D.finished.then(()=>{this.notifyFinished()}).catch(qi),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),o2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function aC(t,e,n,s=0,o=1){const l=Array.from(t).sort((m,v)=>m.sortNodePosition(v)).indexOf(e),u=t.size,h=(u-1)*s;return typeof n=="function"?n(l,u):o===1?l*s:h-l*s}const C2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function A2(t){const e=C2.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function lC(t,e,n=1){const[s,o]=A2(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return Rw(u)?parseFloat(u):u}return bv(o)?lC(o,e,n+1):o}const x2={type:"spring",stiffness:500,damping:25,restSpeed:10},R2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),L2={type:"keyframes",duration:.8},M2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},D2=(t,{keyframes:e})=>e.length>2?L2:dl.has(t)?t.startsWith("scale")?R2(e[1]):x2:M2,O2=t=>t!==null;function I2(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(O2),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}function Rv(t,e){return t?.[e]??t?.default??t}function V2({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:m,...v}){return!!Object.keys(v).length}const Lv=(t,e,n,s={},o,l)=>u=>{const h=Rv(s,t)||{},d=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-sr(d);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:o};V2(h)||Object.assign(v,D2(t,v)),v.duration&&(v.duration=sr(v.duration)),v.repeatDelay&&(v.repeatDelay=sr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let y=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Tg(v),v.delay===0&&(y=!0)),(or.instantAnimations||or.skipAnimations)&&(y=!0,Tg(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,y&&!l&&e.get()!==void 0){const E=I2(v.keyframes,h);if(E!==void 0){Rt.update(()=>{v.onUpdate(E),v.onComplete()});return}}return h.isSync?new Av(v):new w2(v)};function L_(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Mv(t,e,n,s){if(typeof e=="function"){const[o,l]=L_(s);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=L_(s);e=e(n!==void 0?n:t.custom,o,l)}return e}function Qa(t,e,n){const s=t.getProps();return Mv(s,e,n!==void 0?n:s.custom,t)}const uC=new Set(["width","height","top","left","right","bottom",...fl]),M_=30,P2=t=>!isNaN(parseFloat(t));class k2{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Qn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Qn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=P2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gv);const s=this.events[e].add(n);return e==="change"?()=>{s(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Qn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>M_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,M_);return Dw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function il(t,e){return new k2(t,e)}const Sg=t=>Array.isArray(t);function N2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,il(n))}function U2(t){return Sg(t)?t[t.length-1]||0:t}function j2(t,e){const n=Qa(t,e);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const u in l){const h=U2(l[u]);N2(t,u,h)}}const Fn=t=>!!(t&&t.getVelocity);function B2(t){return!!(Fn(t)&&t.add)}function wg(t,e){const n=t.getValue("willChange");if(B2(n))return n.add(e);if(!n&&or.WillChange){const s=new or.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Dv(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const z2="framerAppearId",cC="data-"+Dv(z2);function hC(t){return t.props[cC]}function F2({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function fC(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;const d=l?.reduceMotion;s&&(l=s);const m=[],v=o&&t.animationState&&t.animationState.getState()[o];for(const y in h){const E=t.getValue(y,t.latestValues[y]??null),w=h[y];if(w===void 0||v&&F2(v,y))continue;const x={delay:n,...Rv(l||{},y)},D=E.get();if(D!==void 0&&!E.isAnimating&&!Array.isArray(w)&&w===D&&!x.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const B=hC(t);if(B){const N=window.MotionHandoffAnimation(B,y,Rt);N!==null&&(x.startTime=N,O=!0)}}wg(t,y);const U=d??t.shouldReduceMotion;E.start(Lv(y,E,w,U&&uC.has(y)?{type:!1}:x,t,O));const j=E.animation;j&&m.push(j)}return u&&Promise.all(m).then(()=>{Rt.update(()=>{u&&j2(t,u)})}),m}function Cg(t,e,n={}){const s=Qa(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(fC(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:y}=o;return H2(t,e,d,m,v,y,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[d,m]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>m())}else return Promise.all([l(),u(n.delay)])}function H2(t,e,n=0,s=0,o=0,l=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(Cg(d,e,{...u,delay:n+(typeof s=="function"?0:s)+aC(t.variantChildren,d,s,o,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function q2(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>Cg(t,l,n));s=Promise.all(o)}else if(typeof e=="string")s=Cg(t,e,n);else{const o=typeof e=="function"?Qa(t,e,n.custom):e;s=Promise.all(fC(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const G2={test:t=>t==="auto",parse:t=>t},dC=t=>e=>e.test(t),pC=[hl,we,Os,Hr,yD,vD,G2],D_=t=>pC.find(dC(t));function K2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Mw(t):!0}const Y2=new Set(["brightness","contrast","saturate","opacity"]);function $2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Ev)||[];if(!s)return t;const o=n.replace(s,"");let l=Y2.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+o+")"}const X2=/\b([a-z-]*)\(.*?\)/gu,Ag={...io,getAnimatableNone:t=>{const e=t.match(X2);return e?e.map($2).join(" "):t}},O_={...hl,transform:Math.round},Q2={rotate:Hr,rotateX:Hr,rotateY:Hr,rotateZ:Hr,scale:Qh,scaleX:Qh,scaleY:Qh,scaleZ:Qh,skew:Hr,skewX:Hr,skewY:Hr,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Zu,originX:y_,originY:y_,originZ:we},Ov={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,inset:we,insetBlock:we,insetBlockStart:we,insetBlockEnd:we,insetInline:we,insetInlineStart:we,insetInlineEnd:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,paddingBlock:we,paddingBlockStart:we,paddingBlockEnd:we,paddingInline:we,paddingInlineStart:we,paddingInlineEnd:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,marginBlock:we,marginBlockStart:we,marginBlockEnd:we,marginInline:we,marginInlineStart:we,marginInlineEnd:we,fontSize:we,backgroundPositionX:we,backgroundPositionY:we,...Q2,zIndex:O_,fillOpacity:Zu,strokeOpacity:Zu,numOctaves:O_},Z2={...Ov,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:Ag,WebkitFilter:Ag},mC=t=>Z2[t];function gC(t,e){let n=mC(t);return n!==Ag&&(n=io),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const W2=new Set(["auto","none","0"]);function J2(t,e,n){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!W2.has(l)&&Wu(l).values.length&&(o=t[s]),s++}if(o&&n)for(const l of e)t[l]=gC(n,o)}class eO extends xv{constructor(e,n,s,o,l){super(e,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let y=e[v];if(typeof y=="string"&&(y=y.trim(),bv(y))){const E=lC(y,n.current);E!==void 0&&(e[v]=E),v===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!uC.has(s)||e.length!==2)return;const[o,l]=e,u=D_(o),h=D_(l),d=v_(o),m=v_(l);if(d!==m&&$r[s]){this.needsMeasurement=!0;return}if(u!==h)if(A_(u)&&A_(h))for(let v=0;v<e.length;v++){const y=e[v];typeof y=="string"&&(e[v]=parseFloat(y))}else $r[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||K2(e[o]))&&s.push(o);s.length&&J2(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$r[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=$r[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function tO(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=n?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(s=>s!=null)}const vC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function xg(t){return Lw(t)&&"offsetHeight"in t}const{schedule:Iv}=Fw(queueMicrotask,!1),ss={x:!1,y:!1};function yC(){return ss.x||ss.y}function nO(t){return t==="x"||t==="y"?ss[t]?null:(ss[t]=!0,()=>{ss[t]=!1}):ss.x||ss.y?null:(ss.x=ss.y=!0,()=>{ss.x=ss.y=!1})}function bC(t,e){const n=tO(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function I_(t){return!(t.pointerType==="touch"||yC())}function iO(t,e,n={}){const[s,o,l]=bC(t,n),u=h=>{if(!I_(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const v=y=>{I_(y)&&(m(y),d.removeEventListener("pointerleave",v))};d.addEventListener("pointerleave",v,o)};return s.forEach(h=>{h.addEventListener("pointerenter",u,o)}),l}const EC=(t,e)=>e?t===e?!0:EC(t,e.parentElement):!1,Vv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,sO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _C(t){return sO.has(t.tagName)||t.isContentEditable===!0}const ff=new WeakSet;function V_(t){return e=>{e.key==="Enter"&&t(e)}}function Vm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rO=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=V_(()=>{if(ff.has(n))return;Vm(n,"down");const o=V_(()=>{Vm(n,"up")}),l=()=>Vm(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function P_(t){return Vv(t)&&!yC()}function oO(t,e,n={}){const[s,o,l]=bC(t,n),u=h=>{const d=h.currentTarget;if(!P_(h))return;ff.add(d);const m=e(d,h),v=(w,x)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",E),ff.has(d)&&ff.delete(d),P_(w)&&typeof m=="function"&&m(w,{success:x})},y=w=>{v(w,d===window||d===document||n.useGlobalTarget||EC(d,w.target))},E=w=>{v(w,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",E,o)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,o),xg(h)&&(h.addEventListener("focus",m=>rO(m,o)),!_C(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function TC(t){return Lw(t)&&"ownerSVGElement"in t}function aO(t){return TC(t)&&t.tagName==="svg"}const lO=[...pC,sn,io],uO=t=>lO.find(dC(t)),k_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ka=()=>({x:k_(),y:k_()}),N_=()=>({min:0,max:0}),ln=()=>({x:N_(),y:N_()}),Rg={current:null},SC={current:!1},cO=typeof window<"u";function hO(){if(SC.current=!0,!!cO)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rg.current=t.matches;t.addEventListener("change",e),e()}else Rg.current=!1}const fO=new WeakMap;function od(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ju(t){return typeof t=="string"||Array.isArray(t)}const Pv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kv=["initial",...Pv];function ad(t){return od(t.animate)||kv.some(e=>Ju(t[e]))}function wC(t){return!!(ad(t)||t.variants)}function dO(t,e,n){for(const s in e){const o=e[s],l=n[s];if(Fn(o))t.addValue(s,o);else if(Fn(l))t.addValue(s,il(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(s);t.addValue(s,il(u!==void 0?u:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const U_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Af={};function CC(t){Af=t}function pO(){return Af}class mO{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Qn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Rt.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=ad(n),this.isVariantNode=wC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in y){const w=y[E];d[E]!==void 0&&Fn(w)&&w.set(d[E])}}mount(e){this.current=e,fO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(SC.current||hO(),this.shouldReduceMotion=Rg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),no(this.notifyUpdate),no(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=dl.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Af){const n=Af[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<U_.length;s++){const o=U_[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=dO(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=il(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Rw(s)||Mw(s))?s=parseFloat(s):!uO(s)&&io.test(n)&&(s=gC(e,n)),this.setBaseTarget(e,Fn(s)?s.get():s)),Fn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Mv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Fn(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Iv.render(this.render)}}class AC extends mO{constructor(){super(...arguments),this.KeyframeResolver=eO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class co{constructor(e){this.isMounted=!1,this.node=e}update(){}}function xC({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function gO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Pm(t){return t===void 0||t===1}function Lg({scale:t,scaleX:e,scaleY:n}){return!Pm(t)||!Pm(e)||!Pm(n)}function Uo(t){return Lg(t)||RC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function RC(t){return j_(t.x)||j_(t.y)}function j_(t){return t&&t!=="0%"}function xf(t,e,n){const s=t-n,o=e*s;return n+o}function B_(t,e,n,s,o){return o!==void 0&&(t=xf(t,o,s)),xf(t,n,s)+e}function Mg(t,e=0,n=1,s,o){t.min=B_(t.min,e,n,s,o),t.max=B_(t.max,e,n,s,o)}function LC(t,{x:e,y:n}){Mg(t.x,e.translate,e.scale,e.originPoint),Mg(t.y,n.translate,n.scale,n.originPoint)}const z_=.999999999999,F_=1.0000000000001;function yO(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,u;for(let h=0;h<o;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&$a(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,LC(t,u)),s&&Uo(l.latestValues)&&$a(t,l.latestValues))}e.x<F_&&e.x>z_&&(e.x=1),e.y<F_&&e.y>z_&&(e.y=1)}function Ya(t,e){t.min=t.min+e,t.max=t.max+e}function H_(t,e,n,s,o=.5){const l=Vt(t.min,t.max,o);Mg(t,e,n,l,s)}function $a(t,e){H_(t.x,e.x,e.scaleX,e.scale,e.originX),H_(t.y,e.y,e.scaleY,e.scale,e.originY)}function MC(t,e){return xC(vO(t.getBoundingClientRect(),e))}function bO(t,e,n){const s=MC(t,n),{scroll:o}=e;return o&&(Ya(s.x,o.offset.x),Ya(s.y,o.offset.y)),s}const EO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_O=fl.length;function TO(t,e,n){let s="",o=!0;for(let l=0;l<_O;l++){const u=fl[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number")d=h===(u.startsWith("scale")?1:0);else{const m=parseFloat(h);d=u.startsWith("scale")?m===1:m===0}if(!d||n){const m=vC(h,Ov[u]);if(!d){o=!1;const v=EO[u]||u;s+=`${v}(${m}) `}n&&(e[u]=m)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function Nv(t,e,n){const{style:s,vars:o,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const m=e[d];if(dl.has(d)){u=!0;continue}else if(qw(d)){o[d]=m;continue}else{const v=vC(m,Ov[d]);d.startsWith("origin")?(h=!0,l[d]=v):s[d]=v}}if(e.transform||(u||n?s.transform=TO(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:v=0}=l;s.transformOrigin=`${d} ${m} ${v}`}}function DC(t,{style:e,vars:n},s,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function q_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=q_(t,e.target.x),s=q_(t,e.target.y);return`${n}% ${s}%`}},SO={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=io.parse(t);if(o.length>5)return s;const l=io.createTransformer(t),u=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;o[0+u]/=h,o[1+u]/=d;const m=Vt(h,d,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}},Dg={borderRadius:{...Tu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tu,borderTopRightRadius:Tu,borderBottomLeftRadius:Tu,borderBottomRightRadius:Tu,boxShadow:SO};function OC(t,{layout:e,layoutId:n}){return dl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Dg[t]||t==="opacity")}function Uv(t,e,n){const s=t.style,o=e?.style,l={};if(!s)return l;for(const u in s)(Fn(s[u])||o&&Fn(o[u])||OC(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function wO(t){return window.getComputedStyle(t)}class CO extends AC{constructor(){super(...arguments),this.type="html",this.renderInstance=DC}readValueFromInstance(e,n){if(dl.has(n))return this.projection?.isProjecting?vg(n):t2(e,n);{const s=wO(e),o=(qw(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return MC(e,n)}build(e,n,s){Nv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Uv(e,n,s)}}const AO={offset:"stroke-dashoffset",array:"stroke-dasharray"},xO={offset:"strokeDashoffset",array:"strokeDasharray"};function RO(t,e,n=1,s=0,o=!0){t.pathLength=1;const l=o?AO:xO;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const LO=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function IC(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...h},d,m,v){if(Nv(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:E}=t;y.transform&&(E.transform=y.transform,delete y.transform),(E.transform||y.transformOrigin)&&(E.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),E.transform&&(E.transformBox=v?.transformBox??"fill-box",delete y.transformBox);for(const w of LO)y[w]!==void 0&&(E[w]=y[w],delete y[w]);e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),s!==void 0&&(y.scale=s),o!==void 0&&RO(y,o,l,u,!1)}const VC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),PC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function MO(t,e,n,s){DC(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(VC.has(o)?o:Dv(o),e.attrs[o])}function kC(t,e,n){const s=Uv(t,e,n);for(const o in t)if(Fn(t[o])||Fn(e[o])){const l=fl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}class DO extends AC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ln}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(dl.has(n)){const s=mC(n);return s&&s.default||0}return n=VC.has(n)?n:Dv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return kC(e,n,s)}build(e,n,s){IC(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){MO(e,n,s,o)}mount(e){this.isSVGTag=PC(e.tagName),super.mount(e)}}const OO=kv.length;function NC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?NC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<OO;n++){const s=kv[n],o=t.props[s];(Ju(o)||o===!1)&&(e[s]=o)}return e}function UC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const IO=[...Pv].reverse(),VO=Pv.length;function PO(t){return e=>Promise.all(e.map(({animation:n,options:s})=>q2(t,n,s)))}function kO(t){let e=PO(t),n=G_(),s=!0;const o=d=>(m,v)=>{const y=Qa(t,v,d==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:E,transitionEnd:w,...x}=y;m={...m,...x,...w}}return m};function l(d){e=d(t)}function u(d){const{props:m}=t,v=NC(t.parent)||{},y=[],E=new Set;let w={},x=1/0;for(let O=0;O<VO;O++){const U=IO[O],j=n[U],B=m[U]!==void 0?m[U]:v[U],N=Ju(B),k=U===d?j.isActive:null;k===!1&&(x=O);let H=B===v[U]&&B!==m[U]&&N;if(H&&s&&t.manuallyAnimateOnMount&&(H=!1),j.protectedKeys={...w},!j.isActive&&k===null||!B&&!j.prevProp||od(B)||typeof B=="boolean")continue;const C=NO(j.prevProp,B);let A=C||U===d&&j.isActive&&!H&&N||O>x&&N,R=!1;const V=Array.isArray(B)?B:[B];let I=V.reduce(o(U),{});k===!1&&(I={});const{prevResolvedValues:F={}}=j,P={...F,...I},me=ie=>{A=!0,E.has(ie)&&(R=!0,E.delete(ie)),j.needsAnimating[ie]=!0;const ce=t.getValue(ie);ce&&(ce.liveStyle=!1)};for(const ie in P){const ce=I[ie],ge=F[ie];if(w.hasOwnProperty(ie))continue;let ye=!1;Sg(ce)&&Sg(ge)?ye=!UC(ce,ge):ye=ce!==ge,ye?ce!=null?me(ie):E.add(ie):ce!==void 0&&E.has(ie)?me(ie):j.protectedKeys[ie]=!0}j.prevProp=B,j.prevResolvedValues=I,j.isActive&&(w={...w,...I}),s&&t.blockInitialAnimation&&(A=!1);const be=H&&C;A&&(!be||R)&&y.push(...V.map(ie=>{const ce={type:U};if(typeof ie=="string"&&s&&!be&&t.manuallyAnimateOnMount&&t.parent){const{parent:ge}=t,ye=Qa(ge,ie);if(ge.enteringChildren&&ye){const{delayChildren:z}=ye.transition||{};ce.delay=aC(ge.enteringChildren,t,z)}}return{animation:ie,options:ce}}))}if(E.size){const O={};if(typeof m.initial!="boolean"){const U=Qa(t,Array.isArray(m.initial)?m.initial[0]:m.initial);U&&U.transition&&(O.transition=U.transition)}E.forEach(U=>{const j=t.getBaseTarget(U),B=t.getValue(U);B&&(B.liveStyle=!0),O[U]=j??null}),y.push({animation:O})}let D=!!y.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(D=!1),s=!1,D?e(y):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(d,m)),n[d].isActive=m;const v=u(d);for(const y in n)n[y].protectedKeys={};return v}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=G_()}}}function NO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UC(e,t):!1}function ko(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function G_(){return{animate:ko(!0),whileInView:ko(),whileHover:ko(),whileTap:ko(),whileDrag:ko(),whileFocus:ko(),exit:ko()}}function K_(t,e){t.min=e.min,t.max=e.max}function is(t,e){K_(t.x,e.x),K_(t.y,e.y)}function Y_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const jC=1e-4,UO=1-jC,jO=1+jC,BC=.01,BO=0-BC,zO=0+BC;function Zn(t){return t.max-t.min}function FO(t,e,n){return Math.abs(t-e)<=n}function $_(t,e,n,s=.5){t.origin=s,t.originPoint=Vt(e.min,e.max,t.origin),t.scale=Zn(n)/Zn(e),t.translate=Vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=UO&&t.scale<=jO||isNaN(t.scale))&&(t.scale=1),(t.translate>=BO&&t.translate<=zO||isNaN(t.translate))&&(t.translate=0)}function Uu(t,e,n,s){$_(t.x,e.x,n.x,s?s.originX:void 0),$_(t.y,e.y,n.y,s?s.originY:void 0)}function X_(t,e,n){t.min=n.min+e.min,t.max=t.min+Zn(e)}function HO(t,e,n){X_(t.x,e.x,n.x),X_(t.y,e.y,n.y)}function Q_(t,e,n){t.min=e.min-n.min,t.max=t.min+Zn(e)}function Rf(t,e,n){Q_(t.x,e.x,n.x),Q_(t.y,e.y,n.y)}function Z_(t,e,n,s,o){return t-=e,t=xf(t,1/n,s),o!==void 0&&(t=xf(t,1/o,s)),t}function qO(t,e=0,n=1,s=.5,o,l=t,u=t){if(Os.test(e)&&(e=parseFloat(e),e=Vt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Vt(l.min,l.max,s);t===l&&(h-=e),t.min=Z_(t.min,e,n,h,o),t.max=Z_(t.max,e,n,h,o)}function W_(t,e,[n,s,o],l,u){qO(t,e[n],e[s],e[o],e.scale,l,u)}const GO=["x","scaleX","originX"],KO=["y","scaleY","originY"];function J_(t,e,n,s){W_(t.x,e,GO,n?n.x:void 0,s?s.x:void 0),W_(t.y,e,KO,n?n.y:void 0,s?s.y:void 0)}function eT(t){return t.translate===0&&t.scale===1}function zC(t){return eT(t.x)&&eT(t.y)}function tT(t,e){return t.min===e.min&&t.max===e.max}function YO(t,e){return tT(t.x,e.x)&&tT(t.y,e.y)}function nT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function FC(t,e){return nT(t.x,e.x)&&nT(t.y,e.y)}function iT(t){return Zn(t.x)/Zn(t.y)}function sT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Ui(t){return[t("x"),t("y")]}function $O(t,e,n){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((o||l||u)&&(s=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:v,rotateX:y,rotateY:E,skewX:w,skewY:x}=n;m&&(s=`perspective(${m}px) ${s}`),v&&(s+=`rotate(${v}deg) `),y&&(s+=`rotateX(${y}deg) `),E&&(s+=`rotateY(${E}deg) `),w&&(s+=`skewX(${w}deg) `),x&&(s+=`skewY(${x}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const HC=["TopLeft","TopRight","BottomLeft","BottomRight"],XO=HC.length,rT=t=>typeof t=="string"?parseFloat(t):t,oT=t=>typeof t=="number"||we.test(t);function QO(t,e,n,s,o,l){o?(t.opacity=Vt(0,n.opacity??1,ZO(s)),t.opacityExit=Vt(e.opacity??1,0,WO(s))):l&&(t.opacity=Vt(e.opacity??1,n.opacity??1,s));for(let u=0;u<XO;u++){const h=`border${HC[u]}Radius`;let d=aT(e,h),m=aT(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||oT(d)===oT(m)?(t[h]=Math.max(Vt(rT(d),rT(m),s),0),(Os.test(m)||Os.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Vt(e.rotate||0,n.rotate||0,s))}function aT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ZO=qC(0,.5,Uw),WO=qC(.5,.95,qi);function qC(t,e,n){return s=>s<t?0:s>e?1:n(Qu(t,e,s))}function JO(t,e,n){const s=Fn(t)?t:il(t);return s.start(Lv("",s,e,n)),s.animation}function ec(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const eI=(t,e)=>t.depth-e.depth;class tI{constructor(){this.children=[],this.isDirty=!1}add(e){fv(this.children,e),this.isDirty=!0}remove(e){dv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eI),this.isDirty=!1,this.children.forEach(e)}}function nI(t,e){const n=Qn.now(),s=({timestamp:o})=>{const l=o-n;l>=e&&(no(s),t(l-e))};return Rt.setup(s,!0),()=>no(s)}function df(t){return Fn(t)?t.get():t}class iI{constructor(){this.members=[]}add(e){fv(this.members,e),e.scheduleRender()}remove(e){if(dv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const o=s.options.layoutDependency,l=e.options.layoutDependency;o!==void 0&&l!==void 0&&o===l||(e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:h}=e.options;h===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const pf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},km=["","X","Y","Z"],sI=1e3;let rI=0;function Nm(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function GC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=hC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Rt,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&GC(s)}function KC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},h=e?.()){this.id=rI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lI),this.nodes.forEach(fI),this.nodes.forEach(dI),this.nodes.forEach(uI)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new tI)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new gv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=TC(u)&&!aO(u),this.instance=u;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let v,y=0;const E=()=>this.root.updateBlockedByResize=!1;Rt.read(()=>{y=window.innerWidth}),t(u,()=>{const w=window.innerWidth;w!==y&&(y=w,this.root.updateBlockedByResize=!0,v&&v(),v=nI(E,250),pf.hasAnimatedSinceResize&&(pf.hasAnimatedSinceResize=!1,this.nodes.forEach(cT)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:y,hasRelativeLayoutChanged:E,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||m.getDefaultTransition()||yI,{onLayoutAnimationStart:D,onLayoutAnimationComplete:O}=m.getProps(),U=!this.targetLayout||!FC(this.targetLayout,w),j=!y&&E;if(this.options.layoutRoot||this.resumeFrom||j||y&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...Rv(x,"layout"),onPlay:D,onComplete:O};(m.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(v,j)}else y||cT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),no(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pI),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const y=this.path[v];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(uT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hI),this.nodes.forEach(oI),this.nodes.forEach(aI)):this.nodes.forEach(uT),this.clearAllSnapshots();const h=Qn.now();Dn.delta=ks(0,1e3/60,h-Dn.timestamp),Dn.timestamp=h,Dn.isProcessing=!0,Rm.update.process(Dn),Rm.preRender.process(Dn),Rm.render.process(Dn),Dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cI),this.sharedNodes.forEach(mI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zn(this.snapshot.measuredBox.x)&&!Zn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!zC(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||Uo(this.latestValues)||v)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),bI(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return ln();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(EI))){const{scroll:m}=this.root;m&&(Ya(h.x,m.offset.x),Ya(h.y,m.offset.y))}return h}removeElementScroll(u){const h=ln();if(is(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:v,options:y}=m;m!==this.root&&v&&y.layoutScroll&&(v.wasRoot&&is(h,u),Ya(h.x,v.offset.x),Ya(h.y,v.offset.y))}return h}applyTransform(u,h=!1){const d=ln();is(d,u);for(let m=0;m<this.path.length;m++){const v=this.path[m];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&$a(d,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Uo(v.latestValues)&&$a(d,v.latestValues)}return Uo(this.latestValues)&&$a(d,this.latestValues),d}removeTransform(u){const h=ln();is(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Uo(m.latestValues))continue;Lg(m.latestValues)&&m.updateSnapshot();const v=ln(),y=m.measurePageBox();is(v,y),J_(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return Uo(this.latestValues)&&J_(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:y}=this.options;if(!this.layout||!(v||y))return;this.resolvedRelativeTargetAt=Dn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ln(),this.targetWithTransforms=ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):is(this.target,this.layout.layoutBox),LC(this.target,this.targetDelta)):is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Lg(this.parent.latestValues)||RC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),Rf(this.relativeTargetOrigin,h,d),is(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Dn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;is(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,E=this.treeScale.y;yO(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ln());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Y_(this.prevProjectionDelta.x,this.projectionDelta.x),Y_(this.prevProjectionDelta.y,this.projectionDelta.y)),Uu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==E||!sT(this.projectionDelta.x,this.prevProjectionDelta.x)||!sT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ka(),this.projectionDelta=Ka(),this.projectionDeltaWithTransform=Ka()}setAnimationOrigin(u,h=!1){const d=this.snapshot,m=d?d.latestValues:{},v={...this.latestValues},y=Ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=ln(),w=d?d.source:void 0,x=this.layout?this.layout.source:void 0,D=w!==x,O=this.getStack(),U=!O||O.members.length<=1,j=!!(D&&!U&&this.options.crossfade===!0&&!this.path.some(vI));this.animationProgress=0;let B;this.mixTargetDelta=N=>{const k=N/1e3;hT(y.x,u.x,k),hT(y.y,u.y,k),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rf(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gI(this.relativeTarget,this.relativeTargetOrigin,E,k),B&&YO(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=ln()),is(B,this.relativeTarget)),D&&(this.animationValues=v,QO(v,m,this.latestValues,k,j,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(no(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{pf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=il(0)),this.currentAnimation=JO(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:v}=u;if(!(!h||!d||!m)){if(this!==u&&this.layout&&m&&YC(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||ln();const y=Zn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+y;const E=Zn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+E}is(h,d),$a(h,v),Uu(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new iI),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Nm("z",u,m,this.animationValues);for(let v=0;v<km.length;v++)Nm(`rotate${km[v]}`,u,m,this.animationValues),Nm(`skew${km[v]}`,u,m,this.animationValues);u.render();for(const v in m)u.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=df(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=df(h?.pointerEvents)||""),this.hasProjected&&!Uo(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=m.animationValues||m.latestValues;this.applyTransformsToTarget();let y=$O(this.projectionDeltaWithTransform,this.treeScale,v);d&&(y=d(v,y)),u.transform=y;const{x:E,y:w}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${w.origin*100}% 0`,m.animationValues?u.opacity=m===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=m===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const x in Dg){if(v[x]===void 0)continue;const{correct:D,applyTo:O,isCSSVariable:U}=Dg[x],j=y==="none"?v[x]:D(v[x],m);if(O){const B=O.length;for(let N=0;N<B;N++)u[O[N]]=j}else U?this.options.visualElement.renderState.vars[x]=j:u[x]=j}this.options.layoutId&&(u.pointerEvents=m===this?df(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(lT),this.root.sharedNodes.clear()}}}function oI(t){t.updateLayout()}function aI(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?Ui(v=>{const y=l?e.measuredBox[v]:e.layoutBox[v],E=Zn(y);y.min=n[v].min,y.max=y.min+E}):YC(o,e.layoutBox,n)&&Ui(v=>{const y=l?e.measuredBox[v]:e.layoutBox[v],E=Zn(n[v]);y.max=y.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+E)});const u=Ka();Uu(u,n,e.layoutBox);const h=Ka();l?Uu(h,t.applyTransform(s,!0),e.measuredBox):Uu(h,n,e.layoutBox);const d=!zC(u);let m=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:y,layout:E}=v;if(y&&E){const w=ln();Rf(w,e.layoutBox,y.layoutBox);const x=ln();Rf(x,n,E.layoutBox),FC(w,x)||(m=!0),v.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=w,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function lI(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uI(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cI(t){t.clearSnapshot()}function lT(t){t.clearMeasurements()}function uT(t){t.isLayoutDirty=!1}function hI(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fI(t){t.resolveTargetDelta()}function dI(t){t.calcProjection()}function pI(t){t.resetSkewAndRotation()}function mI(t){t.removeLeadSnapshot()}function hT(t,e,n){t.translate=Vt(e.translate,0,n),t.scale=Vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fT(t,e,n,s){t.min=Vt(e.min,n.min,s),t.max=Vt(e.max,n.max,s)}function gI(t,e,n,s){fT(t.x,e.x,n.x,s),fT(t.y,e.y,n.y,s)}function vI(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yI={duration:.45,ease:[.4,0,.1,1]},dT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),pT=dT("applewebkit/")&&!dT("chrome/")?Math.round:qi;function mT(t){t.min=pT(t.min),t.max=pT(t.max)}function bI(t){mT(t.x),mT(t.y)}function YC(t,e,n){return t==="position"||t==="preserve-aspect"&&!FO(iT(e),iT(n),.2)}function EI(t){return t!==t.root&&t.scroll?.wasRoot}const _I=KC({attachResizeListener:(t,e)=>ec(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Um={current:void 0},$C=KC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Um.current){const t=new _I({});t.mount(window),t.setOptions({layoutScroll:!0}),Um.current=t}return Um.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),jv=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function gT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function TI(...t){return e=>{let n=!1;const s=t.map(o=>{const l=gT(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():gT(t[o],null)}}}}function SI(...t){return b.useCallback(TI(...t),t)}class wI extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=xg(s)&&s.offsetWidth||0,l=xg(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function CI({children:t,isPresent:e,anchorX:n,anchorY:s,root:o}){const l=b.useId(),u=b.useRef(null),h=b.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=b.useContext(jv),m=t.props?.ref??t?.ref,v=SI(u,m);return b.useInsertionEffect(()=>{const{width:y,height:E,top:w,left:x,right:D,bottom:O}=h.current;if(e||!u.current||!y||!E)return;const U=n==="left"?`left: ${x}`:`right: ${D}`,j=s==="bottom"?`bottom: ${O}`:`top: ${w}`;u.current.dataset.motionPopId=l;const B=document.createElement("style");d&&(B.nonce=d);const N=o??document.head;return N.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${E}px !important;
            ${U}px !important;
            ${j}px !important;
          }
        `),()=>{N.contains(B)&&N.removeChild(B)}},[e]),K.jsx(wI,{isPresent:e,childRef:u,sizeRef:h,children:b.cloneElement(t,{ref:v})})}const AI=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:u,anchorX:h,anchorY:d,root:m})=>{const v=hv(xI),y=b.useId();let E=!0,w=b.useMemo(()=>(E=!1,{id:y,initial:e,isPresent:n,custom:o,onExitComplete:x=>{v.set(x,!0);for(const D of v.values())if(!D)return;s&&s()},register:x=>(v.set(x,!1),()=>v.delete(x))}),[n,v,s]);return l&&E&&(w={...w}),b.useMemo(()=>{v.forEach((x,D)=>v.set(D,!1))},[n]),b.useEffect(()=>{!n&&!v.size&&s&&s()},[n]),u==="popLayout"&&(t=K.jsx(CI,{isPresent:n,anchorX:h,anchorY:d,root:m,children:t})),K.jsx(rd.Provider,{value:w,children:t})};function xI(){return new Map}function XC(t=!0){const e=b.useContext(rd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,l=b.useId();b.useEffect(()=>{if(t)return o(l)},[t]);const u=b.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Zh=t=>t.key||"";function vT(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const RI=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",anchorY:d="top",root:m})=>{const[v,y]=XC(u),E=b.useMemo(()=>vT(t),[t]),w=u&&!v?[]:E.map(Zh),x=b.useRef(!0),D=b.useRef(E),O=hv(()=>new Map),U=b.useRef(new Set),[j,B]=b.useState(E),[N,k]=b.useState(E);xw(()=>{x.current=!1,D.current=E;for(let A=0;A<N.length;A++){const R=Zh(N[A]);w.includes(R)?(O.delete(R),U.current.delete(R)):O.get(R)!==!0&&O.set(R,!1)}},[N,w.length,w.join("-")]);const H=[];if(E!==j){let A=[...E];for(let R=0;R<N.length;R++){const V=N[R],I=Zh(V);w.includes(I)||(A.splice(R,0,V),H.push(V))}return l==="wait"&&H.length&&(A=H),k(vT(A)),B(E),null}const{forceRender:C}=b.useContext(cv);return K.jsx(K.Fragment,{children:N.map(A=>{const R=Zh(A),V=u&&!v?!1:E===N||w.includes(R),I=()=>{if(U.current.has(R))return;if(U.current.add(R),O.has(R))O.set(R,!0);else return;let F=!0;O.forEach(P=>{P||(F=!1)}),F&&(C?.(),k(D.current),u&&y?.(),s&&s())};return K.jsx(AI,{isPresent:V,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:m,onExitComplete:V?void 0:I,anchorX:h,anchorY:d,children:A},R)})})},QC=b.createContext({strict:!1}),yT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let bT=!1;function LI(){if(bT)return;const t={};for(const e in yT)t[e]={isEnabled:n=>yT[e].some(s=>!!n[s])};CC(t),bT=!0}function ZC(){return LI(),pO()}function MI(t){const e=ZC();for(const n in t)e[n]={...e[n],...t[n]};CC(e)}const DI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||DI.has(t)}let WC=t=>!Lf(t);function OI(t){typeof t=="function"&&(WC=e=>e.startsWith("on")?!Lf(e):t(e))}try{OI(require("@emotion/is-prop-valid").default)}catch{}function II(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(WC(o)||n===!0&&Lf(o)||!e&&!Lf(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const ld=b.createContext({});function VI(t,e){if(ad(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ju(n)?n:void 0,animate:Ju(s)?s:void 0}}return t.inherit!==!1?e:{}}function PI(t){const{initial:e,animate:n}=VI(t,b.useContext(ld));return b.useMemo(()=>({initial:e,animate:n}),[ET(e),ET(n)])}function ET(t){return Array.isArray(t)?t.join(" "):t}const Bv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JC(t,e,n){for(const s in e)!Fn(e[s])&&!OC(s,n)&&(t[s]=e[s])}function kI({transformTemplate:t},e){return b.useMemo(()=>{const n=Bv();return Nv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function NI(t,e){const n=t.style||{},s={};return JC(s,n,t),Object.assign(s,kI(t,e)),s}function UI(t,e){const n={},s=NI(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const eA=()=>({...Bv(),attrs:{}});function jI(t,e,n,s){const o=b.useMemo(()=>{const l=eA();return IC(l,e,PC(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};JC(l,t.style,t),o.style={...l,...o.style}}return o}const BI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zv(t){return typeof t!="string"||t.includes("-")?!1:!!(BI.indexOf(t)>-1||/[A-Z]/u.test(t))}function zI(t,e,n,{latestValues:s},o,l=!1,u){const d=(u??zv(t)?jI:UI)(e,s,o,t),m=II(e,typeof t=="string",l),v=t!==b.Fragment?{...m,...d,ref:n}:{},{children:y}=e,E=b.useMemo(()=>Fn(y)?y.get():y,[y]);return b.createElement(t,{...v,children:E})}function FI({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:HI(n,s,o,t),renderState:e()}}function HI(t,e,n,s){const o={},l=s(t,{});for(const E in l)o[E]=df(l[E]);let{initial:u,animate:h}=t;const d=ad(t),m=wC(t);e&&m&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const y=v?h:u;if(y&&typeof y!="boolean"&&!od(y)){const E=Array.isArray(y)?y:[y];for(let w=0;w<E.length;w++){const x=Mv(t,E[w]);if(x){const{transitionEnd:D,transition:O,...U}=x;for(const j in U){let B=U[j];if(Array.isArray(B)){const N=v?B.length-1:0;B=B[N]}B!==null&&(o[j]=B)}for(const j in D)o[j]=D[j]}}}return o}const tA=t=>(e,n)=>{const s=b.useContext(ld),o=b.useContext(rd),l=()=>FI(t,e,s,o);return n?l():hv(l)},qI=tA({scrapeMotionValuesFromProps:Uv,createRenderState:Bv}),GI=tA({scrapeMotionValuesFromProps:kC,createRenderState:eA}),KI=Symbol.for("motionComponentSymbol");function YI(t,e,n){const s=b.useRef(n);b.useInsertionEffect(()=>{s.current=n});const o=b.useRef(null);return b.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const h=u(l);typeof h=="function"&&(o.current=h)}else o.current?(o.current(),o.current=null):u(l);else u&&(u.current=l)},[e])}const nA=b.createContext({});function Du(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $I(t,e,n,s,o,l){const{visualElement:u}=b.useContext(ld),h=b.useContext(QC),d=b.useContext(rd),m=b.useContext(jv).reducedMotion,v=b.useRef(null),y=b.useRef(!1);s=s||h.renderer,!v.current&&s&&(v.current=s(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,isSVG:l}),y.current&&v.current&&(v.current.manuallyAnimateOnMount=!0));const E=v.current,w=b.useContext(nA);E&&!E.projection&&o&&(E.type==="html"||E.type==="svg")&&XI(v.current,n,o,w);const x=b.useRef(!1);b.useInsertionEffect(()=>{E&&x.current&&E.update(n,d)});const D=n[cC],O=b.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return xw(()=>{y.current=!0,E&&(x.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),E.scheduleRenderMicrotask(),O.current&&E.animationState&&E.animationState.animateChanges())}),b.useEffect(()=>{E&&(!O.current&&E.animationState&&E.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),O.current=!1),E.enteringChildren=void 0)}),E}function XI(t,e,n,s){const{layoutId:o,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:iA(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||h&&Du(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:d,layoutRoot:m})}function iA(t){if(t)return t.options.allowProjection!==!1?t.projection:iA(t.parent)}function jm(t,{forwardMotionProps:e=!1,type:n}={},s,o){s&&MI(s);const l=n?n==="svg":zv(t),u=l?GI:qI;function h(m,v){let y;const E={...b.useContext(jv),...m,layoutId:QI(m)},{isStatic:w}=E,x=PI(m),D=u(m,w);if(!w&&Aw){ZI();const O=WI(E);y=O.MeasureLayout,x.visualElement=$I(t,D,E,o,O.ProjectionNode,l)}return K.jsxs(ld.Provider,{value:x,children:[y&&x.visualElement?K.jsx(y,{visualElement:x.visualElement,...E}):null,zI(t,m,YI(D,x.visualElement,v),D,w,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=b.forwardRef(h);return d[KI]=t,d}function QI({layoutId:t}){const e=b.useContext(cv).id;return e&&t!==void 0?e+"-"+t:t}function ZI(t,e){b.useContext(QC).strict}function WI(t){const e=ZC(),{drag:n,layout:s}=e;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function JI(t,e){if(typeof Proxy>"u")return jm;const n=new Map,s=(l,u)=>jm(l,u,t,e),o=(l,u)=>s(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,jm(u,void 0,t,e)),n.get(u))})}const eV=(t,e)=>e.isSVG??zv(t)?new DO(e):new CO(e,{allowProjection:t!==b.Fragment});class tV extends co{constructor(e){super(e),e.animationState||(e.animationState=kO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();od(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let nV=0;class iV extends co{constructor(){super(...arguments),this.id=nV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const sV={animation:{Feature:tV},exit:{Feature:iV}};function yc(t){return{point:{x:t.pageX,y:t.pageY}}}const rV=t=>e=>Vv(e)&&t(e,yc(e));function ju(t,e,n,s){return ec(t,e,rV(n),s)}const sA=({current:t})=>t?t.ownerDocument.defaultView:null,_T=(t,e)=>Math.abs(t-e);function oV(t,e){const n=_T(t.x,e.x),s=_T(t.y,e.y);return Math.sqrt(n**2+s**2)}const TT=new Set(["auto","scroll"]);class rA{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=zm(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,D=oV(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!D)return;const{point:O}=w,{timestamp:U}=Dn;this.history.push({...O,timestamp:U});const{onStart:j,onMove:B}=this.handlers;x||(j&&j(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,w)},this.handlePointerMove=(w,x)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Bm(x,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(w,x)=>{this.end();const{onEnd:D,onSessionEnd:O,resumeAnimation:U}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=zm(w.type==="pointercancel"?this.lastMoveEventInfo:Bm(x,this.transformPagePoint),this.history);this.startEvent&&D&&D(w,j),O&&O(w,j)},!Vv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const d=yc(e),m=Bm(d,this.transformPagePoint),{point:v}=m,{timestamp:y}=Dn;this.history=[{...v,timestamp:y}];const{onSessionStart:E}=n;E&&E(e,zm(m,this.history)),this.removeListeners=mc(ju(this.contextWindow,"pointermove",this.handlePointerMove),ju(this.contextWindow,"pointerup",this.handlePointerUp),ju(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(TT.has(s.overflowX)||TT.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:o.x-n.x,y:o.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,o),Rt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),no(this.updatePoint)}}function Bm(t,e){return e?{point:e(t.point)}:t}function ST(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zm({point:t},e){return{point:t,delta:ST(t,oA(e)),offset:ST(t,aV(e)),velocity:lV(e,.1)}}function aV(t){return t[0]}function oA(t){return t[t.length-1]}function lV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=oA(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>sr(e)));)n--;if(!s)return{x:0,y:0};const l=Hi(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function uV(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Vt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Vt(n,t,s.max):Math.min(t,n)),t}function wT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function cV(t,{top:e,left:n,bottom:s,right:o}){return{x:wT(t.x,n,o),y:wT(t.y,e,s)}}function CT(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function hV(t,e){return{x:CT(t.x,e.x),y:CT(t.y,e.y)}}function fV(t,e){let n=.5;const s=Zn(t),o=Zn(e);return o>s?n=Qu(e.min,e.max-s,t.min):s>o&&(n=Qu(t.min,t.max-o,e.min)),ks(0,1,n)}function dV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Og=.35;function pV(t=Og){return t===!1?t=0:t===!0&&(t=Og),{x:AT(t,"left","right"),y:AT(t,"top","bottom")}}function AT(t,e,n){return{min:xT(t,e),max:xT(t,n)}}function xT(t,e){return typeof t=="number"?t:t[e]||0}const mV=new WeakMap;class gV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=y=>{n?(this.stopAnimation(),this.snapToCursor(yc(y).point)):this.pauseAnimation()},u=(y,E)=>{this.stopAnimation();const{drag:w,dragPropagation:x,onDragStart:D}=this.getProps();if(w&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nO(w),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ui(U=>{let j=this.getAxisMotionValue(U).get()||0;if(Os.test(j)){const{projection:B}=this.visualElement;if(B&&B.layout){const N=B.layout.layoutBox[U];N&&(j=Zn(N)*(parseFloat(j)/100))}}this.originPoint[U]=j}),D&&Rt.postRender(()=>D(y,E)),wg(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},h=(y,E)=>{this.latestPointerEvent=y,this.latestPanInfo=E;const{dragPropagation:w,dragDirectionLock:x,onDirectionLock:D,onDrag:O}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:U}=E;if(x&&this.currentDirection===null){this.currentDirection=vV(U),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",E.point,U),this.updateAxis("y",E.point,U),this.visualElement.render(),O&&O(y,E)},d=(y,E)=>{this.latestPointerEvent=y,this.latestPanInfo=E,this.stop(y,E),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Ui(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new rA(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:sA(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Rt.postRender(()=>h(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Wh(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=uV(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Du(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=cV(s.layoutBox,e):this.constraints=!1,this.elastic=pV(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ui(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=dV(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Du(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=bO(s,o.root,this.visualElement.getTransformPagePoint());let u=hV(o.layout.layoutBox,l);if(n){const h=n(gO(u));this.hasMutatedConstraints=!!h,h&&(u=xC(h))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=Ui(v=>{if(!Wh(v,n,this.currentDirection))return;let y=d&&d[v]||{};u&&(y={min:0,max:0});const E=o?200:1e6,w=o?40:1e7,x={type:"inertia",velocity:s?e[v]:0,bounceStiffness:E,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(v,x)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return wg(this.visualElement,e),s.start(Lv(e,s,0,n,this.visualElement,!1))}stopAnimation(){Ui(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ui(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Ui(n=>{const{drag:s}=this.getProps();if(!Wh(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-Vt(u,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Du(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ui(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();o[u]=fV({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ui(u=>{if(!Wh(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];h.set(Vt(d,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;mV.set(this.visualElement,this);const e=this.visualElement.current,n=ju(e,"pointerdown",d=>{const{drag:m,dragListener:v=!0}=this.getProps(),y=d.target,E=y!==e&&_C(y);m&&v&&!E&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();Du(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Rt.read(s);const u=ec(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(Ui(v=>{const y=this.getAxisMotionValue(v);y&&(this.originPoint[v]+=d[v].translate,y.set(y.get()+d[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Og,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Wh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function vV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class yV extends co{constructor(e){super(e),this.removeGroupControls=qi,this.removeListeners=qi,this.controls=new gV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const RT=t=>(e,n)=>{t&&Rt.postRender(()=>t(e,n))};class bV extends co{constructor(){super(...arguments),this.removePointerDownListener=qi}onPointerDown(e){this.session=new rA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:RT(e),onStart:RT(n),onMove:s,onEnd:(l,u)=>{delete this.session,o&&Rt.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=ju(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Fm=!1;class EV extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),Fm&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),pf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),Fm=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Rt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Iv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;Fm=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function aA(t){const[e,n]=XC(),s=b.useContext(cv);return K.jsx(EV,{...t,layoutGroup:s,switchLayoutGroup:b.useContext(nA),isPresent:e,safeToRemove:n})}const _V={pan:{Feature:bV},drag:{Feature:yV,ProjectionNode:$C,MeasureLayout:aA}};function LT(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&Rt.postRender(()=>l(e,yc(e)))}class TV extends co{mount(){const{current:e}=this.node;e&&(this.unmount=iO(e,(n,s)=>(LT(this.node,s,"Start"),o=>LT(this.node,o,"End"))))}unmount(){}}class SV extends co{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mc(ec(this.node.current,"focus",()=>this.onFocus()),ec(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function MT(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&Rt.postRender(()=>l(e,yc(e)))}class wV extends co{mount(){const{current:e}=this.node;e&&(this.unmount=oO(e,(n,s)=>(MT(this.node,s,"Start"),(o,{success:l})=>MT(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ig=new WeakMap,Hm=new WeakMap,CV=t=>{const e=Ig.get(t.target);e&&e(t)},AV=t=>{t.forEach(CV)};function xV({root:t,...e}){const n=t||document;Hm.has(n)||Hm.set(n,{});const s=Hm.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(AV,{root:t,...e})),s[o]}function RV(t,e,n){const s=xV(e);return Ig.set(t,n),s.observe(t),()=>{Ig.delete(t),s.unobserve(t)}}const LV={some:0,all:1};class MV extends co{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:LV[o]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:y}=this.node.getProps(),E=m?v:y;E&&E(d)};return RV(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(DV(e,n))&&this.startObserver()}unmount(){}}function DV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const OV={inView:{Feature:MV},tap:{Feature:wV},focus:{Feature:SV},hover:{Feature:TV}},IV={layout:{ProjectionNode:$C,MeasureLayout:aA}},VV={...sV,...OV,..._V,...IV},qm=JI(VV,eV);const lA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const PV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const kV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const DT=t=>{const e=kV(t);return e.charAt(0).toUpperCase()+e.slice(1)};var NV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const jV=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:u,...h},d)=>b.createElement("svg",{ref:d,...NV,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:lA("lucide",o),...!l&&!UV(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,v])=>b.createElement(m,v)),...Array.isArray(l)?l:[l]]));const $t=(t,e)=>{const n=b.forwardRef(({className:s,...o},l)=>b.createElement(jV,{ref:l,iconNode:e,className:lA(`lucide-${PV(DT(t))}`,`lucide-${t}`,s),...o}));return n.displayName=DT(t),n};const BV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zV=$t("calendar",BV);const FV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],HV=$t("chevron-up",FV);const qV=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],GV=$t("cloud-sun",qV);const KV=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],YV=$t("copy",KV);const $V=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],XV=$t("grip-vertical",$V);const QV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ZV=$t("image",QV);const WV=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Fv=$t("loader",WV);const JV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],eP=$t("lock",JV);const tP=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],nP=$t("map",tP);const iP=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],sP=$t("menu",iP);const rP=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],oP=$t("mountain",rP);const aP=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],lP=$t("navigation",aP);const uP=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],cP=$t("package",uP);const hP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fP=$t("plus",hP);const dP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],uA=$t("save",dP);const pP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mP=$t("settings",pP);const gP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],vP=$t("shield-alert",gP);const yP=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bP=$t("sparkles",yP);const EP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_P=$t("trash-2",EP);const TP=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],SP=$t("wallet",TP);const wP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CP=$t("x",wP),AP=async(t,e)=>new Promise(n=>{setTimeout(()=>{const s={hiking:`${t}  - 
${t}


1. 
2. `,cycling:`${t}  - 
/ 2km 


`,camping:`${t}  - /
 B ${t}`};n(s[e]||s.hiking)},1500)});function xP(){const[t,e]=b.useState(!1),[n,s]=b.useState(null),[o,l]=b.useState(!1),u=async()=>{if(n){s(null);return}l(!0);const h=await AP("","hiking");s(h),l(!1)};return K.jsxs(K.Fragment,{children:[K.jsxs(qm.div,{className:"focus-panel",initial:{height:"60px"},animate:{height:t?"auto":"60px"},transition:{type:"spring",damping:20},children:[K.jsxs("div",{className:"panel-header",onClick:()=>e(!t),children:[K.jsxs("div",{className:"focus-summary",children:[K.jsx(lP,{size:18,className:"text-primary"}),K.jsx("span",{className:"focus-text",children:""})]}),K.jsx(HV,{size:20,className:"toggle-icon",style:{transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]}),K.jsx(RI,{children:t&&K.jsxs(qm.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"panel-content",children:[K.jsxs("div",{className:"weather-widget",onClick:u,style:{cursor:"pointer",border:n?"1px solid var(--color-p-h)":"none"},children:[o?K.jsx(bP,{className:"animate-spin text-warning"}):K.jsx(GV,{size:24,className:"text-warning"}),K.jsxs("div",{children:[K.jsx("div",{className:"weather-temp",children:"18C "}),K.jsx("div",{className:"weather-tip",children:o?"...":" AI "})]})]}),n&&K.jsx(qm.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"ai-advice-box",children:K.jsx("pre",{children:n})}),K.jsx("div",{className:"map-thumbnail",style:{height:"120px",backgroundColor:"#e5e7eb",borderRadius:"8px",overflow:"hidden",position:"relative",marginBottom:"12px"},children:K.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280",fontSize:"0.9rem"},children:[K.jsx(nP,{size:24,style:{marginRight:"8px"}})," (Mock)"]})}),K.jsxs("div",{className:"next-milestone",children:[K.jsx("div",{className:"milestone-label",children:""}),K.jsx("div",{className:"milestone-value",children:"11:30  ( 1.2km)"})]}),K.jsx("div",{className:"action-buttons",children:K.jsx("button",{className:"btn btn-primary full-width",children:""})})]})})]}),K.jsx("style",{children:`
        .focus-panel {
          position: fixed;
          bottom: 0;
          left: 0;
          right: 0;
          background-color: hsl(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l));
          border-top: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
          box-shadow: 0 -4px 12px rgba(0,0,0,0.1);
          z-index: 50;
          border-top-left-radius: var(--radius-xl);
          border-top-right-radius: var(--radius-xl);
          overflow: hidden;
        }
        .text-primary { color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l)); }
        .text-warning { color: var(--color-warning); }
        
        .panel-header {
          height: 60px;
          padding: 0 var(--space-4);
          display: flex;
          align-items: center;
          justify-content: space-between;
          cursor: pointer;
        }
        .focus-summary {
          display: flex;
          align-items: center;
          gap: var(--space-2);
          font-weight: 600;
          font-size: 0.95rem;
        }
        .panel-content {
          padding: 0 var(--space-4) var(--space-6) var(--space-4);
        }
        .weather-widget {
          display: flex;
          align-items: center;
          gap: var(--space-3);
          padding: var(--space-3);
          background-color: hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l));
          border-radius: var(--radius-lg);
          margin-bottom: var(--space-3);
          transition: background-color 0.2s;
        }
        .weather-widget:hover {
          background-color: rgba(0,0,0,0.05);
        }
        .weather-temp { font-weight: bold; }
        .weather-tip { font-size: 0.85rem; color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l)); }
        
        .ai-advice-box {
            background: #f0fdf4;
            padding: var(--space-3);
            border-radius: var(--radius-md);
            margin-bottom: var(--space-3);
            font-size: 0.85rem;
            color: #166534;
            white-space: pre-wrap;
            font-family: inherit;
        }

        .next-milestone {
          margin-bottom: var(--space-4);
        }
        .milestone-label {
          font-size: 0.8rem;
          color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
          margin-bottom: var(--space-1);
        }
        .milestone-value {
          font-weight: 500;
        }
        .full-width { width: 100%; }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }
      `})]})}var rs=Cw();function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function RP(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(tc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LP(t){var e=RP(t,"string");return tc(e)=="symbol"?e:e+""}function re(t,e,n){return(e=LP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gm,OT;function MP(){if(OT)return Gm;OT=1;var t=function(n,s,o,l,u,h,d,m){if(!n){var v;if(s===void 0)v=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[o,l,u,h,d,m],E=0;v=new Error(s.replace(/%s/g,function(){return y[E++]})),v.name="Invariant Violation"}throw v.framesToPop=1,v}};return Gm=t,Gm}var DP=MP(),dn=cA(DP),ze=b.createContext(null);function OP(){dn(!!b.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=b.useContext(ze);return dn(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function IP(t,e,n){return Object.keys(t).reduce(function(o,l){return e(o,t[l],l)},n)}function VP(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function PP(t,e,n,s){var o={},l=(u,h)=>{var d=n[h];d!==e[h]&&(o[h]=d,u(s,d))};return VP(t,l),o}function kP(t,e,n){var s=IP(n,function(l,u,h){return typeof t[h]=="function"&&l.push(google.maps.event.addListener(e,u,t[h])),l},[]);return s}function NP(t){google.maps.event.removeListener(t)}function Ke(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(NP)}function He(t){var{updaterMap:e,eventMap:n,prevProps:s,nextProps:o,instance:l}=t,u=kP(o,l,n);return PP(e,s,o,l),u}var IT={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},VT={extraMapTypes(t,e){e.forEach(function(s,o){t.mapTypes.set(String(o),s)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function UP(t){var{children:e,options:n,id:s,mapContainerStyle:o,mapContainerClassName:l,center:u,onClick:h,onDblClick:d,onDrag:m,onDragEnd:v,onDragStart:y,onMouseMove:E,onMouseOut:w,onMouseOver:x,onMouseDown:D,onMouseUp:O,onRightClick:U,onCenterChanged:j,onLoad:B,onUnmount:N}=t,[k,H]=b.useState(null),C=b.useRef(null),[A,R]=b.useState(null),[V,I]=b.useState(null),[F,P]=b.useState(null),[me,be]=b.useState(null),[$,ie]=b.useState(null),[ce,ge]=b.useState(null),[ye,z]=b.useState(null),[W,se]=b.useState(null),[fe,Q]=b.useState(null),[ve,Te]=b.useState(null),[Ee,Re]=b.useState(null),[de,Ie]=b.useState(null);return b.useEffect(()=>{n&&k!==null&&k.setOptions(n)},[k,n]),b.useEffect(()=>{k!==null&&typeof u<"u"&&k.setCenter(u)},[k,u]),b.useEffect(()=>{k&&d&&(V!==null&&google.maps.event.removeListener(V),I(google.maps.event.addListener(k,"dblclick",d)))},[d]),b.useEffect(()=>{k&&v&&(F!==null&&google.maps.event.removeListener(F),P(google.maps.event.addListener(k,"dragend",v)))},[v]),b.useEffect(()=>{k&&y&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(k,"dragstart",y)))},[y]),b.useEffect(()=>{k&&D&&($!==null&&google.maps.event.removeListener($),ie(google.maps.event.addListener(k,"mousedown",D)))},[D]),b.useEffect(()=>{k&&E&&(ce!==null&&google.maps.event.removeListener(ce),ge(google.maps.event.addListener(k,"mousemove",E)))},[E]),b.useEffect(()=>{k&&w&&(ye!==null&&google.maps.event.removeListener(ye),z(google.maps.event.addListener(k,"mouseout",w)))},[w]),b.useEffect(()=>{k&&x&&(W!==null&&google.maps.event.removeListener(W),se(google.maps.event.addListener(k,"mouseover",x)))},[x]),b.useEffect(()=>{k&&O&&(fe!==null&&google.maps.event.removeListener(fe),Q(google.maps.event.addListener(k,"mouseup",O)))},[O]),b.useEffect(()=>{k&&U&&(ve!==null&&google.maps.event.removeListener(ve),Te(google.maps.event.addListener(k,"rightclick",U)))},[U]),b.useEffect(()=>{k&&h&&(Ee!==null&&google.maps.event.removeListener(Ee),Re(google.maps.event.addListener(k,"click",h)))},[h]),b.useEffect(()=>{k&&m&&(de!==null&&google.maps.event.removeListener(de),Ie(google.maps.event.addListener(k,"drag",m)))},[m]),b.useEffect(()=>{k&&j&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(k,"center_changed",j)))},[h]),b.useEffect(()=>{var ut=C.current===null?null:new google.maps.Map(C.current,n);return H(ut),ut!==null&&B&&B(ut),()=>{ut!==null&&N&&N(ut)}},[]),K.jsx("div",{id:s,ref:C,style:o,className:l,children:K.jsx(ze.Provider,{value:k,children:k!==null?e:null})})}b.memo(UP);class jP extends b.PureComponent{constructor(){super(...arguments),re(this,"state",{map:null}),re(this,"registeredEvents",[]),re(this,"mapRef",null),re(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),re(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),re(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),re(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=He({updaterMap:VT,eventMap:IT,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:VT,eventMap:IT,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Ke(this.registeredEvents))}render(){return K.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:K.jsx(ze.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function PT(t,e,n,s,o,l,u){try{var h=t[l](u),d=h.value}catch(m){return void n(m)}h.done?e(d):Promise.resolve(d).then(s,o)}function hA(t){return function(){var e=this,n=arguments;return new Promise(function(s,o){var l=t.apply(e,n);function u(d){PT(l,s,o,u,h,"next",d)}function h(d){PT(l,s,o,u,h,"throw",d)}u(void 0)})}}function fA(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:s="weekly",language:o,region:l,libraries:u,channel:h,mapIds:d,authReferrerPolicy:m,apiUrl:v="https://maps.googleapis.com"}=t,y=[];return dn(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?y.push("key=".concat(e)):n&&y.push("client=".concat(n)),s&&y.push("v=".concat(s)),o&&y.push("language=".concat(o)),l&&y.push("region=".concat(l)),u&&u.length&&y.push("libraries=".concat(u.sort().join(","))),h&&y.push("channel=".concat(h)),d&&d.length&&y.push("map_ids=".concat(d.join(","))),m&&y.push("auth_referrer_policy=".concat(m)),y.push("loading=async"),y.push("callback=initMap"),"".concat(v,"/maps/api/js?").concat(y.join("&"))}var Xr=typeof document<"u";function dA(t){var{url:e,id:n,nonce:s}=t;return Xr?new Promise(function(l,u){var h=document.getElementById(n),d=window;if(h){var m=h.getAttribute("data-state");if(h.src===e&&m!=="error"){if(m==="ready")return l(n);var v=d.initMap,y=h.onerror;d.initMap=function(){v&&v(),l(n)},h.onerror=function(w){y&&y(w),u(w)};return}else h.remove()}var E=document.createElement("script");E.type="text/javascript",E.src=e,E.id=n,E.async=!0,E.nonce=s||"",E.onerror=function(x){E.setAttribute("data-state","error"),u(x)},d.initMap=function(){E.setAttribute("data-state","ready"),l(n)},document.head.appendChild(E)}).catch(o=>{throw console.error("injectScript error: ",o),o}):Promise.reject(new Error("document is undefined"))}function kT(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function Hv(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(o,l){return kT(o)||Reflect.apply(e,t,[o,l]),o};var n=t.appendChild.bind(t);t.appendChild=function(o){return kT(o)||Reflect.apply(n,t,[o]),o}}}var Su=!1;function pA(){return K.jsx("div",{children:"Loading..."})}var nc={id:"script-loader",version:"weekly"};class BP extends b.PureComponent{constructor(){super(...arguments),re(this,"check",null),re(this,"state",{loaded:!1}),re(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),re(this,"isCleaningUp",hA(function*(){function e(n){if(!Su)n();else if(Xr)var s=window.setInterval(function(){Su||(window.clearInterval(s),n())},1)}return new Promise(e)})),re(this,"cleanup",()=>{Su=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})}),re(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Hv(),dn(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:fA(this.props)};dA(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),re(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Xr){if(window.google&&window.google.maps&&!Su){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Xr&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Xr){this.cleanup();var e=()=>{this.check||(delete window.google,Su=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return K.jsxs(K.Fragment,{children:[K.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||K.jsx(pA,{})]})}}re(BP,"defaultProps",nc);function zP(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;n[s]=t[s]}return n}function qv(t,e){if(t==null)return{};var n,s,o=zP(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)n=l[s],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var NT;function FP(t){var{id:e=nc.id,version:n=nc.version,nonce:s,googleMapsApiKey:o,googleMapsClientId:l,language:u,region:h,libraries:d,preventGoogleFontsLoading:m,channel:v,mapIds:y,authReferrerPolicy:E,apiUrl:w="https://maps.googleapis.com"}=t,x=b.useRef(!1),[D,O]=b.useState(!1),[U,j]=b.useState(void 0);b.useEffect(function(){return x.current=!0,()=>{x.current=!1}},[]),b.useEffect(function(){Xr&&m&&Hv()},[m]),b.useEffect(function(){D&&dn(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[D]);var B=fA({version:n,googleMapsApiKey:o,googleMapsClientId:l,language:u,region:h,libraries:d,channel:v,mapIds:y,authReferrerPolicy:E,apiUrl:w});b.useEffect(function(){if(!Xr)return;function H(){x.current&&(O(!0),NT=B)}if(window.google&&window.google.maps&&NT===B){H();return}dA({id:e,url:B,nonce:s}).then(H).catch(function(A){x.current&&j(A),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(o||"-",") or Client ID (").concat(l||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(A)})},[e,B,s]);var N=b.useRef(void 0);return b.useEffect(function(){N.current&&d!==N.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),N.current=d},[d]),{isLoaded:D,loadError:U,url:B}}var HP=["loadingElement","onLoad","onError","onUnmount","children"],qP=K.jsx(pA,{});function GP(t){var{loadingElement:e,onLoad:n,onError:s,onUnmount:o,children:l}=t,u=qv(t,HP),{isLoaded:h,loadError:d}=FP(u);return b.useEffect(function(){h&&typeof n=="function"&&n()},[h,n]),b.useEffect(function(){d&&typeof s=="function"&&s(d)},[d,s]),b.useEffect(function(){return()=>{o&&o()}},[o]),h?l:e||qP}b.memo(GP);function KP(t,e,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(v){try{m(s.next(v))}catch(y){u(y)}}function d(v){try{m(s.throw(v))}catch(y){u(y)}}function m(v){v.done?l(v.value):o(v.value).then(h,d)}m((s=s.apply(t,[])).next())})}function YP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $P=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,o,l;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(o=s;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(l=Object.keys(e),s=l.length,s!==Object.keys(n).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[o]))return!1;for(o=s;o--!==0;){var u=l[o];if(!t(e[u],n[u]))return!1}return!0}return e!==e&&n!==n},XP=YP($P),UT="__googleMapsScriptId",Xa;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Xa||(Xa={}));class Bo{constructor(e){var{apiKey:n,authReferrerPolicy:s,channel:o,client:l,id:u=UT,language:h,libraries:d=[],mapIds:m,nonce:v,region:y,retries:E=3,url:w="https://maps.googleapis.com/maps/api/js",version:x}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=s,this.channel=o,this.client=l,this.id=u||UT,this.language=h,this.libraries=d,this.mapIds=m,this.nonce=v,this.region=y,this.retries=E,this.url=w,this.version=x,Bo.instance){if(!XP(this.options,Bo.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Bo.instance.options)));return Bo.instance}Bo.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Xa.FAILURE:this.done?Xa.SUCCESS:this.loading?Xa.LOADING:Xa.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(s=>{s?n(s.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var s={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(s).forEach(l=>!s[l]&&delete s[l]),!((n=(e=window?.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(l=>{var u,h,d,m="The Google Maps JavaScript API",v="google",y="importLibrary",E="__ib__",w=document,x=window;x=x[v]||(x[v]={});var D=x.maps||(x.maps={}),O=new Set,U=new URLSearchParams,j=()=>u||(u=new Promise((B,N)=>KP(this,void 0,void 0,function*(){var k;yield h=w.createElement("script"),h.id=this.id,U.set("libraries",[...O]+"");for(d in l)U.set(d.replace(/[A-Z]/g,H=>"_"+H[0].toLowerCase()),l[d]);U.set("callback",v+".maps."+E),h.src=this.url+"?"+U,D[E]=B,h.onerror=()=>u=N(Error(m+" could not load.")),h.nonce=this.nonce||((k=w.querySelector("script[nonce]"))===null||k===void 0?void 0:k.nonce)||"",w.head.append(h)})));D[y]?console.warn(m+" only loads once. Ignoring:",l):D[y]=function(B){for(var N=arguments.length,k=new Array(N>1?N-1:0),H=1;H<N;H++)k[H-1]=arguments[H];return O.add(B)&&j().then(()=>D[y](B,...k))}})(s);var o=this.libraries.map(l=>this.importLibrary(l));o.length||o.push(this.importLibrary("core")),Promise.all(o).then(()=>this.callback(),l=>{var u=new ErrorEvent("error",{error:l});this.loadErrorCallback(u)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var QP=["maps"];function ZP(t){var{id:e=nc.id,version:n=nc.version,nonce:s,googleMapsApiKey:o,language:l,region:u,libraries:h=QP,preventGoogleFontsLoading:d,mapIds:m,authReferrerPolicy:v}=t,y=b.useRef(!1),[E,w]=b.useState(!1),[x,D]=b.useState(void 0);b.useEffect(function(){return y.current=!0,()=>{y.current=!1}},[]);var O=b.useMemo(()=>new Bo({id:e,apiKey:o,version:n,libraries:h,language:l||"en",region:u||"US",mapIds:m||[],nonce:s||"",authReferrerPolicy:v||"origin"}),[e,o,n,h,l,u,m,s,v]);b.useEffect(function(){E||O.load().then(()=>{y.current&&w(!0)}).catch(B=>{D(B)})},[]),b.useEffect(()=>{Xr&&d&&Hv()},[d]);var U=b.useRef();return b.useEffect(()=>{U.current&&h!==U.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),U.current=h},[h]),{isLoaded:E,loadError:x}}function jT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var BT={},zT={options(t,e){t.setOptions(e)}};function WP(t){var{options:e,onLoad:n,onUnmount:s}=t,o=b.useContext(ze),[l,u]=b.useState(null);return b.useEffect(()=>{l!==null&&l.setMap(o)},[o]),b.useEffect(()=>{e&&l!==null&&l.setOptions(e)},[l,e]),b.useEffect(()=>{var h=new google.maps.TrafficLayer(Mf(Mf({},e),{},{map:o}));return u(h),n&&n(h),()=>{l!==null&&(s&&s(l),l.setMap(null))}},[]),null}b.memo(WP);class JP extends b.PureComponent{constructor(){super(...arguments),re(this,"state",{trafficLayer:null}),re(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),re(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Mf(Mf({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:zT,eventMap:BT,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:zT,eventMap:BT,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ke(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}re(JP,"contextType",ze);function ek(t){var{onLoad:e,onUnmount:n}=t,s=b.useContext(ze),[o,l]=b.useState(null);return b.useEffect(()=>{o!==null&&o.setMap(s)},[s]),b.useEffect(()=>{var u=new google.maps.BicyclingLayer;return l(u),u.setMap(s),e&&e(u),()=>{u!==null&&(n&&n(u),u.setMap(null))}},[]),null}b.memo(ek);class tk extends b.PureComponent{constructor(){super(...arguments),re(this,"state",{bicyclingLayer:null}),re(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}re(tk,"contextType",ze);function nk(t){var{onLoad:e,onUnmount:n}=t,s=b.useContext(ze),[o,l]=b.useState(null);return b.useEffect(()=>{o!==null&&o.setMap(s)},[s]),b.useEffect(()=>{var u=new google.maps.TransitLayer;return l(u),u.setMap(s),e&&e(u),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}b.memo(nk);class ik extends b.PureComponent{constructor(){super(...arguments),re(this,"state",{transitLayer:null}),re(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}re(ik,"contextType",ze);function FT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Df(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var HT={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},qT={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function sk(t){var{options:e,drawingMode:n,onCircleComplete:s,onMarkerComplete:o,onOverlayComplete:l,onPolygonComplete:u,onPolylineComplete:h,onRectangleComplete:d,onLoad:m,onUnmount:v}=t,y=b.useContext(ze),[E,w]=b.useState(null),[x,D]=b.useState(null),[O,U]=b.useState(null),[j,B]=b.useState(null),[N,k]=b.useState(null),[H,C]=b.useState(null),[A,R]=b.useState(null);return b.useEffect(()=>{E!==null&&E.setMap(y)},[y]),b.useEffect(()=>{e&&E!==null&&E.setOptions(e)},[E,e]),b.useEffect(()=>{E!==null&&E.setDrawingMode(n??null)},[E,n]),b.useEffect(()=>{E&&s&&(x!==null&&google.maps.event.removeListener(x),D(google.maps.event.addListener(E,"circlecomplete",s)))},[E,s]),b.useEffect(()=>{E&&o&&(O!==null&&google.maps.event.removeListener(O),U(google.maps.event.addListener(E,"markercomplete",o)))},[E,o]),b.useEffect(()=>{E&&l&&(j!==null&&google.maps.event.removeListener(j),B(google.maps.event.addListener(E,"overlaycomplete",l)))},[E,l]),b.useEffect(()=>{E&&u&&(N!==null&&google.maps.event.removeListener(N),k(google.maps.event.addListener(E,"polygoncomplete",u)))},[E,u]),b.useEffect(()=>{E&&h&&(H!==null&&google.maps.event.removeListener(H),C(google.maps.event.addListener(E,"polylinecomplete",h)))},[E,h]),b.useEffect(()=>{E&&d&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(E,"rectanglecomplete",d)))},[E,d]),b.useEffect(()=>{dn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var V=new google.maps.drawing.DrawingManager(Df(Df({},e),{},{map:y}));return n&&V.setDrawingMode(n),s&&D(google.maps.event.addListener(V,"circlecomplete",s)),o&&U(google.maps.event.addListener(V,"markercomplete",o)),l&&B(google.maps.event.addListener(V,"overlaycomplete",l)),u&&k(google.maps.event.addListener(V,"polygoncomplete",u)),h&&C(google.maps.event.addListener(V,"polylinecomplete",h)),d&&R(google.maps.event.addListener(V,"rectanglecomplete",d)),w(V),m&&m(V),()=>{E!==null&&(x&&google.maps.event.removeListener(x),O&&google.maps.event.removeListener(O),j&&google.maps.event.removeListener(j),N&&google.maps.event.removeListener(N),H&&google.maps.event.removeListener(H),A&&google.maps.event.removeListener(A),v&&v(E),E.setMap(null))}},[]),null}b.memo(sk);class rk extends b.PureComponent{constructor(e){super(e),re(this,"registeredEvents",[]),re(this,"state",{drawingManager:null}),re(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),dn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Df(Df({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:qT,eventMap:HT,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:qT,eventMap:HT,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ke(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}re(rk,"contextType",ze);function GT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var KT={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},YT={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Of={};function ok(t){var{position:e,options:n,clusterer:s,noClustererRedraw:o,children:l,draggable:u,visible:h,animation:d,clickable:m,cursor:v,icon:y,label:E,opacity:w,shape:x,title:D,zIndex:O,onClick:U,onDblClick:j,onDrag:B,onDragEnd:N,onDragStart:k,onMouseOut:H,onMouseOver:C,onMouseUp:A,onMouseDown:R,onRightClick:V,onClickableChanged:I,onCursorChanged:F,onAnimationChanged:P,onDraggableChanged:me,onFlatChanged:be,onIconChanged:$,onPositionChanged:ie,onShapeChanged:ce,onTitleChanged:ge,onVisibleChanged:ye,onZindexChanged:z,onLoad:W,onUnmount:se}=t,fe=b.useContext(ze),[Q,ve]=b.useState(null),[Te,Ee]=b.useState(null),[Re,de]=b.useState(null),[Ie,ut]=b.useState(null),[Ot,St]=b.useState(null),[je,Sn]=b.useState(null),[li,Gi]=b.useState(null),[ct,st]=b.useState(null),[pn,Ki]=b.useState(null),[Ti,Ft]=b.useState(null),[Si,cs]=b.useState(null),[wn,mn]=b.useState(null),[Wn,hs]=b.useState(null),[gn,fs]=b.useState(null),[vn,kt]=b.useState(null),[Ht,bt]=b.useState(null),[Yi,wi]=b.useState(null),[$i,Hn]=b.useState(null),[Ci,Fe]=b.useState(null),[ht,Et]=b.useState(null),[wt,on]=b.useState(null),[It,Lt]=b.useState(null);b.useEffect(()=>{Q!==null&&Q.setMap(fe)},[fe]),b.useEffect(()=>{typeof n<"u"&&Q!==null&&Q.setOptions(n)},[Q,n]),b.useEffect(()=>{typeof u<"u"&&Q!==null&&Q.setDraggable(u)},[Q,u]),b.useEffect(()=>{e&&Q!==null&&Q.setPosition(e)},[Q,e]),b.useEffect(()=>{typeof h<"u"&&Q!==null&&Q.setVisible(h)},[Q,h]),b.useEffect(()=>{Q?.setAnimation(d)},[Q,d]),b.useEffect(()=>{Q&&m!==void 0&&Q.setClickable(m)},[Q,m]),b.useEffect(()=>{Q&&v!==void 0&&Q.setCursor(v)},[Q,v]),b.useEffect(()=>{Q&&y!==void 0&&Q.setIcon(y)},[Q,y]),b.useEffect(()=>{Q&&E!==void 0&&Q.setLabel(E)},[Q,E]),b.useEffect(()=>{Q&&w!==void 0&&Q.setOpacity(w)},[Q,w]),b.useEffect(()=>{Q&&x!==void 0&&Q.setShape(x)},[Q,x]),b.useEffect(()=>{Q&&D!==void 0&&Q.setTitle(D)},[Q,D]),b.useEffect(()=>{Q&&O!==void 0&&Q.setZIndex(O)},[Q,O]),b.useEffect(()=>{Q&&j&&(Te!==null&&google.maps.event.removeListener(Te),Ee(google.maps.event.addListener(Q,"dblclick",j)))},[j]),b.useEffect(()=>{Q&&N&&(Re!==null&&google.maps.event.removeListener(Re),de(google.maps.event.addListener(Q,"dragend",N)))},[N]),b.useEffect(()=>{Q&&k&&(Ie!==null&&google.maps.event.removeListener(Ie),ut(google.maps.event.addListener(Q,"dragstart",k)))},[k]),b.useEffect(()=>{Q&&R&&(Ot!==null&&google.maps.event.removeListener(Ot),St(google.maps.event.addListener(Q,"mousedown",R)))},[R]),b.useEffect(()=>{Q&&H&&(je!==null&&google.maps.event.removeListener(je),Sn(google.maps.event.addListener(Q,"mouseout",H)))},[H]),b.useEffect(()=>{Q&&C&&(li!==null&&google.maps.event.removeListener(li),Gi(google.maps.event.addListener(Q,"mouseover",C)))},[C]),b.useEffect(()=>{Q&&A&&(ct!==null&&google.maps.event.removeListener(ct),st(google.maps.event.addListener(Q,"mouseup",A)))},[A]),b.useEffect(()=>{Q&&V&&(pn!==null&&google.maps.event.removeListener(pn),Ki(google.maps.event.addListener(Q,"rightclick",V)))},[V]),b.useEffect(()=>{Q&&U&&(Ti!==null&&google.maps.event.removeListener(Ti),Ft(google.maps.event.addListener(Q,"click",U)))},[U]),b.useEffect(()=>{Q&&B&&(Si!==null&&google.maps.event.removeListener(Si),cs(google.maps.event.addListener(Q,"drag",B)))},[B]),b.useEffect(()=>{Q&&I&&(wn!==null&&google.maps.event.removeListener(wn),mn(google.maps.event.addListener(Q,"clickable_changed",I)))},[I]),b.useEffect(()=>{Q&&F&&(Wn!==null&&google.maps.event.removeListener(Wn),hs(google.maps.event.addListener(Q,"cursor_changed",F)))},[F]),b.useEffect(()=>{Q&&P&&(gn!==null&&google.maps.event.removeListener(gn),fs(google.maps.event.addListener(Q,"animation_changed",P)))},[P]),b.useEffect(()=>{Q&&me&&(vn!==null&&google.maps.event.removeListener(vn),kt(google.maps.event.addListener(Q,"draggable_changed",me)))},[me]),b.useEffect(()=>{Q&&be&&(Ht!==null&&google.maps.event.removeListener(Ht),bt(google.maps.event.addListener(Q,"flat_changed",be)))},[be]),b.useEffect(()=>{Q&&$&&(Yi!==null&&google.maps.event.removeListener(Yi),wi(google.maps.event.addListener(Q,"icon_changed",$)))},[$]),b.useEffect(()=>{Q&&ie&&($i!==null&&google.maps.event.removeListener($i),Hn(google.maps.event.addListener(Q,"position_changed",ie)))},[ie]),b.useEffect(()=>{Q&&ce&&(Ci!==null&&google.maps.event.removeListener(Ci),Fe(google.maps.event.addListener(Q,"shape_changed",ce)))},[ce]),b.useEffect(()=>{Q&&ge&&(ht!==null&&google.maps.event.removeListener(ht),Et(google.maps.event.addListener(Q,"title_changed",ge)))},[ge]),b.useEffect(()=>{Q&&ye&&(wt!==null&&google.maps.event.removeListener(wt),on(google.maps.event.addListener(Q,"visible_changed",ye)))},[ye]),b.useEffect(()=>{Q&&z&&(It!==null&&google.maps.event.removeListener(It),Lt(google.maps.event.addListener(Q,"zindex_changed",z)))},[z]),b.useEffect(()=>{var _t=Za(Za(Za({},n||Of),s?Of:{map:fe}),{},{position:e}),xe=new google.maps.Marker(_t);return s?s.addMarker(xe,!!o):xe.setMap(fe),e&&xe.setPosition(e),typeof h<"u"&&xe.setVisible(h),typeof u<"u"&&xe.setDraggable(u),typeof m<"u"&&xe.setClickable(m),typeof v=="string"&&xe.setCursor(v),y&&xe.setIcon(y),typeof E<"u"&&xe.setLabel(E),typeof w<"u"&&xe.setOpacity(w),x&&xe.setShape(x),typeof D=="string"&&xe.setTitle(D),typeof O=="number"&&xe.setZIndex(O),j&&Ee(google.maps.event.addListener(xe,"dblclick",j)),N&&de(google.maps.event.addListener(xe,"dragend",N)),k&&ut(google.maps.event.addListener(xe,"dragstart",k)),R&&St(google.maps.event.addListener(xe,"mousedown",R)),H&&Sn(google.maps.event.addListener(xe,"mouseout",H)),C&&Gi(google.maps.event.addListener(xe,"mouseover",C)),A&&st(google.maps.event.addListener(xe,"mouseup",A)),V&&Ki(google.maps.event.addListener(xe,"rightclick",V)),U&&Ft(google.maps.event.addListener(xe,"click",U)),B&&cs(google.maps.event.addListener(xe,"drag",B)),I&&mn(google.maps.event.addListener(xe,"clickable_changed",I)),F&&hs(google.maps.event.addListener(xe,"cursor_changed",F)),P&&fs(google.maps.event.addListener(xe,"animation_changed",P)),me&&kt(google.maps.event.addListener(xe,"draggable_changed",me)),be&&bt(google.maps.event.addListener(xe,"flat_changed",be)),$&&wi(google.maps.event.addListener(xe,"icon_changed",$)),ie&&Hn(google.maps.event.addListener(xe,"position_changed",ie)),ce&&Fe(google.maps.event.addListener(xe,"shape_changed",ce)),ge&&Et(google.maps.event.addListener(xe,"title_changed",ge)),ye&&on(google.maps.event.addListener(xe,"visible_changed",ye)),z&&Lt(google.maps.event.addListener(xe,"zindex_changed",z)),ve(xe),W&&W(xe),()=>{Te!==null&&google.maps.event.removeListener(Te),Re!==null&&google.maps.event.removeListener(Re),Ie!==null&&google.maps.event.removeListener(Ie),Ot!==null&&google.maps.event.removeListener(Ot),je!==null&&google.maps.event.removeListener(je),li!==null&&google.maps.event.removeListener(li),ct!==null&&google.maps.event.removeListener(ct),pn!==null&&google.maps.event.removeListener(pn),Ti!==null&&google.maps.event.removeListener(Ti),wn!==null&&google.maps.event.removeListener(wn),Wn!==null&&google.maps.event.removeListener(Wn),gn!==null&&google.maps.event.removeListener(gn),vn!==null&&google.maps.event.removeListener(vn),Ht!==null&&google.maps.event.removeListener(Ht),Yi!==null&&google.maps.event.removeListener(Yi),$i!==null&&google.maps.event.removeListener($i),ht!==null&&google.maps.event.removeListener(ht),wt!==null&&google.maps.event.removeListener(wt),It!==null&&google.maps.event.removeListener(It),se&&se(xe),s?s.removeMarker(xe,!!o):xe&&xe.setMap(null)}},[]);var kn=b.useMemo(()=>l?b.Children.map(l,_t=>{if(!b.isValidElement(_t))return _t;var xe=_t;return b.cloneElement(xe,{anchor:Q})}):null,[l,Q]);return K.jsx(K.Fragment,{children:kn})||null}b.memo(ok);class ak extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[])}componentDidMount(){var e=this;return hA(function*(){var n=Za(Za(Za({},e.props.options||Of),e.props.clusterer?Of:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=He({updaterMap:YT,eventMap:KT,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:YT,eventMap:KT,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ke(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?b.Children.map(this.props.children,n=>{if(!b.isValidElement(n))return n;var s=n;return b.cloneElement(s,{anchor:this.marker})}):null;return e||null}}re(ak,"contextType",ze);var lk=(function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var s=n.getMaxZoom(),o=this.cluster.getBounds(),l=n.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(o),this.timeOut=window.setTimeout(function(){var u=n.getMap();if(u!==null){"fitBounds"in u&&u.fitBounds(o);var h=u.getZoom()||0;s!==null&&h>s&&u.setZoom(s+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,s,o,l,u;if(this.div&&this.center){var h=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,d=this.backgroundPosition.split(" "),m=parseInt(((e=d[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),v=parseInt(((n=d[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),y=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(y!==null?"".concat(y.y,"px"):"0","; left: ").concat(y!==null?"".concat(y.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var E=document.createElement("img");E.alt=h,E.src=this.url,E.width=this.width,E.height=this.height,E.setAttribute("style","position: absolute; top: ".concat(v,"px; left: ").concat(m,"px")),this.cluster.getClusterer().enableRetinaIcons||(E.style.clip="rect(-".concat(v,"px, -").concat(m+this.width,"px, -").concat(v+this.height,", -").concat(m,")"));var w=document.createElement("div");w.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((s=this.sums)===null||s===void 0)&&s.text&&(w.innerText="".concat((o=this.sums)===null||o===void 0?void 0:o.text)),!((l=this.sums)===null||l===void 0)&&l.html&&(w.innerHTML="".concat((u=this.sums)===null||u===void 0?void 0:u.html)),this.div.innerHTML="",this.div.appendChild(E),this.div.appendChild(w),this.div.title=h,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),s=n[Math.min(n.length-1,Math.max(0,e.index-1))];s&&(this.url=s.url,this.height=s.height,this.width=s.width,s.className&&(this.className="".concat(this.clusterClassName," ").concat(s.className)),this.anchorText=s.anchorText||[0,0],this.anchorIcon=s.anchorIcon||[this.height/2,this.width/2],this.textColor=s.textColor||"black",this.textSize=s.textSize||11,this.textDecoration=s.textDecoration||"none",this.fontWeight=s.fontWeight||"bold",this.fontStyle=s.fontStyle||"normal",this.fontFamily=s.fontFamily||"Arial,sans-serif",this.backgroundPosition=s.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t})(),uk=(function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new lk(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),s=0,o=n;s<o.length;s++){var l=o[s],u=l.getPosition();u&&e.extend(u)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var s=e.getPosition();if(s){var o=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(o-1)+s.lat())/o,(this.center.lng()*(o-1)+s.lng())/o),this.calculateBounds()}}}else{var s=e.getPosition();s&&(this.center=s,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var l=this.markers.length,u=this.markerClusterer.getMaxZoom(),h=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(u!==null&&typeof h<"u"&&h>u)e.getMap()!==this.map&&e.setMap(this.map);else if(l<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(l===this.minClusterSize)for(var d=0,m=this.markers;d<m.length;d++){var v=m[d];v.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,s=this.markerClusterer.getMaxZoom(),o=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(s!==null&&typeof o<"u"&&o>s){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t})();function ck(t,e){var n=t.length,s=n.toString().length,o=Math.min(s,e);return{text:n.toString(),index:o,title:""}}var hk=2e3,fk=500,dk="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",pk="png",mk=[53,56,66,78,90],gk="cluster",mA=(function(){function t(e,n,s){n===void 0&&(n=[]),s===void 0&&(s={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=s.gridSize||60,this.minClusterSize=s.minimumClusterSize||2,this.maxZoom=s.maxZoom||null,this.styles=s.styles||[],this.title=s.title||"",this.zoomOnClick=!0,s.zoomOnClick!==void 0&&(this.zoomOnClick=s.zoomOnClick),this.averageCenter=!1,s.averageCenter!==void 0&&(this.averageCenter=s.averageCenter),this.ignoreHidden=!1,s.ignoreHidden!==void 0&&(this.ignoreHidden=s.ignoreHidden),this.enableRetinaIcons=!1,s.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=s.enableRetinaIcons),this.imagePath=s.imagePath||dk,this.imageExtension=s.imageExtension||pk,this.imageSizes=s.imageSizes||mk,this.calculator=s.calculator||ck,this.batchSize=s.batchSize||hk,this.batchSizeIE=s.batchSizeIE||fk,this.clusterClass=s.clusterClass||gk,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var s=n[e];s.getMap()!==this.activeMap&&s.setMap(this.activeMap)}for(var o=0,l=this.clusters;o<l.length;o++){var u=l[o];u.remove()}this.clusters=[];for(var h=0,d=this.listeners;h<d.length;h++){var m=d[h];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,s=0,o=e;s<o.length;s++){var l=o[s],u=l.getPosition();u&&n.extend(u)}var h=this.getMap();h!==null&&"fitBounds"in h&&h.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=e[s];o&&this.pushMarkerTo(o)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var s=0;s<this.markers.length;s++)if(e===this.markers[s]){n=s;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var s=this.removeMarker_(e);return!n&&s&&this.repaint(),s},t.prototype.removeMarkers=function(e,n){for(var s=!1,o=0,l=e;o<l.length;o++){var u=l[o];s=s||this.removeMarker_(u)}return!n&&s&&this.repaint(),s},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var s=0,o=e;s<o.length;s++){var l=o[s];l.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));s!==null&&(s.x+=this.gridSize,s.y-=this.gridSize);var o=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(o!==null&&(o.x-=this.gridSize,o.y+=this.gridSize),s!==null){var l=n.fromDivPixelToLatLng(s);l!==null&&e.extend(l)}if(o!==null){var u=n.fromDivPixelToLatLng(o);u!==null&&e.extend(u)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,s=this.clusters;n<s.length;n++){var o=s[n];o.remove()}this.clusters=[];for(var l=0,u=this.markers;l<u.length;l++){var h=u[l];h.isAdded=!1,e&&h.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var s=6371,o=(n.lat()-e.lat())*Math.PI/180,l=(n.lng()-e.lng())*Math.PI/180,u=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return s*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},t.prototype.isMarkerInBounds=function(e,n){var s=e.getPosition();return s?n.contains(s):!1},t.prototype.addToClosestCluster=function(e){for(var n,s=4e4,o=null,l=0,u=this.clusters;l<u.length;l++){var h=u[l];n=h;var d=n.getCenter(),m=e.getPosition();if(d&&m){var v=this.distanceBetweenPoints(d,m);v<s&&(s=v,o=n)}}o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):(n=new uk(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var s=this.getMap(),o=s!==null&&("getBounds"in s)?s.getBounds():null,l=s?.getZoom()||0,u=l>3?new google.maps.LatLngBounds(o?.getSouthWest(),o?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),h=this.getExtendedBounds(u),d=Math.min(e+this.batchSize,this.markers.length),m=e;m<d;m++){var v=this.markers[m];v&&!v.isAdded&&this.isMarkerInBounds(v,h)&&(!this.ignoreHidden||this.ignoreHidden&&v.getVisible())&&this.addToClosestCluster(v)}if(d<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(d)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var y=0,E=this.clusters;y<E.length;y++){var w=E[y];w.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(o){for(var l in o.prototype){var u=l;this.prototype[u]=o.prototype[u]}return this}).apply(e,[n])},t})();function $T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$T(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var ji={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},it={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},yk={};function bk(t){var{children:e,options:n,averageCenter:s,batchSizeIE:o,calculator:l,clusterClass:u,enableRetinaIcons:h,gridSize:d,ignoreHidden:m,imageExtension:v,imagePath:y,imageSizes:E,maxZoom:w,minimumClusterSize:x,styles:D,title:O,zoomOnClick:U,onClick:j,onClusteringBegin:B,onClusteringEnd:N,onMouseOver:k,onMouseOut:H,onLoad:C,onUnmount:A}=t,[R,V]=b.useState(null),I=b.useContext(ze),[F,P]=b.useState(null),[me,be]=b.useState(null),[$,ie]=b.useState(null),[ce,ge]=b.useState(null),[ye,z]=b.useState(null);return b.useEffect(()=>{R&&H&&(ce!==null&&google.maps.event.removeListener(ce),ge(google.maps.event.addListener(R,ji.onMouseOut,H)))},[H]),b.useEffect(()=>{R&&k&&(ye!==null&&google.maps.event.removeListener(ye),z(google.maps.event.addListener(R,ji.onMouseOver,k)))},[k]),b.useEffect(()=>{R&&j&&(F!==null&&google.maps.event.removeListener(F),P(google.maps.event.addListener(R,ji.onClick,j)))},[j]),b.useEffect(()=>{R&&B&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(R,ji.onClusteringBegin,B)))},[B]),b.useEffect(()=>{R&&N&&($!==null&&google.maps.event.removeListener($),be(google.maps.event.addListener(R,ji.onClusteringEnd,N)))},[N]),b.useEffect(()=>{typeof s<"u"&&R!==null&&it.averageCenter(R,s)},[R,s]),b.useEffect(()=>{typeof o<"u"&&R!==null&&it.batchSizeIE(R,o)},[R,o]),b.useEffect(()=>{typeof l<"u"&&R!==null&&it.calculator(R,l)},[R,l]),b.useEffect(()=>{typeof u<"u"&&R!==null&&it.clusterClass(R,u)},[R,u]),b.useEffect(()=>{typeof h<"u"&&R!==null&&it.enableRetinaIcons(R,h)},[R,h]),b.useEffect(()=>{typeof d<"u"&&R!==null&&it.gridSize(R,d)},[R,d]),b.useEffect(()=>{typeof m<"u"&&R!==null&&it.ignoreHidden(R,m)},[R,m]),b.useEffect(()=>{typeof v<"u"&&R!==null&&it.imageExtension(R,v)},[R,v]),b.useEffect(()=>{typeof y<"u"&&R!==null&&it.imagePath(R,y)},[R,y]),b.useEffect(()=>{typeof E<"u"&&R!==null&&it.imageSizes(R,E)},[R,E]),b.useEffect(()=>{typeof w<"u"&&R!==null&&it.maxZoom(R,w)},[R,w]),b.useEffect(()=>{typeof x<"u"&&R!==null&&it.minimumClusterSize(R,x)},[R,x]),b.useEffect(()=>{typeof D<"u"&&R!==null&&it.styles(R,D)},[R,D]),b.useEffect(()=>{typeof O<"u"&&R!==null&&it.title(R,O)},[R,O]),b.useEffect(()=>{typeof U<"u"&&R!==null&&it.zoomOnClick(R,U)},[R,U]),b.useEffect(()=>{if(I){var W=vk({},n||yk),se=new mA(I,[],W);return s&&it.averageCenter(se,s),o&&it.batchSizeIE(se,o),l&&it.calculator(se,l),u&&it.clusterClass(se,u),h&&it.enableRetinaIcons(se,h),d&&it.gridSize(se,d),m&&it.ignoreHidden(se,m),v&&it.imageExtension(se,v),y&&it.imagePath(se,y),E&&it.imageSizes(se,E),w&&it.maxZoom(se,w),x&&it.minimumClusterSize(se,x),D&&it.styles(se,D),O&&it.title(se,O),U&&it.zoomOnClick(se,U),H&&ge(google.maps.event.addListener(se,ji.onMouseOut,H)),k&&z(google.maps.event.addListener(se,ji.onMouseOver,k)),j&&P(google.maps.event.addListener(se,ji.onClick,j)),B&&be(google.maps.event.addListener(se,ji.onClusteringBegin,B)),N&&ie(google.maps.event.addListener(se,ji.onClusteringEnd,N)),V(se),C&&C(se),()=>{ce!==null&&google.maps.event.removeListener(ce),ye!==null&&google.maps.event.removeListener(ye),F!==null&&google.maps.event.removeListener(F),me!==null&&google.maps.event.removeListener(me),$!==null&&google.maps.event.removeListener($),A&&A(se)}}},[]),R!==null&&e(R)||null}b.memo(bk);class Ek extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{markerClusterer:null}),re(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new mA(this.context,[],this.props.options);this.registeredEvents=He({updaterMap:it,eventMap:ji,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:it,eventMap:ji,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ke(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}re(Ek,"contextType",ze);function XT(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var gA=(function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(v){v.returnValue=!1,v.preventDefault&&v.preventDefault(),e.enableEventPropagation||XT(v)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var s=this.getPanes();if(s!==null&&s[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var o=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-o.left-o.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var l=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],u=0,h=l;u<h.length;u++){var d=h[u];this.eventListeners.push(google.maps.event.addListener(this.div,d,XT))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var s=0,o=0,l=n.getBounds();l&&!l.contains(this.position)&&n.setCenter(this.position);var u=n.getDiv(),h=u.offsetWidth,d=u.offsetHeight,m=this.pixelOffset.width,v=this.pixelOffset.height,y=this.div.offsetWidth,E=this.div.offsetHeight,w=this.infoBoxClearance.width,x=this.infoBoxClearance.height,D=this.getProjection(),O=D.fromLatLngToContainerPixel(this.position);O!==null&&(O.x<-m+w?s=O.x+m-w:O.x+y+m+w>h&&(s=O.x+y+m+w-h),this.alignBottom?O.y<-v+x+E?o=O.y+v-x-E:O.y+v+x>d&&(o=O.y+v+x-d):O.y<-v+x?o=O.y+v-x:O.y+E+v+x>d&&(o=O.y+E+v+x-d)),s===0&&o===0||n.panBy(s,o)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var s=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+s*100+')"',this.div.style.filter="alpha(opacity="+s*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,s=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var o=this.div.currentStyle;o&&(e.top=parseInt(o.borderTopWidth||"",10)||0,e.bottom=parseInt(o.borderBottomWidth||"",10)||0,e.left=parseInt(o.borderLeftWidth||"",10)||0,e.right=parseInt(o.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var s=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var o=n.getPosition();s.setPosition(o)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){s.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var s=n[e];google.maps.event.removeListener(s)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(o){for(var l in o.prototype)Object.prototype.hasOwnProperty.call(this,l)||(this.prototype[l]=o.prototype[l]);return this}).apply(e,[n])},t})(),_k=["position"],Tk=["position"];function QT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function If(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var ZT={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},WT={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Sk={};function wk(t){var{children:e,anchor:n,options:s,position:o,zIndex:l,onCloseClick:u,onDomReady:h,onContentChanged:d,onPositionChanged:m,onZindexChanged:v,onLoad:y,onUnmount:E}=t,w=b.useContext(ze),[x,D]=b.useState(null),[O,U]=b.useState(null),[j,B]=b.useState(null),[N,k]=b.useState(null),[H,C]=b.useState(null),[A,R]=b.useState(null),V=b.useRef(null);return b.useEffect(()=>{w&&x!==null&&(x.close(),n?x.open(w,n):x.getPosition()&&x.open(w))},[w,x,n]),b.useEffect(()=>{s&&x!==null&&x.setOptions(s)},[x,s]),b.useEffect(()=>{if(o&&x!==null){var I=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);x.setPosition(I)}},[o]),b.useEffect(()=>{typeof l=="number"&&x!==null&&x.setZIndex(l)},[l]),b.useEffect(()=>{x&&u&&(O!==null&&google.maps.event.removeListener(O),U(google.maps.event.addListener(x,"closeclick",u)))},[u]),b.useEffect(()=>{x&&h&&(j!==null&&google.maps.event.removeListener(j),B(google.maps.event.addListener(x,"domready",h)))},[h]),b.useEffect(()=>{x&&d&&(N!==null&&google.maps.event.removeListener(N),k(google.maps.event.addListener(x,"content_changed",d)))},[d]),b.useEffect(()=>{x&&m&&(H!==null&&google.maps.event.removeListener(H),C(google.maps.event.addListener(x,"position_changed",m)))},[m]),b.useEffect(()=>{x&&v&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(x,"zindex_changed",v)))},[v]),b.useEffect(()=>{if(w){var I=s||Sk,{position:F}=I,P=qv(I,_k),me;F&&!(F instanceof google.maps.LatLng)&&(me=new google.maps.LatLng(F.lat,F.lng));var be=new gA(If(If({},P),me?{position:me}:{}));V.current=document.createElement("div"),D(be),u&&U(google.maps.event.addListener(be,"closeclick",u)),h&&B(google.maps.event.addListener(be,"domready",h)),d&&k(google.maps.event.addListener(be,"content_changed",d)),m&&C(google.maps.event.addListener(be,"position_changed",m)),v&&R(google.maps.event.addListener(be,"zindex_changed",v)),be.setContent(V.current),n?be.open(w,n):be.getPosition()?be.open(w):dn(!1,"You must provide either an anchor or a position prop for <InfoBox>."),y&&y(be)}return()=>{x!==null&&(O&&google.maps.event.removeListener(O),N&&google.maps.event.removeListener(N),j&&google.maps.event.removeListener(j),H&&google.maps.event.removeListener(H),A&&google.maps.event.removeListener(A),E&&E(x),x.close())}},[]),V.current?rs.createPortal(b.Children.only(e),V.current):null}b.memo(wk);class Ck extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",null),re(this,"state",{infoBox:null}),re(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):dn(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),re(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,s=qv(e,Tk),o;n&&!(n instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(n.lat,n.lng));var l=new gA(If(If({},s),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=He({updaterMap:WT,eventMap:ZT,prevProps:{},nextProps:this.props,instance:l}),this.setState({infoBox:l},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:WT,eventMap:ZT,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Ke(this.registeredEvents),n.close())}render(){return this.containerElement?rs.createPortal(b.Children.only(this.props.children),this.containerElement):null}}re(Ck,"contextType",ze);var Km,JT;function Ak(){return JT||(JT=1,Km=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,o,l;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(o=s;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(l=Object.keys(e),s=l.length,s!==Object.keys(n).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[o]))return!1;for(o=s;o--!==0;){var u=l[o];if(!t(e[u],n[u]))return!1}return!0}return e!==e&&n!==n}),Km}var xk=Ak(),eS=cA(xk),tS=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Ym=1,wu=8;class Gv{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,s]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var o=s>>4;if(o!==Ym)throw new Error("Got v".concat(o," data when expected v").concat(Ym,"."));var l=tS[s&15];if(!l)throw new Error("Unrecognized array type.");var[u]=new Uint16Array(e,2,1),[h]=new Uint32Array(e,4,1);return new Gv(h,u,l,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,o=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=s,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var l=tS.indexOf(this.ArrayType),u=e*2*this.ArrayType.BYTES_PER_ELEMENT,h=e*this.IndexArrayType.BYTES_PER_ELEMENT,d=(8-h%8)%8;if(l<0)throw new Error("Unexpected typed array class: ".concat(s,"."));o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,wu,e),this.coords=new this.ArrayType(this.data,wu+h+d,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(wu+u+h+d),this.ids=new this.IndexArrayType(this.data,wu,e),this.coords=new this.ArrayType(this.data,wu+h+d,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Ym<<4)+l]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=e,this.coords[this._pos++]=n,s}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Vg(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,s,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:l,coords:u,nodeSize:h}=this,d=[0,l.length-1,0],m=[];d.length;){var v=d.pop()||0,y=d.pop()||0,E=d.pop()||0;if(y-E<=h){for(var w=E;w<=y;w++){var x=u[2*w],D=u[2*w+1];x>=e&&x<=s&&D>=n&&D<=o&&m.push(l[w])}continue}var O=E+y>>1,U=u[2*O],j=u[2*O+1];U>=e&&U<=s&&j>=n&&j<=o&&m.push(l[O]),(v===0?e<=U:n<=j)&&(d.push(E),d.push(O-1),d.push(1-v)),(v===0?s>=U:o>=j)&&(d.push(O+1),d.push(y),d.push(1-v))}return m}within(e,n,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:l,nodeSize:u}=this,h=[0,o.length-1,0],d=[],m=s*s;h.length;){var v=h.pop()||0,y=h.pop()||0,E=h.pop()||0;if(y-E<=u){for(var w=E;w<=y;w++)nS(l[2*w],l[2*w+1],e,n)<=m&&d.push(o[w]);continue}var x=E+y>>1,D=l[2*x],O=l[2*x+1];nS(D,O,e,n)<=m&&d.push(o[x]),(v===0?e-s<=D:n-s<=O)&&(h.push(E),h.push(x-1),h.push(1-v)),(v===0?e+s>=D:n+s>=O)&&(h.push(x+1),h.push(y),h.push(1-v))}return d}}function Vg(t,e,n,s,o,l){if(!(o-s<=n)){var u=s+o>>1;vA(t,e,u,s,o,l),Vg(t,e,n,s,u-1,1-l),Vg(t,e,n,u+1,o,1-l)}}function vA(t,e,n,s,o,l){for(;o>s;){if(o-s>600){var u=o-s+1,h=n-s+1,d=Math.log(u),m=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*m*(u-m)/u)*(h-u/2<0?-1:1),y=Math.max(s,Math.floor(n-h*m/u+v)),E=Math.min(o,Math.floor(n+(u-h)*m/u+v));vA(t,e,n,y,E,l)}var w=e[2*n+l],x=s,D=o;for(Cu(t,e,s,n),e[2*o+l]>w&&Cu(t,e,s,o);x<D;){for(Cu(t,e,x,D),x++,D--;e[2*x+l]<w;)x++;for(;e[2*D+l]>w;)D--}e[2*s+l]===w?Cu(t,e,s,D):(D++,Cu(t,e,D,o)),D<=n&&(s=D+1),n<=D&&(o=D-1)}}function Cu(t,e,n,s){$m(t,n,s),$m(e,2*n,2*s),$m(e,2*n+1,2*s+1)}function $m(t,e,n){var s=t[e];t[e]=t[n],t[n]=s}function nS(t,e,n,s){var o=t-n,l=e-s;return o*o+l*l}var Rk={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},iS=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),No=2,Gr=3,Xm=4,qr=5,yA=6;class Lk{constructor(e){this.options=Object.assign(Object.create(Rk),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:s,maxZoom:o}=this.options;n&&console.time("total time");var l="prepare ".concat(e.length," points");n&&console.time(l),this.points=e;for(var u=[],h=0;h<e.length;h++){var d=e[h];if(d.geometry){var[m,v]=d.geometry.coordinates,y=iS(Jh(m)),E=iS(ef(v));u.push(y,E,1/0,h,-1,1),this.options.reduce&&u.push(0)}}var w=this.trees[o+1]=this._createTree(u);n&&console.timeEnd(l);for(var x=o;x>=s;x--){var D=+Date.now();w=this.trees[x]=this._createTree(this._cluster(w,x)),n&&console.log("z%d: %d clusters in %dms",x,w.numItems,+Date.now()-D)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var s=((e[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[1])),l=e[2]===180?180:((e[2]+180)%360+360)%360-180,u=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)s=-180,l=180;else if(s>l){var h=this.getClusters([s,o,180,u],n),d=this.getClusters([-180,o,l,u],n);return h.concat(d)}var m=this.trees[this._limitZoom(n)],v=m.range(Jh(s),ef(u),Jh(l),ef(o)),y=m.data,E=[];for(var w of v){var x=this.stride*w;E.push(y[x+qr]>1?sS(y,x,this.clusterProps):this.points[y[x+Gr]])}return E}getChildren(e){var n=this._getOriginId(e),s=this._getOriginZoom(e),o="No cluster with the specified id.",l=this.trees[s];if(!l)throw new Error(o);var u=l.data;if(n*this.stride>=u.length)throw new Error(o);var h=this.options.radius/(this.options.extent*Math.pow(2,s-1)),d=u[n*this.stride],m=u[n*this.stride+1],v=l.within(d,m,h),y=[];for(var E of v){var w=E*this.stride;u[w+Xm]===e&&y.push(u[w+qr]>1?sS(u,w,this.clusterProps):this.points[u[w+Gr]])}if(y.length===0)throw new Error(o);return y}getLeaves(e,n,s){n=n||10,s=s||0;var o=[];return this._appendLeaves(o,e,n,s,0),o}getTile(e,n,s){var o=this.trees[this._limitZoom(e)],l=Math.pow(2,e),{extent:u,radius:h}=this.options,d=h/u,m=(s-d)/l,v=(s+1+d)/l,y={features:[]};return this._addTileFeatures(o.range((n-d)/l,m,(n+1+d)/l,v),o.data,n,s,l,y),n===0&&this._addTileFeatures(o.range(1-d/l,m,1,v),o.data,l,s,l,y),n===l-1&&this._addTileFeatures(o.range(0,m,d/l,v),o.data,-1,s,l,y),y.features.length?y:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var s=this.getChildren(e);if(n++,s.length!==1)break;e=s[0].properties.cluster_id}return n}_appendLeaves(e,n,s,o,l){var u=this.getChildren(n);for(var h of u){var d=h.properties;if(d&&d.cluster?l+d.point_count<=o?l+=d.point_count:l=this._appendLeaves(e,d.cluster_id,s,o,l):l<o?l++:e.push(h),e.length===s)break}return l}_createTree(e){for(var n=new Gv(e.length/this.stride|0,this.options.nodeSize,Float32Array),s=0;s<e.length;s+=this.stride)n.add(e[s],e[s+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,s,o,l,u){for(var h of e){var d=h*this.stride,m=n[d+qr]>1,v=void 0,y=void 0,E=void 0;if(m)v=bA(n,d,this.clusterProps),y=n[d],E=n[d+1];else{var w=this.points[n[d+Gr]];v=w.properties;var[x,D]=w.geometry.coordinates;y=Jh(x),E=ef(D)}var O={type:1,geometry:[[Math.round(this.options.extent*(y*l-s)),Math.round(this.options.extent*(E*l-o))]],tags:v},U=void 0;m||this.options.generateId?U=n[d+Gr]:U=this.points[n[d+Gr]].id,U!==void 0&&(O.id=U),u.features.push(O)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:s,extent:o,reduce:l,minPoints:u}=this.options,h=s/(o*Math.pow(2,n)),d=e.data,m=[],v=this.stride,y=0;y<d.length;y+=v)if(!(d[y+No]<=n)){d[y+No]=n;var E=d[y],w=d[y+1],x=e.within(d[y],d[y+1],h),D=d[y+qr],O=D;for(var U of x){var j=U*v;d[j+No]>n&&(O+=d[j+qr])}if(O>D&&O>=u){var B=E*D,N=w*D,k=void 0,H=-1,C=((y/v|0)<<5)+(n+1)+this.points.length;for(var A of x){var R=A*v;if(!(d[R+No]<=n)){d[R+No]=n;var V=d[R+qr];B+=d[R]*V,N+=d[R+1]*V,d[R+Xm]=C,l&&(k||(k=this._map(d,y,!0),H=this.clusterProps.length,this.clusterProps.push(k)),l(k,this._map(d,R)))}}d[y+Xm]=C,m.push(B/O,N/O,1/0,C,-1,O),l&&m.push(H)}else{for(var I=0;I<v;I++)m.push(d[y+I]);if(O>1)for(var F of x){var P=F*v;if(!(d[P+No]<=n)){d[P+No]=n;for(var me=0;me<v;me++)m.push(d[P+me])}}}}return m}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,s){if(e[n+qr]>1){var o=this.clusterProps[e[n+yA]];return s?Object.assign({},o):o}var l=this.points[e[n+Gr]].properties,u=this.options.map(l);return s&&u===l?Object.assign({},u):u}}function sS(t,e,n){return{type:"Feature",id:t[e+Gr],properties:bA(t,e,n),geometry:{type:"Point",coordinates:[Mk(t[e]),Dk(t[e+1])]}}}function bA(t,e,n){var s=t[e+qr],o=s>=1e4?"".concat(Math.round(s/1e3),"k"):s>=1e3?"".concat(Math.round(s/100)/10,"k"):s,l=t[e+yA],u=l===-1?{}:Object.assign({},n[l]);return Object.assign(u,{cluster:!0,cluster_id:t[e+Gr],point_count:s,point_count_abbreviated:o})}function Jh(t){return t/360+.5}function ef(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Mk(t){return(t-.5)*360}function Dk(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function Ok(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}class Ei{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Pg{constructor(e){var{markers:n,position:s}=e;this.markers=n,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Ei.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Ei.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Ei.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Ik{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return Vk(n)}}var Vk=t=>{var e=t.map(n=>new Pg({position:Ei.getPosition(n),markers:[n]}));return e};class Pk extends Ik{constructor(e){var{maxZoom:n,radius:s=60}=e,o=Ok(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new Lk(Object.assign({maxZoom:this.maxZoom,radius:s},o))}calculate(e){var n=!1,s={zoom:e.map.getZoom()};if(!eS(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var o=this.markers.map(l=>{var u=Ei.getPosition(l),h=[u.lng(),u.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:h},properties:{marker:l}}});this.superCluster.load(o)}return n||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(n=!eS(this.state,s)),this.state=s,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(s=>this.transformCluster(s))}transformCluster(e){var{geometry:{coordinates:[n,s]},properties:o}=e;if(o.cluster)return new Pg({markers:this.superCluster.getLeaves(o.cluster_id,1/0).map(u=>u.properties.marker),position:{lat:s,lng:n}});var l=o.marker;return new Pg({markers:[l],position:Ei.getPosition(l)})}}class kk{constructor(e,n){this.markers={sum:e.length};var s=n.map(l=>l.count),o=s.reduce((l,u)=>l+u,0);this.clusters={count:n.length,markers:{mean:o/n.length,sum:o,min:Math.min(...s),max:Math.max(...s)}}}}class Nk{render(e,n,s){var{count:o,position:l}=e,u=o>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",h='<svg fill="'.concat(u,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(o,`</text>
</svg>`),d="Cluster of ".concat(o," markers"),m=Number(google.maps.Marker.MAX_ZINDEX)+o;if(Ei.isAdvancedMarkerAvailable(s)){var v=new DOMParser,y=v.parseFromString(h,"image/svg+xml").documentElement;y.setAttribute("transform","translate(0 25)");var E={map:s,position:l,zIndex:m,title:d,content:y};return new google.maps.marker.AdvancedMarkerElement(E)}var w={position:l,zIndex:m,title:d,icon:{url:"data:image/svg+xml;base64,".concat(btoa(h)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(w)}}function Uk(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class Kv{constructor(){Uk(Kv,google.maps.OverlayView)}}var Bu;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Bu||(Bu={}));var jk=(t,e,n)=>{n.fitBounds(e.bounds)};class Bk extends Kv{constructor(e){var{map:n,markers:s=[],algorithmOptions:o={},algorithm:l=new Pk(o),renderer:u=new Nk,onClusterClick:h=jk}=e;super(),this.markers=[...s],this.clusters=[],this.algorithm=l,this.renderer=u,this.onClusterClick=h,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(s=>{this.addMarker(s,!0)}),n||this.render()}removeMarker(e,n){var s=this.markers.indexOf(e);return s===-1?!1:(Ei.setMap(e,null),this.markers.splice(s,1),n||this.render(),!0)}removeMarkers(e,n){var s=!1;return e.forEach(o=>{s=this.removeMarker(o,!0)||s}),s&&!n&&this.render(),s}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Bu.CLUSTERING_BEGIN,this);var{clusters:n,changed:s}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(s||s==null){var o=new Set;for(var l of n)l.markers.length==1&&o.add(l.markers[0]);var u=[];for(var h of this.clusters)h.marker!=null&&(h.markers.length==1?o.has(h.marker)||Ei.setMap(h.marker,null):u.push(h.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>u.forEach(d=>Ei.setMap(d,null)))}google.maps.event.trigger(this,Bu.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Ei.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new kk(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,e,n),s.markers.forEach(o=>Ei.setMap(o,null)),this.onClusterClick&&s.marker.addListener("click",o=>{google.maps.event.trigger(this,Bu.CLUSTER_CLICK,s),this.onClusterClick(o,s,n)})),Ei.setMap(s.marker,n)})}}function rS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function oS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function zk(t){var e=OP(),[n,s]=b.useState(null);return b.useEffect(()=>{if(e&&n===null){var o=new Bk(oS(oS({},t),{},{map:e}));s(o)}},[e]),n}function Fk(t){var{children:e,options:n}=t,s=zk(n);return s!==null?e(s):null}b.memo(Fk);var aS={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},lS={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function Hk(t){var{children:e,anchor:n,options:s,position:o,zIndex:l,onCloseClick:u,onDomReady:h,onContentChanged:d,onPositionChanged:m,onZindexChanged:v,onLoad:y,onUnmount:E}=t,w=b.useContext(ze),[x,D]=b.useState(null),[O,U]=b.useState(null),[j,B]=b.useState(null),[N,k]=b.useState(null),[H,C]=b.useState(null),[A,R]=b.useState(null),V=b.useRef(null);return b.useEffect(()=>{x!==null&&(x.close(),n?x.open(w,n):x.getPosition()&&x.open(w))},[w,x,n]),b.useEffect(()=>{s&&x!==null&&x.setOptions(s)},[x,s]),b.useEffect(()=>{o&&x!==null&&x.setPosition(o)},[o]),b.useEffect(()=>{typeof l=="number"&&x!==null&&x.setZIndex(l)},[l]),b.useEffect(()=>{x&&u&&(O!==null&&google.maps.event.removeListener(O),U(google.maps.event.addListener(x,"closeclick",u)))},[u]),b.useEffect(()=>{x&&h&&(j!==null&&google.maps.event.removeListener(j),B(google.maps.event.addListener(x,"domready",h)))},[h]),b.useEffect(()=>{x&&d&&(N!==null&&google.maps.event.removeListener(N),k(google.maps.event.addListener(x,"content_changed",d)))},[d]),b.useEffect(()=>{x&&m&&(H!==null&&google.maps.event.removeListener(H),C(google.maps.event.addListener(x,"position_changed",m)))},[m]),b.useEffect(()=>{x&&v&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(x,"zindex_changed",v)))},[v]),b.useEffect(()=>{var I=new google.maps.InfoWindow(s);return D(I),V.current=document.createElement("div"),u&&U(google.maps.event.addListener(I,"closeclick",u)),h&&B(google.maps.event.addListener(I,"domready",h)),d&&k(google.maps.event.addListener(I,"content_changed",d)),m&&C(google.maps.event.addListener(I,"position_changed",m)),v&&R(google.maps.event.addListener(I,"zindex_changed",v)),I.setContent(V.current),o&&I.setPosition(o),l&&I.setZIndex(l),n?I.open(w,n):I.getPosition()?I.open(w):dn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),y&&y(I),()=>{O&&google.maps.event.removeListener(O),N&&google.maps.event.removeListener(N),j&&google.maps.event.removeListener(j),H&&google.maps.event.removeListener(H),A&&google.maps.event.removeListener(A),E&&E(I),I.close()}},[]),V.current?rs.createPortal(b.Children.only(e),V.current):null}b.memo(Hk);class qk extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",null),re(this,"state",{infoWindow:null}),re(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):dn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),re(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=He({updaterMap:lS,eventMap:aS,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:lS,eventMap:aS,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Ke(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?rs.createPortal(b.Children.only(this.props.children),this.containerElement):null}}re(qk,"contextType",ze);function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Vf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var cS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},hS={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},Gk={};function Kk(t){var{options:e,draggable:n,editable:s,visible:o,path:l,onDblClick:u,onDragEnd:h,onDragStart:d,onMouseDown:m,onMouseMove:v,onMouseOut:y,onMouseOver:E,onMouseUp:w,onRightClick:x,onClick:D,onDrag:O,onLoad:U,onUnmount:j}=t,B=b.useContext(ze),[N,k]=b.useState(null),[H,C]=b.useState(null),[A,R]=b.useState(null),[V,I]=b.useState(null),[F,P]=b.useState(null),[me,be]=b.useState(null),[$,ie]=b.useState(null),[ce,ge]=b.useState(null),[ye,z]=b.useState(null),[W,se]=b.useState(null),[fe,Q]=b.useState(null),[ve,Te]=b.useState(null);return b.useEffect(()=>{N!==null&&N.setMap(B)},[B]),b.useEffect(()=>{typeof e<"u"&&N!==null&&N.setOptions(e)},[N,e]),b.useEffect(()=>{typeof n<"u"&&N!==null&&N.setDraggable(n)},[N,n]),b.useEffect(()=>{typeof s<"u"&&N!==null&&N.setEditable(s)},[N,s]),b.useEffect(()=>{typeof o<"u"&&N!==null&&N.setVisible(o)},[N,o]),b.useEffect(()=>{typeof l<"u"&&N!==null&&N.setPath(l)},[N,l]),b.useEffect(()=>{N&&u&&(H!==null&&google.maps.event.removeListener(H),C(google.maps.event.addListener(N,"dblclick",u)))},[u]),b.useEffect(()=>{N&&h&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(N,"dragend",h)))},[h]),b.useEffect(()=>{N&&d&&(V!==null&&google.maps.event.removeListener(V),I(google.maps.event.addListener(N,"dragstart",d)))},[d]),b.useEffect(()=>{N&&m&&(F!==null&&google.maps.event.removeListener(F),P(google.maps.event.addListener(N,"mousedown",m)))},[m]),b.useEffect(()=>{N&&v&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(N,"mousemove",v)))},[v]),b.useEffect(()=>{N&&y&&($!==null&&google.maps.event.removeListener($),ie(google.maps.event.addListener(N,"mouseout",y)))},[y]),b.useEffect(()=>{N&&E&&(ce!==null&&google.maps.event.removeListener(ce),ge(google.maps.event.addListener(N,"mouseover",E)))},[E]),b.useEffect(()=>{N&&w&&(ye!==null&&google.maps.event.removeListener(ye),z(google.maps.event.addListener(N,"mouseup",w)))},[w]),b.useEffect(()=>{N&&x&&(W!==null&&google.maps.event.removeListener(W),se(google.maps.event.addListener(N,"rightclick",x)))},[x]),b.useEffect(()=>{N&&D&&(fe!==null&&google.maps.event.removeListener(fe),Q(google.maps.event.addListener(N,"click",D)))},[D]),b.useEffect(()=>{N&&O&&(ve!==null&&google.maps.event.removeListener(ve),Te(google.maps.event.addListener(N,"drag",O)))},[O]),b.useEffect(()=>{var Ee=new google.maps.Polyline(Vf(Vf({},e||Gk),{},{map:B}));return l&&Ee.setPath(l),typeof o<"u"&&Ee.setVisible(o),typeof s<"u"&&Ee.setEditable(s),typeof n<"u"&&Ee.setDraggable(n),u&&C(google.maps.event.addListener(Ee,"dblclick",u)),h&&R(google.maps.event.addListener(Ee,"dragend",h)),d&&I(google.maps.event.addListener(Ee,"dragstart",d)),m&&P(google.maps.event.addListener(Ee,"mousedown",m)),v&&be(google.maps.event.addListener(Ee,"mousemove",v)),y&&ie(google.maps.event.addListener(Ee,"mouseout",y)),E&&ge(google.maps.event.addListener(Ee,"mouseover",E)),w&&z(google.maps.event.addListener(Ee,"mouseup",w)),x&&se(google.maps.event.addListener(Ee,"rightclick",x)),D&&Q(google.maps.event.addListener(Ee,"click",D)),O&&Te(google.maps.event.addListener(Ee,"drag",O)),k(Ee),U&&U(Ee),()=>{H!==null&&google.maps.event.removeListener(H),A!==null&&google.maps.event.removeListener(A),V!==null&&google.maps.event.removeListener(V),F!==null&&google.maps.event.removeListener(F),me!==null&&google.maps.event.removeListener(me),$!==null&&google.maps.event.removeListener($),ce!==null&&google.maps.event.removeListener(ce),ye!==null&&google.maps.event.removeListener(ye),W!==null&&google.maps.event.removeListener(W),fe!==null&&google.maps.event.removeListener(fe),j&&j(Ee),Ee.setMap(null)}},[]),null}b.memo(Kk);class EA extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{polyline:null}),re(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Vf(Vf({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:hS,eventMap:cS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:hS,eventMap:cS,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ke(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}re(EA,"contextType",ze);function fS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function dS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var pS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},mS={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function Yk(t){var{options:e,draggable:n,editable:s,visible:o,path:l,paths:u,onDblClick:h,onDragEnd:d,onDragStart:m,onMouseDown:v,onMouseMove:y,onMouseOut:E,onMouseOver:w,onMouseUp:x,onRightClick:D,onClick:O,onDrag:U,onLoad:j,onUnmount:B,onEdit:N}=t,k=b.useContext(ze),[H,C]=b.useState(null),[A,R]=b.useState(null),[V,I]=b.useState(null),[F,P]=b.useState(null),[me,be]=b.useState(null),[$,ie]=b.useState(null),[ce,ge]=b.useState(null),[ye,z]=b.useState(null),[W,se]=b.useState(null),[fe,Q]=b.useState(null),[ve,Te]=b.useState(null),[Ee,Re]=b.useState(null);return b.useEffect(()=>{H!==null&&H.setMap(k)},[k]),b.useEffect(()=>{typeof e<"u"&&H!==null&&H.setOptions(e)},[H,e]),b.useEffect(()=>{typeof n<"u"&&H!==null&&H.setDraggable(n)},[H,n]),b.useEffect(()=>{typeof s<"u"&&H!==null&&H.setEditable(s)},[H,s]),b.useEffect(()=>{typeof o<"u"&&H!==null&&H.setVisible(o)},[H,o]),b.useEffect(()=>{typeof l<"u"&&H!==null&&H.setPath(l)},[H,l]),b.useEffect(()=>{typeof u<"u"&&H!==null&&H.setPaths(u)},[H,u]),b.useEffect(()=>{H&&typeof h=="function"&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(H,"dblclick",h)))},[h]),b.useEffect(()=>{H&&(google.maps.event.addListener(H.getPath(),"insert_at",()=>{N?.(H)}),google.maps.event.addListener(H.getPath(),"set_at",()=>{N?.(H)}),google.maps.event.addListener(H.getPath(),"remove_at",()=>{N?.(H)}))},[H,N]),b.useEffect(()=>{H&&typeof d=="function"&&(V!==null&&google.maps.event.removeListener(V),I(google.maps.event.addListener(H,"dragend",d)))},[d]),b.useEffect(()=>{H&&typeof m=="function"&&(F!==null&&google.maps.event.removeListener(F),P(google.maps.event.addListener(H,"dragstart",m)))},[m]),b.useEffect(()=>{H&&typeof v=="function"&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(H,"mousedown",v)))},[v]),b.useEffect(()=>{H&&typeof y=="function"&&($!==null&&google.maps.event.removeListener($),ie(google.maps.event.addListener(H,"mousemove",y)))},[y]),b.useEffect(()=>{H&&typeof E=="function"&&(ce!==null&&google.maps.event.removeListener(ce),ge(google.maps.event.addListener(H,"mouseout",E)))},[E]),b.useEffect(()=>{H&&typeof w=="function"&&(ye!==null&&google.maps.event.removeListener(ye),z(google.maps.event.addListener(H,"mouseover",w)))},[w]),b.useEffect(()=>{H&&typeof x=="function"&&(W!==null&&google.maps.event.removeListener(W),se(google.maps.event.addListener(H,"mouseup",x)))},[x]),b.useEffect(()=>{H&&typeof D=="function"&&(fe!==null&&google.maps.event.removeListener(fe),Q(google.maps.event.addListener(H,"rightclick",D)))},[D]),b.useEffect(()=>{H&&typeof O=="function"&&(ve!==null&&google.maps.event.removeListener(ve),Te(google.maps.event.addListener(H,"click",O)))},[O]),b.useEffect(()=>{H&&typeof U=="function"&&(Ee!==null&&google.maps.event.removeListener(Ee),Re(google.maps.event.addListener(H,"drag",U)))},[U]),b.useEffect(()=>{var de=new google.maps.Polygon(dS(dS({},e),{},{map:k}));return l&&de.setPath(l),u&&de.setPaths(u),typeof o<"u"&&de.setVisible(o),typeof s<"u"&&de.setEditable(s),typeof n<"u"&&de.setDraggable(n),h&&R(google.maps.event.addListener(de,"dblclick",h)),d&&I(google.maps.event.addListener(de,"dragend",d)),m&&P(google.maps.event.addListener(de,"dragstart",m)),v&&be(google.maps.event.addListener(de,"mousedown",v)),y&&ie(google.maps.event.addListener(de,"mousemove",y)),E&&ge(google.maps.event.addListener(de,"mouseout",E)),w&&z(google.maps.event.addListener(de,"mouseover",w)),x&&se(google.maps.event.addListener(de,"mouseup",x)),D&&Q(google.maps.event.addListener(de,"rightclick",D)),O&&Te(google.maps.event.addListener(de,"click",O)),U&&Re(google.maps.event.addListener(de,"drag",U)),C(de),j&&j(de),()=>{A!==null&&google.maps.event.removeListener(A),V!==null&&google.maps.event.removeListener(V),F!==null&&google.maps.event.removeListener(F),me!==null&&google.maps.event.removeListener(me),$!==null&&google.maps.event.removeListener($),ce!==null&&google.maps.event.removeListener(ce),ye!==null&&google.maps.event.removeListener(ye),W!==null&&google.maps.event.removeListener(W),fe!==null&&google.maps.event.removeListener(fe),ve!==null&&google.maps.event.removeListener(ve),B&&B(de),de.setMap(null)}},[]),null}b.memo(Yk);class $k extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=He({updaterMap:mS,eventMap:pS,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:mS,eventMap:pS,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ke(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}re($k,"contextType",ze);function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Pf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var vS={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},yS={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function Xk(t){var{options:e,bounds:n,draggable:s,editable:o,visible:l,onDblClick:u,onDragEnd:h,onDragStart:d,onMouseDown:m,onMouseMove:v,onMouseOut:y,onMouseOver:E,onMouseUp:w,onRightClick:x,onClick:D,onDrag:O,onBoundsChanged:U,onLoad:j,onUnmount:B}=t,N=b.useContext(ze),[k,H]=b.useState(null),[C,A]=b.useState(null),[R,V]=b.useState(null),[I,F]=b.useState(null),[P,me]=b.useState(null),[be,$]=b.useState(null),[ie,ce]=b.useState(null),[ge,ye]=b.useState(null),[z,W]=b.useState(null),[se,fe]=b.useState(null),[Q,ve]=b.useState(null),[Te,Ee]=b.useState(null),[Re,de]=b.useState(null);return b.useEffect(()=>{k!==null&&k.setMap(N)},[N]),b.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),b.useEffect(()=>{typeof s<"u"&&k!==null&&k.setDraggable(s)},[k,s]),b.useEffect(()=>{typeof o<"u"&&k!==null&&k.setEditable(o)},[k,o]),b.useEffect(()=>{typeof l<"u"&&k!==null&&k.setVisible(l)},[k,l]),b.useEffect(()=>{typeof n<"u"&&k!==null&&k.setBounds(n)},[k,n]),b.useEffect(()=>{k&&u&&(C!==null&&google.maps.event.removeListener(C),A(google.maps.event.addListener(k,"dblclick",u)))},[u]),b.useEffect(()=>{k&&h&&(R!==null&&google.maps.event.removeListener(R),V(google.maps.event.addListener(k,"dragend",h)))},[h]),b.useEffect(()=>{k&&d&&(I!==null&&google.maps.event.removeListener(I),F(google.maps.event.addListener(k,"dragstart",d)))},[d]),b.useEffect(()=>{k&&m&&(P!==null&&google.maps.event.removeListener(P),me(google.maps.event.addListener(k,"mousedown",m)))},[m]),b.useEffect(()=>{k&&v&&(be!==null&&google.maps.event.removeListener(be),$(google.maps.event.addListener(k,"mousemove",v)))},[v]),b.useEffect(()=>{k&&y&&(ie!==null&&google.maps.event.removeListener(ie),ce(google.maps.event.addListener(k,"mouseout",y)))},[y]),b.useEffect(()=>{k&&E&&(ge!==null&&google.maps.event.removeListener(ge),ye(google.maps.event.addListener(k,"mouseover",E)))},[E]),b.useEffect(()=>{k&&w&&(z!==null&&google.maps.event.removeListener(z),W(google.maps.event.addListener(k,"mouseup",w)))},[w]),b.useEffect(()=>{k&&x&&(se!==null&&google.maps.event.removeListener(se),fe(google.maps.event.addListener(k,"rightclick",x)))},[x]),b.useEffect(()=>{k&&D&&(Q!==null&&google.maps.event.removeListener(Q),ve(google.maps.event.addListener(k,"click",D)))},[D]),b.useEffect(()=>{k&&O&&(Te!==null&&google.maps.event.removeListener(Te),Ee(google.maps.event.addListener(k,"drag",O)))},[O]),b.useEffect(()=>{k&&U&&(Re!==null&&google.maps.event.removeListener(Re),de(google.maps.event.addListener(k,"bounds_changed",U)))},[U]),b.useEffect(()=>{var Ie=new google.maps.Rectangle(Pf(Pf({},e),{},{map:N}));return typeof l<"u"&&Ie.setVisible(l),typeof o<"u"&&Ie.setEditable(o),typeof s<"u"&&Ie.setDraggable(s),typeof n<"u"&&Ie.setBounds(n),u&&A(google.maps.event.addListener(Ie,"dblclick",u)),h&&V(google.maps.event.addListener(Ie,"dragend",h)),d&&F(google.maps.event.addListener(Ie,"dragstart",d)),m&&me(google.maps.event.addListener(Ie,"mousedown",m)),v&&$(google.maps.event.addListener(Ie,"mousemove",v)),y&&ce(google.maps.event.addListener(Ie,"mouseout",y)),E&&ye(google.maps.event.addListener(Ie,"mouseover",E)),w&&W(google.maps.event.addListener(Ie,"mouseup",w)),x&&fe(google.maps.event.addListener(Ie,"rightclick",x)),D&&ve(google.maps.event.addListener(Ie,"click",D)),O&&Ee(google.maps.event.addListener(Ie,"drag",O)),U&&de(google.maps.event.addListener(Ie,"bounds_changed",U)),H(Ie),j&&j(Ie),()=>{C!==null&&google.maps.event.removeListener(C),R!==null&&google.maps.event.removeListener(R),I!==null&&google.maps.event.removeListener(I),P!==null&&google.maps.event.removeListener(P),be!==null&&google.maps.event.removeListener(be),ie!==null&&google.maps.event.removeListener(ie),ge!==null&&google.maps.event.removeListener(ge),z!==null&&google.maps.event.removeListener(z),se!==null&&google.maps.event.removeListener(se),Q!==null&&google.maps.event.removeListener(Q),Te!==null&&google.maps.event.removeListener(Te),Re!==null&&google.maps.event.removeListener(Re),B&&B(Ie),Ie.setMap(null)}},[]),null}b.memo(Xk);class Qk extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{rectangle:null}),re(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Pf(Pf({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:yS,eventMap:vS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:yS,eventMap:vS,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ke(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}re(Qk,"contextType",ze);function bS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var ES={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},_S={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},Zk={};function Wk(t){var{options:e,center:n,radius:s,draggable:o,editable:l,visible:u,onDblClick:h,onDragEnd:d,onDragStart:m,onMouseDown:v,onMouseMove:y,onMouseOut:E,onMouseOver:w,onMouseUp:x,onRightClick:D,onClick:O,onDrag:U,onCenterChanged:j,onRadiusChanged:B,onLoad:N,onUnmount:k}=t,H=b.useContext(ze),[C,A]=b.useState(null),[R,V]=b.useState(null),[I,F]=b.useState(null),[P,me]=b.useState(null),[be,$]=b.useState(null),[ie,ce]=b.useState(null),[ge,ye]=b.useState(null),[z,W]=b.useState(null),[se,fe]=b.useState(null),[Q,ve]=b.useState(null),[Te,Ee]=b.useState(null),[Re,de]=b.useState(null),[Ie,ut]=b.useState(null),[Ot,St]=b.useState(null);return b.useEffect(()=>{C!==null&&C.setMap(H)},[H]),b.useEffect(()=>{typeof e<"u"&&C!==null&&C.setOptions(e)},[C,e]),b.useEffect(()=>{typeof o<"u"&&C!==null&&C.setDraggable(o)},[C,o]),b.useEffect(()=>{typeof l<"u"&&C!==null&&C.setEditable(l)},[C,l]),b.useEffect(()=>{typeof u<"u"&&C!==null&&C.setVisible(u)},[C,u]),b.useEffect(()=>{typeof s=="number"&&C!==null&&C.setRadius(s)},[C,s]),b.useEffect(()=>{typeof n<"u"&&C!==null&&C.setCenter(n)},[C,n]),b.useEffect(()=>{C&&h&&(R!==null&&google.maps.event.removeListener(R),V(google.maps.event.addListener(C,"dblclick",h)))},[h]),b.useEffect(()=>{C&&d&&(I!==null&&google.maps.event.removeListener(I),F(google.maps.event.addListener(C,"dragend",d)))},[d]),b.useEffect(()=>{C&&m&&(P!==null&&google.maps.event.removeListener(P),me(google.maps.event.addListener(C,"dragstart",m)))},[m]),b.useEffect(()=>{C&&v&&(be!==null&&google.maps.event.removeListener(be),$(google.maps.event.addListener(C,"mousedown",v)))},[v]),b.useEffect(()=>{C&&y&&(ie!==null&&google.maps.event.removeListener(ie),ce(google.maps.event.addListener(C,"mousemove",y)))},[y]),b.useEffect(()=>{C&&E&&(ge!==null&&google.maps.event.removeListener(ge),ye(google.maps.event.addListener(C,"mouseout",E)))},[E]),b.useEffect(()=>{C&&w&&(z!==null&&google.maps.event.removeListener(z),W(google.maps.event.addListener(C,"mouseover",w)))},[w]),b.useEffect(()=>{C&&x&&(se!==null&&google.maps.event.removeListener(se),fe(google.maps.event.addListener(C,"mouseup",x)))},[x]),b.useEffect(()=>{C&&D&&(Q!==null&&google.maps.event.removeListener(Q),ve(google.maps.event.addListener(C,"rightclick",D)))},[D]),b.useEffect(()=>{C&&O&&(Te!==null&&google.maps.event.removeListener(Te),Ee(google.maps.event.addListener(C,"click",O)))},[O]),b.useEffect(()=>{C&&U&&(Re!==null&&google.maps.event.removeListener(Re),de(google.maps.event.addListener(C,"drag",U)))},[U]),b.useEffect(()=>{C&&j&&(Ie!==null&&google.maps.event.removeListener(Ie),ut(google.maps.event.addListener(C,"center_changed",j)))},[O]),b.useEffect(()=>{C&&B&&(Ot!==null&&google.maps.event.removeListener(Ot),St(google.maps.event.addListener(C,"radius_changed",B)))},[B]),b.useEffect(()=>{var je=new google.maps.Circle(kf(kf({},e||Zk),{},{map:H}));return typeof s=="number"&&je.setRadius(s),typeof n<"u"&&je.setCenter(n),typeof s=="number"&&je.setRadius(s),typeof u<"u"&&je.setVisible(u),typeof l<"u"&&je.setEditable(l),typeof o<"u"&&je.setDraggable(o),h&&V(google.maps.event.addListener(je,"dblclick",h)),d&&F(google.maps.event.addListener(je,"dragend",d)),m&&me(google.maps.event.addListener(je,"dragstart",m)),v&&$(google.maps.event.addListener(je,"mousedown",v)),y&&ce(google.maps.event.addListener(je,"mousemove",y)),E&&ye(google.maps.event.addListener(je,"mouseout",E)),w&&W(google.maps.event.addListener(je,"mouseover",w)),x&&fe(google.maps.event.addListener(je,"mouseup",x)),D&&ve(google.maps.event.addListener(je,"rightclick",D)),O&&Ee(google.maps.event.addListener(je,"click",O)),U&&de(google.maps.event.addListener(je,"drag",U)),j&&ut(google.maps.event.addListener(je,"center_changed",j)),B&&St(google.maps.event.addListener(je,"radius_changed",B)),A(je),N&&N(je),()=>{R!==null&&google.maps.event.removeListener(R),I!==null&&google.maps.event.removeListener(I),P!==null&&google.maps.event.removeListener(P),be!==null&&google.maps.event.removeListener(be),ie!==null&&google.maps.event.removeListener(ie),ge!==null&&google.maps.event.removeListener(ge),z!==null&&google.maps.event.removeListener(z),se!==null&&google.maps.event.removeListener(se),Q!==null&&google.maps.event.removeListener(Q),Te!==null&&google.maps.event.removeListener(Te),Ie!==null&&google.maps.event.removeListener(Ie),Ot!==null&&google.maps.event.removeListener(Ot),k&&k(je),je.setMap(null)}},[]),null}b.memo(Wk);class Jk extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{circle:null}),re(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(kf(kf({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:_S,eventMap:ES,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:_S,eventMap:ES,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ke(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}re(Jk,"contextType",ze);function TS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var SS={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},wS={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,s){t.loadGeoJson(e,n,s)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function eN(t){var{options:e,onClick:n,onDblClick:s,onMouseDown:o,onMouseMove:l,onMouseOut:u,onMouseOver:h,onMouseUp:d,onRightClick:m,onAddFeature:v,onRemoveFeature:y,onRemoveProperty:E,onSetGeometry:w,onSetProperty:x,onLoad:D,onUnmount:O}=t,U=b.useContext(ze),[j,B]=b.useState(null),[N,k]=b.useState(null),[H,C]=b.useState(null),[A,R]=b.useState(null),[V,I]=b.useState(null),[F,P]=b.useState(null),[me,be]=b.useState(null),[$,ie]=b.useState(null),[ce,ge]=b.useState(null),[ye,z]=b.useState(null),[W,se]=b.useState(null),[fe,Q]=b.useState(null),[ve,Te]=b.useState(null),[Ee,Re]=b.useState(null);return b.useEffect(()=>{j!==null&&j.setMap(U)},[U]),b.useEffect(()=>{j&&s&&(N!==null&&google.maps.event.removeListener(N),k(google.maps.event.addListener(j,"dblclick",s)))},[s]),b.useEffect(()=>{j&&o&&(H!==null&&google.maps.event.removeListener(H),C(google.maps.event.addListener(j,"mousedown",o)))},[o]),b.useEffect(()=>{j&&l&&(A!==null&&google.maps.event.removeListener(A),R(google.maps.event.addListener(j,"mousemove",l)))},[l]),b.useEffect(()=>{j&&u&&(V!==null&&google.maps.event.removeListener(V),I(google.maps.event.addListener(j,"mouseout",u)))},[u]),b.useEffect(()=>{j&&h&&(F!==null&&google.maps.event.removeListener(F),P(google.maps.event.addListener(j,"mouseover",h)))},[h]),b.useEffect(()=>{j&&d&&(me!==null&&google.maps.event.removeListener(me),be(google.maps.event.addListener(j,"mouseup",d)))},[d]),b.useEffect(()=>{j&&m&&($!==null&&google.maps.event.removeListener($),ie(google.maps.event.addListener(j,"rightclick",m)))},[m]),b.useEffect(()=>{j&&n&&(ce!==null&&google.maps.event.removeListener(ce),ge(google.maps.event.addListener(j,"click",n)))},[n]),b.useEffect(()=>{j&&v&&(ye!==null&&google.maps.event.removeListener(ye),z(google.maps.event.addListener(j,"addfeature",v)))},[v]),b.useEffect(()=>{j&&y&&(W!==null&&google.maps.event.removeListener(W),se(google.maps.event.addListener(j,"removefeature",y)))},[y]),b.useEffect(()=>{j&&E&&(fe!==null&&google.maps.event.removeListener(fe),Q(google.maps.event.addListener(j,"removeproperty",E)))},[E]),b.useEffect(()=>{j&&w&&(ve!==null&&google.maps.event.removeListener(ve),Te(google.maps.event.addListener(j,"setgeometry",w)))},[w]),b.useEffect(()=>{j&&x&&(Ee!==null&&google.maps.event.removeListener(Ee),Re(google.maps.event.addListener(j,"setproperty",x)))},[x]),b.useEffect(()=>{if(U!==null){var de=new google.maps.Data(Nf(Nf({},e),{},{map:U}));s&&k(google.maps.event.addListener(de,"dblclick",s)),o&&C(google.maps.event.addListener(de,"mousedown",o)),l&&R(google.maps.event.addListener(de,"mousemove",l)),u&&I(google.maps.event.addListener(de,"mouseout",u)),h&&P(google.maps.event.addListener(de,"mouseover",h)),d&&be(google.maps.event.addListener(de,"mouseup",d)),m&&ie(google.maps.event.addListener(de,"rightclick",m)),n&&ge(google.maps.event.addListener(de,"click",n)),v&&z(google.maps.event.addListener(de,"addfeature",v)),y&&se(google.maps.event.addListener(de,"removefeature",y)),E&&Q(google.maps.event.addListener(de,"removeproperty",E)),w&&Te(google.maps.event.addListener(de,"setgeometry",w)),x&&Re(google.maps.event.addListener(de,"setproperty",x)),B(de),D&&D(de)}return()=>{j&&(N!==null&&google.maps.event.removeListener(N),H!==null&&google.maps.event.removeListener(H),A!==null&&google.maps.event.removeListener(A),V!==null&&google.maps.event.removeListener(V),F!==null&&google.maps.event.removeListener(F),me!==null&&google.maps.event.removeListener(me),$!==null&&google.maps.event.removeListener($),ce!==null&&google.maps.event.removeListener(ce),ye!==null&&google.maps.event.removeListener(ye),W!==null&&google.maps.event.removeListener(W),fe!==null&&google.maps.event.removeListener(fe),ve!==null&&google.maps.event.removeListener(ve),Ee!==null&&google.maps.event.removeListener(Ee),O&&O(j),j.setMap(null))}},[]),null}b.memo(eN);class tN extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{data:null}),re(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Nf(Nf({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:wS,eventMap:SS,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:wS,eventMap:SS,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ke(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}re(tN,"contextType",ze);function CS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function AS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CS(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var xS={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},RS={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class nN extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{kmlLayer:null}),re(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(AS(AS({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:RS,eventMap:xS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:RS,eventMap:xS,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ke(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}re(nN,"contextType",ze);function _A(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function iN(t,e){return new e(t.lat,t.lng)}function sN(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function rN(t,e,n){return t instanceof e?t:n(t,e)}function oN(t,e,n){return t instanceof e?t:n(t,e)}function aN(t,e,n){var s=t&&t.fromLatLngToDivPixel(n.getNorthEast()),o=t&&t.fromLatLngToDivPixel(n.getSouthWest());return s&&o?{left:"".concat(o.x+e.x,"px"),top:"".concat(s.y+e.y,"px"),width:"".concat(s.x-o.x-e.x,"px"),height:"".concat(o.y-s.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function lN(t,e,n){var s=t&&t.fromLatLngToDivPixel(n);if(s){var{x:o,y:l}=s;return{left:"".concat(o+e.x,"px"),top:"".concat(l+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function TA(t,e,n,s){return n!==void 0?aN(t,e,oN(n,google.maps.LatLngBounds,sN)):lN(t,e,rN(s,google.maps.LatLng,iN))}function uN(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function LS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function cN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function hN(t,e,n,s,o){class l extends google.maps.OverlayView{constructor(h,d,m,v){super(),this.container=h,this.pane=d,this.position=m,this.bounds=v}onAdd(){var h,d=(h=this.getPanes())===null||h===void 0?void 0:h[this.pane];d?.appendChild(this.container)}draw(){var h=this.getProjection(),d=cN({},this.container?_A(this.container,o):{x:0,y:0}),m=TA(h,d,this.bounds,this.position);for(var[v,y]of Object.entries(m))this.container.style[v]=y}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new l(t,e,n,s)}function MS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function fN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function DS(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function OS(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function dN(t){var{position:e,bounds:n,mapPaneName:s,zIndex:o,onLoad:l,onUnmount:u,getPixelPositionOffset:h,children:d}=t,m=b.useContext(ze),v=b.useMemo(()=>{var E=document.createElement("div");return E.style.position="absolute",E},[]),y=b.useMemo(()=>hN(v,s,e,n,h),[v,s,e,n]);return b.useEffect(()=>(l?.(y),y?.setMap(m),()=>{u?.(y),y?.setMap(null)}),[m,y]),b.useEffect(()=>{v.style.zIndex="".concat(o)},[o,v]),rs.createPortal(d,v)}b.memo(dN);class pl extends b.PureComponent{constructor(e){super(e),re(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),re(this,"updatePane",()=>{var s=this.props.mapPaneName,o=this.overlayView.getPanes();dn(!!s,"OverlayView requires props.mapPaneName but got %s",s),o?this.setState({paneEl:o[s]}):this.setState({paneEl:null})}),re(this,"onAdd",()=>{var s,o;this.updatePane(),(s=(o=this.props).onLoad)===null||s===void 0||s.call(o,this.overlayView)}),re(this,"onPositionElement",()=>{var s=this.overlayView.getProjection(),o=fN({x:0,y:0},this.containerRef.current?_A(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=TA(s,o,this.props.bounds,this.props.position);if(!uN(l,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var u,h,d,m;this.setState({containerStyle:{top:(u=l.top)!==null&&u!==void 0?u:0,left:(h=l.left)!==null&&h!==void 0?h:0,width:(d=l.width)!==null&&d!==void 0?d:0,height:(m=l.height)!==null&&m!==void 0?m:0,position:"absolute"}})}}),re(this,"draw",()=>{this.onPositionElement()}),re(this,"onRemove",()=>{var s,o;this.setState(()=>({paneEl:null})),(s=(o=this.props).onUnmount)===null||s===void 0||s.call(o,this.overlayView)}),this.containerRef=b.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=DS(e.position),s=DS(this.props.position),o=OS(e.bounds),l=OS(this.props.bounds);(n!==s||o!==l)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?rs.createPortal(K.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:b.Children.only(this.props.children)}),e):null}}re(pl,"FLOAT_PANE","floatPane");re(pl,"MAP_PANE","mapPane");re(pl,"MARKER_LAYER","markerLayer");re(pl,"OVERLAY_LAYER","overlayLayer");re(pl,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");re(pl,"contextType",ze);function pN(){}function IS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function VS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IS(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var PS={onDblClick:"dblclick",onClick:"click"},kS={opacity(t,e){t.setOpacity(e)}};function mN(t){var{url:e,bounds:n,options:s,visible:o}=t,l=b.useContext(ze),u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),h=b.useMemo(()=>new google.maps.GroundOverlay(e,u,s),[]);return b.useEffect(()=>{h!==null&&h.setMap(l)},[l]),b.useEffect(()=>{typeof e<"u"&&h!==null&&(h.set("url",e),h.setMap(l))},[h,e]),b.useEffect(()=>{typeof o<"u"&&h!==null&&h.setOpacity(o?1:0)},[h,o]),b.useEffect(()=>{var d=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&h!==null&&(h.set("bounds",d),h.setMap(l))},[h,n]),null}b.memo(mN);class SA extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{groundOverlay:null}),re(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){dn(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,VS(VS({},this.props.options),{},{map:this.context}));this.registeredEvents=He({updaterMap:kS,eventMap:PS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:kS,eventMap:PS,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}re(SA,"defaultProps",{onLoad:pN});re(SA,"contextType",ze);function NS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(n),!0).forEach(function(s){re(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var US={},jS={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function gN(t){var{data:e,onLoad:n,onUnmount:s,options:o}=t,l=b.useContext(ze),[u,h]=b.useState(null);return b.useEffect(()=>{google.maps.visualization||dn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),b.useEffect(()=>{dn(!!e,"data property is required in HeatmapLayer %s",e)},[e]),b.useEffect(()=>{u!==null&&u.setMap(l)},[l]),b.useEffect(()=>{o&&u!==null&&u.setOptions(o)},[u,o]),b.useEffect(()=>{var d=new google.maps.visualization.HeatmapLayer(Uf(Uf({},o),{},{data:e,map:l}));return h(d),n&&n(d),()=>{u!==null&&(s&&s(u),u.setMap(null))}},[]),null}b.memo(gN);class vN extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{heatmapLayer:null}),re(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){dn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),dn(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Uf(Uf({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=He({updaterMap:jS,eventMap:US,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:jS,eventMap:US,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ke(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}re(vN,"contextType",ze);var BS={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},zS={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class yN extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{streetViewPanorama:null}),re(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,s=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=He({updaterMap:zS,eventMap:BS,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({streetViewPanorama:s}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:zS,eventMap:BS,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ke(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}re(yN,"contextType",ze);class bN extends b.PureComponent{constructor(){super(...arguments),re(this,"state",{streetViewService:null}),re(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}re(bN,"contextType",ze);var FS={onDirectionsChanged:"directions_changed"},HS={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class EN extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{directionsRenderer:null}),re(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=He({updaterMap:HS,eventMap:FS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:HS,eventMap:FS,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ke(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}re(EN,"contextType",ze);var qS={onPlacesChanged:"places_changed"},GS={bounds(t,e){t.setBounds(e)}};class _N extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",b.createRef()),re(this,"state",{searchBox:null}),re(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(dn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=He({updaterMap:GS,eventMap:qS,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:GS,eventMap:qS,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ke(this.registeredEvents))}render(){return K.jsx("div",{ref:this.containerElement,children:b.Children.only(this.props.children)})}}re(_N,"contextType",ze);var KS={onPlaceChanged:"place_changed"},YS={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class wA extends b.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",b.createRef()),re(this,"state",{autocomplete:null}),re(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;dn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var s=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=He({updaterMap:YS,eventMap:KS,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({autocomplete:s}),this.setAutocompleteCallback)}}componentDidUpdate(e){Ke(this.registeredEvents),this.registeredEvents=He({updaterMap:YS,eventMap:KS,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Ke(this.registeredEvents)}render(){return K.jsx("div",{ref:this.containerElement,className:this.props.className,children:b.Children.only(this.props.children)})}}re(wA,"defaultProps",{className:""});re(wA,"contextType",ze);const TN={width:"100%",height:"100%"},$S={lat:24.5,lng:121.5};function SN(){const{isLoaded:t}=ZP({id:"google-map-script",googleMapsApiKey:"YOUR_API_KEY_HERE"}),[e,n]=b.useState(null),s=In.useCallback(function(u){const h=new window.google.maps.LatLngBounds($S);u.fitBounds(h),n(u)},[]),o=In.useCallback(function(u){n(null)},[]);return t?K.jsx(jP,{mapContainerStyle:TN,center:$S,zoom:10,onLoad:s,onUnmount:o,options:{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1},children:K.jsx(EA,{path:[{lat:24.5,lng:121.5},{lat:24.51,lng:121.52},{lat:24.52,lng:121.51}],options:{strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:4}})}):K.jsx("div",{className:"map-loading",children:K.jsx("p",{children:"... ( API Key)"})})}const CA=b.createContext(null),Wa={ADMIN:"ADMIN",PARTICIPANT:"PARTICIPANT",VIEWER:"VIEWER"},wN={admin123:Wa.ADMIN,team2026:Wa.PARTICIPANT,viewonly:Wa.VIEWER};function CN({children:t}){const[e,n]=b.useState(null),[s,o]=b.useState(!0);b.useEffect(()=>{const h=localStorage.getItem("trip_role");h&&Wa[h]&&n(h),o(!1)},[]);const l=h=>{const d=wN[h];return d?(n(d),localStorage.setItem("trip_role",d),!0):!1},u=()=>{n(null),localStorage.removeItem("trip_role")};return K.jsx(CA.Provider,{value:{role:e,login:l,logout:u,loading:s},children:t})}function ud(){return b.useContext(CA)}function AN({children:t}){const e=WM("(min-width: 1024px)"),[n,s]=In.useState(!1),{logout:o,role:l}=ud();return e?K.jsxs("div",{className:"layout-desktop",children:[K.jsxs("aside",{className:"sidebar",children:[K.jsx("div",{className:"logo-area",children:"Outdoor Planner"}),K.jsxs("nav",{style:{display:"flex",flexDirection:"column",height:"calc(100% - 60px)"},children:[K.jsxs("div",{className:"nav-item active",children:[K.jsx(zV,{size:20})," "]}),K.jsxs("div",{className:"nav-item",children:[K.jsx(mP,{size:20})," "]}),K.jsxs("div",{style:{marginTop:"auto",borderTop:"1px solid var(--color-border)"},children:[K.jsxs("div",{style:{padding:"1rem 0 0.5rem 0.5rem",fontSize:"0.8rem",color:"var(--color-text-muted)"},children:[": ",l]}),K.jsx("button",{onClick:o,className:"nav-item",style:{width:"100%",border:"none",background:"transparent"},children:K.jsx("span",{style:{color:"var(--color-danger)"},children:""})})]})]})]}),K.jsx("main",{className:"main-content",children:t}),K.jsx("aside",{className:"map-panel",children:K.jsx(SN,{})}),K.jsx("style",{children:`
          .layout-desktop {
            display: grid;
            grid-template-columns: 240px 1fr 350px;
            height: 100vh;
            background-color: hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l));
          }
          .sidebar {
            background-color: hsl(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l));
            border-right: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
            padding: var(--space-4);
          }
          .map-panel {
            background-color: hsl(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l));
            border-left: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
            overflow: hidden;
            position: relative;
          }
          .main-content {
            padding: var(--space-6);
            overflow-y: auto;
          }
          .nav-item {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2);
            border-radius: var(--radius-md);
            cursor: pointer;
            color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
            transition: all 0.2s;
          }
          .nav-item:hover {
             background-color: hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l));
             color: hsl(var(--color-text-main-h), var(--color-text-main-s), var(--color-text-main-l));
          }
          .nav-item.active {
            background-color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
            color: white;
          }
          .logo-area {
            font-weight: bold;
            font-size: 1.25rem;
            margin-bottom: var(--space-6);
            color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
          }
        `})]}):K.jsxs("div",{className:"layout-mobile",children:[K.jsxs("header",{className:"mobile-header",children:[K.jsx(sP,{size:24}),K.jsx("span",{className:"mobile-title",children:"Outdoor Planner"}),K.jsx("button",{onClick:o,style:{border:"none",background:"none",fontSize:"0.9rem",color:"var(--color-text-muted)"},children:""})]}),K.jsx("main",{className:"mobile-content",children:t}),K.jsx(xP,{}),K.jsx("style",{children:`
        .layout-mobile {
          min-height: 100vh;
          background-color: hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l));
          padding-bottom: 80px;
        }
        .mobile-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--space-4);
          background-color: hsl(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l));
          border-bottom: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
          position: sticky;
          top: 0;
          z-index: 10;
        }
        .mobile-title {
          font-weight: bold;
          font-size: 1.1rem;
        }
        .mobile-content {
          padding: var(--space-4);
        }
      `})]})}function xN(){const{login:t}=ud(),[e,n]=b.useState(""),[s,o]=b.useState(!1),l=u=>{u.preventDefault(),t(e)?window.location.reload():(o(!0),n(""))};return K.jsxs("div",{className:"login-container",children:[K.jsxs("div",{className:"login-card",children:[K.jsxs("div",{className:"logo-section",children:[K.jsx(oP,{size:48,className:"logo-icon"}),K.jsx("h1",{children:"Outdoor Planner"}),K.jsx("p",{className:"subtitle",children:""})]}),K.jsxs("form",{onSubmit:l,className:"login-form",children:[K.jsxs("div",{className:"input-group",children:[K.jsx(eP,{size:20,className:"input-icon"}),K.jsx("input",{type:"password",placeholder:"...",value:e,onChange:u=>{n(u.target.value),o(!1)},className:"password-input",autoFocus:!0})]}),s&&K.jsx("div",{className:"error-msg",children:""}),K.jsx("button",{type:"submit",className:"btn btn-primary login-btn",children:""})]}),K.jsx("div",{className:"role-hint",children:K.jsx("small",{children:": admin123 () / team2026 () / viewonly ()"})})]}),K.jsx("style",{children:`
        .login-container {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background-color: hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l));
          padding: var(--space-4);
        }
        .login-card {
          background: hsl(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l));
          padding: var(--space-8) var(--space-6);
          border-radius: var(--radius-xl);
          width: 100%;
          max-width: 400px;
          border: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
          box-shadow: var(--shadow-lg);
          text-align: center;
        }
        .logo-section {
          margin-bottom: var(--space-8);
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: var(--space-2);
        }
        .logo-icon {
          color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
        }
        .subtitle {
          color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
          font-size: 0.9rem;
        }
        .login-form {
          display: flex;
          flex-direction: column;
          gap: var(--space-4);
        }
        .input-group {
          position: relative;
        }
        .input-icon {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
        }
        .password-input {
          width: 100%;
          padding: var(--space-3) var(--space-3) var(--space-3) 40px;
          border: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
          border-radius: var(--radius-md);
          font-size: 1rem;
          outline: none;
          transition: border-color 0.2s;
        }
        .password-input:focus {
          border-color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
          box-shadow: 0 0 0 2px hsla(var(--color-p-h), var(--color-p-s), var(--color-p-l), 0.1);
        }
        .login-btn {
          width: 100%;
          padding: var(--space-3);
          font-size: 1rem;
        }
        .error-msg {
          color: var(--color-danger);
          font-size: 0.85rem;
          text-align: left;
        }
        .role-hint {
          margin-top: var(--space-6);
          color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
          opacity: 0.7;
        }
      `})]})}function RN({children:t}){const{role:e,loading:n}=ud();return n?K.jsx("div",{className:"loading-screen",children:"..."}):e?t:K.jsx(xN,{})}function LN({children:t,restrictedTo:e=[],fallback:n=null}){const{role:s}=ud();return!s||!e.includes(s)?n:t}const MN=({children:t,fallback:e})=>K.jsx(LN,{restrictedTo:[Wa.ADMIN,Wa.PARTICIPANT],fallback:e,children:t});function DN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>s=>{e.forEach(o=>o(s))},e)}const cd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ml(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Yv(t){return"nodeType"in t}function ai(t){var e,n;return t?ml(t)?t:Yv(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function $v(t){const{Document:e}=ai(t);return t instanceof e}function bc(t){return ml(t)?!1:t instanceof ai(t).HTMLElement}function AA(t){return t instanceof ai(t).SVGElement}function gl(t){return t?ml(t)?t.document:Yv(t)?$v(t)?t:bc(t)||AA(t)?t.ownerDocument:document:document:document}const Ns=cd?b.useLayoutEffect:b.useEffect;function Xv(t){const e=b.useRef(t);return Ns(()=>{e.current=t}),b.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e.current==null?void 0:e.current(...s)},[])}function ON(){const t=b.useRef(null),e=b.useCallback((s,o)=>{t.current=setInterval(s,o)},[]),n=b.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function ic(t,e){e===void 0&&(e=[t]);const n=b.useRef(t);return Ns(()=>{n.current!==t&&(n.current=t)},e),n}function Ec(t,e){const n=b.useRef();return b.useMemo(()=>{const s=t(n.current);return n.current=s,s},[...e])}function jf(t){const e=Xv(t),n=b.useRef(null),s=b.useCallback(o=>{o!==n.current&&e?.(o,n.current),n.current=o},[]);return[n,s]}function kg(t){const e=b.useRef();return b.useEffect(()=>{e.current=t},[t]),e.current}let Qm={};function _c(t,e){return b.useMemo(()=>{if(e)return e;const n=Qm[t]==null?0:Qm[t]+1;return Qm[t]=n,t+"-"+n},[t,e])}function xA(t){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((l,u)=>{const h=Object.entries(u);for(const[d,m]of h){const v=l[d];v!=null&&(l[d]=v+t*m)}return l},{...e})}}const Ja=xA(1),sc=xA(-1);function IN(t){return"clientX"in t&&"clientY"in t}function Qv(t){if(!t)return!1;const{KeyboardEvent:e}=ai(t.target);return e&&t instanceof e}function VN(t){if(!t)return!1;const{TouchEvent:e}=ai(t.target);return e&&t instanceof e}function Ng(t){if(VN(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return IN(t)?{x:t.clientX,y:t.clientY}:null}const rc=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[rc.Translate.toString(t),rc.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:s}=t;return e+" "+n+"ms "+s}}}),XS="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function PN(t){return t.matches(XS)?t:t.querySelector(XS)}const kN={display:"none"};function NN(t){let{id:e,value:n}=t;return In.createElement("div",{id:e,style:kN},n)}function UN(t){let{id:e,announcement:n,ariaLiveType:s="assertive"}=t;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return In.createElement("div",{id:e,style:o,role:"status","aria-live":s,"aria-atomic":!0},n)}function jN(){const[t,e]=b.useState("");return{announce:b.useCallback(s=>{s!=null&&e(s)},[]),announcement:t}}const RA=b.createContext(null);function BN(t){const e=b.useContext(RA);b.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function zN(){const[t]=b.useState(()=>new Set),e=b.useCallback(s=>(t.add(s),()=>t.delete(s)),[t]);return[b.useCallback(s=>{let{type:o,event:l}=s;t.forEach(u=>{var h;return(h=u[o])==null?void 0:h.call(u,l)})},[t]),e]}const FN={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},HN={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function qN(t){let{announcements:e=HN,container:n,hiddenTextDescribedById:s,screenReaderInstructions:o=FN}=t;const{announce:l,announcement:u}=jN(),h=_c("DndLiveRegion"),[d,m]=b.useState(!1);if(b.useEffect(()=>{m(!0)},[]),BN(b.useMemo(()=>({onDragStart(y){let{active:E}=y;l(e.onDragStart({active:E}))},onDragMove(y){let{active:E,over:w}=y;e.onDragMove&&l(e.onDragMove({active:E,over:w}))},onDragOver(y){let{active:E,over:w}=y;l(e.onDragOver({active:E,over:w}))},onDragEnd(y){let{active:E,over:w}=y;l(e.onDragEnd({active:E,over:w}))},onDragCancel(y){let{active:E,over:w}=y;l(e.onDragCancel({active:E,over:w}))}}),[l,e])),!d)return null;const v=In.createElement(In.Fragment,null,In.createElement(NN,{id:s,value:o.draggable}),In.createElement(UN,{id:h,announcement:u}));return n?rs.createPortal(v,n):v}var un;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(un||(un={}));function Bf(){}function QS(t,e){return b.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function GN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const us=Object.freeze({x:0,y:0});function LA(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function MA(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return n-s}function KN(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return s-n}function ZS(t){let{left:e,top:n,height:s,width:o}=t;return[{x:e,y:n},{x:e+o,y:n},{x:e,y:n+s},{x:e+o,y:n+s}]}function DA(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function WS(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const YN=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const o=WS(e,e.left,e.top),l=[];for(const u of s){const{id:h}=u,d=n.get(h);if(d){const m=LA(WS(d),o);l.push({id:h,data:{droppableContainer:u,value:m}})}}return l.sort(MA)},$N=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const o=ZS(e),l=[];for(const u of s){const{id:h}=u,d=n.get(h);if(d){const m=ZS(d),v=o.reduce((E,w,x)=>E+LA(m[x],w),0),y=Number((v/4).toFixed(4));l.push({id:h,data:{droppableContainer:u,value:y}})}}return l.sort(MA)};function XN(t,e){const n=Math.max(e.top,t.top),s=Math.max(e.left,t.left),o=Math.min(e.left+e.width,t.left+t.width),l=Math.min(e.top+e.height,t.top+t.height),u=o-s,h=l-n;if(s<o&&n<l){const d=e.width*e.height,m=t.width*t.height,v=u*h,y=v/(d+m-v);return Number(y.toFixed(4))}return 0}const QN=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const o=[];for(const l of s){const{id:u}=l,h=n.get(u);if(h){const d=XN(h,e);d>0&&o.push({id:u,data:{droppableContainer:l,value:d}})}}return o.sort(KN)};function ZN(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function OA(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:us}function WN(t){return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return o.reduce((u,h)=>({...u,top:u.top+t*h.y,bottom:u.bottom+t*h.y,left:u.left+t*h.x,right:u.right+t*h.x}),{...n})}}const JN=WN(1);function e4(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function t4(t,e,n){const s=e4(e);if(!s)return t;const{scaleX:o,scaleY:l,x:u,y:h}=s,d=t.left-u-(1-o)*parseFloat(n),m=t.top-h-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),v=o?t.width/o:t.width,y=l?t.height/l:t.height;return{width:v,height:y,top:m,right:d+v,bottom:m+y,left:d}}const n4={ignoreTransform:!1};function vl(t,e){e===void 0&&(e=n4);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:v}=ai(t).getComputedStyle(t);m&&(n=t4(n,m,v))}const{top:s,left:o,width:l,height:u,bottom:h,right:d}=n;return{top:s,left:o,width:l,height:u,bottom:h,right:d}}function JS(t){return vl(t,{ignoreTransform:!0})}function i4(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function s4(t,e){return e===void 0&&(e=ai(t).getComputedStyle(t)),e.position==="fixed"}function r4(t,e){e===void 0&&(e=ai(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const l=e[o];return typeof l=="string"?n.test(l):!1})}function hd(t,e){const n=[];function s(o){if(e!=null&&n.length>=e||!o)return n;if($v(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!bc(o)||AA(o)||n.includes(o))return n;const l=ai(t).getComputedStyle(o);return o!==t&&r4(o,l)&&n.push(o),s4(o,l)?n:s(o.parentNode)}return t?s(t):n}function IA(t){const[e]=hd(t,1);return e??null}function Zm(t){return!cd||!t?null:ml(t)?t:Yv(t)?$v(t)||t===gl(t).scrollingElement?window:bc(t)?t:null:null}function VA(t){return ml(t)?t.scrollX:t.scrollLeft}function PA(t){return ml(t)?t.scrollY:t.scrollTop}function Ug(t){return{x:VA(t),y:PA(t)}}var Tn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Tn||(Tn={}));function kA(t){return!cd||!t?!1:t===document.scrollingElement}function NA(t){const e={x:0,y:0},n=kA(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},o=t.scrollTop<=e.y,l=t.scrollLeft<=e.x,u=t.scrollTop>=s.y,h=t.scrollLeft>=s.x;return{isTop:o,isLeft:l,isBottom:u,isRight:h,maxScroll:s,minScroll:e}}const o4={x:.2,y:.2};function a4(t,e,n,s,o){let{top:l,left:u,right:h,bottom:d}=n;s===void 0&&(s=10),o===void 0&&(o=o4);const{isTop:m,isBottom:v,isLeft:y,isRight:E}=NA(t),w={x:0,y:0},x={x:0,y:0},D={height:e.height*o.y,width:e.width*o.x};return!m&&l<=e.top+D.height?(w.y=Tn.Backward,x.y=s*Math.abs((e.top+D.height-l)/D.height)):!v&&d>=e.bottom-D.height&&(w.y=Tn.Forward,x.y=s*Math.abs((e.bottom-D.height-d)/D.height)),!E&&h>=e.right-D.width?(w.x=Tn.Forward,x.x=s*Math.abs((e.right-D.width-h)/D.width)):!y&&u<=e.left+D.width&&(w.x=Tn.Backward,x.x=s*Math.abs((e.left+D.width-u)/D.width)),{direction:w,speed:x}}function l4(t){if(t===document.scrollingElement){const{innerWidth:l,innerHeight:u}=window;return{top:0,left:0,right:l,bottom:u,width:l,height:u}}const{top:e,left:n,right:s,bottom:o}=t.getBoundingClientRect();return{top:e,left:n,right:s,bottom:o,width:t.clientWidth,height:t.clientHeight}}function UA(t){return t.reduce((e,n)=>Ja(e,Ug(n)),us)}function u4(t){return t.reduce((e,n)=>e+VA(n),0)}function c4(t){return t.reduce((e,n)=>e+PA(n),0)}function h4(t,e){if(e===void 0&&(e=vl),!t)return;const{top:n,left:s,bottom:o,right:l}=e(t);IA(t)&&(o<=0||l<=0||n>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const f4=[["x",["left","right"],u4],["y",["top","bottom"],c4]];class Zv{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=hd(n),o=UA(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,u,h]of f4)for(const d of u)Object.defineProperty(this,d,{get:()=>{const m=h(s),v=o[l]-m;return this.rect[d]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class zu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var o;(o=this.target)==null||o.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function d4(t){const{EventTarget:e}=ai(t);return t instanceof e?t:gl(t)}function Wm(t,e){const n=Math.abs(t.x),s=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var Bi;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Bi||(Bi={}));function e1(t){t.preventDefault()}function p4(t){t.stopPropagation()}var We;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(We||(We={}));const jA={start:[We.Space,We.Enter],cancel:[We.Esc],end:[We.Space,We.Enter,We.Tab]},m4=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case We.Right:return{...n,x:n.x+25};case We.Left:return{...n,x:n.x-25};case We.Down:return{...n,y:n.y+25};case We.Up:return{...n,y:n.y-25}}};class Wv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new zu(gl(n)),this.windowListeners=new zu(ai(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Bi.Resize,this.handleCancel),this.windowListeners.add(Bi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Bi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&h4(s),n(us)}handleKeyDown(e){if(Qv(e)){const{active:n,context:s,options:o}=this.props,{keyboardCodes:l=jA,coordinateGetter:u=m4,scrollBehavior:h="smooth"}=o,{code:d}=e;if(l.end.includes(d)){this.handleEnd(e);return}if(l.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:m}=s.current,v=m?{x:m.left,y:m.top}:us;this.referenceCoordinates||(this.referenceCoordinates=v);const y=u(e,{active:n,context:s.current,currentCoordinates:v});if(y){const E=sc(y,v),w={x:0,y:0},{scrollableAncestors:x}=s.current;for(const D of x){const O=e.code,{isTop:U,isRight:j,isLeft:B,isBottom:N,maxScroll:k,minScroll:H}=NA(D),C=l4(D),A={x:Math.min(O===We.Right?C.right-C.width/2:C.right,Math.max(O===We.Right?C.left:C.left+C.width/2,y.x)),y:Math.min(O===We.Down?C.bottom-C.height/2:C.bottom,Math.max(O===We.Down?C.top:C.top+C.height/2,y.y))},R=O===We.Right&&!j||O===We.Left&&!B,V=O===We.Down&&!N||O===We.Up&&!U;if(R&&A.x!==y.x){const I=D.scrollLeft+E.x,F=O===We.Right&&I<=k.x||O===We.Left&&I>=H.x;if(F&&!E.y){D.scrollTo({left:I,behavior:h});return}F?w.x=D.scrollLeft-I:w.x=O===We.Right?D.scrollLeft-k.x:D.scrollLeft-H.x,w.x&&D.scrollBy({left:-w.x,behavior:h});break}else if(V&&A.y!==y.y){const I=D.scrollTop+E.y,F=O===We.Down&&I<=k.y||O===We.Up&&I>=H.y;if(F&&!E.x){D.scrollTo({top:I,behavior:h});return}F?w.y=D.scrollTop-I:w.y=O===We.Down?D.scrollTop-k.y:D.scrollTop-H.y,w.y&&D.scrollBy({top:-w.y,behavior:h});break}}this.handleMove(e,Ja(sc(y,this.referenceCoordinates),w))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Wv.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:s=jA,onActivation:o}=e,{active:l}=n;const{code:u}=t.nativeEvent;if(s.start.includes(u)){const h=l.activatorNode.current;return h&&t.target!==h?!1:(t.preventDefault(),o?.({event:t.nativeEvent}),!0)}return!1}}];function t1(t){return!!(t&&"distance"in t)}function n1(t){return!!(t&&"delay"in t)}class Jv{constructor(e,n,s){var o;s===void 0&&(s=d4(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:l}=e,{target:u}=l;this.props=e,this.events=n,this.document=gl(u),this.documentListeners=new zu(this.document),this.listeners=new zu(s),this.windowListeners=new zu(ai(u)),this.initialCoordinates=(o=Ng(l))!=null?o:us,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Bi.Resize,this.handleCancel),this.windowListeners.add(Bi.DragStart,e1),this.windowListeners.add(Bi.VisibilityChange,this.handleCancel),this.windowListeners.add(Bi.ContextMenu,e1),this.documentListeners.add(Bi.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(n1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(t1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:o}=this.props;o(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Bi.Click,p4,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Bi.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:o,props:l}=this,{onMove:u,options:{activationConstraint:h}}=l;if(!o)return;const d=(n=Ng(e))!=null?n:us,m=sc(o,d);if(!s&&h){if(t1(h)){if(h.tolerance!=null&&Wm(m,h.tolerance))return this.handleCancel();if(Wm(m,h.distance))return this.handleStart()}if(n1(h)&&Wm(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}e.cancelable&&e.preventDefault(),u(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===We.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const g4={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ey extends Jv{constructor(e){const{event:n}=e,s=gl(n.target);super(e,g4,s)}}ey.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const v4={move:{name:"mousemove"},end:{name:"mouseup"}};var jg;(function(t){t[t.RightClick=2]="RightClick"})(jg||(jg={}));class y4 extends Jv{constructor(e){super(e,v4,gl(e.event.target))}}y4.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return n.button===jg.RightClick?!1:(s?.({event:n}),!0)}}];const Jm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class b4 extends Jv{constructor(e){super(e,Jm)}static setup(){return window.addEventListener(Jm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Jm.move.name,e)};function e(){}}}b4.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;const{touches:o}=n;return o.length>1?!1:(s?.({event:n}),!0)}}];var Fu;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Fu||(Fu={}));var zf;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(zf||(zf={}));function E4(t){let{acceleration:e,activator:n=Fu.Pointer,canScroll:s,draggingRect:o,enabled:l,interval:u=5,order:h=zf.TreeOrder,pointerCoordinates:d,scrollableAncestors:m,scrollableAncestorRects:v,delta:y,threshold:E}=t;const w=T4({delta:y,disabled:!l}),[x,D]=ON(),O=b.useRef({x:0,y:0}),U=b.useRef({x:0,y:0}),j=b.useMemo(()=>{switch(n){case Fu.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Fu.DraggableRect:return o}},[n,o,d]),B=b.useRef(null),N=b.useCallback(()=>{const H=B.current;if(!H)return;const C=O.current.x*U.current.x,A=O.current.y*U.current.y;H.scrollBy(C,A)},[]),k=b.useMemo(()=>h===zf.TreeOrder?[...m].reverse():m,[h,m]);b.useEffect(()=>{if(!l||!m.length||!j){D();return}for(const H of k){if(s?.(H)===!1)continue;const C=m.indexOf(H),A=v[C];if(!A)continue;const{direction:R,speed:V}=a4(H,A,j,e,E);for(const I of["x","y"])w[I][R[I]]||(V[I]=0,R[I]=0);if(V.x>0||V.y>0){D(),B.current=H,x(N,u),O.current=V,U.current=R;return}}O.current={x:0,y:0},U.current={x:0,y:0},D()},[e,N,s,D,l,u,JSON.stringify(j),JSON.stringify(w),x,m,k,v,JSON.stringify(E)])}const _4={x:{[Tn.Backward]:!1,[Tn.Forward]:!1},y:{[Tn.Backward]:!1,[Tn.Forward]:!1}};function T4(t){let{delta:e,disabled:n}=t;const s=kg(e);return Ec(o=>{if(n||!s||!o)return _4;const l={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Tn.Backward]:o.x[Tn.Backward]||l.x===-1,[Tn.Forward]:o.x[Tn.Forward]||l.x===1},y:{[Tn.Backward]:o.y[Tn.Backward]||l.y===-1,[Tn.Forward]:o.y[Tn.Forward]||l.y===1}}},[n,e,s])}function S4(t,e){const n=e!=null?t.get(e):void 0,s=n?n.node.current:null;return Ec(o=>{var l;return e==null?null:(l=s??o)!=null?l:null},[s,e])}function w4(t,e){return b.useMemo(()=>t.reduce((n,s)=>{const{sensor:o}=s,l=o.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,s)}));return[...n,...l]},[]),[t,e])}var oc;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(oc||(oc={}));var Bg;(function(t){t.Optimized="optimized"})(Bg||(Bg={}));const i1=new Map;function C4(t,e){let{dragging:n,dependencies:s,config:o}=e;const[l,u]=b.useState(null),{frequency:h,measure:d,strategy:m}=o,v=b.useRef(t),y=O(),E=ic(y),w=b.useCallback(function(U){U===void 0&&(U=[]),!E.current&&u(j=>j===null?U:j.concat(U.filter(B=>!j.includes(B))))},[E]),x=b.useRef(null),D=Ec(U=>{if(y&&!n)return i1;if(!U||U===i1||v.current!==t||l!=null){const j=new Map;for(let B of t){if(!B)continue;if(l&&l.length>0&&!l.includes(B.id)&&B.rect.current){j.set(B.id,B.rect.current);continue}const N=B.node.current,k=N?new Zv(d(N),N):null;B.rect.current=k,k&&j.set(B.id,k)}return j}return U},[t,l,n,y,d]);return b.useEffect(()=>{v.current=t},[t]),b.useEffect(()=>{y||w()},[n,y]),b.useEffect(()=>{l&&l.length>0&&u(null)},[JSON.stringify(l)]),b.useEffect(()=>{y||typeof h!="number"||x.current!==null||(x.current=setTimeout(()=>{w(),x.current=null},h))},[h,y,w,...s]),{droppableRects:D,measureDroppableContainers:w,measuringScheduled:l!=null};function O(){switch(m){case oc.Always:return!1;case oc.BeforeDragging:return n;default:return!n}}}function BA(t,e){return Ec(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function A4(t,e){return BA(t,e)}function x4(t){let{callback:e,disabled:n}=t;const s=Xv(e),o=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(s)},[s,n]);return b.useEffect(()=>()=>o?.disconnect(),[o]),o}function fd(t){let{callback:e,disabled:n}=t;const s=Xv(e),o=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(s)},[n]);return b.useEffect(()=>()=>o?.disconnect(),[o]),o}function R4(t){return new Zv(vl(t),t)}function s1(t,e,n){e===void 0&&(e=R4);const[s,o]=b.useState(null);function l(){o(d=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=d??n)!=null?m:null}const v=e(t);return JSON.stringify(d)===JSON.stringify(v)?d:v})}const u=x4({callback(d){if(t)for(const m of d){const{type:v,target:y}=m;if(v==="childList"&&y instanceof HTMLElement&&y.contains(t)){l();break}}}}),h=fd({callback:l});return Ns(()=>{l(),t?(h?.observe(t),u?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),u?.disconnect())},[t]),s}function L4(t){const e=BA(t);return OA(t,e)}const r1=[];function M4(t){const e=b.useRef(t),n=Ec(s=>t?s&&s!==r1&&t&&e.current&&t.parentNode===e.current.parentNode?s:hd(t):r1,[t]);return b.useEffect(()=>{e.current=t},[t]),n}function D4(t){const[e,n]=b.useState(null),s=b.useRef(t),o=b.useCallback(l=>{const u=Zm(l.target);u&&n(h=>h?(h.set(u,Ug(u)),new Map(h)):null)},[]);return b.useEffect(()=>{const l=s.current;if(t!==l){u(l);const h=t.map(d=>{const m=Zm(d);return m?(m.addEventListener("scroll",o,{passive:!0}),[m,Ug(m)]):null}).filter(d=>d!=null);n(h.length?new Map(h):null),s.current=t}return()=>{u(t),u(l)};function u(h){h.forEach(d=>{const m=Zm(d);m?.removeEventListener("scroll",o)})}},[o,t]),b.useMemo(()=>t.length?e?Array.from(e.values()).reduce((l,u)=>Ja(l,u),us):UA(t):us,[t,e])}function o1(t,e){e===void 0&&(e=[]);const n=b.useRef(null);return b.useEffect(()=>{n.current=null},e),b.useEffect(()=>{const s=t!==us;s&&!n.current&&(n.current=t),!s&&n.current&&(n.current=null)},[t]),n.current?sc(t,n.current):us}function O4(t){b.useEffect(()=>{if(!cd)return;const e=t.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function I4(t,e){return b.useMemo(()=>t.reduce((n,s)=>{let{eventName:o,handler:l}=s;return n[o]=u=>{l(u,e)},n},{}),[t,e])}function zA(t){return b.useMemo(()=>t?i4(t):null,[t])}const a1=[];function V4(t,e){e===void 0&&(e=vl);const[n]=t,s=zA(n?ai(n):null),[o,l]=b.useState(a1);function u(){l(()=>t.length?t.map(d=>kA(d)?s:new Zv(e(d),d)):a1)}const h=fd({callback:u});return Ns(()=>{h?.disconnect(),u(),t.forEach(d=>h?.observe(d))},[t]),o}function P4(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return bc(e)?e:t}function k4(t){let{measure:e}=t;const[n,s]=b.useState(null),o=b.useCallback(m=>{for(const{target:v}of m)if(bc(v)){s(y=>{const E=e(v);return y?{...y,width:E.width,height:E.height}:E});break}},[e]),l=fd({callback:o}),u=b.useCallback(m=>{const v=P4(m);l?.disconnect(),v&&l?.observe(v),s(v?e(v):null)},[e,l]),[h,d]=jf(u);return b.useMemo(()=>({nodeRef:h,rect:n,setRef:d}),[n,h,d])}const N4=[{sensor:ey,options:{}},{sensor:Wv,options:{}}],U4={current:{}},mf={draggable:{measure:JS},droppable:{measure:JS,strategy:oc.WhileDragging,frequency:Bg.Optimized},dragOverlay:{measure:vl}};class Hu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const j4={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Bf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:mf,measureDroppableContainers:Bf,windowRect:null,measuringScheduled:!1},B4={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Bf,draggableNodes:new Map,over:null,measureDroppableContainers:Bf},dd=b.createContext(B4),FA=b.createContext(j4);function z4(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hu}}}function F4(t,e){switch(e.type){case un.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case un.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case un.DragEnd:case un.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case un.RegisterDroppable:{const{element:n}=e,{id:s}=n,o=new Hu(t.droppable.containers);return o.set(s,n),{...t,droppable:{...t.droppable,containers:o}}}case un.SetDroppableDisabled:{const{id:n,key:s,disabled:o}=e,l=t.droppable.containers.get(n);if(!l||s!==l.key)return t;const u=new Hu(t.droppable.containers);return u.set(n,{...l,disabled:o}),{...t,droppable:{...t.droppable,containers:u}}}case un.UnregisterDroppable:{const{id:n,key:s}=e,o=t.droppable.containers.get(n);if(!o||s!==o.key)return t;const l=new Hu(t.droppable.containers);return l.delete(n),{...t,droppable:{...t.droppable,containers:l}}}default:return t}}function H4(t){let{disabled:e}=t;const{active:n,activatorEvent:s,draggableNodes:o}=b.useContext(dd),l=kg(s),u=kg(n?.id);return b.useEffect(()=>{if(!e&&!s&&l&&u!=null){if(!Qv(l)||document.activeElement===l.target)return;const h=o.get(u);if(!h)return;const{activatorNode:d,node:m}=h;if(!d.current&&!m.current)return;requestAnimationFrame(()=>{for(const v of[d.current,m.current]){if(!v)continue;const y=PN(v);if(y){y.focus();break}}})}},[s,e,o,u,l]),null}function q4(t,e){let{transform:n,...s}=e;return t!=null&&t.length?t.reduce((o,l)=>l({transform:o,...s}),n):n}function G4(t){return b.useMemo(()=>({draggable:{...mf.draggable,...t?.draggable},droppable:{...mf.droppable,...t?.droppable},dragOverlay:{...mf.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function K4(t){let{activeNode:e,measure:n,initialRect:s,config:o=!0}=t;const l=b.useRef(!1),{x:u,y:h}=typeof o=="boolean"?{x:o,y:o}:o;Ns(()=>{if(!u&&!h||!e){l.current=!1;return}if(l.current||!s)return;const m=e?.node.current;if(!m||m.isConnected===!1)return;const v=n(m),y=OA(v,s);if(u||(y.x=0),h||(y.y=0),l.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const E=IA(m);E&&E.scrollBy({top:y.y,left:y.x})}},[e,u,h,s,n])}const HA=b.createContext({...us,scaleX:1,scaleY:1});var Kr;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Kr||(Kr={}));const Y4=b.memo(function(e){var n,s,o,l;let{id:u,accessibility:h,autoScroll:d=!0,children:m,sensors:v=N4,collisionDetection:y=QN,measuring:E,modifiers:w,...x}=e;const D=b.useReducer(F4,void 0,z4),[O,U]=D,[j,B]=zN(),[N,k]=b.useState(Kr.Uninitialized),H=N===Kr.Initialized,{draggable:{active:C,nodes:A,translate:R},droppable:{containers:V}}=O,I=C!=null?A.get(C):null,F=b.useRef({initial:null,translated:null}),P=b.useMemo(()=>{var Fe;return C!=null?{id:C,data:(Fe=I?.data)!=null?Fe:U4,rect:F}:null},[C,I]),me=b.useRef(null),[be,$]=b.useState(null),[ie,ce]=b.useState(null),ge=ic(x,Object.values(x)),ye=_c("DndDescribedBy",u),z=b.useMemo(()=>V.getEnabled(),[V]),W=G4(E),{droppableRects:se,measureDroppableContainers:fe,measuringScheduled:Q}=C4(z,{dragging:H,dependencies:[R.x,R.y],config:W.droppable}),ve=S4(A,C),Te=b.useMemo(()=>ie?Ng(ie):null,[ie]),Ee=Ci(),Re=A4(ve,W.draggable.measure);K4({activeNode:C!=null?A.get(C):null,config:Ee.layoutShiftCompensation,initialRect:Re,measure:W.draggable.measure});const de=s1(ve,W.draggable.measure,Re),Ie=s1(ve?ve.parentElement:null),ut=b.useRef({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:se,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ot=V.getNodeFor((n=ut.current.over)==null?void 0:n.id),St=k4({measure:W.dragOverlay.measure}),je=(s=St.nodeRef.current)!=null?s:ve,Sn=H?(o=St.rect)!=null?o:de:null,li=!!(St.nodeRef.current&&St.rect),Gi=L4(li?null:de),ct=zA(je?ai(je):null),st=M4(H?Ot??ve:null),pn=V4(st),Ki=q4(w,{transform:{x:R.x-Gi.x,y:R.y-Gi.y,scaleX:1,scaleY:1},activatorEvent:ie,active:P,activeNodeRect:de,containerNodeRect:Ie,draggingNodeRect:Sn,over:ut.current.over,overlayNodeRect:St.rect,scrollableAncestors:st,scrollableAncestorRects:pn,windowRect:ct}),Ti=Te?Ja(Te,R):null,Ft=D4(st),Si=o1(Ft),cs=o1(Ft,[de]),wn=Ja(Ki,Si),mn=Sn?JN(Sn,Ki):null,Wn=P&&mn?y({active:P,collisionRect:mn,droppableRects:se,droppableContainers:z,pointerCoordinates:Ti}):null,hs=DA(Wn,"id"),[gn,fs]=b.useState(null),vn=li?Ki:Ja(Ki,cs),kt=ZN(vn,(l=gn?.rect)!=null?l:null,de),Ht=b.useRef(null),bt=b.useCallback((Fe,ht)=>{let{sensor:Et,options:wt}=ht;if(me.current==null)return;const on=A.get(me.current);if(!on)return;const It=Fe.nativeEvent,Lt=new Et({active:me.current,activeNode:on,event:It,options:wt,context:ut,onAbort(_t){if(!A.get(_t))return;const{onDragAbort:Nn}=ge.current,qn={id:_t};Nn?.(qn),j({type:"onDragAbort",event:qn})},onPending(_t,xe,Nn,qn){if(!A.get(_t))return;const{onDragPending:Gn}=ge.current,ci={id:_t,constraint:xe,initialCoordinates:Nn,offset:qn};Gn?.(ci),j({type:"onDragPending",event:ci})},onStart(_t){const xe=me.current;if(xe==null)return;const Nn=A.get(xe);if(!Nn)return;const{onDragStart:qn}=ge.current,ui={activatorEvent:It,active:{id:xe,data:Nn.data,rect:F}};rs.unstable_batchedUpdates(()=>{qn?.(ui),k(Kr.Initializing),U({type:un.DragStart,initialCoordinates:_t,active:xe}),j({type:"onDragStart",event:ui}),$(Ht.current),ce(It)})},onMove(_t){U({type:un.DragMove,coordinates:_t})},onEnd:kn(un.DragEnd),onCancel:kn(un.DragCancel)});Ht.current=Lt;function kn(_t){return async function(){const{active:Nn,collisions:qn,over:ui,scrollAdjustedTranslate:Gn}=ut.current;let ci=null;if(Nn&&Gn){const{cancelDrop:Cn}=ge.current;ci={activatorEvent:It,active:Nn,collisions:qn,delta:Gn,over:ui},_t===un.DragEnd&&typeof Cn=="function"&&await Promise.resolve(Cn(ci))&&(_t=un.DragCancel)}me.current=null,rs.unstable_batchedUpdates(()=>{U({type:_t}),k(Kr.Uninitialized),fs(null),$(null),ce(null),Ht.current=null;const Cn=_t===un.DragEnd?"onDragEnd":"onDragCancel";if(ci){const Kn=ge.current[Cn];Kn?.(ci),j({type:Cn,event:ci})}})}}},[A]),Yi=b.useCallback((Fe,ht)=>(Et,wt)=>{const on=Et.nativeEvent,It=A.get(wt);if(me.current!==null||!It||on.dndKit||on.defaultPrevented)return;const Lt={active:It};Fe(Et,ht.options,Lt)===!0&&(on.dndKit={capturedBy:ht.sensor},me.current=wt,bt(Et,ht))},[A,bt]),wi=w4(v,Yi);O4(v),Ns(()=>{de&&N===Kr.Initializing&&k(Kr.Initialized)},[de,N]),b.useEffect(()=>{const{onDragMove:Fe}=ge.current,{active:ht,activatorEvent:Et,collisions:wt,over:on}=ut.current;if(!ht||!Et)return;const It={active:ht,activatorEvent:Et,collisions:wt,delta:{x:wn.x,y:wn.y},over:on};rs.unstable_batchedUpdates(()=>{Fe?.(It),j({type:"onDragMove",event:It})})},[wn.x,wn.y]),b.useEffect(()=>{const{active:Fe,activatorEvent:ht,collisions:Et,droppableContainers:wt,scrollAdjustedTranslate:on}=ut.current;if(!Fe||me.current==null||!ht||!on)return;const{onDragOver:It}=ge.current,Lt=wt.get(hs),kn=Lt&&Lt.rect.current?{id:Lt.id,rect:Lt.rect.current,data:Lt.data,disabled:Lt.disabled}:null,_t={active:Fe,activatorEvent:ht,collisions:Et,delta:{x:on.x,y:on.y},over:kn};rs.unstable_batchedUpdates(()=>{fs(kn),It?.(_t),j({type:"onDragOver",event:_t})})},[hs]),Ns(()=>{ut.current={activatorEvent:ie,active:P,activeNode:ve,collisionRect:mn,collisions:Wn,droppableRects:se,draggableNodes:A,draggingNode:je,draggingNodeRect:Sn,droppableContainers:V,over:gn,scrollableAncestors:st,scrollAdjustedTranslate:wn},F.current={initial:Sn,translated:mn}},[P,ve,Wn,mn,A,je,Sn,se,V,gn,st,wn]),E4({...Ee,delta:R,draggingRect:mn,pointerCoordinates:Ti,scrollableAncestors:st,scrollableAncestorRects:pn});const $i=b.useMemo(()=>({active:P,activeNode:ve,activeNodeRect:de,activatorEvent:ie,collisions:Wn,containerNodeRect:Ie,dragOverlay:St,draggableNodes:A,droppableContainers:V,droppableRects:se,over:gn,measureDroppableContainers:fe,scrollableAncestors:st,scrollableAncestorRects:pn,measuringConfiguration:W,measuringScheduled:Q,windowRect:ct}),[P,ve,de,ie,Wn,Ie,St,A,V,se,gn,fe,st,pn,W,Q,ct]),Hn=b.useMemo(()=>({activatorEvent:ie,activators:wi,active:P,activeNodeRect:de,ariaDescribedById:{draggable:ye},dispatch:U,draggableNodes:A,over:gn,measureDroppableContainers:fe}),[ie,wi,P,de,U,ye,A,gn,fe]);return In.createElement(RA.Provider,{value:B},In.createElement(dd.Provider,{value:Hn},In.createElement(FA.Provider,{value:$i},In.createElement(HA.Provider,{value:kt},m)),In.createElement(H4,{disabled:h?.restoreFocus===!1})),In.createElement(qN,{...h,hiddenTextDescribedById:ye}));function Ci(){const Fe=be?.autoScrollEnabled===!1,ht=typeof d=="object"?d.enabled===!1:d===!1,Et=H&&!Fe&&!ht;return typeof d=="object"?{...d,enabled:Et}:{enabled:Et}}}),$4=b.createContext(null),l1="button",X4="Draggable";function Q4(t){let{id:e,data:n,disabled:s=!1,attributes:o}=t;const l=_c(X4),{activators:u,activatorEvent:h,active:d,activeNodeRect:m,ariaDescribedById:v,draggableNodes:y,over:E}=b.useContext(dd),{role:w=l1,roleDescription:x="draggable",tabIndex:D=0}=o??{},O=d?.id===e,U=b.useContext(O?HA:$4),[j,B]=jf(),[N,k]=jf(),H=I4(u,e),C=ic(n);Ns(()=>(y.set(e,{id:e,key:l,node:j,activatorNode:N,data:C}),()=>{const R=y.get(e);R&&R.key===l&&y.delete(e)}),[y,e]);const A=b.useMemo(()=>({role:w,tabIndex:D,"aria-disabled":s,"aria-pressed":O&&w===l1?!0:void 0,"aria-roledescription":x,"aria-describedby":v.draggable}),[s,w,D,O,x,v.draggable]);return{active:d,activatorEvent:h,activeNodeRect:m,attributes:A,isDragging:O,listeners:s?void 0:H,node:j,over:E,setNodeRef:B,setActivatorNodeRef:k,transform:U}}function Z4(){return b.useContext(FA)}const W4="Droppable",J4={timeout:25};function e3(t){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:o}=t;const l=_c(W4),{active:u,dispatch:h,over:d,measureDroppableContainers:m}=b.useContext(dd),v=b.useRef({disabled:n}),y=b.useRef(!1),E=b.useRef(null),w=b.useRef(null),{disabled:x,updateMeasurementsFor:D,timeout:O}={...J4,...o},U=ic(D??s),j=b.useCallback(()=>{if(!y.current){y.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{m(Array.isArray(U.current)?U.current:[U.current]),w.current=null},O)},[O]),B=fd({callback:j,disabled:x||!u}),N=b.useCallback((A,R)=>{B&&(R&&(B.unobserve(R),y.current=!1),A&&B.observe(A))},[B]),[k,H]=jf(N),C=ic(e);return b.useEffect(()=>{!B||!k.current||(B.disconnect(),y.current=!1,B.observe(k.current))},[k,B]),b.useEffect(()=>(h({type:un.RegisterDroppable,element:{id:s,key:l,disabled:n,node:k,rect:E,data:C}}),()=>h({type:un.UnregisterDroppable,key:l,id:s})),[s]),b.useEffect(()=>{n!==v.current.disabled&&(h({type:un.SetDroppableDisabled,id:s,key:l,disabled:n}),v.current.disabled=n)},[s,l,n,h]),{active:u,rect:E,isOver:d?.id===s,node:k,over:d,setNodeRef:H}}function ty(t,e,n){const s=t.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function t3(t,e){return t.reduce((n,s,o)=>{const l=e.get(s);return l&&(n[o]=l),n},Array(t.length))}function tf(t){return t!==null&&t>=0}function n3(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function i3(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const qA=t=>{let{rects:e,activeIndex:n,overIndex:s,index:o}=t;const l=ty(e,s,n),u=e[o],h=l[o];return!h||!u?null:{x:h.left-u.left,y:h.top-u.top,scaleX:h.width/u.width,scaleY:h.height/u.height}},nf={scaleX:1,scaleY:1},s3=t=>{var e;let{activeIndex:n,activeNodeRect:s,index:o,rects:l,overIndex:u}=t;const h=(e=l[n])!=null?e:s;if(!h)return null;if(o===n){const m=l[u];return m?{x:0,y:n<u?m.top+m.height-(h.top+h.height):m.top-h.top,...nf}:null}const d=r3(l,o,n);return o>n&&o<=u?{x:0,y:-h.height-d,...nf}:o<n&&o>=u?{x:0,y:h.height+d,...nf}:{x:0,y:0,...nf}};function r3(t,e,n){const s=t[e],o=t[e-1],l=t[e+1];return s?n<e?o?s.top-(o.top+o.height):l?l.top-(s.top+s.height):0:l?l.top-(s.top+s.height):o?s.top-(o.top+o.height):0:0}const GA="Sortable",KA=In.createContext({activeIndex:-1,containerId:GA,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:qA,disabled:{draggable:!1,droppable:!1}});function o3(t){let{children:e,id:n,items:s,strategy:o=qA,disabled:l=!1}=t;const{active:u,dragOverlay:h,droppableRects:d,over:m,measureDroppableContainers:v}=Z4(),y=_c(GA,n),E=h.rect!==null,w=b.useMemo(()=>s.map(H=>typeof H=="object"&&"id"in H?H.id:H),[s]),x=u!=null,D=u?w.indexOf(u.id):-1,O=m?w.indexOf(m.id):-1,U=b.useRef(w),j=!n3(w,U.current),B=O!==-1&&D===-1||j,N=i3(l);Ns(()=>{j&&x&&v(w)},[j,w,x,v]),b.useEffect(()=>{U.current=w},[w]);const k=b.useMemo(()=>({activeIndex:D,containerId:y,disabled:N,disableTransforms:B,items:w,overIndex:O,useDragOverlay:E,sortedRects:t3(w,d),strategy:o}),[D,y,N.draggable,N.droppable,B,w,O,d,E,o]);return In.createElement(KA.Provider,{value:k},e)}const a3=t=>{let{id:e,items:n,activeIndex:s,overIndex:o}=t;return ty(n,s,o).indexOf(e)},l3=t=>{let{containerId:e,isSorting:n,wasDragging:s,index:o,items:l,newIndex:u,previousItems:h,previousContainerId:d,transition:m}=t;return!m||!s||h!==l&&o===u?!1:n?!0:u!==o&&e===d},u3={duration:200,easing:"ease"},YA="transform",c3=rc.Transition.toString({property:YA,duration:0,easing:"linear"}),h3={roleDescription:"sortable"};function f3(t){let{disabled:e,index:n,node:s,rect:o}=t;const[l,u]=b.useState(null),h=b.useRef(n);return Ns(()=>{if(!e&&n!==h.current&&s.current){const d=o.current;if(d){const m=vl(s.current,{ignoreTransform:!0}),v={x:d.left-m.left,y:d.top-m.top,scaleX:d.width/m.width,scaleY:d.height/m.height};(v.x||v.y)&&u(v)}}n!==h.current&&(h.current=n)},[e,n,s,o]),b.useEffect(()=>{l&&u(null)},[l]),l}function d3(t){let{animateLayoutChanges:e=l3,attributes:n,disabled:s,data:o,getNewIndex:l=a3,id:u,strategy:h,resizeObserverConfig:d,transition:m=u3}=t;const{items:v,containerId:y,activeIndex:E,disabled:w,disableTransforms:x,sortedRects:D,overIndex:O,useDragOverlay:U,strategy:j}=b.useContext(KA),B=p3(s,w),N=v.indexOf(u),k=b.useMemo(()=>({sortable:{containerId:y,index:N,items:v},...o}),[y,o,N,v]),H=b.useMemo(()=>v.slice(v.indexOf(u)),[v,u]),{rect:C,node:A,isOver:R,setNodeRef:V}=e3({id:u,data:k,disabled:B.droppable,resizeObserverConfig:{updateMeasurementsFor:H,...d}}),{active:I,activatorEvent:F,activeNodeRect:P,attributes:me,setNodeRef:be,listeners:$,isDragging:ie,over:ce,setActivatorNodeRef:ge,transform:ye}=Q4({id:u,data:k,attributes:{...h3,...n},disabled:B.draggable}),z=DN(V,be),W=!!I,se=W&&!x&&tf(E)&&tf(O),fe=!U&&ie,Q=fe&&se?ye:null,Te=se?Q??(h??j)({rects:D,activeNodeRect:P,activeIndex:E,overIndex:O,index:N}):null,Ee=tf(E)&&tf(O)?l({id:u,items:v,activeIndex:E,overIndex:O}):N,Re=I?.id,de=b.useRef({activeId:Re,items:v,newIndex:Ee,containerId:y}),Ie=v!==de.current.items,ut=e({active:I,containerId:y,isDragging:ie,isSorting:W,id:u,index:N,items:v,newIndex:de.current.newIndex,previousItems:de.current.items,previousContainerId:de.current.containerId,transition:m,wasDragging:de.current.activeId!=null}),Ot=f3({disabled:!ut,index:N,node:A,rect:C});return b.useEffect(()=>{W&&de.current.newIndex!==Ee&&(de.current.newIndex=Ee),y!==de.current.containerId&&(de.current.containerId=y),v!==de.current.items&&(de.current.items=v)},[W,Ee,y,v]),b.useEffect(()=>{if(Re===de.current.activeId)return;if(Re!=null&&de.current.activeId==null){de.current.activeId=Re;return}const je=setTimeout(()=>{de.current.activeId=Re},50);return()=>clearTimeout(je)},[Re]),{active:I,activeIndex:E,attributes:me,data:k,rect:C,index:N,newIndex:Ee,items:v,isOver:R,isSorting:W,isDragging:ie,listeners:$,node:A,overIndex:O,over:ce,setNodeRef:z,setActivatorNodeRef:ge,setDroppableNodeRef:V,setDraggableNodeRef:be,transform:Ot??Te,transition:St()};function St(){if(Ot||Ie&&de.current.newIndex===N)return c3;if(!(fe&&!Qv(F)||!m)&&(W||ut))return rc.Transition.toString({...m,property:YA})}}function p3(t,e){var n,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(s=t?.droppable)!=null?s:e.droppable}}function Ff(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const m3=[We.Down,We.Right,We.Up,We.Left],g3=(t,e)=>{let{context:{active:n,collisionRect:s,droppableRects:o,droppableContainers:l,over:u,scrollableAncestors:h}}=e;if(m3.includes(t.code)){if(t.preventDefault(),!n||!s)return;const d=[];l.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const E=o.get(y.id);if(E)switch(t.code){case We.Down:s.top<E.top&&d.push(y);break;case We.Up:s.top>E.top&&d.push(y);break;case We.Left:s.left>E.left&&d.push(y);break;case We.Right:s.left<E.left&&d.push(y);break}});const m=$N({collisionRect:s,droppableRects:o,droppableContainers:d});let v=DA(m,"id");if(v===u?.id&&m.length>1&&(v=m[1].id),v!=null){const y=l.get(n.id),E=l.get(v),w=E?o.get(E.id):null,x=E?.node.current;if(x&&w&&y&&E){const O=hd(x).some((H,C)=>h[C]!==H),U=$A(y,E),j=v3(y,E),B=O||!U?{x:0,y:0}:{x:j?s.width-w.width:0,y:j?s.height-w.height:0},N={x:w.left,y:w.top};return B.x&&B.y?N:sc(N,B)}}}};function $A(t,e){return!Ff(t)||!Ff(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function v3(t,e){return!Ff(t)||!Ff(e)||!$A(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const y3=()=>{};var u1={};const XA=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},b3=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],h=t[n++],d=((o&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},QA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,h=u?t[o+1]:0,d=o+2<t.length,m=d?t[o+2]:0,v=l>>2,y=(l&3)<<4|h>>4;let E=(h&15)<<2|m>>6,w=m&63;d||(w=64,u||(E=64)),s.push(n[v],n[y],n[E],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):b3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||h==null||m==null||y==null)throw new E3;const E=l<<2|h>>4;if(s.push(E),m!==64){const w=h<<4&240|m>>2;if(s.push(w),y!==64){const x=m<<6&192|y;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class E3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _3=function(t){const e=XA(t);return QA.encodeByteArray(e,!0)},Hf=function(t){return _3(t).replace(/\./g,"")},T3=function(t){try{return QA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function S3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const w3=()=>S3().__FIREBASE_DEFAULTS__,C3=()=>{if(typeof process>"u"||typeof u1>"u")return;const t=u1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},A3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&T3(t[1]);return e&&JSON.parse(e)},ny=()=>{try{return y3()||w3()||C3()||A3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x3=t=>ny()?.emulatorHosts?.[t],ZA=t=>{const e=x3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},WA=()=>ny()?.config;class R3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Tc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JA(t){return(await fetch(t,{credentials:"include"})).ok}function ex(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Hf(JSON.stringify(n)),Hf(JSON.stringify(u)),""].join(".")}const qu={};function L3(){const t={prod:[],emulator:[]};for(const e of Object.keys(qu))qu[e]?t.emulator.push(e):t.prod.push(e);return t}function M3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let c1=!1;function tx(t,e){if(typeof window>"u"||typeof document>"u"||!Tc(window.location.host)||qu[t]===e||qu[t]||c1)return;qu[t]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=L3().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{c1=!0,u()},E}function v(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=M3(s),w=n("text"),x=document.getElementById(w)||document.createElement("span"),D=n("learnmore"),O=document.getElementById(D)||document.createElement("a"),U=n("preprendIcon"),j=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;h(B),v(O,D);const N=m();d(j,U),B.append(j,x,O,N),document.body.appendChild(B)}l?(x.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function D3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O3(){const t=ny()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I3(){return!O3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V3(){try{return typeof indexedDB=="object"}catch{return!1}}function P3(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const k3="FirebaseError";class Qo extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=k3,Object.setPrototypeOf(this,Qo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nx.prototype.create)}}class nx{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?N3(l,s):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Qo(o,h,s)}}function N3(t,e){return t.replace(U3,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const U3=/\{\$([^}]+)}/g;function qf(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=t[o],u=e[o];if(h1(l)&&h1(u)){if(!qf(l,u))return!1}else if(l!==u)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function h1(t){return t!==null&&typeof t=="object"}function ar(t){return t&&t._delegate?t._delegate:t}class sl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jo="[DEFAULT]";class j3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new R3;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z3(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:B3(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B3(t){return t===jo?void 0:t}function z3(t){return t.instantiationMode==="EAGER"}class F3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const H3={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},q3=et.INFO,G3={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},K3=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=G3[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ix{constructor(e){this.name=e,this._logLevel=q3,this._logHandler=K3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const Y3=(t,e)=>e.some(n=>t instanceof n);let f1,d1;function $3(){return f1||(f1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X3(){return d1||(d1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sx=new WeakMap,zg=new WeakMap,rx=new WeakMap,eg=new WeakMap,iy=new WeakMap;function Q3(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Zr(t.result)),o()},u=()=>{s(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&sx.set(n,t)}).catch(()=>{}),iy.set(e,t),e}function Z3(t){if(zg.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});zg.set(t,e)}let Fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function W3(t){Fg=t(Fg)}function J3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(tg(this),e,...n);return rx.set(s,e.sort?e.sort():[e]),Zr(s)}:X3().includes(t)?function(...e){return t.apply(tg(this),e),Zr(sx.get(this))}:function(...e){return Zr(t.apply(tg(this),e))}}function e6(t){return typeof t=="function"?J3(t):(t instanceof IDBTransaction&&Z3(t),Y3(t,$3())?new Proxy(t,Fg):t)}function Zr(t){if(t instanceof IDBRequest)return Q3(t);if(eg.has(t))return eg.get(t);const e=e6(t);return e!==t&&(eg.set(t,e),iy.set(e,t)),e}const tg=t=>iy.get(t);function t6(t,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),h=Zr(u);return s&&u.addEventListener("upgradeneeded",d=>{s(Zr(u.result),d.oldVersion,d.newVersion,Zr(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const n6=["get","getKey","getAll","getAllKeys","count"],i6=["put","add","delete","clear"],ng=new Map;function p1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ng.get(e))return ng.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=i6.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||n6.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,o?"readwrite":"readonly");let m=d.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&d.done]))[0]};return ng.set(e,l),l}W3(t=>({...t,get:(e,n,s)=>p1(e,n)||t.get(e,n,s),has:(e,n)=>!!p1(e,n)||t.has(e,n)}));class s6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r6(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function r6(t){return t.getComponent()?.type==="VERSION"}const Hg="@firebase/app",m1="0.14.7";const lr=new ix("@firebase/app"),o6="@firebase/app-compat",a6="@firebase/analytics-compat",l6="@firebase/analytics",u6="@firebase/app-check-compat",c6="@firebase/app-check",h6="@firebase/auth",f6="@firebase/auth-compat",d6="@firebase/database",p6="@firebase/data-connect",m6="@firebase/database-compat",g6="@firebase/functions",v6="@firebase/functions-compat",y6="@firebase/installations",b6="@firebase/installations-compat",E6="@firebase/messaging",_6="@firebase/messaging-compat",T6="@firebase/performance",S6="@firebase/performance-compat",w6="@firebase/remote-config",C6="@firebase/remote-config-compat",A6="@firebase/storage",x6="@firebase/storage-compat",R6="@firebase/firestore",L6="@firebase/ai",M6="@firebase/firestore-compat",D6="firebase",O6="12.8.0";const qg="[DEFAULT]",I6={[Hg]:"fire-core",[o6]:"fire-core-compat",[l6]:"fire-analytics",[a6]:"fire-analytics-compat",[c6]:"fire-app-check",[u6]:"fire-app-check-compat",[h6]:"fire-auth",[f6]:"fire-auth-compat",[d6]:"fire-rtdb",[p6]:"fire-data-connect",[m6]:"fire-rtdb-compat",[g6]:"fire-fn",[v6]:"fire-fn-compat",[y6]:"fire-iid",[b6]:"fire-iid-compat",[E6]:"fire-fcm",[_6]:"fire-fcm-compat",[T6]:"fire-perf",[S6]:"fire-perf-compat",[w6]:"fire-rc",[C6]:"fire-rc-compat",[A6]:"fire-gcs",[x6]:"fire-gcs-compat",[R6]:"fire-fst",[M6]:"fire-fst-compat",[L6]:"fire-vertex","fire-js":"fire-js",[D6]:"fire-js-all"};const Gf=new Map,V6=new Map,Gg=new Map;function g1(t,e){try{t.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ac(t){const e=t.name;if(Gg.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Gg.set(e,t);for(const n of Gf.values())g1(n,t);for(const n of V6.values())g1(n,t);return!0}function ox(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ax(t){return t==null?!1:t.settings!==void 0}const P6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new nx("app","Firebase",P6);class k6{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}const lx=O6;function ux(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:qg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Wr.create("bad-app-name",{appName:String(o)});if(n||(n=WA()),!n)throw Wr.create("no-options");const l=Gf.get(o);if(l){if(qf(n,l.options)&&qf(s,l.config))return l;throw Wr.create("duplicate-app",{appName:o})}const u=new F3(o);for(const d of Gg.values())u.addComponent(d);const h=new k6(n,s,u);return Gf.set(o,h),h}function cx(t=qg){const e=Gf.get(t);if(!e&&t===qg&&WA())return ux();if(!e)throw Wr.create("no-app",{appName:t});return e}function Jr(t,e,n){let s=I6[t]??t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(u.join(" "));return}ac(new sl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const N6="firebase-heartbeat-database",U6=1,lc="firebase-heartbeat-store";let ig=null;function hx(){return ig||(ig=t6(N6,U6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wr.create("idb-open",{originalErrorMessage:t.message})})),ig}async function j6(t){try{const n=(await hx()).transaction(lc),s=await n.objectStore(lc).get(fx(t));return await n.done,s}catch(e){if(e instanceof Qo)lr.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e?.message});lr.warn(n.message)}}}async function v1(t,e){try{const s=(await hx()).transaction(lc,"readwrite");await s.objectStore(lc).put(e,fx(t)),await s.done}catch(n){if(n instanceof Qo)lr.warn(n.message);else{const s=Wr.create("idb-set",{originalErrorMessage:n?.message});lr.warn(s.message)}}}function fx(t){return`${t.name}!${t.options.appId}`}const B6=1024,z6=30;class F6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q6(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=y1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>z6){const o=G6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){lr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=y1(),{heartbeatsToSend:n,unsentEntries:s}=H6(this._heartbeatsCache.heartbeats),o=Hf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return lr.warn(e),""}}}function y1(){return new Date().toISOString().substring(0,10)}function H6(t,e=B6){const n=[];let s=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),b1(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),b1(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class q6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V3()?P3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await j6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return v1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return v1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function b1(t){return Hf(JSON.stringify({version:2,heartbeats:t})).length}function G6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function K6(t){ac(new sl("platform-logger",e=>new s6(e),"PRIVATE")),ac(new sl("heartbeat",e=>new F6(e),"PRIVATE")),Jr(Hg,m1,t),Jr(Hg,m1,"esm2020"),Jr("fire-js","")}K6("");var Y6="firebase",$6="12.8.0";Jr(Y6,$6,"app");var E1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eo,dx;(function(){var t;function e(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,I,F){for(var P=Array(arguments.length-2),me=2;me<arguments.length;me++)P[me-2]=arguments[me];return A.prototype[I].apply(V,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var I=0;I<16;++I)V[I]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(I=0;I<16;++I)V[I]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],I=C.g[2];let F=C.g[3],P;P=A+(F^R&(I^F))+V[0]+3614090360&4294967295,A=R+(P<<7&4294967295|P>>>25),P=F+(I^A&(R^I))+V[1]+3905402710&4294967295,F=A+(P<<12&4294967295|P>>>20),P=I+(R^F&(A^R))+V[2]+606105819&4294967295,I=F+(P<<17&4294967295|P>>>15),P=R+(A^I&(F^A))+V[3]+3250441966&4294967295,R=I+(P<<22&4294967295|P>>>10),P=A+(F^R&(I^F))+V[4]+4118548399&4294967295,A=R+(P<<7&4294967295|P>>>25),P=F+(I^A&(R^I))+V[5]+1200080426&4294967295,F=A+(P<<12&4294967295|P>>>20),P=I+(R^F&(A^R))+V[6]+2821735955&4294967295,I=F+(P<<17&4294967295|P>>>15),P=R+(A^I&(F^A))+V[7]+4249261313&4294967295,R=I+(P<<22&4294967295|P>>>10),P=A+(F^R&(I^F))+V[8]+1770035416&4294967295,A=R+(P<<7&4294967295|P>>>25),P=F+(I^A&(R^I))+V[9]+2336552879&4294967295,F=A+(P<<12&4294967295|P>>>20),P=I+(R^F&(A^R))+V[10]+4294925233&4294967295,I=F+(P<<17&4294967295|P>>>15),P=R+(A^I&(F^A))+V[11]+2304563134&4294967295,R=I+(P<<22&4294967295|P>>>10),P=A+(F^R&(I^F))+V[12]+1804603682&4294967295,A=R+(P<<7&4294967295|P>>>25),P=F+(I^A&(R^I))+V[13]+4254626195&4294967295,F=A+(P<<12&4294967295|P>>>20),P=I+(R^F&(A^R))+V[14]+2792965006&4294967295,I=F+(P<<17&4294967295|P>>>15),P=R+(A^I&(F^A))+V[15]+1236535329&4294967295,R=I+(P<<22&4294967295|P>>>10),P=A+(I^F&(R^I))+V[1]+4129170786&4294967295,A=R+(P<<5&4294967295|P>>>27),P=F+(R^I&(A^R))+V[6]+3225465664&4294967295,F=A+(P<<9&4294967295|P>>>23),P=I+(A^R&(F^A))+V[11]+643717713&4294967295,I=F+(P<<14&4294967295|P>>>18),P=R+(F^A&(I^F))+V[0]+3921069994&4294967295,R=I+(P<<20&4294967295|P>>>12),P=A+(I^F&(R^I))+V[5]+3593408605&4294967295,A=R+(P<<5&4294967295|P>>>27),P=F+(R^I&(A^R))+V[10]+38016083&4294967295,F=A+(P<<9&4294967295|P>>>23),P=I+(A^R&(F^A))+V[15]+3634488961&4294967295,I=F+(P<<14&4294967295|P>>>18),P=R+(F^A&(I^F))+V[4]+3889429448&4294967295,R=I+(P<<20&4294967295|P>>>12),P=A+(I^F&(R^I))+V[9]+568446438&4294967295,A=R+(P<<5&4294967295|P>>>27),P=F+(R^I&(A^R))+V[14]+3275163606&4294967295,F=A+(P<<9&4294967295|P>>>23),P=I+(A^R&(F^A))+V[3]+4107603335&4294967295,I=F+(P<<14&4294967295|P>>>18),P=R+(F^A&(I^F))+V[8]+1163531501&4294967295,R=I+(P<<20&4294967295|P>>>12),P=A+(I^F&(R^I))+V[13]+2850285829&4294967295,A=R+(P<<5&4294967295|P>>>27),P=F+(R^I&(A^R))+V[2]+4243563512&4294967295,F=A+(P<<9&4294967295|P>>>23),P=I+(A^R&(F^A))+V[7]+1735328473&4294967295,I=F+(P<<14&4294967295|P>>>18),P=R+(F^A&(I^F))+V[12]+2368359562&4294967295,R=I+(P<<20&4294967295|P>>>12),P=A+(R^I^F)+V[5]+4294588738&4294967295,A=R+(P<<4&4294967295|P>>>28),P=F+(A^R^I)+V[8]+2272392833&4294967295,F=A+(P<<11&4294967295|P>>>21),P=I+(F^A^R)+V[11]+1839030562&4294967295,I=F+(P<<16&4294967295|P>>>16),P=R+(I^F^A)+V[14]+4259657740&4294967295,R=I+(P<<23&4294967295|P>>>9),P=A+(R^I^F)+V[1]+2763975236&4294967295,A=R+(P<<4&4294967295|P>>>28),P=F+(A^R^I)+V[4]+1272893353&4294967295,F=A+(P<<11&4294967295|P>>>21),P=I+(F^A^R)+V[7]+4139469664&4294967295,I=F+(P<<16&4294967295|P>>>16),P=R+(I^F^A)+V[10]+3200236656&4294967295,R=I+(P<<23&4294967295|P>>>9),P=A+(R^I^F)+V[13]+681279174&4294967295,A=R+(P<<4&4294967295|P>>>28),P=F+(A^R^I)+V[0]+3936430074&4294967295,F=A+(P<<11&4294967295|P>>>21),P=I+(F^A^R)+V[3]+3572445317&4294967295,I=F+(P<<16&4294967295|P>>>16),P=R+(I^F^A)+V[6]+76029189&4294967295,R=I+(P<<23&4294967295|P>>>9),P=A+(R^I^F)+V[9]+3654602809&4294967295,A=R+(P<<4&4294967295|P>>>28),P=F+(A^R^I)+V[12]+3873151461&4294967295,F=A+(P<<11&4294967295|P>>>21),P=I+(F^A^R)+V[15]+530742520&4294967295,I=F+(P<<16&4294967295|P>>>16),P=R+(I^F^A)+V[2]+3299628645&4294967295,R=I+(P<<23&4294967295|P>>>9),P=A+(I^(R|~F))+V[0]+4096336452&4294967295,A=R+(P<<6&4294967295|P>>>26),P=F+(R^(A|~I))+V[7]+1126891415&4294967295,F=A+(P<<10&4294967295|P>>>22),P=I+(A^(F|~R))+V[14]+2878612391&4294967295,I=F+(P<<15&4294967295|P>>>17),P=R+(F^(I|~A))+V[5]+4237533241&4294967295,R=I+(P<<21&4294967295|P>>>11),P=A+(I^(R|~F))+V[12]+1700485571&4294967295,A=R+(P<<6&4294967295|P>>>26),P=F+(R^(A|~I))+V[3]+2399980690&4294967295,F=A+(P<<10&4294967295|P>>>22),P=I+(A^(F|~R))+V[10]+4293915773&4294967295,I=F+(P<<15&4294967295|P>>>17),P=R+(F^(I|~A))+V[1]+2240044497&4294967295,R=I+(P<<21&4294967295|P>>>11),P=A+(I^(R|~F))+V[8]+1873313359&4294967295,A=R+(P<<6&4294967295|P>>>26),P=F+(R^(A|~I))+V[15]+4264355552&4294967295,F=A+(P<<10&4294967295|P>>>22),P=I+(A^(F|~R))+V[6]+2734768916&4294967295,I=F+(P<<15&4294967295|P>>>17),P=R+(F^(I|~A))+V[13]+1309151649&4294967295,R=I+(P<<21&4294967295|P>>>11),P=A+(I^(R|~F))+V[4]+4149444226&4294967295,A=R+(P<<6&4294967295|P>>>26),P=F+(R^(A|~I))+V[11]+3174756917&4294967295,F=A+(P<<10&4294967295|P>>>22),P=I+(A^(F|~R))+V[2]+718787259&4294967295,I=F+(P<<15&4294967295|P>>>17),P=R+(F^(I|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(I+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+F&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,V=this.C;let I=this.h,F=0;for(;F<A;){if(I==0)for(;F<=R;)o(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<A;)if(V[I++]=C.charCodeAt(F++),I==this.blockSize){o(this,V),I=0;break}}else for(;F<A;)if(V[I++]=C[F++],I==this.blockSize){o(this,V),I=0;break}}this.h=I,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[A++]=this.g[R]>>>V&255;return C};function l(C,A){var R=h;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function u(C,A){this.h=A;const R=[];let V=!0;for(let I=C.length-1;I>=0;I--){const F=C[I]|0;V&&F==A||(R[I]=F,V=!1)}this.g=R}var h={};function d(C){return-128<=C&&C<128?l(C,function(A){return new u([A|0],A<0?-1:0)}):new u([C|0],C<0?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return y;if(C<0)return O(m(-C));const A=[];let R=1;for(let V=0;C>=R;V++)A[V]=C/R|0,R*=4294967296;return new u(A,0)}function v(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return O(v(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=m(Math.pow(A,8));let V=y;for(let F=0;F<C.length;F+=8){var I=Math.min(8,C.length-F);const P=parseInt(C.substring(F,F+I),A);I<8?(I=m(Math.pow(A,I)),V=V.j(I).add(m(P))):(V=V.j(R),V=V.add(m(P)))}return V}var y=d(0),E=d(1),w=d(16777216);t=u.prototype,t.m=function(){if(D(this))return-O(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(D(this))return"-"+O(this).toString(C);const A=m(Math.pow(C,6));var R=this;let V="";for(;;){const I=N(R,A).g;R=U(R,I.j(A));let F=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=I,x(R))return F+V;for(;F.length<6;)F="0"+F;V=F+V}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function D(C){return C.h==-1}t.l=function(C){return C=U(this,C),D(C)?-1:x(C)?0:1};function O(C){const A=C.g.length,R=[];for(let V=0;V<A;V++)R[V]=~C.g[V];return new u(R,~C.h).add(E)}t.abs=function(){return D(this)?O(this):this},t.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let I=0;I<=A;I++){let F=V+(this.i(I)&65535)+(C.i(I)&65535),P=(F>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);V=P>>>16,F&=65535,P&=65535,R[I]=P<<16|F}return new u(R,R[R.length-1]&-2147483648?-1:0)};function U(C,A){return C.add(O(A))}t.j=function(C){if(x(this)||x(C))return y;if(D(this))return D(C)?O(this).j(O(C)):O(O(this).j(C));if(D(C))return O(this.j(O(C)));if(this.l(w)<0&&C.l(w)<0)return m(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let I=0;I<C.g.length;I++){const F=this.i(V)>>>16,P=this.i(V)&65535,me=C.i(I)>>>16,be=C.i(I)&65535;R[2*V+2*I]+=P*be,j(R,2*V+2*I),R[2*V+2*I+1]+=F*be,j(R,2*V+2*I+1),R[2*V+2*I+1]+=P*me,j(R,2*V+2*I+1),R[2*V+2*I+2]+=F*me,j(R,2*V+2*I+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new u(R,0)};function j(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function B(C,A){this.g=C,this.h=A}function N(C,A){if(x(A))throw Error("division by zero");if(x(C))return new B(y,y);if(D(C))return A=N(O(C),A),new B(O(A.g),O(A.h));if(D(A))return A=N(C,O(A)),new B(O(A.g),A.h);if(C.g.length>30){if(D(C)||D(A))throw Error("slowDivide_ only works with positive integers.");for(var R=E,V=A;V.l(C)<=0;)R=k(R),V=k(V);var I=H(R,1),F=H(V,1);for(V=H(V,2),R=H(R,2);!x(V);){var P=F.add(V);P.l(C)<=0&&(I=I.add(R),F=P),V=H(V,1),R=H(R,1)}return A=U(C,I.j(A)),new B(I,A)}for(I=y;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),F=m(R),P=F.j(A);D(P)||P.l(C)>0;)R-=V,F=m(R),P=F.j(A);x(F)&&(F=E),I=I.add(F),C=U(C,P)}return new B(I,C)}t.B=function(C){return N(this,C).h},t.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&C.i(V);return new u(R,this.h&C.h)},t.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|C.i(V);return new u(R,this.h|C.h)},t.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^C.i(V);return new u(R,this.h^C.h)};function k(C){const A=C.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new u(R,C.h)}function H(C,A){const R=A>>5;A%=32;const V=C.g.length-R,I=[];for(let F=0;F<V;F++)I[F]=A>0?C.i(F+R)>>>A|C.i(F+R+1)<<32-A:C.i(F+R);return new u(I,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,dx=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,eo=u}).apply(typeof E1<"u"?E1:typeof self<"u"?self:typeof window<"u"?window:{});var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var px,Ou,mx,gf,Kg,gx,vx,yx;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof sf=="object"&&sf];for(var _=0;_<f.length;++_){var S=f[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=n(this);function o(f,_){if(_)e:{var S=s;f=f.split(".");for(var M=0;M<f.length-1;M++){var X=f[M];if(!(X in S))break e;S=S[X]}f=f[f.length-1],M=S[f],_=_(M),_!=M&&_!=null&&e(S,f,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(_){var S=[],M;for(M in _)Object.prototype.hasOwnProperty.call(_,M)&&S.push([M,_[M]]);return S}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,S){return f.call.apply(f.bind,arguments)}function m(f,_,S){return m=d,m.apply(null,arguments)}function v(f,_){var S=Array.prototype.slice.call(arguments,1);return function(){var M=S.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function y(f,_){function S(){}S.prototype=_.prototype,f.Z=_.prototype,f.prototype=new S,f.prototype.constructor=f,f.Ob=function(M,X,te){for(var pe=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)pe[Ne-2]=arguments[Ne];return _.prototype[X].apply(M,pe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function w(f){const _=f.length;if(_>0){const S=Array(_);for(let M=0;M<_;M++)S[M]=f[M];return S}return[]}function x(f,_){for(let M=1;M<arguments.length;M++){const X=arguments[M];var S=typeof X;if(S=S!="object"?S:X?Array.isArray(X)?"array":S:"null",S=="array"||S=="object"&&typeof X.length=="number"){S=f.length||0;const te=X.length||0;f.length=S+te;for(let pe=0;pe<te;pe++)f[S+pe]=X[pe]}else f.push(X)}}class D{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function O(f){u.setTimeout(()=>{throw f},0)}function U(){var f=C;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class j{constructor(){this.h=this.g=null}add(_,S){const M=B.get();M.set(_,S),this.h?this.h.next=M:this.g=M,this.h=M}}var B=new D(()=>new N,f=>f.reset());class N{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let k,H=!1,C=new j,A=()=>{const f=Promise.resolve(void 0);k=()=>{f.then(R)}};function R(){for(var f;f=U();){try{f.h.call(f.g)}catch(S){O(S)}var _=B;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}H=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};u.addEventListener("test",S,_),u.removeEventListener("test",S,_)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function me(f,_){I.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}y(me,I),me.prototype.init=function(f,_){const S=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(S=="mouseover"?_=f.fromElement:S=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),$=0;function ie(f,_,S,M,X){this.listener=f,this.proxy=null,this.src=_,this.type=S,this.capture=!!M,this.ha=X,this.key=++$,this.da=this.fa=!1}function ce(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ge(f,_,S){for(const M in f)_.call(S,f[M],M,f)}function ye(f,_){for(const S in f)_.call(void 0,f[S],S,f)}function z(f){const _={};for(const S in f)_[S]=f[S];return _}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(f,_){let S,M;for(let X=1;X<arguments.length;X++){M=arguments[X];for(S in M)f[S]=M[S];for(let te=0;te<W.length;te++)S=W[te],Object.prototype.hasOwnProperty.call(M,S)&&(f[S]=M[S])}}function fe(f){this.src=f,this.g={},this.h=0}fe.prototype.add=function(f,_,S,M,X){const te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);const pe=ve(f,_,M,X);return pe>-1?(_=f[pe],S||(_.fa=!1)):(_=new ie(_,this.src,te,!!M,X),_.fa=S,f.push(_)),_};function Q(f,_){const S=_.type;if(S in f.g){var M=f.g[S],X=Array.prototype.indexOf.call(M,_,void 0),te;(te=X>=0)&&Array.prototype.splice.call(M,X,1),te&&(ce(_),f.g[S].length==0&&(delete f.g[S],f.h--))}}function ve(f,_,S,M){for(let X=0;X<f.length;++X){const te=f[X];if(!te.da&&te.listener==_&&te.capture==!!S&&te.ha==M)return X}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),Ee={};function Re(f,_,S,M,X){if(Array.isArray(_)){for(let te=0;te<_.length;te++)Re(f,_[te],S,M,X);return null}return S=Gi(S),f&&f[be]?f.J(_,S,h(M)?!!M.capture:!1,X):de(f,_,S,!1,M,X)}function de(f,_,S,M,X,te){if(!_)throw Error("Invalid event type");const pe=h(X)?!!X.capture:!!X;let Ne=Sn(f);if(Ne||(f[Te]=Ne=new fe(f)),S=Ne.add(_,S,M,pe,te),S.proxy)return S;if(M=Ie(),S.proxy=M,M.src=f,M.listener=S,f.addEventListener)F||(X=pe),X===void 0&&(X=!1),f.addEventListener(_.toString(),M,X);else if(f.attachEvent)f.attachEvent(St(_.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ie(){function f(S){return _.call(f.src,f.listener,S)}const _=je;return f}function ut(f,_,S,M,X){if(Array.isArray(_))for(var te=0;te<_.length;te++)ut(f,_[te],S,M,X);else M=h(M)?!!M.capture:!!M,S=Gi(S),f&&f[be]?(f=f.i,te=String(_).toString(),te in f.g&&(_=f.g[te],S=ve(_,S,M,X),S>-1&&(ce(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete f.g[te],f.h--)))):f&&(f=Sn(f))&&(_=f.g[_.toString()],f=-1,_&&(f=ve(_,S,M,X)),(S=f>-1?_[f]:null)&&Ot(S))}function Ot(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[be])Q(_.i,f);else{var S=f.type,M=f.proxy;_.removeEventListener?_.removeEventListener(S,M,f.capture):_.detachEvent?_.detachEvent(St(S),M):_.addListener&&_.removeListener&&_.removeListener(M),(S=Sn(_))?(Q(S,f),S.h==0&&(S.src=null,_[Te]=null)):ce(f)}}}function St(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function je(f,_){if(f.da)f=!0;else{_=new me(_,this);const S=f.listener,M=f.ha||f.src;f.fa&&Ot(f),f=S.call(M,_)}return f}function Sn(f){return f=f[Te],f instanceof fe?f:null}var li="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gi(f){return typeof f=="function"?f:(f[li]||(f[li]=function(_){return f.handleEvent(_)}),f[li])}function ct(){V.call(this),this.i=new fe(this),this.M=this,this.G=null}y(ct,V),ct.prototype[be]=!0,ct.prototype.removeEventListener=function(f,_,S,M){ut(this,f,_,S,M)};function st(f,_){var S,M=f.G;if(M)for(S=[];M;M=M.G)S.push(M);if(f=f.M,M=_.type||_,typeof _=="string")_=new I(_,f);else if(_ instanceof I)_.target=_.target||f;else{var X=_;_=new I(M,f),se(_,X)}X=!0;let te,pe;if(S)for(pe=S.length-1;pe>=0;pe--)te=_.g=S[pe],X=pn(te,M,!0,_)&&X;if(te=_.g=f,X=pn(te,M,!0,_)&&X,X=pn(te,M,!1,_)&&X,S)for(pe=0;pe<S.length;pe++)te=_.g=S[pe],X=pn(te,M,!1,_)&&X}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const S=f.g[_];for(let M=0;M<S.length;M++)ce(S[M]);delete f.g[_],f.h--}}this.G=null},ct.prototype.J=function(f,_,S,M){return this.i.add(String(f),_,!1,S,M)},ct.prototype.K=function(f,_,S,M){return this.i.add(String(f),_,!0,S,M)};function pn(f,_,S,M){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let X=!0;for(let te=0;te<_.length;++te){const pe=_[te];if(pe&&!pe.da&&pe.capture==S){const Ne=pe.listener,qt=pe.ha||pe.src;pe.fa&&Q(f.i,pe),X=Ne.call(qt,M)!==!1&&X}}return X&&!M.defaultPrevented}function Ki(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function Ti(f){f.g=Ki(()=>{f.g=null,f.i&&(f.i=!1,Ti(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Ft extends V{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ti(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(f){V.call(this),this.h=f,this.g={}}y(Si,V);var cs=[];function wn(f){ge(f.g,function(_,S){this.g.hasOwnProperty(S)&&Ot(_)},f),f.g={}}Si.prototype.N=function(){Si.Z.N.call(this),wn(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=u.JSON.stringify,Wn=u.JSON.parse,hs=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function gn(){}function fs(){}var vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){I.call(this,"d")}y(kt,I);function Ht(){I.call(this,"c")}y(Ht,I);var bt={},Yi=null;function wi(){return Yi=Yi||new ct}bt.Ia="serverreachability";function $i(f){I.call(this,bt.Ia,f)}y($i,I);function Hn(f){const _=wi();st(_,new $i(_))}bt.STAT_EVENT="statevent";function Ci(f,_){I.call(this,bt.STAT_EVENT,f),this.stat=_}y(Ci,I);function Fe(f){const _=wi();st(_,new Ci(_,f))}bt.Ja="timingevent";function ht(f,_){I.call(this,bt.Ja,f),this.size=_}y(ht,I);function Et(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function wt(){this.g=!0}wt.prototype.ua=function(){this.g=!1};function on(f,_,S,M,X,te){f.info(function(){if(f.g)if(te){var pe="",Ne=te.split("&");for(let rt=0;rt<Ne.length;rt++){var qt=Ne[rt].split("=");if(qt.length>1){const Mt=qt[0];qt=qt[1];const Li=Mt.split("_");pe=Li.length>=2&&Li[1]=="type"?pe+(Mt+"="+qt+"&"):pe+(Mt+"=redacted&")}}}else pe=null;else pe=te;return"XMLHTTP REQ ("+M+") [attempt "+X+"]: "+_+`
`+S+`
`+pe})}function It(f,_,S,M,X,te,pe){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+X+"]: "+_+`
`+S+`
`+te+" "+pe})}function Lt(f,_,S,M){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+_t(f,S)+(M?" "+M:"")})}function kn(f,_){f.info(function(){return"TIMEOUT: "+_})}wt.prototype.info=function(){};function _t(f,_){if(!f.g)return _;if(!_)return null;try{const te=JSON.parse(_);if(te){for(f=0;f<te.length;f++)if(Array.isArray(te[f])){var S=te[f];if(!(S.length<2)){var M=S[1];if(Array.isArray(M)&&!(M.length<1)){var X=M[0];if(X!="noop"&&X!="stop"&&X!="close")for(let pe=1;pe<M.length;pe++)M[pe]=""}}}}return mn(te)}catch{return _}}var xe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qn;function ui(){}y(ui,gn),ui.prototype.g=function(){return new XMLHttpRequest},qn=new ui;function Gn(f){return encodeURIComponent(String(f))}function ci(f){var _=1;f=f.split(":");const S=[];for(;_>0&&f.length;)S.push(f.shift()),_--;return f.length&&S.push(f.join(":")),S}function Cn(f,_,S,M){this.j=f,this.i=_,this.l=S,this.S=M||1,this.V=new Si(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Xt={},yn={};function ds(f,_,S){f.M=1,f.A=ho(Zt(_)),f.u=S,f.R=!0,ta(f,null)}function ta(f,_){f.F=Date.now(),ps(f),f.B=Zt(f.A);var S=f.B,M=f.S;Array.isArray(M)||(M=[String(M)]),ra(S.i,"t",M),f.C=0,S=f.j.L,f.h=new Kn,f.g=Fc(f.j,S?_:null,!f.u),f.P>0&&(f.O=new Ft(m(f.Y,f,f.g),f.P)),_=f.V,S=f.g,M=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(cs[0]=X.toString()),X=cs);for(let te=0;te<X.length;te++){const pe=Re(S,X[te],M||_.handleEvent,!1,_.h||_);if(!pe)break;_.g[pe.key]=pe}_=f.J?z(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Hn(),on(f.i,f.v,f.B,f.l,f.S,f.u)}Cn.prototype.ba=function(f){f=f.target;const _=this.O;_&&Zi(f)==3?_.j():this.Y(f)},Cn.prototype.Y=function(f){try{if(f==this.g)e:{const Ne=Zi(this.g),qt=this.g.ya(),rt=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||An(this.g)))){this.K||Ne!=4||qt==7||(qt==8||rt<=0?Hn(3):Hn(2)),ms(this);var _=this.g.ca();this.X=_;var S=Rd(this);if(this.o=_==200,It(this.i,this.v,this.B,this.l,this.S,Ne,_),this.o){if(this.U&&!this.L){t:{if(this.g){var M,X=this.g;if((M=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(M)){var te=M;break t}}te=null}if(f=te)Lt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gs(this,f);else{this.o=!1,this.m=3,Fe(12),hi(this),Ai(this);break e}}if(this.R){f=!0;let Mt;for(;!this.K&&this.C<S.length;)if(Mt=Lc(this,S),Mt==yn){Ne==4&&(this.m=4,Fe(14),f=!1),Lt(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Xt){this.m=4,Fe(15),Lt(this.i,this.l,S,"[Invalid Chunk]"),f=!1;break}else Lt(this.i,this.l,Mt,null),gs(this,Mt);if(Rc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||S.length!=0||this.h.h||(this.m=1,Fe(16),f=!1),this.o=this.o&&f,!f)Lt(this.i,this.l,S,"[Invalid Chunked Response]"),hi(this),Ai(this);else if(S.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),Nl(pe),pe.P=!0,Fe(11))}}else Lt(this.i,this.l,S,null),gs(this,S);Ne==4&&hi(this),this.o&&!this.K&&(Ne==4?Uc(this.j,this):(this.o=!1,ps(this)))}else zs(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,Fe(12)):(this.m=0,Fe(13)),hi(this),Ai(this)}}}catch{}};function Rd(f){if(!Rc(f))return f.g.la();const _=An(f.g);if(_==="")return"";let S="";const M=_.length,X=Zi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return hi(f),Ai(f),"";f.h.i=new u.TextDecoder}for(let te=0;te<M;te++)f.h.h=!0,S+=f.h.i.decode(_[te],{stream:!(X&&te==M-1)});return _.length=0,f.h.g+=S,f.C=0,f.h.g}function Rc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Lc(f,_){var S=f.C,M=_.indexOf(`
`,S);return M==-1?yn:(S=Number(_.substring(S,M)),isNaN(S)?Xt:(M+=1,M+S>_.length?yn:(_=_.slice(M,M+S),f.C=M+S,_)))}Cn.prototype.cancel=function(){this.K=!0,hi(this)};function ps(f){f.T=Date.now()+f.H,na(f,f.H)}function na(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Et(m(f.aa,f),_)}function ms(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Cn.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(kn(this.i,this.B),this.M!=2&&(Hn(),Fe(17)),hi(this),this.m=2,Ai(this)):na(this,this.T-f)};function Ai(f){f.j.I==0||f.K||Uc(f.j,f)}function hi(f){ms(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,wn(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function gs(f,_){try{var S=f.j;if(S.I!=0&&(S.g==f||ys(S.h,f))){if(!f.L&&ys(S.h,f)&&S.I==3){try{var M=S.Ba.g.parse(_)}catch{M=null}if(Array.isArray(M)&&M.length==3){var X=M;if(X[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<f.F)ca(S),br(S);else break e;bo(S),Fe(18)}}else S.xa=X[1],0<S.xa-S.K&&X[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Et(m(S.Va,S),6e3));vs(S.h)<=1&&S.ta&&(S.ta=void 0)}else ws(S,11)}else if((f.L||S.g==f)&&ca(S),!P(_))for(X=S.Ba.g.parse(_),_=0;_<X.length;_++){let rt=X[_];const Mt=rt[0];if(!(Mt<=S.K))if(S.K=Mt,rt=rt[1],S.I==2)if(rt[0]=="c"){S.M=rt[1],S.ba=rt[2];const Li=rt[3];Li!=null&&(S.ka=Li,S.j.info("VER="+S.ka));const Cs=rt[4];Cs!=null&&(S.za=Cs,S.j.info("SVER="+S.za));const Wi=rt[5];Wi!=null&&typeof Wi=="number"&&Wi>0&&(M=1.5*Wi,S.O=M,S.j.info("backChannelRequestTimeoutMs_="+M)),M=S;const Ji=f.g;if(Ji){const Eo=Ji.g?Ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var te=M.h;te.g||Eo.indexOf("spdy")==-1&&Eo.indexOf("quic")==-1&&Eo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Cl(te,te.h),te.h=null))}if(M.G){const ha=Ji.g?Ji.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(M.wa=ha,ft(M.J,M.G,ha))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-f.F,S.j.info("Handshake RTT: "+S.T+"ms")),M=S;var pe=f;if(M.na=zc(M,M.L?M.ba:null,M.W),pe.L){Al(M.h,pe);var Ne=pe,qt=M.O;qt&&(Ne.H=qt),Ne.D&&(ms(Ne),ps(Ne)),M.g=pe}else kc(M);S.i.length>0&&Ss(S)}else rt[0]!="stop"&&rt[0]!="close"||ws(S,7);else S.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?ws(S,7):Pl(S):rt[0]!="noop"&&S.l&&S.l.qa(rt),S.A=0)}}Hn(4)}catch{}}var Qt=class{constructor(f,_){this.g=f,this.map=_}};function Sl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function vs(f){return f.h?1:f.g?f.g.size:0}function ys(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Cl(f,_){f.g?f.g.add(_):f.h=_}function Al(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Sl.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function xl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const S of f.g.values())_=_.concat(S.G);return _}return w(f.i)}var Mc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(f,_){if(f){f=f.split("&");for(let S=0;S<f.length;S++){const M=f[S].indexOf("=");let X,te=null;M>=0?(X=f[S].substring(0,M),te=f[S].substring(M+1)):X=f[S],_(X,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function fi(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof fi?(this.l=f.l,bn(this,f.j),this.o=f.o,this.g=f.g,fr(this,f.u),this.h=f.h,Rl(this,Vc(f.i)),this.m=f.m):f&&(_=String(f).match(Mc))?(this.l=!1,bn(this,_[1]||"",!0),this.o=bs(_[2]||""),this.g=bs(_[3]||"",!0),fr(this,_[4]),this.h=bs(_[5]||"",!0),Rl(this,_[6]||"",!0),this.m=bs(_[7]||"")):(this.l=!1,this.i=new pr(null,this.l))}fi.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(fo(_,sa,!0),":");var S=this.g;return(S||_=="file")&&(f.push("//"),(_=this.o)&&f.push(fo(_,sa,!0),"@"),f.push(Gn(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&f.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(fo(S,S.charAt(0)=="/"?Ll:Dc,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",fo(S,Oc)),f.join("")},fi.prototype.resolve=function(f){const _=Zt(this);let S=!!f.j;S?bn(_,f.j):S=!!f.o,S?_.o=f.o:S=!!f.g,S?_.g=f.g:S=f.u!=null;var M=f.h;if(S)fr(_,f.u);else if(S=!!f.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var X=_.h.lastIndexOf("/");X!=-1&&(M=_.h.slice(0,X+1)+M)}if(X=M,X==".."||X==".")M="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){M=X.lastIndexOf("/",0)==0,X=X.split("/");const te=[];for(let pe=0;pe<X.length;){const Ne=X[pe++];Ne=="."?M&&pe==X.length&&te.push(""):Ne==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),M&&pe==X.length&&te.push("")):(te.push(Ne),M=!0)}M=te.join("/")}else M=X}return S?_.h=M:S=f.i.toString()!=="",S?Rl(_,Vc(f.i)):S=!!f.m,S&&(_.m=f.m),_};function Zt(f){return new fi(f)}function bn(f,_,S){f.j=S?bs(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function fr(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Rl(f,_,S){_ instanceof pr?(f.i=_,oa(f.i,f.l)):(S||(_=fo(_,dr)),f.i=new pr(_,f.l))}function ft(f,_,S){f.i.set(_,S)}function ho(f){return ft(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function bs(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function fo(f,_,S){return typeof f=="string"?(f=encodeURI(f).replace(_,Jn),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Jn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var sa=/[#\/\?@]/g,Dc=/[#\?:]/g,Ll=/[#\?]/g,dr=/[#\?@]/g,Oc=/#/g;function pr(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function ei(f){f.g||(f.g=new Map,f.h=0,f.i&&ia(f.i,function(_,S){f.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}t=pr.prototype,t.add=function(f,_){ei(this),this.i=null,f=mr(this,f);let S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(_),this.h+=1,this};function Ic(f,_){ei(f),_=mr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Ml(f,_){return ei(f),_=mr(f,_),f.g.has(_)}t.forEach=function(f,_){ei(this),this.g.forEach(function(S,M){S.forEach(function(X){f.call(_,X,M,this)},this)},this)};function Dl(f,_){ei(f);let S=[];if(typeof _=="string")Ml(f,_)&&(S=S.concat(f.g.get(mr(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)S=S.concat(f[_]);return S}t.set=function(f,_){return ei(this),this.i=null,f=mr(this,f),Ml(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=Dl(this,f),f.length>0?String(f[0]):_):_};function ra(f,_,S){Ic(f,_),S.length>0&&(f.i=null,f.g.set(mr(f,_),w(S)),f.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let M=0;M<_.length;M++){var S=_[M];const X=Gn(S);S=Dl(this,S);for(let te=0;te<S.length;te++){let pe=X;S[te]!==""&&(pe+="="+Gn(S[te])),f.push(pe)}}return this.i=f.join("&")};function Vc(f){const _=new pr;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function mr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function oa(f,_){_&&!f.j&&(ei(f),f.i=null,f.g.forEach(function(S,M){const X=M.toLowerCase();M!=X&&(Ic(this,M),ra(this,X,S))},f)),f.j=_}function Xi(f,_){const S=new wt;if(u.Image){const M=new Image;M.onload=v(xi,S,"TestLoadImage: loaded",!0,_,M),M.onerror=v(xi,S,"TestLoadImage: error",!1,_,M),M.onabort=v(xi,S,"TestLoadImage: abort",!1,_,M),M.ontimeout=v(xi,S,"TestLoadImage: timeout",!1,_,M),u.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else _(!1)}function Ol(f,_){const S=new wt,M=new AbortController,X=setTimeout(()=>{M.abort(),xi(S,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:M.signal}).then(te=>{clearTimeout(X),te.ok?xi(S,"TestPingServer: ok",!0,_):xi(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),xi(S,"TestPingServer: error",!1,_)})}function xi(f,_,S,M,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),M(S)}catch{}}function gr(){this.g=new hs}function Es(f){this.i=f.Sb||null,this.h=f.ab||!1}y(Es,gn),Es.prototype.g=function(){return new po(this.i,this.h)};function po(f,_){ct.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(po,ct),t=po.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Qi(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Qi(this)),this.g&&(this.readyState=3,Qi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?vr(this):Qi(this),this.readyState==3&&aa(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,vr(this))},t.Na=function(f){this.g&&(this.response=f,vr(this))},t.ga=function(){this.g&&vr(this)};function vr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Qi(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=_.next();return f.join(`\r
`)};function Qi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ri(f){let _="";return ge(f,function(S,M){_+=M,_+=":",_+=S,_+=`\r
`}),_}function mo(f,_,S){e:{for(M in S){var M=!1;break e}M=!0}M||(S=Ri(S),typeof f=="string"?S!=null&&Gn(S):ft(f,_,S))}function mt(f){ct.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(mt,ct);var _s=/^https?$/i,Il=["POST","PUT"];t=mt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,S,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qn.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(te){go(this,te);return}if(f=S||"",S=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var X in M)S.set(X,M[X]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const te of M.keys())S.set(te,M.get(te));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(S.keys()).find(te=>te.toLowerCase()=="content-type"),X=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Il,_,void 0)>=0)||M||X||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,pe]of S)this.g.setRequestHeader(te,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(te){go(this,te)}};function go(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Vl(f),Bs(f)}function Vl(f){f.A||(f.A=!0,st(f,"complete"),st(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,st(this,"complete"),st(this,"abort"),Bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?vo(this):this.Xa())},t.Xa=function(){vo(this)};function vo(f){if(f.h&&typeof l<"u"){if(f.v&&Zi(f)==4)setTimeout(f.Ca.bind(f),0);else if(st(f,"readystatechange"),Zi(f)==4){f.h=!1;try{const te=f.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var M;if(M=te===0){let pe=String(f.D).match(Mc)[1]||null;!pe&&u.self&&u.self.location&&(pe=u.self.location.protocol.slice(0,-1)),M=!_s.test(pe?pe.toLowerCase():"")}S=M}if(S)st(f,"complete"),st(f,"success");else{f.o=6;try{var X=Zi(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",Vl(f)}}finally{Bs(f)}}}}function Bs(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const S=f.g;f.g=null,_||st(f,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Zi(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Zi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Wn(_)}};function An(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function zs(f){const _={};f=(f.g&&Zi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(P(f[M]))continue;var S=ci(f[M]);const X=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const te=_[X]||[];_[X]=te,te.push(S)}ye(_,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(f,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||_}function yr(f){this.za=0,this.i=[],this.j=new wt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ts("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ts("baseRetryDelayMs",5e3,f),this.Za=Ts("retryDelaySeedMs",1e4,f),this.Ta=Ts("forwardChannelMaxRetries",2,f),this.va=Ts("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(f&&f.concurrentRequestLimit),this.Ba=new gr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=yr.prototype,t.ka=8,t.I=1,t.connect=function(f,_,S,M){Fe(0),this.W=f,this.H=_||{},S&&M!==void 0&&(this.H.OSID=S,this.H.OAID=M),this.F=this.X,this.J=zc(this,null,this.W),Ss(this)};function Pl(f){if(la(f),f.I==3){var _=f.V++,S=Zt(f.J);if(ft(S,"SID",f.M),ft(S,"RID",_),ft(S,"TYPE","terminate"),yo(f,S),_=new Cn(f,f.j,_),_.M=2,_.A=ho(Zt(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&u.Image&&(new Image().src=_.A,S=!0),S||(_.g=Fc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ps(_)}Bc(f)}function br(f){f.g&&(Nl(f),f.g.cancel(),f.g=null)}function la(f){br(f),f.v&&(u.clearTimeout(f.v),f.v=null),ca(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Ss(f){if(!wl(f.h)&&!f.m){f.m=!0;var _=f.Ea;k||A(),H||(k(),H=!0),C.add(_,f),f.D=0}}function ua(f,_){return vs(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Et(m(f.Ea,f,_),jc(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new Cn(this,this.j,f);let te=this.o;if(this.U&&(te?(te=z(te),se(te,this.U)):te=this.U),this.u!==null||this.R||(X.J=te,te=null),this.S)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var M=this.i[S];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(_+=M,_>4096){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=Pc(this,X,_),S=Zt(this.J),ft(S,"RID",f),ft(S,"CVER",22),this.G&&ft(S,"X-HTTP-Session-Id",this.G),yo(this,S),te&&(this.R?_="headers="+Gn(Ri(te))+"&"+_:this.u&&mo(S,this.u,te)),Cl(this.h,X),this.Ra&&ft(S,"TYPE","init"),this.S?(ft(S,"$req",_),ft(S,"SID","null"),X.U=!0,ds(X,S,null)):ds(X,S,_),this.I=2}}else this.I==3&&(f?kl(this,f):this.i.length==0||wl(this.h)||kl(this))};function kl(f,_){var S;_?S=_.l:S=f.V++;const M=Zt(f.J);ft(M,"SID",f.M),ft(M,"RID",S),ft(M,"AID",f.K),yo(f,M),f.u&&f.o&&mo(M,f.u,f.o),S=new Cn(f,f.j,S,f.D+1),f.u===null&&(S.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Pc(f,S,1e3),S.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Cl(f.h,S),ds(S,M,_)}function yo(f,_){f.H&&ge(f.H,function(S,M){ft(_,M,S)}),f.l&&ge({},function(S,M){ft(_,M,S)})}function Pc(f,_,S){S=Math.min(f.i.length,S);const M=f.l?m(f.l.Ka,f.l,f):null;e:{var X=f.i;let Ne=-1;for(;;){const qt=["count="+S];Ne==-1?S>0?(Ne=X[0].g,qt.push("ofs="+Ne)):Ne=0:qt.push("ofs="+Ne);let rt=!0;for(let Mt=0;Mt<S;Mt++){var te=X[Mt].g;const Li=X[Mt].map;if(te-=Ne,te<0)Ne=Math.max(0,X[Mt].g-100),rt=!1;else try{te="req"+te+"_"||"";try{var pe=Li instanceof Map?Li:Object.entries(Li);for(const[Cs,Wi]of pe){let Ji=Wi;h(Wi)&&(Ji=mn(Wi)),qt.push(te+Cs+"="+encodeURIComponent(Ji))}}catch(Cs){throw qt.push(te+"type="+encodeURIComponent("_badmap")),Cs}}catch{M&&M(Li)}}if(rt){pe=qt.join("&");break e}}pe=void 0}return f=f.i.splice(0,S),_.G=f,pe}function kc(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;k||A(),H||(k(),H=!0),C.add(_,f),f.A=0}}function bo(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Et(m(f.Da,f),jc(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Nc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Et(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Fe(10),br(this),Nc(this))};function Nl(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Nc(f){f.g=new Cn(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Zt(f.na);ft(_,"RID","rpc"),ft(_,"SID",f.M),ft(_,"AID",f.K),ft(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&ft(_,"TO",f.ia),ft(_,"TYPE","xmlhttp"),yo(f,_),f.u&&f.o&&mo(_,f.u,f.o),f.O&&(f.g.H=f.O);var S=f.g;f=f.ba,S.M=1,S.A=ho(Zt(_)),S.u=null,S.R=!0,ta(S,f)}t.Va=function(){this.C!=null&&(this.C=null,br(this),bo(this),Fe(19))};function ca(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Uc(f,_){var S=null;if(f.g==_){ca(f),Nl(f),f.g=null;var M=2}else if(ys(f.h,_))S=_.G,Al(f.h,_),M=1;else return;if(f.I!=0){if(_.o)if(M==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var X=f.D;M=wi(),st(M,new ht(M,S)),Ss(f)}else kc(f);else if(X=_.m,X==3||X==0&&_.X>0||!(M==1&&ua(f,_)||M==2&&bo(f)))switch(S&&S.length>0&&(_=f.h,_.i=_.i.concat(S)),X){case 1:ws(f,5);break;case 4:ws(f,10);break;case 3:ws(f,6);break;default:ws(f,2)}}}function jc(f,_){let S=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(S*=2),S*_}function ws(f,_){if(f.j.info("Error code "+_),_==2){var S=m(f.bb,f),M=f.Ua;const X=!M;M=new fi(M||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||bn(M,"https"),ho(M),X?Xi(M.toString(),S):Ol(M.toString(),S)}else Fe(2);f.I=0,f.l&&f.l.pa(_),Bc(f),la(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Fe(2)):(this.j.info("Failed to ping google.com"),Fe(1))};function Bc(f){if(f.I=0,f.ja=[],f.l){const _=xl(f.h);(_.length!=0||f.i.length!=0)&&(x(f.ja,_),x(f.ja,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.oa()}}function zc(f,_,S){var M=S instanceof fi?Zt(S):new fi(S);if(M.g!="")_&&(M.g=_+"."+M.g),fr(M,M.u);else{var X=u.location;M=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;const te=new fi(null);M&&bn(te,M),_&&(te.g=_),X&&fr(te,X),S&&(te.h=S),M=te}return S=f.G,_=f.wa,S&&_&&ft(M,S,_),ft(M,"VER",f.ka),yo(f,M),M}function Fc(f,_,S){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new mt(new Es({ab:S})):new mt(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hc(){}t=Hc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Er(){}Er.prototype.g=function(f,_){return new Yn(f,_)};function Yn(f,_){ct.call(this),this.g=new yr(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!P(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Fs(this)}y(Yn,ct),Yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){Pl(this.g)},Yn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.v&&(S={},S.__data__=mn(f),f=S);_.i.push(new Qt(_.Ya++,f)),_.I==3&&Ss(_)},Yn.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,Yn.Z.N.call(this)};function qc(f){kt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const S in _){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}y(qc,kt);function Gc(){Ht.call(this),this.status=1}y(Gc,Ht);function Fs(f){this.g=f}y(Fs,Hc),Fs.prototype.ra=function(){st(this.g,"a")},Fs.prototype.qa=function(f){st(this.g,new qc(f))},Fs.prototype.pa=function(f){st(this.g,new Gc)},Fs.prototype.oa=function(){st(this.g,"b")},Er.prototype.createWebChannel=Er.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,yx=function(){return new Er},vx=function(){return wi()},gx=bt,Kg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xe.NO_ERROR=0,xe.TIMEOUT=8,xe.HTTP_ERROR=6,gf=xe,Nn.COMPLETE="complete",mx=Nn,fs.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",ct.prototype.listen=ct.prototype.J,Ou=fs,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,px=mt}).apply(typeof sf<"u"?sf:typeof self<"u"?self:typeof window<"u"?window:{});class Bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");let yl="12.8.0";function X6(t){yl=t}const Yo=new ix("@firebase/firestore");function za(){return Yo.logLevel}function _e(t,...e){if(Yo.logLevel<=et.DEBUG){const n=e.map(sy);Yo.debug(`Firestore (${yl}): ${t}`,...n)}}function ur(t,...e){if(Yo.logLevel<=et.ERROR){const n=e.map(sy);Yo.error(`Firestore (${yl}): ${t}`,...n)}}function rl(t,...e){if(Yo.logLevel<=et.WARN){const n=e.map(sy);Yo.warn(`Firestore (${yl}): ${t}`,...n)}}function sy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Oe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,bx(t,s,n)}function bx(t,e,n){let s=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ur(s),new Error(s)}function lt(t,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,t||bx(e,o,s)}function ke(t,e){return t}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Qo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Ex{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Bn.UNAUTHENTICATED)))}shutdown(){}}class Z6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class W6{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let s=this.i;const o=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new rr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await o(this.currentUser)}))},h=d=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new rr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(lt(typeof s.accessToken=="string",31837,{l:s}),new Ex(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new Bn(e)}}class J6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class e5{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new J6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ax(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const s=l=>{l.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function n5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class ry{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=n5(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=e.charAt(o[l]%62))}return s}}function Xe(t,e){return t<e?-1:t>e?1:0}function Yg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const o=t.charAt(s),l=e.charAt(s);if(o!==l)return sg(o)===sg(l)?Xe(o,l):sg(o)?1:-1}return Xe(t.length,e.length)}const i5=55296,s5=57343;function sg(t){const e=t.charCodeAt(0);return e>=i5&&e<=s5}function ol(t,e,n){return t.length===e.length&&t.every(((s,o)=>n(s,e[o])))}const T1="__name__";class Ms{constructor(e,n,s){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Oe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ms.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const l=Ms.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return Xe(e.length,n.length)}static compareSegments(e,n){const s=Ms.isNumericId(e),o=Ms.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ms.extractNumericId(e).compare(Ms.extractNumericId(n)):Yg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eo.fromString(e.substring(4,e.length-2))}}class xt extends Ms{construct(e,n,s){return new xt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new xt(n)}static emptyPath(){return new xt([])}}const r5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends Ms{construct(e,n,s){return new Vn(e,n,s)}static isValidIdentifier(e){return r5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T1}static keyField(){return new Vn([T1])}static fromServerFormat(e){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new Ae(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ae(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(s+=h,o++):(l(),o++)}if(l(),u)throw new Ae(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(n)}static emptyPath(){return new Vn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(xt.fromString(e))}static fromName(e){return new Me(xt.fromString(e).popFirst(5))}static empty(){return new Me(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new xt(e.slice()))}}function _x(t,e,n){if(!n)throw new Ae(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o5(t,e,n,s){if(e===!0&&s===!0)throw new Ae(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function S1(t){if(!Me.isDocumentKey(t))throw new Ae(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w1(t){if(Me.isDocumentKey(t))throw new Ae(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function oy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oy(t);throw new Ae(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Sc(t,e){if(!Tx(t))throw new Ae(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(o&&typeof u!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new Ae(he.INVALID_ARGUMENT,n);return!0}const C1=-62135596800,A1=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*A1);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<C1)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A1}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sc(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:rn("string",at._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new at(0,0))}static max(){return new Ve(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const uc=-1;function a5(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new so(o,Me.empty(),e)}function l5(t){return new so(t.readTime,t.key,uc)}class so{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new so(Ve.min(),Me.empty(),uc)}static max(){return new so(Ve.max(),Me.empty(),uc)}}function u5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}const c5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bl(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==c5)throw t;_e("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,s)=>{n(e)}))}static reject(e){return new ue(((n,s)=>{s(e)}))}static waitFor(e){return new ue(((n,s)=>{let o=0,l=0,u=!1;e.forEach((h=>{++o,h.next((()=>{++l,u&&l===o&&n()}),(d=>s(d)))})),u=!0,l===o&&n()}))}static or(e){let n=ue.resolve(!1);for(const s of e)n=n.next((o=>o?ue.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,l)=>{s.push(n.call(this,o,l))})),this.waitFor(s)}static mapArray(e,n){return new ue(((s,o)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next((v=>{u[m]=v,++h,h===l&&s(u)}),(v=>o(v)))}}))}static doWhile(e,n){return new ue(((s,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):s()};l()}))}}function f5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function El(t){return t.name==="IndexedDbTransactionError"}class pd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pd.ce=-1;const ay=-1;function md(t){return t==null}function Kf(t){return t===0&&1/t==-1/0}function d5(t){return typeof t=="number"&&Number.isInteger(t)&&!Kf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Sx="";function p5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=x1(e)),e=m5(t.get(n),e);return x1(e)}function m5(t,e){let n=e;const s=t.length;for(let o=0;o<s;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case Sx:n+="";break;default:n+=l}}return n}function x1(t){return t+Sx+""}function R1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Pt{constructor(e,n){this.comparator=e,this.root=n||On.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rf(this.root,e,this.comparator,!0)}}class rf{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class On{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s??On.RED,this.left=o??On.EMPTY,this.right=l??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,l){return new On(e??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return On.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,s,o,l){return this}insert(e,n,s){return new On(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L1(this.data.getIterator())}getIteratorFrom(e){return new L1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class L1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class os{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new os([])}unionWith(e){let n=new fn(Vn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new os(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Cx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Cx("Invalid base64 string: "+l):l}})(e);return new Pn(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new Pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const g5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(t){if(lt(!!t,39018),typeof t=="string"){let e=0;const n=g5.exec(t);if(lt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oo(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}const Ax="server_timestamp",xx="__type__",Rx="__previous_value__",Lx="__local_write_time__";function ly(t){return(t?.mapValue?.fields||{})[xx]?.stringValue===Ax}function gd(t){const e=t.mapValue.fields[Rx];return ly(e)?gd(e):e}function cc(t){const e=ro(t.mapValue.fields[Lx].timestampValue);return new at(e.seconds,e.nanos)}class v5{constructor(e,n,s,o,l,u,h,d,m,v,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=v,this.apiKey=y}}const Yf="(default)";class hc{constructor(e,n){this.projectId=e,this.database=n||Yf}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===Yf}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}function y5(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ae(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(t.options.projectId,e)}const Mx="__type__",b5="__max__",of={mapValue:{}},Dx="__vector__",$f="value";function ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ly(t)?4:_5(t)?9007199254740991:E5(t)?10:11:Oe(28295,{value:t})}function Us(t,e){if(t===e)return!0;const n=ao(t);if(n!==ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=ro(o.timestampValue),h=ro(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return oo(o.bytesValue).isEqual(oo(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return Yt(o.geoPointValue.latitude)===Yt(l.geoPointValue.latitude)&&Yt(o.geoPointValue.longitude)===Yt(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Yt(o.integerValue)===Yt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Yt(o.doubleValue),h=Yt(l.doubleValue);return u===h?Kf(u)===Kf(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return ol(t.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},h=l.mapValue.fields||{};if(R1(u)!==R1(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Us(u[d],h[d])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function fc(t,e){return(t.values||[]).find((n=>Us(n,e)))!==void 0}function al(t,e){if(t===e)return 0;const n=ao(t),s=ao(e);if(n!==s)return Xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Yt(l.integerValue||l.doubleValue),d=Yt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return M1(t.timestampValue,e.timestampValue);case 4:return M1(cc(t),cc(e));case 5:return Yg(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=oo(l),d=oo(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const v=Xe(h[m],d[m]);if(v!==0)return v}return Xe(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=Xe(Yt(l.latitude),Yt(u.latitude));return h!==0?h:Xe(Yt(l.longitude),Yt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return D1(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},m=h[$f]?.arrayValue,v=d[$f]?.arrayValue,y=Xe(m?.values?.length||0,v?.values?.length||0);return y!==0?y:D1(m,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===of.mapValue&&u===of.mapValue)return 0;if(l===of.mapValue)return 1;if(u===of.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=u.fields||{},v=Object.keys(m);d.sort(),v.sort();for(let y=0;y<d.length&&y<v.length;++y){const E=Yg(d[y],v[y]);if(E!==0)return E;const w=al(h[d[y]],m[v[y]]);if(w!==0)return w}return Xe(d.length,v.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function M1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=ro(t),s=ro(e),o=Xe(n.seconds,s.seconds);return o!==0?o:Xe(n.nanos,s.nanos)}function D1(t,e){const n=t.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const l=al(n[o],s[o]);if(l)return l}return Xe(n.length,s.length)}function ll(t){return $g(t)}function $g(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ro(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return oo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=$g(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const u of s)l?l=!1:o+=",",o+=`${u}:${$g(n.fields[u])}`;return o+"}"})(t.mapValue):Oe(61005,{value:t})}function vf(t){switch(ao(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gd(t);return e?16+vf(e):16;case 5:return 2*t.stringValue.length;case 6:return oo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+vf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let o=0;return Zo(s.fields,((l,u)=>{o+=l.length+vf(u)})),o})(t.mapValue);default:throw Oe(13486,{value:t})}}function Xg(t){return!!t&&"integerValue"in t}function uy(t){return!!t&&"arrayValue"in t}function O1(t){return!!t&&"nullValue"in t}function I1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yf(t){return!!t&&"mapValue"in t}function E5(t){return(t?.mapValue?.fields||{})[Mx]?.stringValue===Dx}function Gu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zo(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Gu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gu(t.arrayValue.values[n]);return e}return{...t}}function _5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===b5}class zi{constructor(e){this.value=e}static empty(){return new zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!yf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(n)}setAll(e){let n=Vn.emptyPath(),s={},o=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,s,o),s={},o=[],n=h.popLast()}u?s[h.lastSegment()]=Gu(u):o.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(e){const n=this.field(e.popLast());yf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];yf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Zo(n,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new zi(Gu(this.value))}}function Ox(t){const e=[];return Zo(t.fields,((n,s)=>{const o=new Vn([n]);if(yf(s)){const l=Ox(s.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new os(e)}class zn{constructor(e,n,s,o,l,u,h){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new zn(e,0,Ve.min(),Ve.min(),Ve.min(),zi.empty(),0)}static newFoundDocument(e,n,s,o){return new zn(e,1,n,Ve.min(),s,o,0)}static newNoDocument(e,n){return new zn(e,2,n,Ve.min(),Ve.min(),zi.empty(),0)}static newUnknownDocument(e,n){return new zn(e,3,n,Ve.min(),Ve.min(),zi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xf{constructor(e,n){this.position=e,this.inclusive=n}}function V1(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const l=e[o],u=t.position[o];if(l.field.isKeyField()?s=Me.comparator(Me.fromName(u.referenceValue),n.key):s=al(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function P1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Us(t.position[n],e.position[n]))return!1;return!0}class Qf{constructor(e,n="asc"){this.field=e,this.dir=n}}function T5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Ix{}class cn extends Ix{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new w5(e,n,s):n==="array-contains"?new x5(e,s):n==="in"?new R5(e,s):n==="not-in"?new L5(e,s):n==="array-contains-any"?new M5(e,s):new cn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new C5(e,s):new A5(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(al(n,this.value)):n!==null&&ao(this.value)===ao(n)&&this.matchesComparison(al(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class js extends Ix{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new js(e,n)}matches(e){return Vx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Vx(t){return t.op==="and"}function Px(t){return S5(t)&&Vx(t)}function S5(t){for(const e of t.filters)if(e instanceof js)return!1;return!0}function Qg(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+ll(t.value);if(Px(t))return t.filters.map((e=>Qg(e))).join(",");{const e=t.filters.map((n=>Qg(n))).join(",");return`${t.op}(${e})`}}function kx(t,e){return t instanceof cn?(function(s,o){return o instanceof cn&&s.op===o.op&&s.field.isEqual(o.field)&&Us(s.value,o.value)})(t,e):t instanceof js?(function(s,o){return o instanceof js&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,u,h)=>l&&kx(u,o.filters[h])),!0):!1})(t,e):void Oe(19439)}function Nx(t){return t instanceof cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ll(n.value)}`})(t):t instanceof js?(function(n){return n.op.toString()+" {"+n.getFilters().map(Nx).join(" ,")+"}"})(t):"Filter"}class w5 extends cn{constructor(e,n,s){super(e,n,s),this.key=Me.fromName(s.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class C5 extends cn{constructor(e,n){super(e,"in",n),this.keys=Ux("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class A5 extends cn{constructor(e,n){super(e,"not-in",n),this.keys=Ux("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ux(t,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class x5 extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uy(n)&&fc(n.arrayValue,this.value)}}class R5 extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}}class L5 extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fc(this.value.arrayValue,n)}}class M5 extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>fc(this.value.arrayValue,s)))}}class D5{constructor(e,n=null,s=[],o=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function k1(t,e=null,n=[],s=[],o=null,l=null,u=null){return new D5(t,e,n,s,o,l,u)}function cy(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Qg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ll(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ll(s))).join(",")),e.Te=n}return e.Te}function hy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!T5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!P1(t.startAt,e.startAt)&&P1(t.endAt,e.endAt)}function Zg(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class vd{constructor(e,n=null,s=[],o=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function O5(t,e,n,s,o,l,u,h){return new vd(t,e,n,s,o,l,u,h)}function fy(t){return new vd(t)}function N1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function I5(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function V5(t){return t.collectionGroup!==null}function Ku(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new fn(Vn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Qf(l,s))})),n.has(Vn.keyField().canonicalString())||e.Ie.push(new Qf(Vn.keyField(),s))}return e.Ie}function Is(t){const e=ke(t);return e.Ee||(e.Ee=P5(e,Ku(t))),e.Ee}function P5(t,e){if(t.limitType==="F")return k1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Qf(o.field,l)}));const n=t.endAt?new Xf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Xf(t.startAt.position,t.startAt.inclusive):null;return k1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Wg(t,e,n){return new vd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yd(t,e){return hy(Is(t),Is(e))&&t.limitType===e.limitType}function jx(t){return`${cy(Is(t))}|lt:${t.limitType}`}function Fa(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Nx(o))).join(", ")}]`),md(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ll(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ll(o))).join(",")),`Target(${s})`})(Is(t))}; limitType=${t.limitType})`}function bd(t,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Me.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,o){for(const l of Ku(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(s,o){return!(s.startAt&&!(function(u,h,d){const m=V1(u,h,d);return u.inclusive?m<=0:m<0})(s.startAt,Ku(s),o)||s.endAt&&!(function(u,h,d){const m=V1(u,h,d);return u.inclusive?m>=0:m>0})(s.endAt,Ku(s),o))})(t,e)}function k5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Bx(t){return(e,n)=>{let s=!1;for(const o of Ku(t)){const l=N5(o,e,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function N5(t,e,n){const s=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(l,u,h){const d=u.data.field(l),m=h.data.field(l);return d!==null&&m!==null?al(d,m):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Oe(19790,{direction:t.dir})}}class Wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,((n,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return wx(this.inner)}size(){return this.innerSize}}const U5=new Pt(Me.comparator);function hr(){return U5}const zx=new Pt(Me.comparator);function Iu(...t){let e=zx;for(const n of t)e=e.insert(n.key,n);return e}function Fx(t){let e=zx;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ho(){return Yu()}function Hx(){return Yu()}function Yu(){return new Wo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const j5=new Pt(Me.comparator),B5=new fn(Me.comparator);function Qe(...t){let e=B5;for(const n of t)e=e.add(n);return e}const z5=new fn(Xe);function F5(){return z5}function dy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kf(e)?"-0":e}}function qx(t){return{integerValue:""+t}}function H5(t,e){return d5(e)?qx(e):dy(t,e)}class Ed{constructor(){this._=void 0}}function q5(t,e,n){return t instanceof Zf?(function(o,l){const u={fields:{[xx]:{stringValue:Ax},[Lx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&ly(l)&&(l=gd(l)),l&&(u.fields[Rx]=l),{mapValue:u}})(n,e):t instanceof dc?Kx(t,e):t instanceof pc?Yx(t,e):(function(o,l){const u=Gx(o,l),h=U1(u)+U1(o.Ae);return Xg(u)&&Xg(o.Ae)?qx(h):dy(o.serializer,h)})(t,e)}function G5(t,e,n){return t instanceof dc?Kx(t,e):t instanceof pc?Yx(t,e):n}function Gx(t,e){return t instanceof Wf?(function(s){return Xg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Zf extends Ed{}class dc extends Ed{constructor(e){super(),this.elements=e}}function Kx(t,e){const n=$x(e);for(const s of t.elements)n.some((o=>Us(o,s)))||n.push(s);return{arrayValue:{values:n}}}class pc extends Ed{constructor(e){super(),this.elements=e}}function Yx(t,e){let n=$x(e);for(const s of t.elements)n=n.filter((o=>!Us(o,s)));return{arrayValue:{values:n}}}class Wf extends Ed{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function U1(t){return Yt(t.integerValue||t.doubleValue)}function $x(t){return uy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function K5(t,e){return t.field.isEqual(e.field)&&(function(s,o){return s instanceof dc&&o instanceof dc||s instanceof pc&&o instanceof pc?ol(s.elements,o.elements,Us):s instanceof Wf&&o instanceof Wf?Us(s.Ae,o.Ae):s instanceof Zf&&o instanceof Zf})(t.transform,e.transform)}class Y5{constructor(e,n){this.version=e,this.transformResults=n}}class as{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new as}static exists(e){return new as(void 0,e)}static updateTime(e){return new as(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _d{}function Xx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new py(t.key,as.none()):new wc(t.key,t.data,as.none());{const n=t.data,s=zi.empty();let o=new fn(Vn.comparator);for(let l of e.fields)if(!o.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),o=o.add(l)}return new Jo(t.key,s,new os(o.toArray()),as.none())}}function $5(t,e,n){t instanceof wc?(function(o,l,u){const h=o.value.clone(),d=B1(o.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Jo?(function(o,l,u){if(!bf(o.precondition,l))return void l.convertToUnknownDocument(u.version);const h=B1(o.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(Qx(o)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function $u(t,e,n,s){return t instanceof wc?(function(l,u,h,d){if(!bf(l.precondition,u))return h;const m=l.value.clone(),v=z1(l.fieldTransforms,d,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,s):t instanceof Jo?(function(l,u,h,d){if(!bf(l.precondition,u))return h;const m=z1(l.fieldTransforms,d,u),v=u.data;return v.setAll(Qx(l)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((y=>y.field)))})(t,e,n,s):(function(l,u,h){return bf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function X5(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),l=Gx(s.transform,o||null);l!=null&&(n===null&&(n=zi.empty()),n.set(s.field,l))}return n||null}function j1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ol(s,o,((l,u)=>K5(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wc extends _d{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Jo extends _d{constructor(e,n,s,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Qx(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function B1(t,e,n){const s=new Map;lt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let o=0;o<n.length;o++){const l=t[o],u=l.transform,h=e.data.field(l.field);s.set(l.field,G5(u,h,n[o]))}return s}function z1(t,e,n){const s=new Map;for(const o of t){const l=o.transform,u=n.data.field(o.field);s.set(o.field,q5(l,u,e))}return s}class py extends _d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q5 extends _d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Z5{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&$5(l,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$u(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$u(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Hx();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(o.key)?null:h;const d=Xx(u,h);d!==null&&s.set(o.key,d),u.isValidDocument()||u.convertToNoDocument(Ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,((n,s)=>j1(n,s)))&&ol(this.baseMutations,e.baseMutations,((n,s)=>j1(n,s)))}}class my{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){lt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return j5})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,s[u].version);return new my(e,n,s,o)}}class W5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class J5{constructor(e,n){this.count=e,this.unchangedNames=n}}var nn,Je;function eU(t){switch(t){case he.OK:return Oe(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function Zx(t){if(t===void 0)return ur("GRPC error has no .code"),he.UNKNOWN;switch(t){case nn.OK:return he.OK;case nn.CANCELLED:return he.CANCELLED;case nn.UNKNOWN:return he.UNKNOWN;case nn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case nn.INTERNAL:return he.INTERNAL;case nn.UNAVAILABLE:return he.UNAVAILABLE;case nn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case nn.NOT_FOUND:return he.NOT_FOUND;case nn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case nn.ABORTED:return he.ABORTED;case nn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case nn.DATA_LOSS:return he.DATA_LOSS;default:return Oe(39323,{code:t})}}(Je=nn||(nn={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";function tU(){return new TextEncoder}const nU=new eo([4294967295,4294967295],0);function F1(t){const e=tU().encode(t),n=new dx;return n.update(e),new Uint8Array(n.digest())}function H1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new eo([n,s],0),new eo([o,l],0)]}class gy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Vu(`Invalid padding: ${n}`);if(s<0)throw new Vu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=eo.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(eo.fromNumber(s)));return o.compare(nU)===1&&(o=new eo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=F1(e),[s,o]=H1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,o,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new gy(l,o,n);return s.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=F1(e),[s,o]=H1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,o,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Td{constructor(e,n,s,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Td(Ve.min(),o,new Pt(Xe),hr(),Qe())}}class Cc{constructor(e,n,s,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Cc(s,n,Qe(),Qe(),Qe())}}class Ef{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Wx{constructor(e,n){this.targetId=e,this.Ce=n}}class Jx{constructor(e,n,s=Pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class q1{constructor(){this.ve=0,this.Fe=G1(),this.Me=Pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),s=Qe();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Oe(38017,{changeType:l})}})),new Cc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=G1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class iU{constructor(e){this.Ge=e,this.ze=new Map,this.je=hr(),this.He=af(),this.Je=af(),this.Ze=new Pt(Xe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(Zg(l))if(s===0){const u=new Me(l.path);this.et(n,u,zn.newNoDocument(u,Ve.min()))}else lt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=n;let u,h;try{u=oo(s).toUint8Array()}catch(d){if(d instanceof Cx)return rl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new gy(u,o,l)}catch(d){return rl(d instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Zg(h.target)){const d=new Me(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,zn.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=Qe();this.Je.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new Td(e,n,this.Ze,this.je,s);return this.je=hr(),this.He=af(),this.Je=af(),this.Ze=new Pt(Xe),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new q1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new fn(Xe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new fn(Xe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new q1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function af(){return new Pt(Me.comparator)}function G1(){return new Pt(Me.comparator)}const sU={asc:"ASCENDING",desc:"DESCENDING"},rU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oU={and:"AND",or:"OR"};class aU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jg(t,e){return t.useProto3Json||md(e)?e:{value:e}}function Jf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lU(t,e){return Jf(t,e.toTimestamp())}function Vs(t){return lt(!!t,49232),Ve.fromTimestamp((function(n){const s=ro(n);return new at(s.seconds,s.nanos)})(t))}function vy(t,e){return ev(t,e).canonicalString()}function ev(t,e){const n=(function(o){return new xt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function tR(t){const e=xt.fromString(t);return lt(oR(e),10190,{key:e.toString()}),e}function tv(t,e){return vy(t.databaseId,e.path)}function rg(t,e){const n=tR(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(iR(n))}function nR(t,e){return vy(t.databaseId,e)}function uU(t){const e=tR(t);return e.length===4?xt.emptyPath():iR(e)}function nv(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iR(t){return lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function K1(t,e,n){return{name:tv(t,e),fields:n.value.mapValue.fields}}function cU(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Oe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(m,v){return m.useProto3Json?(lt(v===void 0||typeof v=="string",58123),Pn.fromBase64String(v||"")):(lt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Pn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const v=m.code===void 0?he.UNKNOWN:Zx(m.code);return new Ae(v,m.message||"")})(u);n=new Jx(s,o,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=rg(t,s.document.name),l=Vs(s.document.updateTime),u=s.document.createTime?Vs(s.document.createTime):Ve.min(),h=new zi({mapValue:{fields:s.document.fields}}),d=zn.newFoundDocument(o,l,u,h),m=s.targetIds||[],v=s.removedTargetIds||[];n=new Ef(m,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=rg(t,s.document),l=s.readTime?Vs(s.readTime):Ve.min(),u=zn.newNoDocument(o,l),h=s.removedTargetIds||[];n=new Ef([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=rg(t,s.document),l=s.removedTargetIds||[];n=new Ef([],l,o,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,u=new J5(o,l),h=s.targetId;n=new Wx(h,u)}}return n}function hU(t,e){let n;if(e instanceof wc)n={update:K1(t,e.key,e.value)};else if(e instanceof py)n={delete:tv(t,e.key)};else if(e instanceof Jo)n={update:K1(t,e.key,e.data),updateMask:EU(e.fieldMask)};else{if(!(e instanceof Q5))return Oe(16599,{dt:e.type});n={verify:tv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const h=u.transform;if(h instanceof Zf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof dc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof pc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Wf)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Oe(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:lU(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Oe(27497)})(t,e.precondition)),n}function fU(t,e){return t&&t.length>0?(lt(e!==void 0,14353),t.map((n=>(function(o,l){let u=o.updateTime?Vs(o.updateTime):Vs(l);return u.isEqual(Ve.min())&&(u=Vs(l)),new Y5(u,o.transformResults||[])})(n,e)))):[]}function dU(t,e){return{documents:[nR(t,e.path)]}}function pU(t,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=nR(t,o);const l=(function(m){if(m.length!==0)return rR(js.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((v=>(function(E){return{field:Ha(E.field),direction:vU(E.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Jg(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function mU(t){let e=uU(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){lt(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(y){const E=sR(y);return E instanceof js&&Px(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(y){return y.map((E=>(function(x){return new Qf(qa(x.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(y){let E;return E=typeof y=="object"?y.value:y,md(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(y){const E=!!y.before,w=y.values||[];return new Xf(w,E)})(n.startAt));let m=null;return n.endAt&&(m=(function(y){const E=!y.before,w=y.values||[];return new Xf(w,E)})(n.endAt)),O5(e,o,u,l,h,"F",d,m)}function gU(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=qa(n.unaryFilter.field);return cn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(n.unaryFilter.field);return cn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=qa(n.unaryFilter.field);return cn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qa(n.unaryFilter.field);return cn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return cn.create(qa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return js.create(n.compositeFilter.filters.map((s=>sR(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function vU(t){return sU[t]}function yU(t){return rU[t]}function bU(t){return oU[t]}function Ha(t){return{fieldPath:t.canonicalString()}}function qa(t){return Vn.fromServerFormat(t.fieldPath)}function rR(t){return t instanceof cn?(function(n){if(n.op==="=="){if(I1(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(O1(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I1(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(O1(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:yU(n.op),value:n.value}}})(t):t instanceof js?(function(n){const s=n.getFilters().map((o=>rR(o)));return s.length===1?s[0]:{compositeFilter:{op:bU(n.op),filters:s}}})(t):Oe(54877,{filter:t})}function EU(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function oR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function aR(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Qr{constructor(e,n,s,o,l=Ve.min(),u=Ve.min(),h=Pn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _U{constructor(e){this.yt=e}}function TU(t){const e=mU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wg(e,e.limit,"L"):e}class SU{constructor(){this.Sn=new wU}addToCollectionParentIndex(e,n){return this.Sn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(so.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(so.min())}updateCollectionGroup(e,n,s){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class wU{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new fn(xt.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new fn(xt.comparator)).toArray()}}const Y1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lR=41943040;class oi{static withCacheSize(e){return new oi(e,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}oi.DEFAULT_COLLECTION_PERCENTILE=10,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oi.DEFAULT=new oi(lR,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oi.DISABLED=new oi(-1,0,0);class ul{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ul(0)}static ar(){return new ul(-1)}}const $1="LruGarbageCollector",CU=1048576;function X1([t,e],[n,s]){const o=Xe(t,n);return o===0?Xe(e,s):o}class AU{constructor(e){this.Pr=e,this.buffer=new fn(X1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();X1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xU{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){_e($1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){El(n)?_e($1,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.Ar(3e5)}))}}class RU{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(pd.ce);const s=new AU(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(Y1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,l,u,h,d,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),o=this.params.maximumSequenceNumbersToCollect):o=y,u=Date.now(),this.nthSequenceNumber(e,o)))).next((y=>(s=y,h=Date.now(),this.removeTargets(e,s,n)))).next((y=>(l=y,d=Date.now(),this.removeOrphanedDocuments(e,s)))).next((y=>(m=Date.now(),za()<=et.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${y} documents in `+(m-d)+`ms
Total Duration: ${m-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:y}))))}}function LU(t,e){return new RU(t,e)}class MU{constructor(){this.changes=new Wo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ue.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class DU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class OU{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&$u(s.mutation,o,os.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Qe()){const o=Ho();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((l=>{let u=Iu();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Ho();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Qe())))}populateOverlays(e,n,s){const o=[];return s.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,s,o){let l=hr();const u=Yu(),h=(function(){return Yu()})();return n.forEach(((d,m)=>{const v=s.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Jo)?l=l.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),$u(v.mutation,m,v.mutation.getFieldMask(),at.now())):u.set(m.key,os.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,v)=>u.set(m,v))),n.forEach(((m,v)=>h.set(m,new DU(v,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=Yu();let o=new Pt(((u,h)=>u-h)),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let v=s.get(d)||os.empty();v=h.applyToLocalView(m,v),s.set(d,v);const y=(o.get(h.batchId)||Qe()).add(d);o=o.insert(h.batchId,y)}))})).next((()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,v=d.value,y=Hx();v.forEach((E=>{if(!l.has(E)){const w=Xx(n.get(E),s.get(E));w!==null&&y.set(E,w),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,y))}return ue.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return I5(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):V5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-l.size):ue.resolve(Ho());let h=uc,d=l;return u.next((m=>ue.forEach(m,((v,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),l.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{d=d.insert(v,E)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,Qe()))).next((v=>({batchId:h,changes:Fx(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((s=>{let o=Iu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const l=n.collectionGroup;let u=Iu();return this.indexManager.getCollectionParents(e,l).next((h=>ue.forEach(h,(d=>{const m=(function(y,E){return new vd(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,o).next((v=>{v.forEach(((y,E)=>{u=u.insert(y,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,o)))).next((u=>{l.forEach(((d,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,zn.newInvalidDocument(v)))}));let h=Iu();return u.forEach(((d,m)=>{const v=l.get(d);v!==void 0&&$u(v.mutation,m,os.empty(),at.now()),bd(n,m)&&(h=h.insert(d,m))})),h}))}}class IU{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ue.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vs(o.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:TU(o.bundledQuery),readTime:Vs(o.readTime)}})(n)),ue.resolve()}}class VU{constructor(){this.overlays=new Pt(Me.comparator),this.Lr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ho();return ue.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,l)=>{this.bt(e,n,l)})),ue.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),ue.resolve()}getOverlaysForCollection(e,n,s){const o=Ho(),l=n.length+1,u=new Me(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>s&&o.set(d.getKey(),d)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let l=new Pt(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let v=l.get(m.largestBatchId);v===null&&(v=Ho(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=Ho(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,v)=>h.set(m,v))),!(h.size()>=o)););return ue.resolve(h)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new W5(n,s));let l=this.Lr.get(n);l===void 0&&(l=Qe(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class PU{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}class yy{constructor(){this.kr=new fn(_n.Kr),this.qr=new fn(_n.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new _n(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new _n(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Me(new xt([])),s=new _n(n,e),o=new _n(n,e+1),l=[];return this.qr.forEachInRange([s,o],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Me(new xt([])),s=new _n(n,e),o=new _n(n,e+1);let l=Qe();return this.qr.forEachInRange([s,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new _n(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class _n{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Me.comparator(e.key,n.key)||Xe(e.Hr,n.Hr)}static Ur(e,n){return Xe(e.Hr,n.Hr)||Me.comparator(e.key,n.key)}}class kU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new fn(_n.Kr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Z5(l,n,s,o);this.mutationQueue.push(u);for(const h of o)this.Jr=this.Jr.add(new _n(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,n){return ue.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),l=o<0?0:o;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?ay:this.Yn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new _n(n,0),o=new _n(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,o],(u=>{const h=this.Zr(u.Hr);l.push(h)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new fn(Xe);return n.forEach((o=>{const l=new _n(o,0),u=new _n(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(h=>{s=s.add(h.Hr)}))})),ue.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let l=s;Me.isDocumentKey(l)||(l=l.child(""));const u=new _n(new Me(l),0);let h=new fn(Xe);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!s.isPrefixOf(m)&&(m.length===o&&(h=h.add(d.Hr)),!0)}),u),ue.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){lt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ue.forEach(n.mutations,(o=>{const l=new _n(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new _n(n,0),o=this.Jr.firstAfterOrEqual(s);return ue.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class NU{constructor(e){this.ti=e,this.docs=(function(){return new Pt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ue.resolve(s?s.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let s=hr();return n.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():zn.newInvalidDocument(o))})),ue.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let l=hr();const u=n.path,h=new Me(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||u5(l5(v),s)<=0||(o.has(v.key)||bd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,n,s,o){Oe(9500)}ni(e,n){return ue.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new UU(this)}getSize(e){return ue.resolve(this.size)}}class UU extends MU{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ue.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class jU{constructor(e){this.persistence=e,this.ri=new Wo((n=>cy(n)),hy),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ii=0,this.si=new yy,this.targetCount=0,this.oi=ul._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ue.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ul(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.lr(n),ue.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,s){let o=0;const l=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ue.waitFor(l).next((()=>o))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ue.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ue.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ue.resolve(s)}containsKey(e,n){return ue.resolve(this.si.containsKey(n))}}class uR{constructor(e,n){this._i={},this.overlays={},this.ai=new pd(0),this.ui=!1,this.ui=!0,this.ci=new PU,this.referenceDelegate=e(this),this.li=new jU(this),this.indexManager=new SU,this.remoteDocumentCache=(function(o){return new NU(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new _U(n),this.Pi=new IU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new kU(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){_e("MemoryPersistence","Starting transaction:",e);const o=new BU(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((l=>this.referenceDelegate.Ii(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ei(e,n){return ue.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class BU extends h5{constructor(e){super(),this.currentSequenceNumber=e}}class by{constructor(e){this.persistence=e,this.Ri=new yy,this.Ai=null}static Vi(e){return new by(e)}get di(){if(this.Ai)return this.Ai;throw Oe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ue.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,(s=>{const o=Me.fromPath(s);return this.mi(e,o).next((l=>{l||n.removeEntry(o,Ve.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ed{constructor(e,n){this.persistence=e,this.fi=new Wo((s=>p5(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=LU(this,n)}static Vi(e,n){return new ed(e,n)}Ti(){}Ii(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ue.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((l=>l?ue.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,n).next((h=>{h||(s++,l.removeEntry(u,Ve.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ue.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vf(e.data.value)),n}wr(e,n,s){return ue.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ue.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ey{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Qe(),o=Qe();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Ey(e,n.fromCache,s,o)}}class zU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class FU{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return I3()?8:f5(D3())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,o,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new zU;return this.ys(e,n,u).next((h=>{if(l.result=h,this.As)return this.ws(e,n,u,h.size)}))})).next((()=>l.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(za()<=et.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(za()<=et.DEBUG&&_e("QueryEngine","Query:",Fa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(za()<=et.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Is(n))):ue.resolve())}gs(e,n){if(N1(n))return ue.resolve(null);let s=Is(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Wg(n,null,"F"),s=Is(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Qe(...l);return this.fs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,s).next((d=>{const m=this.bs(n,h);return this.Ss(n,m,u,d.readTime)?this.gs(e,Wg(n,null,"F")):this.Ds(e,m,n,d)}))))})))))}ps(e,n,s,o){return N1(n)||o.isEqual(Ve.min())?ue.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,o)?ue.resolve(null):(za()<=et.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(n)),this.Ds(e,u,n,a5(o,uc)).next((h=>h)))}))}bs(e,n){let s=new fn(Bx(e));return n.forEach(((o,l)=>{bd(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ys(e,n,s){return za()<=et.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.fs.getDocumentsMatchingQuery(e,n,so.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const _y="LocalStore",HU=3e8;class qU{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new Pt(Xe),this.Fs=new Wo((l=>cy(l)),hy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OU(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function GU(t,e,n,s){return new qU(t,e,n,s)}async function cR(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],h=[];let d=Qe();for(const m of o){u.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}for(const m of l){h.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(s,d).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function KU(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,v){const y=m.batch,E=y.keys();let w=ue.resolve();return E.forEach((x=>{w=w.next((()=>v.getEntry(d,x))).next((D=>{const O=m.docVersions.get(x);lt(O!==null,48541),D.version.compareTo(O)<0&&(y.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),v.addEntry(D)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(d,y)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let d=Qe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function hR(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function YU(t,e){const n=ke(t),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const h=[];e.targetChanges.forEach(((v,y)=>{const E=o.get(y);if(!E)return;h.push(n.li.removeMatchingKeys(l,v.removedDocuments,y).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,y))));let w=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(y)!==null?w=w.withResumeToken(Pn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,s)),o=o.insert(y,w),(function(D,O,U){return D.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=HU?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(E,w,v)&&h.push(n.li.updateTargetData(l,w))}));let d=hr(),m=Qe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),h.push($U(l,u,e.documentUpdates).next((v=>{d=v.Bs,m=v.Ls}))),!s.isEqual(Ve.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((y=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(v)}return ue.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(n.vs=o,l)))}function $U(t,e,n){let s=Qe(),o=Qe();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=hr();return n.forEach(((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),d.isNoDocument()&&d.version.isEqual(Ve.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):_e(_y,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:u,Ls:o}}))}function XU(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ay),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function QU(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((l=>l?(o=l,ue.resolve(o)):n.li.allocateTargetId(s).next((u=>(o=new Qr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function iv(t,e,n){const s=ke(t),o=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!El(u))throw u;_e(_y,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function Q1(t,e,n){const s=ke(t);let o=Ve.min(),l=Qe();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,m,v){const y=ke(d),E=y.Fs.get(v);return E!==void 0?ue.resolve(y.vs.get(E)):y.li.getTargetData(m,v)})(s,u,Is(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?o:Ve.min(),n?l:Qe()))).next((h=>(ZU(s,k5(e),h),{documents:h,ks:l})))))}function ZU(t,e,n){let s=t.Ms.get(e)||Ve.min();n.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class Z1{constructor(){this.activeTargetIds=F5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WU{constructor(){this.vo=new Z1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Z1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JU{Mo(e){}shutdown(){}}const W1="ConnectivityMonitor";class J1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){_e(W1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){_e(W1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let lf=null;function sv(){return lf===null?lf=(function(){return 268435456+Math.round(2147483648*Math.random())})():lf++,"0x"+lf.toString(16)}const og="RestConnection",e9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class t9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Yf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,l){const u=sv(),h=this.Qo(e,n.toUriEncodedString());_e(og,`Sending RPC '${e}' ${u}:`,h,s);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,o,l);const{host:m}=new URL(h),v=Tc(m);return this.zo(e,h,d,s,v).then((y=>(_e(og,`Received RPC '${e}' ${u}: `,y),y)),(y=>{throw rl(og,`RPC '${e}' ${u} failed with error: `,y,"url: ",h,"request:",s),y}))}jo(e,n,s,o,l,u){return this.Wo(e,n,s,o,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}Qo(e,n){const s=e9[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class n9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const jn="WebChannelConnection",Au=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class el extends t9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!el.c_){const e=vx();Au(e,gx.STAT_EVENT,(n=>{n.stat===Kg.PROXY?_e(jn,"STAT_EVENT: detected buffering proxy"):n.stat===Kg.NOPROXY&&_e(jn,"STAT_EVENT: detected no buffering proxy")})),el.c_=!0}}zo(e,n,s,o,l){const u=sv();return new Promise(((h,d)=>{const m=new px;m.setWithCredentials(!0),m.listenOnce(mx.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case gf.NO_ERROR:const y=m.getResponseJson();_e(jn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),h(y);break;case gf.TIMEOUT:_e(jn,`RPC '${e}' ${u} timed out`),d(new Ae(he.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const E=m.getStatus();if(_e(jn,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w?.error;if(x&&x.status&&x.message){const D=(function(U){const j=U.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(j)>=0?j:he.UNKNOWN})(x.status);d(new Ae(D,x.message))}else d(new Ae(he.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Ae(he.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{_e(jn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);_e(jn,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=sv(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,s),h.encodeInitMessageHeaders=!0;const m=l.join("");_e(jn,`Creating RPC '${e}' stream ${o}: ${m}`,h);const v=u.createWebChannel(m,h);this.I_(v);let y=!1,E=!1;const w=new n9({Ho:x=>{E?_e(jn,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(y||(_e(jn,`Opening RPC '${e}' stream ${o} transport.`),v.open(),y=!0),_e(jn,`RPC '${e}' stream ${o} sending:`,x),v.send(x))},Jo:()=>v.close()});return Au(v,Ou.EventType.OPEN,(()=>{E||(_e(jn,`RPC '${e}' stream ${o} transport opened.`),w.i_())})),Au(v,Ou.EventType.CLOSE,(()=>{E||(E=!0,_e(jn,`RPC '${e}' stream ${o} transport closed`),w.o_(),this.E_(v))})),Au(v,Ou.EventType.ERROR,(x=>{E||(E=!0,rl(jn,`RPC '${e}' stream ${o} transport errored. Name:`,x.name,"Message:",x.message),w.o_(new Ae(he.UNAVAILABLE,"The operation could not be completed")))})),Au(v,Ou.EventType.MESSAGE,(x=>{if(!E){const D=x.data[0];lt(!!D,16349);const O=D,U=O?.error||O[0]?.error;if(U){_e(jn,`RPC '${e}' stream ${o} received error:`,U);const j=U.status;let B=(function(H){const C=nn[H];if(C!==void 0)return Zx(C)})(j),N=U.message;B===void 0&&(B=he.INTERNAL,N="Unknown error status: "+j+" with message "+U.message),E=!0,w.o_(new Ae(B,N)),v.close()}else _e(jn,`RPC '${e}' stream ${o} received:`,D),w.__(D)}})),el.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return yx()}}function i9(t){return new el(t)}function ag(){return typeof document<"u"?document:null}function Sd(t){return new aU(t,!0)}el.c_=!1;class fR{constructor(e,n,s=1e3,o=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const ew="PersistentStream";class dR{constructor(e,n,s,o,l,u,h,d){this.Ci=e,this.b_=s,this.S_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ae(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(ew,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(_e(ew,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class s9 extends dR{constructor(e,n,s,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=cU(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ve.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ve.min():u.readTime?Vs(u.readTime):Ve.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=nv(this.serializer),n.addTarget=(function(l,u){let h;const d=u.target;if(h=Zg(d)?{documents:dU(l,d)}:{query:pU(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=eR(l,u.resumeToken);const m=Jg(l,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ve.min())>0){h.readTime=Jf(l,u.snapshotVersion.toTimestamp());const m=Jg(l,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const s=gU(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=nv(this.serializer),n.removeTarget=e,this.K_(n)}}class r9 extends dR{constructor(e,n,s,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=fU(e.writeResults,e.commitTime),s=Vs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=nv(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>hU(this.serializer,s)))};this.K_(n)}}class o9{}class a9 extends o9{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,ev(n,s),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(he.UNKNOWN,l.toString())}))}jo(e,n,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(e,ev(n,s),o,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(he.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function l9(t,e,n,s){return new a9(t,e,n,s)}class u9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ur(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $o="RemoteStore";class c9{constructor(e,n,s,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{ea(this)&&(_e($o,"Restarting streams for network reachability change."),await(async function(d){const m=ke(d);m.Ea.add(4),await Ac(m),m.Va.set("Unknown"),m.Ea.delete(4),await wd(m)})(this))}))})),this.Va=new u9(s,o)}}async function wd(t){if(ea(t))for(const e of t.Ra)await e(!0)}async function Ac(t){for(const e of t.Ra)await e(!1)}function pR(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cy(n)?wy(n):_l(n).O_()&&Sy(n,e))}function Ty(t,e){const n=ke(t),s=_l(n);n.Ia.delete(e),s.O_()&&mR(n,e),n.Ia.size===0&&(s.O_()?s.L_():ea(n)&&n.Va.set("Unknown"))}function Sy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_l(t).Z_(e)}function mR(t,e){t.da.$e(e),_l(t).X_(e)}function wy(t){t.da=new iU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_l(t).start(),t.Va.ua()}function Cy(t){return ea(t)&&!_l(t).x_()&&t.Ia.size>0}function ea(t){return ke(t).Ea.size===0}function gR(t){t.da=void 0}async function h9(t){t.Va.set("Online")}async function f9(t){t.Ia.forEach(((e,n)=>{Sy(t,e)}))}async function d9(t,e){gR(t),Cy(t)?(t.Va.ha(e),wy(t)):t.Va.set("Unknown")}async function p9(t,e,n){if(t.Va.set("Online"),e instanceof Jx&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const h of l.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.da.removeTarget(h))})(t,e)}catch(s){_e($o,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await td(t,s)}else if(e instanceof Ef?t.da.Xe(e):e instanceof Wx?t.da.st(e):t.da.tt(e),!n.isEqual(Ve.min()))try{const s=await hR(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const h=l.da.Tt(u);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,m)=>{const v=l.Ia.get(d);if(!v)return;l.Ia.set(d,v.withResumeToken(Pn.EMPTY_BYTE_STRING,v.snapshotVersion)),mR(l,d);const y=new Qr(v.target,d,m,v.sequenceNumber);Sy(l,y)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){_e($o,"Failed to raise snapshot:",s),await td(t,s)}}async function td(t,e,n){if(!El(e))throw e;t.Ea.add(1),await Ac(t),t.Va.set("Offline"),n||(n=()=>hR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e($o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wd(t)}))}function vR(t,e){return e().catch((n=>td(t,n,e)))}async function Cd(t){const e=ke(t),n=lo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ay;for(;m9(e);)try{const o=await XU(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,g9(e,o)}catch(o){await td(e,o)}yR(e)&&bR(e)}function m9(t){return ea(t)&&t.Ta.length<10}function g9(t,e){t.Ta.push(e);const n=lo(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function yR(t){return ea(t)&&!lo(t).x_()&&t.Ta.length>0}function bR(t){lo(t).start()}async function v9(t){lo(t).ra()}async function y9(t){const e=lo(t);for(const n of t.Ta)e.ea(n.mutations)}async function b9(t,e,n){const s=t.Ta.shift(),o=my.from(s,e,n);await vR(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Cd(t)}async function E9(t,e){e&&lo(t).Y_&&await(async function(s,o){if((function(u){return eU(u)&&u!==he.ABORTED})(o.code)){const l=s.Ta.shift();lo(s).B_(),await vR(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Cd(s)}})(t,e),yR(t)&&bR(t)}async function tw(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),_e($o,"RemoteStore received new credentials");const s=ea(n);n.Ea.add(3),await Ac(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wd(n)}async function _9(t,e){const n=ke(t);e?(n.Ea.delete(2),await wd(n)):e||(n.Ea.add(2),await Ac(n),n.Va.set("Unknown"))}function _l(t){return t.ma||(t.ma=(function(n,s,o){const l=ke(n);return l.sa(),new s9(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Zo:h9.bind(null,t),Yo:f9.bind(null,t),t_:d9.bind(null,t),J_:p9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Cy(t)?wy(t):t.Va.set("Unknown")):(await t.ma.stop(),gR(t))}))),t.ma}function lo(t){return t.fa||(t.fa=(function(n,s,o){const l=ke(n);return l.sa(),new r9(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:v9.bind(null,t),t_:E9.bind(null,t),ta:y9.bind(null,t),na:b9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Cd(t)):(await t.fa.stop(),t.Ta.length>0&&(_e($o,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Ay{constructor(e,n,s,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,l){const u=Date.now()+s,h=new Ay(e,n,u,o,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(t,e){if(ur("AsyncQueue",`${e}: ${t}`),El(t))return new Ae(he.UNAVAILABLE,`${e}: ${t}`);throw t}class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Me.comparator(n.key,s.key):(n,s)=>Me.comparator(n.key,s.key),this.keyedMap=Iu(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new tl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class nw{constructor(){this.ga=new Pt(Me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class cl{constructor(e,n,s,o,l,u,h,d,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,o,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new cl(e,n,tl.emptySet(n),u,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class T9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class S9{constructor(){this.queries=iw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=ke(n),l=o.queries;o.queries=iw(),l.forEach(((u,h)=>{for(const d of h.ba)d.onError(s)}))})(this,new Ae(he.ABORTED,"Firestore shutting down"))}}function iw(){return new Wo((t=>jx(t)),yd)}async function ER(t,e){const n=ke(t);let s=3;const o=e.query;let l=n.queries.get(o);l?!l.Sa()&&e.Da()&&(s=2):(l=new T9,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const h=xy(u,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Ry(n)}async function _R(t,e){const n=ke(t),s=e.query;let o=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?o=e.Da()?0:1:!l.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function w9(t,e){const n=ke(t);let s=!1;for(const o of e){const l=o.query,u=n.queries.get(l);if(u){for(const h of u.ba)h.Fa(o)&&(s=!0);u.wa=o}}s&&Ry(n)}function C9(t,e,n){const s=ke(t),o=s.queries.get(e);if(o)for(const l of o.ba)l.onError(n);s.queries.delete(e)}function Ry(t){t.Ca.forEach((e=>{e.next()}))}var rv,sw;(sw=rv||(rv={})).Ma="default",sw.Cache="cache";class TR{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new cl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rv.Cache}}class SR{constructor(e){this.key=e}}class wR{constructor(e){this.key=e}}class A9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Qe(),this.mutatedKeys=Qe(),this.eu=Bx(e),this.tu=new tl(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new nw,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=o,h=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,y)=>{const E=o.get(v),w=bd(this.query,y)?y:null,x=!!E&&this.mutatedKeys.has(E.key),D=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let O=!1;E&&w?E.data.isEqual(w.data)?x!==D&&(s.track({type:3,doc:w}),O=!0):this.su(E,w)||(s.track({type:2,doc:w}),O=!0,(d&&this.eu(w,d)>0||m&&this.eu(w,m)<0)&&(h=!0)):!E&&w?(s.track({type:0,doc:w}),O=!0):E&&!w&&(s.track({type:1,doc:E}),O=!0,(d||m)&&(h=!0)),O&&(w?(u=u.add(w),l=D?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,y)=>(function(w,x){const D=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:O})}};return D(w)-D(x)})(v.type,y.type)||this.eu(v.doc,y.doc))),this.ou(s),o=o??!1;const h=n&&!o?this._u():[],d=this.Ya.size===0&&this.current&&!o?1:0,m=d!==this.Xa;return this.Xa=d,u.length!==0||m?{snapshot:new cl(this.query,e.tu,l,u,e.mutatedKeys,d===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new wR(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new SR(s))})),n}cu(e){this.Za=e.ks,this.Ya=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ly="SyncEngine";class x9{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class R9{constructor(e){this.key=e,this.hu=!1}}class L9{constructor(e,n,s,o,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Wo((h=>jx(h)),yd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Pt(Me.comparator),this.Au=new Map,this.Vu=new yy,this.du={},this.mu=new Map,this.fu=ul.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function M9(t,e,n=!0){const s=MR(t);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await CR(s,e,n,!0),o}async function D9(t,e){const n=MR(t);await CR(n,e,!0,!1)}async function CR(t,e,n,s){const o=await QU(t.localStore,Is(e)),l=o.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await O9(t,e,l,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&pR(t.remoteStore,o),h}async function O9(t,e,n,s,o){t.pu=(y,E,w)=>(async function(D,O,U,j){let B=O.view.ru(U);B.Ss&&(B=await Q1(D.localStore,O.query,!1).then((({documents:C})=>O.view.ru(C,B))));const N=j&&j.targetChanges.get(O.targetId),k=j&&j.targetMismatches.get(O.targetId)!=null,H=O.view.applyChanges(B,D.isPrimaryClient,N,k);return ow(D,O.targetId,H.au),H.snapshot})(t,y,E,w);const l=await Q1(t.localStore,e,!0),u=new A9(e,l.ks),h=u.ru(l.documents),d=Cc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),m=u.applyChanges(h,t.isPrimaryClient,d);ow(t,n,m.au);const v=new x9(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function I9(t,e,n){const s=ke(t),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((u=>!yd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await iv(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ty(s.remoteStore,o.targetId),ov(s,o.targetId)})).catch(bl)):(ov(s,o.targetId),await iv(s.localStore,o.targetId,!0))}async function V9(t,e){const n=ke(t),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ty(n.remoteStore,s.targetId))}async function P9(t,e,n){const s=F9(t);try{const o=await(function(u,h){const d=ke(u),m=at.now(),v=h.reduce(((w,x)=>w.add(x.key)),Qe());let y,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let x=hr(),D=Qe();return d.xs.getEntries(w,v).next((O=>{x=O,x.forEach(((U,j)=>{j.isValidDocument()||(D=D.add(U))}))})).next((()=>d.localDocuments.getOverlayedDocuments(w,x))).next((O=>{y=O;const U=[];for(const j of h){const B=X5(j,y.get(j.key).overlayedDocument);B!=null&&U.push(new Jo(j.key,B,Ox(B.value.mapValue),as.exists(!0)))}return d.mutationQueue.addMutationBatch(w,m,U,h)})).next((O=>{E=O;const U=O.applyToLocalDocumentSet(y,D);return d.documentOverlayCache.saveOverlays(w,O.batchId,U)}))})).then((()=>({batchId:E.batchId,changes:Fx(y)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,h,d){let m=u.du[u.currentUser.toKey()];m||(m=new Pt(Xe)),m=m.insert(h,d),u.du[u.currentUser.toKey()]=m})(s,o.batchId,n),await xc(s,o.changes),await Cd(s.remoteStore)}catch(o){const l=xy(o,"Failed to persist write");n.reject(l)}}async function AR(t,e){const n=ke(t);try{const s=await YU(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=n.Au.get(l);u&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?lt(u.hu,14607):o.removedDocuments.size>0&&(lt(u.hu,42227),u.hu=!1))})),await xc(n,s,e)}catch(s){await bl(s)}}function rw(t,e,n){const s=ke(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(u,h){const d=ke(u);d.onlineState=h;let m=!1;d.queries.forEach(((v,y)=>{for(const E of y.ba)E.va(h)&&(m=!0)})),m&&Ry(d)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function k9(t,e,n){const s=ke(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),l=o&&o.key;if(l){let u=new Pt(Me.comparator);u=u.insert(l,zn.newNoDocument(l,Ve.min()));const h=Qe().add(l),d=new Td(Ve.min(),new Map,new Pt(Xe),u,h);await AR(s,d),s.Ru=s.Ru.remove(l),s.Au.delete(e),My(s)}else await iv(s.localStore,e,!1).then((()=>ov(s,e,n))).catch(bl)}async function N9(t,e){const n=ke(t),s=e.batch.batchId;try{const o=await KU(n.localStore,e);RR(n,s,null),xR(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xc(n,o)}catch(o){await bl(o)}}async function U9(t,e,n){const s=ke(t);try{const o=await(function(u,h){const d=ke(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return d.mutationQueue.lookupMutationBatch(m,h).next((y=>(lt(y!==null,37113),v=y.keys(),d.mutationQueue.removeMutationBatch(m,y)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,v,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>d.localDocuments.getDocuments(m,v)))}))})(s.localStore,e);RR(s,e,n),xR(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await xc(s,o)}catch(o){await bl(o)}}function xR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function RR(t,e,n){const s=ke(t);let o=s.du[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function ov(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||LR(t,s)}))}function LR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Ty(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),My(t))}function ow(t,e,n){for(const s of n)s instanceof SR?(t.Vu.addReference(s.key,e),j9(t,s)):s instanceof wR?(_e(Ly,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||LR(t,s.key)):Oe(19791,{wu:s})}function j9(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(_e(Ly,"New document in limbo: "+n),t.Eu.add(s),My(t))}function My(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(xt.fromString(e)),s=t.fu.next();t.Au.set(s,new R9(n)),t.Ru=t.Ru.insert(n,s),pR(t.remoteStore,new Qr(Is(fy(n.path)),s,"TargetPurposeLimboResolution",pd.ce))}}async function xc(t,e,n){const s=ke(t),o=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,d)=>{u.push(s.pu(d,e,n).then((m=>{if((m||n)&&s.isPrimaryClient){const v=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(m){o.push(m);const v=Ey.Es(d.targetId,m);l.push(v)}})))})),await Promise.all(u),s.Pu.J_(o),await(async function(d,m){const v=ke(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ue.forEach(m,(E=>ue.forEach(E.Ts,(w=>v.persistence.referenceDelegate.addReference(y,E.targetId,w))).next((()=>ue.forEach(E.Is,(w=>v.persistence.referenceDelegate.removeReference(y,E.targetId,w)))))))))}catch(y){if(!El(y))throw y;_e(_y,"Failed to update sequence numbers: "+y)}for(const y of m){const E=y.targetId;if(!y.fromCache){const w=v.vs.get(E),x=w.snapshotVersion,D=w.withLastLimboFreeSnapshotVersion(x);v.vs=v.vs.insert(E,D)}}})(s.localStore,l))}async function B9(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){_e(Ly,"User change. New user:",e.toKey());const s=await cR(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new Ae(he.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xc(n,s.Ns)}}function z9(t,e){const n=ke(t),s=n.Au.get(e);if(s&&s.hu)return Qe().add(s.key);{let o=Qe();const l=n.Iu.get(e);if(!l)return o;for(const u of l){const h=n.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function MR(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k9.bind(null,e),e.Pu.J_=w9.bind(null,e.eventManager),e.Pu.yu=C9.bind(null,e.eventManager),e}function F9(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U9.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return GU(this.persistence,new FU,e.initialUser,this.serializer)}Cu(e){return new uR(by.Vi,this.serializer)}Du(e){return new WU}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class H9 extends nd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof ed,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new xU(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?oi.withCacheSize(this.cacheSizeBytes):oi.DEFAULT;return new uR((s=>ed.Vi(s,n)),this.serializer)}}class av{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>rw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=B9.bind(null,this.syncEngine),await _9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new S9})()}createDatastore(e){const n=Sd(e.databaseInfo.databaseId),s=i9(e.databaseInfo);return l9(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,l,u,h){return new c9(s,o,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>rw(this.syncEngine,n,0)),(function(){return J1.v()?new J1:new JU})())}createSyncEngine(e,n){return(function(o,l,u,h,d,m,v){const y=new L9(o,l,u,h,d,m);return v&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=ke(n);_e($o,"RemoteStore shutting down."),s.Ea.add(5),await Ac(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}av.provider={build:()=>new av};class DR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const uo="FirestoreClient";class q9{constructor(e,n,s,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Bn.UNAUTHENTICATED,this.clientId=ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{_e(uo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(_e(uo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xy(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function lg(t,e){t.asyncQueue.verifyOperationInProgress(),_e(uo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async o=>{s.isEqual(o)||(await cR(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function aw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G9(t);_e(uo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>tw(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,o)=>tw(e.remoteStore,o))),t._onlineComponents=e}async function G9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(uo,"Using user provided OfflineComponentProvider");try{await lg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===he.FAILED_PRECONDITION||o.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;rl("Error using user provided cache. Falling back to memory cache: "+n),await lg(t,new nd)}}else _e(uo,"Using default OfflineComponentProvider"),await lg(t,new H9(void 0));return t._offlineComponents}async function OR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(uo,"Using user provided OnlineComponentProvider"),await aw(t,t._uninitializedComponentsProvider._online)):(_e(uo,"Using default OnlineComponentProvider"),await aw(t,new av))),t._onlineComponents}function K9(t){return OR(t).then((e=>e.syncEngine))}async function IR(t){const e=await OR(t),n=e.eventManager;return n.onListen=M9.bind(null,e.syncEngine),n.onUnlisten=I9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=D9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V9.bind(null,e.syncEngine),n}function Y9(t,e,n={}){const s=new rr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,m){const v=new DR({next:E=>{v.Nu(),u.enqueueAndForget((()=>_R(l,y)));const w=E.docs.has(h);!w&&E.fromCache?m.reject(new Ae(he.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&d&&d.source==="server"?m.reject(new Ae(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),y=new TR(fy(h.path),v,{includeMetadataChanges:!0,Ka:!0});return ER(l,y)})(await IR(t),t.asyncQueue,e,n,s))),s.promise}function $9(t,e,n={}){const s=new rr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,m){const v=new DR({next:E=>{v.Nu(),u.enqueueAndForget((()=>_R(l,y))),E.fromCache&&d.source==="server"?m.reject(new Ae(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),y=new TR(h,v,{includeMetadataChanges:!0,Ka:!0});return ER(l,y)})(await IR(t),t.asyncQueue,e,n,s))),s.promise}function X9(t,e){const n=new rr;return t.asyncQueue.enqueueAndForget((async()=>P9(await K9(t),e,n))),n.promise}function VR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Q9="ComponentProvider",lw=new Map;function Z9(t,e,n,s,o){return new v5(t,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,VR(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const PR="firestore.googleapis.com",uw=!0;class cw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PR,this.ssl=uw}else this.host=e.host,this.ssl=e.ssl??uw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CU)throw new Ae(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VR(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Q6;switch(s.type){case"firstParty":return new e5(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ae(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=lw.get(n);s&&(_e(Q9,"Removing Datastore"),lw.delete(n),s.terminate())})(this),Promise.resolve()}}function W9(t,e,n,s={}){t=cr(t,Ad);const o=Tc(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;o&&(JA(`https://${h}`),tx("Firestore",!0)),l.host!==PR&&l.host!==h&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:o,emulatorOptions:s};if(!qf(d,u)&&(t._setSettings(d),s.mockUserToken)){let m,v;if(typeof s.mockUserToken=="string")m=s.mockUserToken,v=Bn.MOCK_USER;else{m=ex(s.mockUserToken,t._app?.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new Ae(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Bn(y)}t._authCredentials=new Z6(new Ex(m,v))}}class xd{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xd(this.firestore,e,this._query)}}class hn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Sc(n,hn._jsonSchema))return new hn(e,s||null,new Me(xt.fromString(n.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:rn("string",hn._jsonSchemaVersion),referencePath:rn("string")};class to extends xd{constructor(e,n,s){super(e,n,fy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Me(e))}withConverter(e){return new to(this.firestore,e,this._path)}}function hw(t,e,...n){if(t=ar(t),_x("collection","path",e),t instanceof Ad){const s=xt.fromString(e,...n);return w1(s),new to(t,null,s)}{if(!(t instanceof hn||t instanceof to))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(xt.fromString(e,...n));return w1(s),new to(t.firestore,null,s)}}function _f(t,e,...n){if(t=ar(t),arguments.length===1&&(e=ry.newId()),_x("doc","path",e),t instanceof Ad){const s=xt.fromString(e,...n);return S1(s),new hn(t,null,new Me(s))}{if(!(t instanceof hn||t instanceof to))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(xt.fromString(e,...n));return S1(s),new hn(t.firestore,t instanceof to?t.converter:null,new Me(s))}}const fw="AsyncQueue";class dw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fR(this,"async_queue_retry"),this._c=()=>{const s=ag();s&&_e(fw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!El(e))throw e;_e(fw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ur("INTERNAL UNHANDLED ERROR: ",pw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ay.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Oe(47125,{Pc:pw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function pw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Tl extends Ad{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new dw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dw(e),this._firestoreClient=void 0,await e}}}function J9(t,e){const n=typeof t=="object"?t:cx(),s=typeof t=="string"?t:Yf,o=ox(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=ZA("firestore");l&&W9(o,...l)}return o}function Dy(t){if(t._terminated)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ej(t),t._firestoreClient}function ej(t){const e=t._freezeSettings(),n=Z9(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new q9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(t._componentsProvider))}class Fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fi(Pn.fromBase64String(e))}catch(n){throw new Ae(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fi(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sc(e,Fi._jsonSchema))return Fi.fromBase64String(e.bytes)}}Fi._jsonSchemaVersion="firestore/bytes/1.0",Fi._jsonSchema={type:rn("string",Fi._jsonSchemaVersion),bytes:rn("string")};class kR{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class NR{constructor(e){this._methodName=e}}class Ps{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ps._jsonSchemaVersion}}static fromJSON(e){if(Sc(e,Ps._jsonSchema))return new Ps(e.latitude,e.longitude)}}Ps._jsonSchemaVersion="firestore/geoPoint/1.0",Ps._jsonSchema={type:rn("string",Ps._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};class ls{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sc(e,ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ls(e.vectorValues);throw new Ae(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ls._jsonSchemaVersion="firestore/vectorValue/1.0",ls._jsonSchema={type:rn("string",ls._jsonSchemaVersion),vectorValues:rn("object")};const tj=/^__.*__$/;class nj{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Jo(e,this.data,this.fieldMask,n,this.fieldTransforms):new wc(e,this.data,n,this.fieldTransforms)}}function UR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{dataSource:t})}}class Oy{constructor(e,n,s,o,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Oy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return id(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(UR(this.dataSource)&&tj.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class ij{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Sd(e)}createContext(e,n,s,o=!1){return new Oy({dataSource:e,methodName:n,targetDoc:s,path:Vn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jR(t){const e=t._freezeSettings(),n=Sd(t._databaseId);return new ij(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BR(t,e,n,s,o,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,o);qR("Data must be an object, but it was:",u,s);const h=FR(s,u);let d,m;if(l.merge)d=new os(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const y of l.mergeFields){const E=Iy(e,y,n);if(!u.contains(E))throw new Ae(he.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);oj(v,E)||v.push(E)}d=new os(v),m=u.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,m=u.fieldTransforms;return new nj(new zi(h),d,m)}function zR(t,e){if(HR(t=ar(t)))return qR("Unsupported field value:",e,t),FR(t,e);if(t instanceof NR)return(function(s,o){if(!UR(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const l=[];let u=0;for(const h of s){let d=zR(h,o.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,o){if((s=ar(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return H5(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=at.fromDate(s);return{timestampValue:Jf(o.serializer,l)}}if(s instanceof at){const l=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jf(o.serializer,l)}}if(s instanceof Ps)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fi)return{bytesValue:eR(o.serializer,s._byteString)};if(s instanceof hn){const l=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:vy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ls)return(function(u,h){const d=u instanceof ls?u.toArray():u;return{mapValue:{fields:{[Mx]:{stringValue:Dx},[$f]:{arrayValue:{values:d.map((v=>{if(typeof v!="number")throw h.createError("VectorValues must only contain numeric values.");return dy(h.serializer,v)}))}}}}}})(s,o);if(aR(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${oy(s)}`)})(t,e)}function FR(t,e){const n={};return wx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(t,((s,o)=>{const l=zR(o,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function HR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Ps||t instanceof Fi||t instanceof hn||t instanceof NR||t instanceof ls||aR(t))}function qR(t,e,n){if(!HR(n)||!Tx(n)){const s=oy(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Iy(t,e,n){if((e=ar(e))instanceof kR)return e._internalPath;if(typeof e=="string")return rj(t,e);throw id("Field path arguments must be of type string or ",t,!1,void 0,n)}const sj=new RegExp("[~\\*/\\[\\]]");function rj(t,e,n){if(e.search(sj)>=0)throw id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kR(...e.split("."))._internalPath}catch{throw id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function id(t,e,n,s,o){const l=s&&!s.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${s}`),u&&(d+=` in document ${o}`),d+=")"),new Ae(he.INVALID_ARGUMENT,h+t+d)}function oj(t,e){return t.some((n=>n.isEqual(e)))}class aj{convertValue(e,n="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Zo(e,((o,l)=>{s[o]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[$f].arrayValue?.values?.map((s=>Yt(s.doubleValue)));return new ls(n)}convertGeoPoint(e){return new Ps(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){const n=ro(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=xt.fromString(e);lt(oR(s),9688,{name:e});const o=new hc(s.get(1),s.get(3)),l=new Me(s.popFirst(5));return o.isEqual(n)||ur(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class GR extends aj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}const mw="@firebase/firestore",gw="4.10.0";class KR{constructor(e,n,s,o,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Iy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lj extends KR{data(){return super.data()}}function uj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function YR(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Go extends KR{constructor(e,n,s,o,l,u){super(e,n,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Iy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Go._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Go._jsonSchemaVersion="firestore/documentSnapshot/1.0",Go._jsonSchema={type:rn("string",Go._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class Tf extends Go{data(e={}){return super.data(e)}}class nl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Pu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Tf(this._firestore,this._userDataWriter,s.key,s,new Pu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((h=>{const d=new Tf(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Pu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Tf(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Pu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:cj(h.type),doc:d,oldIndex:m,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}nl._jsonSchemaVersion="firestore/querySnapshot/1.0",nl._jsonSchema={type:rn("string",nl._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};function hj(t){t=cr(t,hn);const e=cr(t.firestore,Tl),n=Dy(e);return Y9(n,t._key).then((s=>gj(e,t,s)))}function fj(t){t=cr(t,xd);const e=cr(t.firestore,Tl),n=Dy(e),s=new GR(e);return uj(t._query),$9(n,t._query).then((o=>new nl(e,s,t,o)))}function dj(t,e,n){t=cr(t,hn);const s=cr(t.firestore,Tl),o=YR(t.converter,e,n),l=jR(s);return Vy(s,[BR(l,"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,as.none())])}function pj(t){return Vy(cr(t.firestore,Tl),[new py(t._key,as.none())])}function mj(t,e){const n=cr(t.firestore,Tl),s=_f(t),o=YR(t.converter,e),l=jR(t.firestore);return Vy(n,[BR(l,"addDoc",s._key,o,t.converter!==null,{}).toMutation(s._key,as.exists(!1))]).then((()=>s))}function Vy(t,e){const n=Dy(t);return X9(n,e)}function gj(t,e,n){const s=n.docs.get(e._key),o=new GR(t);return new Go(t,o,e._key,s,new Pu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){X6(lx),ac(new sl("firestore",((s,{instanceIdentifier:o,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new Tl(new W6(s.getProvider("auth-internal")),new t5(u,s.getProvider("app-check-internal")),y5(u,o),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Jr(mw,gw,e),Jr(mw,gw,"esm2020")})();const $R="firebasestorage.googleapis.com",XR="storageBucket",vj=120*1e3,yj=600*1e3;class zt extends Qo{constructor(e,n,s=0){super(ug(e),`Firebase Storage: ${n} (${ug(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ug(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Bt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Bt||(Bt={}));function ug(t){return"storage/"+t}function Py(){const t="An unknown error occurred, please check the error payload for server response.";return new zt(Bt.UNKNOWN,t)}function bj(t){return new zt(Bt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Ej(t){return new zt(Bt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _j(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new zt(Bt.UNAUTHENTICATED,t)}function Tj(){return new zt(Bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Sj(t){return new zt(Bt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function wj(){return new zt(Bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Cj(){return new zt(Bt.CANCELED,"User canceled the upload/download.")}function Aj(t){return new zt(Bt.INVALID_URL,"Invalid URL '"+t+"'.")}function xj(t){return new zt(Bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Rj(){return new zt(Bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+XR+"' property when initializing the app?")}function Lj(){return new zt(Bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Mj(){return new zt(Bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Dj(t){return new zt(Bt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lv(t){return new zt(Bt.INVALID_ARGUMENT,t)}function QR(){return new zt(Bt.APP_DELETED,"The Firebase app was deleted.")}function Oj(t){return new zt(Bt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xu(t,e){return new zt(Bt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xu(t){throw new zt(Bt.INTERNAL_ERROR,"Internal error: "+t)}class _i{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=_i.makeFromUrl(e,n)}catch{return new _i(e,"")}if(s.path==="")return s;throw xj(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),d={bucket:1,path:3};function m(N){N.path_=decodeURIComponent(N.path)}const v="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",w=new RegExp(`^https?://${y}/${v}/b/${o}/o${E}`,"i"),x={bucket:1,path:3},D=n===$R?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",U=new RegExp(`^https?://${D}/${o}/${O}`,"i"),B=[{regex:h,indices:d,postModify:l},{regex:w,indices:x,postModify:m},{regex:U,indices:{bucket:1,path:2},postModify:m}];for(let N=0;N<B.length;N++){const k=B[N],H=k.regex.exec(e);if(H){const C=H[k.indices.bucket];let A=H[k.indices.path];A||(A=""),s=new _i(C,A),k.postModify(s);break}}if(s==null)throw Aj(e);return s}}class Ij{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Vj(t,e,n){let s=1,o=null,l=null,u=!1,h=0;function d(){return h===2}let m=!1;function v(...O){m||(m=!0,e.apply(null,O))}function y(O){o=setTimeout(()=>{o=null,t(w,d())},O)}function E(){l&&clearTimeout(l)}function w(O,...U){if(m){E();return}if(O){E(),v.call(null,O,...U);return}if(d()||u){E(),v.call(null,O,...U);return}s<64&&(s*=2);let B;h===1?(h=2,B=0):B=(s+Math.random())*1e3,y(B)}let x=!1;function D(O){x||(x=!0,E(),!m&&(o!==null?(O||(h=2),clearTimeout(o),y(0)):O||(h=1)))}return y(0),l=setTimeout(()=>{u=!0,D(!0)},n),D}function Pj(t){t(!1)}function kj(t){return t!==void 0}function Nj(t){return typeof t=="object"&&!Array.isArray(t)}function ky(t){return typeof t=="string"||t instanceof String}function vw(t){return Ny()&&t instanceof Blob}function Ny(){return typeof Blob<"u"}function yw(t,e,n,s){if(s<e)throw lv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw lv(`Invalid value for '${t}'. Expected ${n} or less.`)}function Uy(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function ZR(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const o=e(s)+"="+e(t[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ko;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ko||(Ko={}));function Uj(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||o||l}class jj{constructor(e,n,s,o,l,u,h,d,m,v,y,E=!0,w=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=y,this.retry=E,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,D)=>{this.resolve_=x,this.reject_=D,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new uf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===Ko.NO_ERROR,d=l.getStatus();if(!h||Uj(d,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ko.ABORT;s(!1,new uf(!1,null,v));return}const m=this.successCodes_.indexOf(d)!==-1;s(!0,new uf(m,l))})},n=(s,o)=>{const l=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());kj(d)?l(d):l()}catch(d){u(d)}else if(h!==null){const d=Py();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(o.canceled){const d=this.appDelete_?QR():Cj();u(d)}else{const d=wj();u(d)}};this.canceled_?n(!1,new uf(!1,null,!0)):this.backoffId_=Vj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Pj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function Bj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Fj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Hj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function qj(t,e,n,s,o,l,u=!0,h=!1){const d=ZR(t.urlParams),m=t.url+d,v=Object.assign({},t.headers);return Fj(v,e),Bj(v,n),zj(v,l),Hj(v,s),new jj(m,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,u,h)}function Gj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Kj(...t){const e=Gj();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(Ny())return new Blob(t);throw new zt(Bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Yj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function $j(t){if(typeof atob>"u")throw Dj("base-64");return atob(t)}const Ds={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cg{constructor(e,n){this.data=e,this.contentType=n||null}}function Xj(t,e){switch(t){case Ds.RAW:return new cg(WR(e));case Ds.BASE64:case Ds.BASE64URL:return new cg(JR(t,e));case Ds.DATA_URL:return new cg(Zj(e),Wj(e))}throw Py()}function WR(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=t.charCodeAt(++n);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Qj(t){let e;try{e=decodeURIComponent(t)}catch{throw Xu(Ds.DATA_URL,"Malformed data URL.")}return WR(e)}function JR(t,e){switch(t){case Ds.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Xu(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ds.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Xu(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$j(e)}catch(o){throw o.message.includes("polyfill")?o:Xu(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class eL{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xu(Ds.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=Jj(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Zj(t){const e=new eL(t);return e.base64?JR(Ds.BASE64,e.rest):Qj(e.rest)}function Wj(t){return new eL(t).contentType}function Jj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class Yr{constructor(e,n){let s=0,o="";vw(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(vw(this.data_)){const s=this.data_,o=Yj(s,e,n);return o===null?null:new Yr(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Yr(s,!0)}}static getBlob(...e){if(Ny()){const n=e.map(s=>s instanceof Yr?s.data_:s);return new Yr(Kj.apply(null,n))}else{const n=e.map(u=>ky(u)?Xj(Ds.RAW,u).data:u.data_);let s=0;n.forEach(u=>{s+=u.byteLength});const o=new Uint8Array(s);let l=0;return n.forEach(u=>{for(let h=0;h<u.length;h++)o[l++]=u[h]}),new Yr(o,!0)}}uploadData(){return this.data_}}function tL(t){let e;try{e=JSON.parse(t)}catch{return null}return Nj(e)?e:null}function eB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function tB(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function nL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function nB(t,e){return e}class Xn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||nB}}let cf=null;function iB(t){return!ky(t)||t.length<2?t:nL(t)}function iL(){if(cf)return cf;const t=[];t.push(new Xn("bucket")),t.push(new Xn("generation")),t.push(new Xn("metageneration")),t.push(new Xn("name","fullPath",!0));function e(l,u){return iB(u)}const n=new Xn("name");n.xform=e,t.push(n);function s(l,u){return u!==void 0?Number(u):u}const o=new Xn("size");return o.xform=s,t.push(o),t.push(new Xn("timeCreated")),t.push(new Xn("updated")),t.push(new Xn("md5Hash",null,!0)),t.push(new Xn("cacheControl",null,!0)),t.push(new Xn("contentDisposition",null,!0)),t.push(new Xn("contentEncoding",null,!0)),t.push(new Xn("contentLanguage",null,!0)),t.push(new Xn("contentType",null,!0)),t.push(new Xn("metadata","customMetadata",!0)),cf=t,cf}function sB(t,e){function n(){const s=t.bucket,o=t.fullPath,l=new _i(s,o);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function rB(t,e,n){const s={};s.type="file";const o=n.length;for(let l=0;l<o;l++){const u=n[l];s[u.local]=u.xform(s,e[u.server])}return sB(s,t),s}function sL(t,e,n){const s=tL(e);return s===null?null:rB(t,s,n)}function oB(t,e,n,s){const o=tL(e);if(o===null||!ky(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(m=>{const v=t.bucket,y=t.fullPath,E="/b/"+u(v)+"/o/"+u(y),w=Uy(E,n,s),x=ZR({alt:"media",token:m});return w+x})[0]}function aB(t,e){const n={},s=e.length;for(let o=0;o<s;o++){const l=e[o];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class rL{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function oL(t){if(!t)throw Py()}function lB(t,e){function n(s,o){const l=sL(t,o,e);return oL(l!==null),l}return n}function uB(t,e){function n(s,o){const l=sL(t,o,e);return oL(l!==null),oB(l,o,t.host,t._protocol)}return n}function aL(t){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=Tj():o=_j():n.getStatus()===402?o=Ej(t.bucket):n.getStatus()===403?o=Sj(t.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function cB(t){const e=aL(t);function n(s,o){let l=e(s,o);return s.getStatus()===404&&(l=bj(t.path)),l.serverResponse=o.serverResponse,l}return n}function hB(t,e,n){const s=e.fullServerUrl(),o=Uy(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,h=new rL(o,l,uB(t,n),u);return h.errorHandler=cB(e),h}function fB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function dB(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=fB(null,e)),s}function pB(t,e,n,s,o){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let B="";for(let N=0;N<2;N++)B=B+Math.random().toString().slice(2);return B}const d=h();u["Content-Type"]="multipart/related; boundary="+d;const m=dB(e,s,o),v=aB(m,n),y="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+d+`\r
Content-Type: `+m.contentType+`\r
\r
`,E=`\r
--`+d+"--",w=Yr.getBlob(y,s,E);if(w===null)throw Lj();const x={name:m.fullPath},D=Uy(l,t.host,t._protocol),O="POST",U=t.maxUploadRetryTime,j=new rL(D,O,lB(t,n),U);return j.urlParams=x,j.headers=u,j.body=w.uploadData(),j.errorHandler=aL(e),j}class mB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ko.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ko.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ko.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,l){if(this.sent_)throw xu("cannot .send() more than once");if(Tc(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gB extends mB{initXhr(){this.xhr_.responseType="text"}}function lL(){return new gB}class Xo{constructor(e,n){this._service=e,n instanceof _i?this._location=n:this._location=_i.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xo(e,n)}get root(){const e=new _i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nL(this._location.path)}get storage(){return this._service}get parent(){const e=eB(this._location.path);if(e===null)return null;const n=new _i(this._location.bucket,e);return new Xo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Oj(e)}}function vB(t,e,n){t._throwIfRoot("uploadBytes");const s=pB(t.storage,t._location,iL(),new Yr(e,!0),n);return t.storage.makeRequestWithTokens(s,lL).then(o=>({metadata:o,ref:t}))}function yB(t){t._throwIfRoot("getDownloadURL");const e=hB(t.storage,t._location,iL());return t.storage.makeRequestWithTokens(e,lL).then(n=>{if(n===null)throw Mj();return n})}function bB(t,e){const n=tB(t._location.path,e),s=new _i(t._location.bucket,n);return new Xo(t.storage,s)}function EB(t){return/^[A-Za-z]+:\/\//.test(t)}function _B(t,e){return new Xo(t,e)}function uL(t,e){if(t instanceof jy){const n=t;if(n._bucket==null)throw Rj();const s=new Xo(n,n._bucket);return e!=null?uL(s,e):s}else return e!==void 0?bB(t,e):t}function TB(t,e){if(e&&EB(e)){if(t instanceof jy)return _B(t,e);throw lv("To use ref(service, url), the first argument must be a Storage instance.")}else return uL(t,e)}function bw(t,e){const n=e?.[XR];return n==null?null:_i.makeFromBucketSpec(n,t)}function SB(t,e,n,s={}){t.host=`${e}:${n}`;const o=Tc(e);o&&(JA(`https://${t.host}/b`),tx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:ex(l,t.app.options.projectId))}class jy{constructor(e,n,s,o,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=$R,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vj,this._maxUploadRetryTime=yj,this._requests=new Set,o!=null?this._bucket=_i.makeFromBucketSpec(o,this._host):this._bucket=bw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_i.makeFromBucketSpec(this._url,e):this._bucket=bw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ax(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xo(this,e)}_makeRequest(e,n,s,o,l=!0){if(this._deleted)return new Ij(QR());{const u=qj(e,this._appId,s,o,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const Ew="@firebase/storage",_w="0.14.0";const cL="storage";function wB(t,e,n){return t=ar(t),vB(t,e,n)}function CB(t){return t=ar(t),yB(t)}function AB(t,e){return t=ar(t),TB(t,e)}function xB(t=cx(),e){t=ar(t);const s=ox(t,cL).getImmediate({identifier:e}),o=ZA("storage");return o&&RB(s,...o),s}function RB(t,e,n,s={}){SB(t,e,n,s)}function LB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new jy(n,s,o,e,lx)}function MB(){ac(new sl(cL,LB,"PUBLIC").setMultipleInstances(!0)),Jr(Ew,_w,""),Jr(Ew,_w,"esm2020")}MB();const DB={apiKey:"AIzaSyC7DPgSTDQ2OjGzxIooVSYTQaiwH8JKg9Y",authDomain:"outdoor-trip-planner-32836.firebaseapp.com",projectId:"outdoor-trip-planner-32836",storageBucket:"outdoor-trip-planner-32836.firebasestorage.app",messagingSenderId:"102100531874",appId:"1:102100531874:web:b6928eb1745dbf0355f5fb"},hL=ux(DB),Ru=J9(hL),OB=xB(hL);let IB=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const VB={async uploadImage(t,e="uploads"){try{const n=`${IB()}_${t.name}`,s=`${e}/${n}`,o=AB(OB,s),l=await wB(o,t);return{url:await CB(l.ref),path:s}}catch(n){throw console.error("Error uploading image: ",n),n}}};function PB({day:t,onDelete:e,onDuplicate:n,onStatusChange:s,onUpdate:o,index:l}){const{attributes:u,listeners:h,setNodeRef:d,transform:m,transition:v,isDragging:y}=d3({id:t.id}),[E,w]=b.useState(!1),x={transform:rc.Transform.toString(m),transition:v,opacity:y?.5:1,marginBottom:"1rem",position:"relative"},D=async U=>{const j=U.target.files[0];if(j){w(!0);try{const B=await VB.uploadImage(j);o(t.id,"image",B.url)}catch(B){alert(": "+B.message)}w(!1)}},O=()=>{confirm("")&&o(t.id,"image",null)};return K.jsxs("div",{ref:d,style:x,className:`card day-card ${t.status||"todo"}`,children:[K.jsxs("div",{className:"day-header",children:[K.jsx("div",{className:"drag-handle",...u,...h,children:K.jsx(XV,{size:20,className:"text-muted"})}),K.jsxs("select",{className:"status-select",value:t.status||"todo",onChange:U=>s(t.id,U.target.value),children:[K.jsx("option",{value:"todo",children:""}),K.jsx("option",{value:"active",children:""}),K.jsx("option",{value:"done",children:""})]}),K.jsx("input",{type:"text",value:t.title||"",onChange:U=>o(t.id,"title",U.target.value),className:"day-title-input",placeholder:`Day ${l+1} ...`}),K.jsxs("div",{className:"card-actions",children:[K.jsxs("label",{className:"icon-btn",title:"",style:{cursor:E?"wait":"pointer"},children:[E?K.jsx(Fv,{size:18,className:"animate-spin"}):K.jsx(ZV,{size:18}),K.jsx("input",{type:"file",accept:"image/*",onChange:D,style:{display:"none"},disabled:E})]}),K.jsx("button",{className:"icon-btn",onClick:()=>n(t.id),title:"",children:K.jsx(YV,{size:18})}),K.jsx("button",{className:"icon-btn danger",onClick:()=>e(t.id),title:"",children:K.jsx(_P,{size:18})})]})]}),K.jsxs("div",{className:"day-content",children:[K.jsx("textarea",{className:"content-editor",value:t.content||"",onChange:U=>o(t.id,"content",U.target.value),placeholder:"...",rows:3}),t.image&&K.jsxs("div",{className:"day-image-preview",children:[K.jsx("img",{src:t.image,alt:"Trip memory"}),K.jsx("button",{className:"remove-image-btn",onClick:O,title:"",children:K.jsx(CP,{size:16})})]})]}),K.jsx("style",{children:`
        .day-card {
          border-left: 4px solid hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
          background: hsl(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l));
        }
        .day-card.active { border-left-color: var(--color-warning); }
        .day-card.done { border-left-color: var(--color-text-muted-l); opacity: 0.8; }
        
        .day-header {
          display: flex;
          align-items: center;
          gap: var(--space-2);
          margin-bottom: var(--space-2);
          padding-bottom: var(--space-2);
          border-bottom: 1px dashed hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
        }
        .status-select {
          padding: 4px;
          border-radius: 4px;
          border: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
          font-size: 0.8rem;
          background: transparent;
          color: hsl(var(--color-text-main-h), var(--color-text-main-s), var(--color-text-main-l));
        }
        .drag-handle {
          cursor: grab;
          padding: 4px;
        }
        .drag-handle:active {
          cursor: grabbing;
        }
        .day-title-input {
          flex: 1;
          border: none;
          font-size: 1.1rem;
          font-weight: 600;
          padding: 4px;
          border-radius: 4px;
          background: transparent;
          color: hsl(var(--color-text-main-h), var(--color-text-main-s), var(--color-text-main-l));
        }
        .day-title-input:focus {
          background: hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l));
          outline: none;
        }
        .card-actions {
          display: flex;
          gap: 4px;
        }
        .icon-btn {
          background: none;
          border: none;
          padding: 6px;
          cursor: pointer;
          color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
          border-radius: 4px;
          display: inline-flex;
          align-items: center;
          justify-content: center;
        }
        .icon-btn:hover {
          background: rgba(0,0,0,0.05);
          color: hsl(var(--color-text-main-h), var(--color-text-main-s), var(--color-text-main-l));
        }
        .icon-btn.danger:hover {
          background: #fee2e2;
          color: #ef4444;
        }
        .content-editor {
          width: 100%;
          border: 1px solid transparent;
          padding: var(--space-2);
          border-radius: var(--radius-md);
          resize: vertical;
          font-family: inherit;
          background: transparent;
          color: hsl(var(--color-text-main-h), var(--color-text-main-s), var(--color-text-main-l));
        }
        .content-editor:focus {
          border-color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
          outline: none;
        }
        
        .day-image-preview {
            margin-top: var(--space-2);
            position: relative;
            border-radius: var(--radius-md);
            overflow: hidden;
            max-width: 100%;
            display: inline-block;
        }
        .day-image-preview img {
            max-height: 200px;
            border-radius: var(--radius-md);
            border: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
            object-fit: cover;
        }
        .remove-image-btn {
            position: absolute;
            top: 4px;
            right: 4px;
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            backdrop-filter: blur(4px);
        }
        .remove-image-btn:hover {
            background: rgba(220, 38, 38, 0.8);
        }
      `})]})}const Lu="trips",Tw=(t={})=>({title:"",category:"hiking",status:"planning",startDate:at.now(),endDate:at.now(),passwords:{admin_pwd:"admin",participant_pwd:"team",viewer_pwd:"view"},is_private:!1,itinerary:[],gearList:[],...t}),sd={async getAllTrips(){try{return(await fj(hw(Ru,Lu))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error getting trips: ",t),t}},async getTripById(t){try{const e=_f(Ru,Lu,t),n=await hj(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){return console.error("Error getting trip: ",e),null}},async saveTrip(t,e){try{const n={...e};if(n.startDate instanceof Date&&(n.startDate=at.fromDate(n.startDate)),n.endDate instanceof Date&&(n.endDate=at.fromDate(n.endDate)),n.lastUpdated=at.now(),t){const s=_f(Ru,Lu,t);return await dj(s,n,{merge:!0}),t}else return(await mj(hw(Ru,Lu),n)).id}catch(n){throw console.error("Error saving trip: ",n),n}},async deleteTrip(t){try{await pj(_f(Ru,Lu,t))}catch(e){throw console.error("Error deleting trip: ",e),e}}},Sw=()=>Math.random().toString(36).substr(2,9);function kB(){const[t,e]=b.useState([]),[n,s]=b.useState(null),[o,l]=b.useState(null),[u,h]=b.useState(!1),[d,m]=b.useState(!1),[v,y]=b.useState(null);b.useEffect(()=>{async function N(){h(!0),y(null);try{const H=(await sd.getAllTrips()).sort((C,A)=>{const R=C.lastUpdated?.seconds||0;return(A.lastUpdated?.seconds||0)-R});if(H.length>0){const C=H[0];console.log("Loaded Trip:",C),l(C.id),s(C),C.itinerary&&C.itinerary.length>0?e(C.itinerary):C.days&&C.days.length>0&&e(C.days)}else{const C=Tw({title:"",itinerary:[{id:"1",title:"Day 1: ",content:"08:00 ",status:"done"},{id:"2",title:"Day 2: ",content:"05:00 ",status:"active"}]});s(C),e(C.itinerary)}}catch(k){console.error(k),y(": "+k.message);const H=Tw({title:" (/)",itinerary:[{id:"1",title:"Day 1: ",content:"08:00 ",status:"done"},{id:"2",title:"Day 2: ",content:"05:00 ",status:"active"}]});s(H),e(H.itinerary)}h(!1)}N()},[]);const E=async()=>{m(!0);try{const N={itinerary:t,lastUpdated:new Date};let k=N;!o&&n&&(k={...n,...N});const H=await sd.saveTrip(o,k);l(H),alert("")}catch(N){alert(""+N.message)}m(!1)},w=GN(QS(ey),QS(Wv,{coordinateGetter:g3}));function x(N){const{active:k,over:H}=N;k.id!==H.id&&e(C=>{const A=C.findIndex(V=>V.id===k.id),R=C.findIndex(V=>V.id===H.id);return ty(C,A,R)})}const D=()=>{e([...t,{id:Sw(),title:"",content:"",status:"todo"}])},O=N=>{confirm("")&&e(t.filter(k=>k.id!==N))},U=N=>{const k=t.find(H=>H.id===N);if(k){const H={...k,id:Sw(),title:`${k.title} ()`,status:"todo"},C=t.findIndex(R=>R.id===N),A=[...t];A.splice(C+1,0,H),e(A)}},j=(N,k)=>{e(t.map(H=>H.id===N?{...H,status:k}:H))},B=(N,k,H)=>{e(t.map(C=>C.id===N?{...C,[k]:H}:C))};return K.jsxs("div",{className:"itinerary-manager",children:[K.jsxs("div",{className:"manager-header flex-col",style:{marginBottom:"1rem"},children:[K.jsxs("div",{className:"flex-row justify-between items-center",children:[K.jsxs("h2",{children:[" (",t.length," )"]}),K.jsxs("div",{className:"flex-row gap-2",children:[K.jsxs("button",{className:"btn btn-secondary",onClick:E,disabled:d,children:[d?K.jsx(Fv,{className:"animate-spin",size:18}):K.jsx(uA,{size:18}),d?"...":""]}),K.jsxs("button",{className:"btn btn-primary",onClick:D,children:[K.jsx(fP,{size:18})," "]})]})]}),v&&K.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"#fee2e2",color:"#b91c1c",borderRadius:"4px",fontSize:"0.9rem"},children:[" ",v]})]}),K.jsx(Y4,{sensors:w,collisionDetection:YN,onDragEnd:x,children:K.jsx(o3,{items:t.map(N=>N.id),strategy:s3,children:t.map((N,k)=>K.jsx(PB,{day:N,index:k,onDelete:O,onDuplicate:U,onStatusChange:j,onUpdate:B},N.id))})})]})}const ww={hiking_day:{id:"hiking_day",label:"",categories:[{id:"essentials",name:"",items:[{id:"backpack",name:" (15-25L)",checked:!1},{id:"shoes",name:"/",checked:!1},{id:"water",name:" (1-2L)",checked:!1},{id:"rain",name:"/",checked:!1}]},{id:"navigation",name:"",items:[{id:"phone",name:" & ",checked:!1},{id:"powerbank",name:" & ",checked:!1}]}]},hiking_multiday:{id:"hiking_multiday",label:"",categories:[{id:"sleep",name:"",items:[{id:"tent",name:"",checked:!1},{id:"sleeping_bag",name:"",checked:!1},{id:"mat",name:"",checked:!1}]},{id:"cook",name:"",items:[{id:"stove",name:"",checked:!1},{id:"gas",name:"",checked:!1},{id:"pot",name:"",checked:!1}]}]},camping:{id:"camping",label:"",categories:[{id:"living",name:"",items:[{id:"tarp",name:"/",checked:!1},{id:"chair",name:"",checked:!1},{id:"table",name:"",checked:!1}]}]}};function NB(){const[t,e]=b.useState([]),[n,s]=b.useState(null),[o,l]=b.useState(!1),[u,h]=b.useState(!1);b.useEffect(()=>{async function E(){l(!0);try{const x=(await sd.getAllTrips()).sort((D,O)=>{const U=D.lastUpdated?.seconds||0;return(O.lastUpdated?.seconds||0)-U});if(x.length>0){const D=x[0];s(D.id),D.gearList&&e(D.gearList)}}catch(w){console.error("Failed to load gear list:",w)}l(!1)}E()},[]);const d=async()=>{if(!n){alert("");return}h(!0);try{await sd.saveTrip(n,{gearList:t,lastUpdated:new Date}),alert("")}catch(E){alert(""+E.message)}h(!1)},m=E=>{const w=ww[E];if(!w)return;const x=[...t];w.categories.forEach(D=>{const O=x.find(U=>U.name===D.name);if(O){const U=new Set(O.items.map(B=>B.name)),j=D.items.filter(B=>!U.has(B.name));O.items=[...O.items,...j]}else x.push({...D,id:Math.random().toString(36).substr(2,9)})}),e(x)},v=(E,w)=>{const x=[...t];x[E].items[w].checked=!x[E].items[w].checked,e(x)},y=()=>{let E=0,w=0;return t.forEach(x=>{x.items.forEach(D=>{E++,D.checked&&w++})}),E===0?0:Math.round(w/E*100)};return K.jsxs("div",{className:"gear-manager card",children:[K.jsxs("div",{className:"manager-header",style:{marginBottom:"1.5rem"},children:[K.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[K.jsxs("h2",{className:"flex-row items-center gap-2",children:[K.jsx(cP,{size:24,className:"text-primary"}),""]}),K.jsxs("button",{className:"btn btn-secondary",onClick:d,disabled:u||!n,children:[u?K.jsx(Fv,{className:"animate-spin",size:16}):K.jsx(uA,{size:16}),u?"...":""]})]}),K.jsxs("div",{className:"progress-bar-container",children:[K.jsxs("div",{className:"progress-text",children:[": ",y(),"%"]}),K.jsx("div",{className:"progress-track",children:K.jsx("div",{className:"progress-fill",style:{width:`${y()}%`}})})]})]}),K.jsxs("div",{className:"import-actions",style:{marginBottom:"1.5rem",display:"flex",gap:"8px",flexWrap:"wrap"},children:[K.jsx("span",{className:"text-muted",style:{fontSize:"0.9rem",alignSelf:"center"},children:""}),Object.entries(ww).map(([E,w])=>K.jsxs("button",{className:"btn btn-secondary",style:{fontSize:"0.85rem",padding:"4px 12px"},onClick:()=>m(E),children:["+ ",w.label]},E))]}),K.jsx("div",{className:"gear-categories",children:t.length===0?K.jsx("div",{className:"empty-state",children:K.jsx("p",{children:""})}):t.map((E,w)=>K.jsxs("div",{className:"gear-category",style:{marginBottom:"1.5rem"},children:[K.jsx("h3",{className:"category-title",style:{fontSize:"1rem",fontWeight:"bold",marginBottom:"0.5rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"4px"},children:E.name}),K.jsx("div",{className:"items-grid",children:E.items.map((x,D)=>K.jsxs("label",{className:`gear-item ${x.checked?"checked":""}`,children:[K.jsx("input",{type:"checkbox",checked:x.checked,onChange:()=>v(w,D)}),K.jsx("span",{className:"item-name",children:x.name})]},x.id))})]},E.id))}),K.jsx("style",{children:`
        .text-primary { color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l)); }
        .text-muted { color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l)); }
        
        .progress-bar-container {
            margin-top: 8px;
        }
        .progress-text {
            font-size: 0.85rem;
            color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
            margin-bottom: 4px;
            text-align: right;
        }
        .progress-track {
            height: 6px;
            background: #e5e7eb;
            border-radius: 99px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
            transition: width 0.3s ease;
        }

        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 8px;
        }
        .gear-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .gear-item:hover {
            background: rgba(0,0,0,0.03);
        }
        .gear-item.checked .item-name {
            text-decoration: line-through;
            color: #9ca3af;
        }
        .gear-item input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
        }
        
        .empty-state {
            padding: 2rem;
            text-align: center;
            color: #9ca3af;
            background: #f9fafb;
            border-radius: 8px;
            border: 1px dashed #d1d5db;
        }
      `})]})}function UB(){return K.jsx(AN,{children:K.jsxs("div",{className:"trip-content",children:[K.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem"},children:""}),K.jsx(MN,{children:K.jsxs("div",{className:"card",style:{marginBottom:"2rem",borderLeft:"4px solid var(--color-warning)"},children:[K.jsxs("h2",{style:{fontSize:"1.2rem",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"8px"},children:[K.jsx(vP,{size:20})," "]}),K.jsxs("div",{style:{display:"grid",gap:"8px"},children:[K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[K.jsx(SP,{size:16}),"  $3,500 ()"]}),K.jsx("div",{children:" 05001234567"}),K.jsx("div",{children:" 0912-345-678"})]}),K.jsx("p",{style:{marginTop:"8px",fontSize:"0.85rem",color:"var(--color-danger)"},children:"*  (Viewer )"})]})}),K.jsx(kB,{}),K.jsx("div",{style:{marginTop:"2rem"},children:K.jsx(NB,{})})]})})}function jB(){return K.jsx(CN,{children:K.jsx(RN,{children:K.jsx(UB,{})})})}ZM.createRoot(document.getElementById("root")).render(K.jsx(b.StrictMode,{children:K.jsx(jB,{})}));
