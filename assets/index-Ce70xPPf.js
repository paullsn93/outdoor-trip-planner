(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function PS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hd={exports:{}},Cl={};var l_;function jS(){if(l_)return Cl;l_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Cl.Fragment=t,Cl.jsx=i,Cl.jsxs=i,Cl}var u_;function qS(){return u_||(u_=1,Hd.exports=jS()),Hd.exports}var q=qS(),Fd={exports:{}},St={};var c_;function HS(){if(c_)return St;c_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,U={};function K(V,J,lt){this.props=V,this.context=J,this.refs=U,this.updater=lt||P}K.prototype.isReactComponent={},K.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},K.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function X(){}X.prototype=K.prototype;function $(V,J,lt){this.props=V,this.context=J,this.refs=U,this.updater=lt||P}var it=$.prototype=new X;it.constructor=$,k(it,K.prototype),it.isPureReactComponent=!0;var at=Array.isArray;function st(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(V,J,lt){var ct=lt.ref;return{$$typeof:n,type:V,key:J,ref:ct!==void 0?ct:null,props:lt}}function M(V,J){return x(V.type,J,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function z(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(lt){return J[lt]})}var N=/\/+/g;function zt(V,J){return typeof V=="object"&&V!==null&&V.key!=null?z(""+V.key):J.toString(36)}function oe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(st,st):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Z(V,J,lt,ct,_t){var yt=typeof V;(yt==="undefined"||yt==="boolean")&&(V=null);var Dt=!1;if(V===null)Dt=!0;else switch(yt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(V.$$typeof){case n:case t:Dt=!0;break;case E:return Dt=V._init,Z(Dt(V._payload),J,lt,ct,_t)}}if(Dt)return _t=_t(V),Dt=ct===""?"."+zt(V,0):ct,at(_t)?(lt="",Dt!=null&&(lt=Dt.replace(N,"$&/")+"/"),Z(_t,J,lt,"",function(Mt){return Mt})):_t!=null&&(O(_t)&&(_t=M(_t,lt+(_t.key==null||V&&V.key===_t.key?"":(""+_t.key).replace(N,"$&/")+"/")+Dt)),J.push(_t)),1;Dt=0;var te=ct===""?".":ct+":";if(at(V))for(var qt=0;qt<V.length;qt++)ct=V[qt],yt=te+zt(ct,qt),Dt+=Z(ct,J,lt,yt,_t);else if(qt=D(V),typeof qt=="function")for(V=qt.call(V),qt=0;!(ct=V.next()).done;)ct=ct.value,yt=te+zt(ct,qt++),Dt+=Z(ct,J,lt,yt,_t);else if(yt==="object"){if(typeof V.then=="function")return Z(oe(V),J,lt,ct,_t);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function ot(V,J,lt){if(V==null)return V;var ct=[],_t=0;return Z(V,ct,"","",function(yt){return J.call(lt,yt,_t++)}),ct}function gt(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(lt){(V._status===0||V._status===-1)&&(V._status=1,V._result=lt)},function(lt){(V._status===0||V._status===-1)&&(V._status=2,V._result=lt)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var wt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Bt={map:ot,forEach:function(V,J,lt){ot(V,function(){J.apply(this,arguments)},lt)},count:function(V){var J=0;return ot(V,function(){J++}),J},toArray:function(V){return ot(V,function(J){return J})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return St.Activity=b,St.Children=Bt,St.Component=K,St.Fragment=i,St.Profiler=o,St.PureComponent=$,St.StrictMode=a,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},St.cache=function(V){return function(){return V.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(V,J,lt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ct=k({},V.props),_t=V.key;if(J!=null)for(yt in J.key!==void 0&&(_t=""+J.key),J)!w.call(J,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&J.ref===void 0||(ct[yt]=J[yt]);var yt=arguments.length-2;if(yt===1)ct.children=lt;else if(1<yt){for(var Dt=Array(yt),te=0;te<yt;te++)Dt[te]=arguments[te+2];ct.children=Dt}return x(V.type,_t,ct)},St.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},St.createElement=function(V,J,lt){var ct,_t={},yt=null;if(J!=null)for(ct in J.key!==void 0&&(yt=""+J.key),J)w.call(J,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(_t[ct]=J[ct]);var Dt=arguments.length-2;if(Dt===1)_t.children=lt;else if(1<Dt){for(var te=Array(Dt),qt=0;qt<Dt;qt++)te[qt]=arguments[qt+2];_t.children=te}if(V&&V.defaultProps)for(ct in Dt=V.defaultProps,Dt)_t[ct]===void 0&&(_t[ct]=Dt[ct]);return x(V,yt,_t)},St.createRef=function(){return{current:null}},St.forwardRef=function(V){return{$$typeof:m,render:V}},St.isValidElement=O,St.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:gt}},St.memo=function(V,J){return{$$typeof:p,type:V,compare:J===void 0?null:J}},St.startTransition=function(V){var J=R.T,lt={};R.T=lt;try{var ct=V(),_t=R.S;_t!==null&&_t(lt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(st,wt)}catch(yt){wt(yt)}finally{J!==null&&lt.types!==null&&(J.types=lt.types),R.T=J}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(V){return R.H.use(V)},St.useActionState=function(V,J,lt){return R.H.useActionState(V,J,lt)},St.useCallback=function(V,J){return R.H.useCallback(V,J)},St.useContext=function(V){return R.H.useContext(V)},St.useDebugValue=function(){},St.useDeferredValue=function(V,J){return R.H.useDeferredValue(V,J)},St.useEffect=function(V,J){return R.H.useEffect(V,J)},St.useEffectEvent=function(V){return R.H.useEffectEvent(V)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(V,J,lt){return R.H.useImperativeHandle(V,J,lt)},St.useInsertionEffect=function(V,J){return R.H.useInsertionEffect(V,J)},St.useLayoutEffect=function(V,J){return R.H.useLayoutEffect(V,J)},St.useMemo=function(V,J){return R.H.useMemo(V,J)},St.useOptimistic=function(V,J){return R.H.useOptimistic(V,J)},St.useReducer=function(V,J,lt){return R.H.useReducer(V,J,lt)},St.useRef=function(V){return R.H.useRef(V)},St.useState=function(V){return R.H.useState(V)},St.useSyncExternalStore=function(V,J,lt){return R.H.useSyncExternalStore(V,J,lt)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.4",St}var h_;function jm(){return h_||(h_=1,Fd.exports=HS()),Fd.exports}var C=jm();const Rn=PS(C);var Gd={exports:{}},xl={},Yd={exports:{}},Qd={};var f_;function FS(){return f_||(f_=1,(function(n){function t(Z,ot){var gt=Z.length;Z.push(ot);t:for(;0<gt;){var wt=gt-1>>>1,Bt=Z[wt];if(0<o(Bt,ot))Z[wt]=ot,Z[gt]=Bt,gt=wt;else break t}}function i(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var ot=Z[0],gt=Z.pop();if(gt!==ot){Z[0]=gt;t:for(var wt=0,Bt=Z.length,V=Bt>>>1;wt<V;){var J=2*(wt+1)-1,lt=Z[J],ct=J+1,_t=Z[ct];if(0>o(lt,gt))ct<Bt&&0>o(_t,lt)?(Z[wt]=_t,Z[ct]=gt,wt=ct):(Z[wt]=lt,Z[J]=gt,wt=J);else if(ct<Bt&&0>o(_t,gt))Z[wt]=_t,Z[ct]=gt,wt=ct;else break t}}return ot}function o(Z,ot){var gt=Z.sortIndex-ot.sortIndex;return gt!==0?gt:Z.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,b=null,S=3,D=!1,P=!1,k=!1,U=!1,K=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function it(Z){for(var ot=i(p);ot!==null;){if(ot.callback===null)a(p);else if(ot.startTime<=Z)a(p),ot.sortIndex=ot.expirationTime,t(g,ot);else break;ot=i(p)}}function at(Z){if(k=!1,it(Z),!P)if(i(g)!==null)P=!0,st||(st=!0,z());else{var ot=i(p);ot!==null&&oe(at,ot.startTime-Z)}}var st=!1,R=-1,w=5,x=-1;function M(){return U?!0:!(n.unstable_now()-x<w)}function O(){if(U=!1,st){var Z=n.unstable_now();x=Z;var ot=!0;try{t:{P=!1,k&&(k=!1,X(R),R=-1),D=!0;var gt=S;try{e:{for(it(Z),b=i(g);b!==null&&!(b.expirationTime>Z&&M());){var wt=b.callback;if(typeof wt=="function"){b.callback=null,S=b.priorityLevel;var Bt=wt(b.expirationTime<=Z);if(Z=n.unstable_now(),typeof Bt=="function"){b.callback=Bt,it(Z),ot=!0;break e}b===i(g)&&a(g),it(Z)}else a(g);b=i(g)}if(b!==null)ot=!0;else{var V=i(p);V!==null&&oe(at,V.startTime-Z),ot=!1}}break t}finally{b=null,S=gt,D=!1}ot=void 0}}finally{ot?z():st=!1}}}var z;if(typeof $=="function")z=function(){$(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,zt=N.port2;N.port1.onmessage=O,z=function(){zt.postMessage(null)}}else z=function(){K(O,0)};function oe(Z,ot){R=K(function(){Z(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var ot=3;break;default:ot=S}var gt=S;S=ot;try{return Z()}finally{S=gt}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(Z,ot){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var gt=S;S=Z;try{return ot()}finally{S=gt}},n.unstable_scheduleCallback=function(Z,ot,gt){var wt=n.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?wt+gt:wt):gt=wt,Z){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=gt+Bt,Z={id:E++,callback:ot,priorityLevel:Z,startTime:gt,expirationTime:Bt,sortIndex:-1},gt>wt?(Z.sortIndex=gt,t(p,Z),i(g)===null&&Z===i(p)&&(k?(X(R),R=-1):k=!0,oe(at,gt-wt))):(Z.sortIndex=Bt,t(g,Z),P||D||(P=!0,st||(st=!0,z()))),Z},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(Z){var ot=S;return function(){var gt=S;S=ot;try{return Z.apply(this,arguments)}finally{S=gt}}}})(Qd)),Qd}var d_;function GS(){return d_||(d_=1,Yd.exports=FS()),Yd.exports}var Kd={exports:{}},gn={};var m_;function YS(){if(m_)return gn;m_=1;var n=jm();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:E}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,gn.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(g,p,null,E)},gn.flushSync=function(g){var p=f.T,E=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=p,a.p=E,a.d.f()}},gn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},gn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},gn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:D}):E==="script"&&a.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},gn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin);a.d.L(g,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gn.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},gn.requestFormReset=function(g){a.d.r(g)},gn.unstable_batchedUpdates=function(g,p){return g(p)},gn.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},gn.useFormStatus=function(){return f.H.useHostTransitionStatus()},gn.version="19.2.4",gn}var g_;function eE(){if(g_)return Kd.exports;g_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Kd.exports=YS(),Kd.exports}var p_;function QS(){if(p_)return xl;p_=1;var n=GS(),t=jm(),i=eE();function a(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function f(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(a(188))}function p(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(a(188));return r!==e?null:e}for(var s=e,l=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return g(h),e;if(d===l)return g(h),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,l=d;break}if(T===l){v=!0,l=h,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,l=h;break}if(T===l){v=!0,l=d,s=h;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:r}function E(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=E(e),r!==null)return r;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),$=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case K:return"Profiler";case U:return"StrictMode";case at:return"Suspense";case st:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case $:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case it:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return r=e.displayName||null,r!==null?r:zt(e.type)||"Memo";case w:r=e._payload,e=e._init;try{return zt(e(r))}catch{}}return null}var oe=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},wt=[],Bt=-1;function V(e){return{current:e}}function J(e){0>Bt||(e.current=wt[Bt],wt[Bt]=null,Bt--)}function lt(e,r){Bt++,wt[Bt]=e.current,e.current=r}var ct=V(null),_t=V(null),yt=V(null),Dt=V(null);function te(e,r){switch(lt(yt,r),lt(_t,e),lt(ct,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?Iv(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=Iv(r),e=Ov(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ct),lt(ct,e)}function qt(){J(ct),J(_t),J(yt)}function Mt(e){e.memoizedState!==null&&lt(Dt,e);var r=ct.current,s=Ov(r,e.type);r!==s&&(lt(_t,e),lt(ct,s))}function ti(e){_t.current===e&&(J(ct),J(_t)),Dt.current===e&&(J(Dt),Sl._currentValue=gt)}var tn,zn;function xe(e){if(tn===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);tn=r&&r[1]||"",zn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tn+e+zn}var ei=!1;function Cn(e,r){if(!e||ei)return"";ei=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var G=Q}Reflect.construct(e,[],et)}else{try{et.call()}catch(Q){G=Q}e.call(et.prototype)}}else{try{throw Error()}catch(Q){G=Q}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),F=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===F.length)for(l=I.length-1,h=F.length-1;1<=l&&0<=h&&I[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==F[h]){var W=`
`+I[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=h);break}}}finally{ei=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?xe(s):""}function Lr(e,r){switch(e.tag){case 26:case 27:case 5:return xe(e.type);case 16:return xe("Lazy");case 13:return e.child!==r&&r!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return Cn(e.type,!1);case 11:return Cn(e.type.render,!1);case 1:return Cn(e.type,!0);case 31:return xe("Activity");default:return""}}function Ur(e){try{var r="",s=null;do r+=Lr(e,s),s=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var he=Object.prototype.hasOwnProperty,ee=n.unstable_scheduleCallback,Bn=n.unstable_cancelCallback,kr=n.unstable_shouldYield,Da=n.unstable_requestPaint,Qe=n.unstable_now,rr=n.unstable_getCurrentPriorityLevel,Na=n.unstable_ImmediatePriority,ni=n.unstable_UserBlockingPriority,_n=n.unstable_NormalPriority,ar=n.unstable_LowPriority,Ia=n.unstable_IdlePriority,Pn=n.log,Oa=n.unstable_setDisableYieldValue,jn=null,Be=null;function hn(e){if(typeof Pn=="function"&&Oa(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(jn,e)}catch{}}var fe=Math.clz32?Math.clz32:ys,ps=Math.log,sr=Math.LN2;function ys(e){return e>>>=0,e===0?32:31-(ps(e)/sr|0)|0}var ii=256,or=262144,Nt=4194304;function de(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function me(e,r,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=de(l):(v&=T,v!==0?h=de(v):s||(s=T&~e,s!==0&&(h=de(s))))):(T=l&~d,T!==0?h=de(T):v!==0?h=de(v):s||(s=l&~e,s!==0&&(h=de(s)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:h}function De(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function fn(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ke(){var e=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),e}function Te(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function xn(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,r,s,l,h,d){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,F=e.hiddenUpdates;for(s=v&~s;0<s;){var W=31-fe(s),et=1<<W;T[W]=0,I[W]=-1;var G=F[W];if(G!==null)for(F[W]=null,W=0;W<G.length;W++){var Q=G[W];Q!==null&&(Q.lane&=-536870913)}s&=~et}l!==0&&dn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~r))}function dn(e,r,s){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-fe(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function mn(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var l=31-fe(s),h=1<<l;h&r|e[l]&r&&(e[l]|=r),s&=~h}}function En(e,r){var s=r&-r;return s=(s&42)!==0?1:qn(s),(s&(e.suspendedLanes|r))!==0?0:s}function qn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hn(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:e_(e.type))}function en(e,r){var s=ot.p;try{return ot.p=e,r()}finally{ot.p=s}}var Tn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Tn,Xe="__reactProps$"+Tn,Oi="__reactContainer$"+Tn,vs="__reactEvents$"+Tn,Kh="__reactListeners$"+Tn,_u="__reactHandles$"+Tn,Eu="__reactResources$"+Tn,Mi="__reactMarker$"+Tn;function _s(e){delete e[Ne],delete e[Xe],delete e[vs],delete e[Kh],delete e[_u]}function Vi(e){var r=e[Ne];if(r)return r;for(var s=e.parentNode;s;){if(r=s[Oi]||s[Ne]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=Bv(e);e!==null;){if(s=e[Ne])return s;e=Bv(e)}return r}e=s,s=e.parentNode}return null}function ri(e){if(e=e[Ne]||e[Oi]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function Fn(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(a(33))}function Li(e){var r=e[Eu];return r||(r=e[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ie(e){e[Mi]=!0}var No=new Set,Io={};function Ui(e,r){ki(e,r),ki(e+"Capture",r)}function ki(e,r){for(Io[e]=r,e=0;e<r.length;e++)No.add(r[e])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Vo={};function bu(e){return he.call(Vo,e)?!0:he.call(Mo,e)?!1:Oo.test(e)?Vo[e]=!0:(Mo[e]=!0,!1)}function Es(e,r,s){if(bu(r))if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+s)}}function Gn(e,r,s){if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+s)}}function Oe(e,r,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(r,s,""+l)}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zr(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Lo(e,r,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){s=""+v,d.call(this,v)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Zt(e){if(!e._valueTracker){var r=zr(e)?"checked":"value";e._valueTracker=Lo(e,r,""+e[r])}}function Ma(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return e&&(l=zr(e)?e.checked?"true":"false":e.value),e=l,e!==s?(r.setValue(e),!0):!1}function zi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Va=/[\n"\\]/g;function Dn(e){return e.replace(Va,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bs(e,r,s,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),r!=null?v==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+$e(r)):e.value!==""+$e(r)&&(e.value=""+$e(r)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),r!=null?Uo(e,v,$e(r)):s!=null?Uo(e,v,$e(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+$e(T):e.removeAttribute("name")}function Tu(e,r,s,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Zt(e);return}s=s!=null?""+$e(s):"",r=r!=null?""+$e(r):s,T||r===e.value||(e.value=r),e.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Zt(e)}function Uo(e,r,s){r==="number"&&zi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Br(e,r,s,l){if(e=e.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=r.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+$e(s),r=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function Su(e,r,s){if(r!=null&&(r=""+$e(r),r!==e.value&&(e.value=r),s==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=s!=null?""+$e(s):""}function Pr(e,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(oe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=$e(r),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Zt(e)}function Nn(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(e,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,s):typeof s!="number"||s===0||Au.has(r)?r==="float"?e.cssFloat=s:e[r]=(""+s).trim():e[r]=s+"px"}function zo(e,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&ko(e,h,l)}else for(var d in r)r.hasOwnProperty(d)&&ko(e,d,r[d])}function Ts(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(e){return jr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ei(){}var Bo=null;function ai(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qr=null,Bi=null;function La(e){var r=ri(e);if(r&&(e=r.stateNode)){var s=e[Xe]||null;t:switch(e=r.stateNode,r.type){case"input":if(bs(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Dn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==e&&l.form===e.form){var h=l[Xe]||null;if(!h)throw Error(a(90));bs(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===e.form&&Ma(l)}break t;case"textarea":Su(e,s.value,s.defaultValue);break t;case"select":r=s.value,r!=null&&Br(e,!!s.multiple,r,!1)}}}var As=!1;function Hr(e,r,s){if(As)return e(r,s);As=!0;try{var l=e(r);return l}finally{if(As=!1,(qr!==null||Bi!==null)&&(vc(),qr&&(r=qr,e=Bi,Bi=qr=null,La(r),e)))for(r=0;r<e.length;r++)La(e[r])}}function bi(e,r){var s=e.stateNode;if(s===null)return null;var l=s[Xe]||null;if(l===null)return null;s=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ua=!1;if(si)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Ua=!1}var Pi=null,Po=null,ka=null;function jo(){if(ka)return ka;var e,r=Po,s=r.length,l,h="value"in Pi?Pi.value:Pi.textContent,d=h.length;for(e=0;e<s&&r[e]===h[e];e++);var v=s-e;for(l=1;l<=v&&r[s-l]===h[d-l];l++);return ka=h.slice(e,1<l?1-l:void 0)}function za(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function lr(){return!0}function Ti(){return!1}function nn(e){function r(s,l,h,d,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?lr:Ti,this.isPropagationStopped=Ti,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),r}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=nn(ur),Fr=b({},ur,{view:0,detail:0}),qo=nn(Fr),Gr,ws,qi,Rs=b({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(Gr=e.screenX-qi.screenX,ws=e.screenY-qi.screenY):ws=Gr=0,qi=e),Gr)},movementY:function(e){return"movementY"in e?e.movementY:ws}}),Ho=nn(Rs),Ba=b({},Rs,{dataTransfer:0}),Ru=nn(Ba),Cu=b({},Fr,{relatedTarget:0}),Pa=nn(Cu),Fo=b({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=nn(Fo),Cs=b({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Du=nn(Cs),Nu=b({},ur,{data:0}),Hi=nn(Nu),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Mu[e])?!!r[e]:!1}function Yr(){return Vu}var Sn=b({},Fr,{key:function(e){if(e.key){var r=Iu[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=za(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ou[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(e){return e.type==="keypress"?za(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?za(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lu=nn(Sn),Uu=b({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cr=nn(Uu),c=b({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),y=nn(c),_=b({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=nn(_),j=b({},Rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=nn(j),ut=b({},ur,{newState:0,oldState:0}),Rt=nn(ut),Ae=[9,13,27,32],Qt=si&&"CompositionEvent"in window,ge=null;si&&"documentMode"in document&&(ge=document.documentMode);var oi=si&&"TextEvent"in window&&!ge,Fi=si&&(!Qt||ge&&8<ge&&11>=ge),Si=" ",Ai=!1;function ja(e,r){switch(e){case"keyup":return Ae.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ds=!1;function cT(e,r){switch(e){case"compositionend":return xs(r);case"keypress":return r.which!==32?null:(Ai=!0,Si);case"textInput":return e=r.data,e===Si&&Ai?null:e;default:return null}}function hT(e,r){if(Ds)return e==="compositionend"||!Qt&&ja(e,r)?(e=jo(),ka=Po=Pi=null,Ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Fi&&r.locale!=="ko"?null:r.data;default:return null}}var fT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!fT[e.type]:r==="textarea"}function Hg(e,r,s,l){qr?Bi?Bi.push(l):Bi=[l]:qr=l,r=wc(r,"onChange"),0<r.length&&(s=new ji("onChange","change",null,s,l),e.push({event:s,listeners:r}))}var Go=null,Yo=null;function dT(e){wv(e,0)}function ku(e){var r=Fn(e);if(Ma(r))return e}function Fg(e,r){if(e==="change")return r}var Gg=!1;if(si){var Xh;if(si){var $h="oninput"in document;if(!$h){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),$h=typeof Yg.oninput=="function"}Xh=$h}else Xh=!1;Gg=Xh&&(!document.documentMode||9<document.documentMode)}function Qg(){Go&&(Go.detachEvent("onpropertychange",Kg),Yo=Go=null)}function Kg(e){if(e.propertyName==="value"&&ku(Yo)){var r=[];Hg(r,Yo,e,ai(e)),Hr(dT,r)}}function mT(e,r,s){e==="focusin"?(Qg(),Go=r,Yo=s,Go.attachEvent("onpropertychange",Kg)):e==="focusout"&&Qg()}function gT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ku(Yo)}function pT(e,r){if(e==="click")return ku(r)}function yT(e,r){if(e==="input"||e==="change")return ku(r)}function vT(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Yn=typeof Object.is=="function"?Object.is:vT;function Qo(e,r){if(Yn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!he.call(r,h)||!Yn(e[h],r[h]))return!1}return!0}function Xg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $g(e,r){var s=Xg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=r&&l>=r)return{node:s,offset:r-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Xg(s)}}function Zg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Zg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Jg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=zi(e.document);r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=zi(e.document)}return r}function Zh(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var _T=si&&"documentMode"in document&&11>=document.documentMode,Ns=null,Jh=null,Ko=null,Wh=!1;function Wg(e,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Wh||Ns==null||Ns!==zi(l)||(l=Ns,"selectionStart"in l&&Zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Qo(Ko,l)||(Ko=l,l=wc(Jh,"onSelect"),0<l.length&&(r=new ji("onSelect","select",null,r,s),e.push({event:r,listeners:l}),r.target=Ns)))}function qa(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var Is={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},tf={},tp={};si&&(tp=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Ha(e){if(tf[e])return tf[e];if(!Is[e])return e;var r=Is[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in tp)return tf[e]=r[s];return e}var ep=Ha("animationend"),np=Ha("animationiteration"),ip=Ha("animationstart"),ET=Ha("transitionrun"),bT=Ha("transitionstart"),TT=Ha("transitioncancel"),rp=Ha("transitionend"),ap=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function wi(e,r){ap.set(e,r),Ui(r,[e])}var zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},li=[],Os=0,nf=0;function Bu(){for(var e=Os,r=nf=Os=0;r<e;){var s=li[r];li[r++]=null;var l=li[r];li[r++]=null;var h=li[r];li[r++]=null;var d=li[r];if(li[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&sp(s,h,d)}}function Pu(e,r,s,l){li[Os++]=e,li[Os++]=r,li[Os++]=s,li[Os++]=l,nf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function rf(e,r,s,l){return Pu(e,r,s,l),ju(e)}function Fa(e,r){return Pu(e,null,null,r),ju(e)}function sp(e,r,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&r!==null&&(h=31-fe(s),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[r]:l.push(r),r.lane=s|536870912),d):null}function ju(e){if(50<pl)throw pl=0,dd=null,Error(a(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Ms={};function ST(e,r,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,r,s,l){return new ST(e,r,s,l)}function af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hr(e,r){var s=e.alternate;return s===null?(s=Qn(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function op(e,r){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,r=s.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function qu(e,r,s,l,h,d){var v=0;if(l=e,typeof e=="function")af(e)&&(v=1);else if(typeof e=="string")v=xS(e,s,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=Qn(31,s,r,h),e.elementType=x,e.lanes=d,e;case k:return Ga(s.children,h,d,r);case U:v=8,h|=24;break;case K:return e=Qn(12,s,r,h|2),e.elementType=K,e.lanes=d,e;case at:return e=Qn(13,s,r,h),e.elementType=at,e.lanes=d,e;case st:return e=Qn(19,s,r,h),e.elementType=st,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:v=10;break t;case X:v=9;break t;case it:v=11;break t;case R:v=14;break t;case w:v=16,l=null;break t}v=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return r=Qn(v,s,r,h),r.elementType=e,r.type=l,r.lanes=d,r}function Ga(e,r,s,l){return e=Qn(7,e,l,r),e.lanes=s,e}function sf(e,r,s){return e=Qn(6,e,null,r),e.lanes=s,e}function lp(e){var r=Qn(18,null,null,0);return r.stateNode=e,r}function of(e,r,s){return r=Qn(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var up=new WeakMap;function ui(e,r){if(typeof e=="object"&&e!==null){var s=up.get(e);return s!==void 0?s:(r={value:e,source:r,stack:Ur(r)},up.set(e,r),r)}return{value:e,source:r,stack:Ur(r)}}var Vs=[],Ls=0,Hu=null,Xo=0,ci=[],hi=0,Qr=null,Gi=1,Yi="";function fr(e,r){Vs[Ls++]=Xo,Vs[Ls++]=Hu,Hu=e,Xo=r}function cp(e,r,s){ci[hi++]=Gi,ci[hi++]=Yi,ci[hi++]=Qr,Qr=e;var l=Gi;e=Yi;var h=32-fe(l)-1;l&=~(1<<h),s+=1;var d=32-fe(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Gi=1<<32-fe(r)+h|s<<h|l,Yi=d+e}else Gi=1<<d|s<<h|l,Yi=e}function lf(e){e.return!==null&&(fr(e,1),cp(e,1,0))}function uf(e){for(;e===Hu;)Hu=Vs[--Ls],Vs[Ls]=null,Xo=Vs[--Ls],Vs[Ls]=null;for(;e===Qr;)Qr=ci[--hi],ci[hi]=null,Yi=ci[--hi],ci[hi]=null,Gi=ci[--hi],ci[hi]=null}function hp(e,r){ci[hi++]=Gi,ci[hi++]=Yi,ci[hi++]=Qr,Gi=r.id,Yi=r.overflow,Qr=e}var rn=null,le=null,Pt=!1,Kr=null,fi=!1,cf=Error(a(519));function Xr(e){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $o(ui(r,e)),cf}function fp(e){var r=e.stateNode,s=e.type,l=e.memoizedProps;switch(r[Ne]=e,r[Xe]=l,s){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(s=0;s<vl.length;s++)Ot(vl[s],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Tu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Pr(r,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||Dv(r.textContent,s)?(l.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),l.onScroll!=null&&Ot("scroll",r),l.onScrollEnd!=null&&Ot("scrollend",r),l.onClick!=null&&(r.onclick=Ei),r=!0):r=!1,r||Xr(e,!0)}function dp(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:rn=rn.return}}function Us(e){if(e!==rn)return!1;if(!Pt)return dp(e),Pt=!0,!1;var r=e.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||xd(e.type,e.memoizedProps)),s=!s),s&&le&&Xr(e),dp(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=zv(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=zv(e)}else r===27?(r=le,ua(e.type)?(e=Md,Md=null,le=e):le=r):le=rn?mi(e.stateNode.nextSibling):null;return!0}function Ya(){le=rn=null,Pt=!1}function hf(){var e=Kr;return e!==null&&(Vn===null?Vn=e:Vn.push.apply(Vn,e),Kr=null),e}function $o(e){Kr===null?Kr=[e]:Kr.push(e)}var ff=V(null),Qa=null,dr=null;function $r(e,r,s){lt(ff,r._currentValue),r._currentValue=s}function mr(e){e._currentValue=ff.current,J(ff)}function df(e,r,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===s)break;e=e.return}}function mf(e,r,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),df(d.return,s,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),df(v,s,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ks(e,r,s,l){e=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=h.type;Yn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Dt.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Sl):e=[Sl])}h=h.return}e!==null&&mf(r,e,s,l),r.flags|=262144}function Fu(e){for(e=e.firstContext;e!==null;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ka(e){Qa=e,dr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function an(e){return mp(Qa,e)}function Gu(e,r){return Qa===null&&Ka(e),mp(e,r)}function mp(e,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},dr===null){if(e===null)throw Error(a(308));dr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else dr=dr.next=r;return s}var AT=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(s){return s()})}},wT=n.unstable_scheduleCallback,RT=n.unstable_NormalPriority,Me={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new AT,data:new Map,refCount:0}}function Zo(e){e.refCount--,e.refCount===0&&wT(RT,function(){e.controller.abort()})}var Jo=null,pf=0,zs=0,Bs=null;function CT(e,r){if(Jo===null){var s=Jo=[];pf=0,zs=_d(),Bs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return pf++,r.then(gp,gp),r}function gp(){if(--pf===0&&Jo!==null){Bs!==null&&(Bs.status="fulfilled");var e=Jo;Jo=null,zs=0,Bs=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function xT(e,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var pp=Z.S;Z.S=function(e,r){Wy=Qe(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&CT(e,r),pp!==null&&pp(e,r)};var Xa=V(null);function yf(){var e=Xa.current;return e!==null?e:se.pooledCache}function Yu(e,r){r===null?lt(Xa,Xa.current):lt(Xa,r.pool)}function yp(){var e=yf();return e===null?null:{parent:Me._currentValue,pool:e}}var Ps=Error(a(460)),vf=Error(a(474)),Qu=Error(a(542)),Ku={then:function(){}};function vp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _p(e,r,s){switch(s=e[s],s===void 0?e.push(r):s!==r&&(r.then(Ei,Ei),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,bp(e),e;default:if(typeof r.status=="string")r.then(Ei,Ei);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,bp(e),e}throw Za=r,Ps}}function $a(e){try{var r=e._init;return r(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Za=s,Ps):s}}var Za=null;function Ep(){if(Za===null)throw Error(a(459));var e=Za;return Za=null,e}function bp(e){if(e===Ps||e===Qu)throw Error(a(483))}var js=null,Wo=0;function Xu(e){var r=Wo;return Wo+=1,js===null&&(js=[]),_p(js,e,r)}function tl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function $u(e,r){throw r.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(r),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Tp(e){function r(B,L){if(e){var H=B.deletions;H===null?(B.deletions=[L],B.flags|=16):H.push(L)}}function s(B,L){if(!e)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function h(B,L){return B=hr(B,L),B.index=0,B.sibling=null,B}function d(B,L,H){return B.index=H,e?(H=B.alternate,H!==null?(H=H.index,H<L?(B.flags|=67108866,L):H):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function v(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function T(B,L,H,tt){return L===null||L.tag!==6?(L=sf(H,B.mode,tt),L.return=B,L):(L=h(L,H),L.return=B,L)}function I(B,L,H,tt){var pt=H.type;return pt===k?W(B,L,H.props.children,tt,H.key):L!==null&&(L.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&$a(pt)===L.type)?(L=h(L,H.props),tl(L,H),L.return=B,L):(L=qu(H.type,H.key,H.props,null,B.mode,tt),tl(L,H),L.return=B,L)}function F(B,L,H,tt){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=of(H,B.mode,tt),L.return=B,L):(L=h(L,H.children||[]),L.return=B,L)}function W(B,L,H,tt,pt){return L===null||L.tag!==7?(L=Ga(H,B.mode,tt,pt),L.return=B,L):(L=h(L,H),L.return=B,L)}function et(B,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=sf(""+L,B.mode,H),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return H=qu(L.type,L.key,L.props,null,B.mode,H),tl(H,L),H.return=B,H;case P:return L=of(L,B.mode,H),L.return=B,L;case w:return L=$a(L),et(B,L,H)}if(oe(L)||z(L))return L=Ga(L,B.mode,H,null),L.return=B,L;if(typeof L.then=="function")return et(B,Xu(L),H);if(L.$$typeof===$)return et(B,Gu(B,L),H);$u(B,L)}return null}function G(B,L,H,tt){var pt=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pt!==null?null:T(B,L,""+H,tt);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return H.key===pt?I(B,L,H,tt):null;case P:return H.key===pt?F(B,L,H,tt):null;case w:return H=$a(H),G(B,L,H,tt)}if(oe(H)||z(H))return pt!==null?null:W(B,L,H,tt,null);if(typeof H.then=="function")return G(B,L,Xu(H),tt);if(H.$$typeof===$)return G(B,L,Gu(B,H),tt);$u(B,H)}return null}function Q(B,L,H,tt,pt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return B=B.get(H)||null,T(L,B,""+tt,pt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case D:return B=B.get(tt.key===null?H:tt.key)||null,I(L,B,tt,pt);case P:return B=B.get(tt.key===null?H:tt.key)||null,F(L,B,tt,pt);case w:return tt=$a(tt),Q(B,L,H,tt,pt)}if(oe(tt)||z(tt))return B=B.get(H)||null,W(L,B,tt,pt,null);if(typeof tt.then=="function")return Q(B,L,H,Xu(tt),pt);if(tt.$$typeof===$)return Q(B,L,H,Gu(L,tt),pt);$u(L,tt)}return null}function ft(B,L,H,tt){for(var pt=null,Gt=null,dt=L,xt=L=0,Lt=null;dt!==null&&xt<H.length;xt++){dt.index>xt?(Lt=dt,dt=null):Lt=dt.sibling;var Yt=G(B,dt,H[xt],tt);if(Yt===null){dt===null&&(dt=Lt);break}e&&dt&&Yt.alternate===null&&r(B,dt),L=d(Yt,L,xt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt,dt=Lt}if(xt===H.length)return s(B,dt),Pt&&fr(B,xt),pt;if(dt===null){for(;xt<H.length;xt++)dt=et(B,H[xt],tt),dt!==null&&(L=d(dt,L,xt),Gt===null?pt=dt:Gt.sibling=dt,Gt=dt);return Pt&&fr(B,xt),pt}for(dt=l(dt);xt<H.length;xt++)Lt=Q(dt,B,xt,H[xt],tt),Lt!==null&&(e&&Lt.alternate!==null&&dt.delete(Lt.key===null?xt:Lt.key),L=d(Lt,L,xt),Gt===null?pt=Lt:Gt.sibling=Lt,Gt=Lt);return e&&dt.forEach(function(ma){return r(B,ma)}),Pt&&fr(B,xt),pt}function Et(B,L,H,tt){if(H==null)throw Error(a(151));for(var pt=null,Gt=null,dt=L,xt=L=0,Lt=null,Yt=H.next();dt!==null&&!Yt.done;xt++,Yt=H.next()){dt.index>xt?(Lt=dt,dt=null):Lt=dt.sibling;var ma=G(B,dt,Yt.value,tt);if(ma===null){dt===null&&(dt=Lt);break}e&&dt&&ma.alternate===null&&r(B,dt),L=d(ma,L,xt),Gt===null?pt=ma:Gt.sibling=ma,Gt=ma,dt=Lt}if(Yt.done)return s(B,dt),Pt&&fr(B,xt),pt;if(dt===null){for(;!Yt.done;xt++,Yt=H.next())Yt=et(B,Yt.value,tt),Yt!==null&&(L=d(Yt,L,xt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt);return Pt&&fr(B,xt),pt}for(dt=l(dt);!Yt.done;xt++,Yt=H.next())Yt=Q(dt,B,xt,Yt.value,tt),Yt!==null&&(e&&Yt.alternate!==null&&dt.delete(Yt.key===null?xt:Yt.key),L=d(Yt,L,xt),Gt===null?pt=Yt:Gt.sibling=Yt,Gt=Yt);return e&&dt.forEach(function(BS){return r(B,BS)}),Pt&&fr(B,xt),pt}function ae(B,L,H,tt){if(typeof H=="object"&&H!==null&&H.type===k&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case D:t:{for(var pt=H.key;L!==null;){if(L.key===pt){if(pt=H.type,pt===k){if(L.tag===7){s(B,L.sibling),tt=h(L,H.props.children),tt.return=B,B=tt;break t}}else if(L.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&$a(pt)===L.type){s(B,L.sibling),tt=h(L,H.props),tl(tt,H),tt.return=B,B=tt;break t}s(B,L);break}else r(B,L);L=L.sibling}H.type===k?(tt=Ga(H.props.children,B.mode,tt,H.key),tt.return=B,B=tt):(tt=qu(H.type,H.key,H.props,null,B.mode,tt),tl(tt,H),tt.return=B,B=tt)}return v(B);case P:t:{for(pt=H.key;L!==null;){if(L.key===pt)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){s(B,L.sibling),tt=h(L,H.children||[]),tt.return=B,B=tt;break t}else{s(B,L);break}else r(B,L);L=L.sibling}tt=of(H,B.mode,tt),tt.return=B,B=tt}return v(B);case w:return H=$a(H),ae(B,L,H,tt)}if(oe(H))return ft(B,L,H,tt);if(z(H)){if(pt=z(H),typeof pt!="function")throw Error(a(150));return H=pt.call(H),Et(B,L,H,tt)}if(typeof H.then=="function")return ae(B,L,Xu(H),tt);if(H.$$typeof===$)return ae(B,L,Gu(B,H),tt);$u(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(s(B,L.sibling),tt=h(L,H),tt.return=B,B=tt):(s(B,L),tt=sf(H,B.mode,tt),tt.return=B,B=tt),v(B)):s(B,L)}return function(B,L,H,tt){try{Wo=0;var pt=ae(B,L,H,tt);return js=null,pt}catch(dt){if(dt===Ps||dt===Qu)throw dt;var Gt=Qn(29,dt,null,B.mode);return Gt.lanes=tt,Gt.return=B,Gt}}}var Ja=Tp(!0),Sp=Tp(!1),Zr=!1;function _f(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wr(e,r,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=ju(e),sp(e,null,s),r}return Pu(e,l,r,s),ju(e)}function el(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,s|=l,r.lanes=s,mn(e,s)}}function bf(e,r){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}var Tf=!1;function nl(){if(Tf){var e=Bs;if(e!==null)throw e}}function il(e,r,s,l){Tf=!1;var h=e.updateQueue;Zr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,F=I.next;I.next=null,v===null?d=F:v.next=F,v=I;var W=e.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=F:T.next=F,W.lastBaseUpdate=I))}if(d!==null){var et=h.baseState;v=0,W=F=I=null,T=d;do{var G=T.lane&-536870913,Q=G!==T.lane;if(Q?(Vt&G)===G:(l&G)===G){G!==0&&G===zs&&(Tf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ft=e,Et=T;G=r;var ae=s;switch(Et.tag){case 1:if(ft=Et.payload,typeof ft=="function"){et=ft.call(ae,et,G);break t}et=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Et.payload,G=typeof ft=="function"?ft.call(ae,et,G):ft,G==null)break t;et=b({},et,G);break t;case 2:Zr=!0}}G=T.callback,G!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(F=W=Q,I=et):W=W.next=Q,v|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);W===null&&(I=et),h.baseState=I,h.firstBaseUpdate=F,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),ra|=v,e.lanes=v,e.memoizedState=et}}function Ap(e,r){if(typeof e!="function")throw Error(a(191,e));e.call(r)}function wp(e,r){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Ap(s[e],r)}var qs=V(null),Zu=V(0);function Rp(e,r){e=Sr,lt(Zu,e),lt(qs,r),Sr=e|r.baseLanes}function Sf(){lt(Zu,Sr),lt(qs,qs.current)}function Af(){Sr=Zu.current,J(qs),J(Zu)}var Kn=V(null),di=null;function ta(e){var r=e.alternate;lt(we,we.current&1),lt(Kn,e),di===null&&(r===null||qs.current!==null||r.memoizedState!==null)&&(di=e)}function wf(e){lt(we,we.current),lt(Kn,e),di===null&&(di=e)}function Cp(e){e.tag===22?(lt(we,we.current),lt(Kn,e),di===null&&(di=e)):ea()}function ea(){lt(we,we.current),lt(Kn,Kn.current)}function Xn(e){J(Kn),di===e&&(di=null),J(we)}var we=V(0);function Ju(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Id(s)||Od(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gr=0,Ct=null,ie=null,Ve=null,Wu=!1,Hs=!1,Wa=!1,tc=0,rl=0,Fs=null,DT=0;function ve(){throw Error(a(321))}function Rf(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!Yn(e[s],r[s]))return!1;return!0}function Cf(e,r,s,l,h,d){return gr=d,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=e===null||e.memoizedState===null?cy:qf,Wa=!1,d=s(l,h),Wa=!1,Hs&&(d=Dp(r,s,l,h)),xp(e),d}function xp(e){Z.H=ol;var r=ie!==null&&ie.next!==null;if(gr=0,Ve=ie=Ct=null,Wu=!1,rl=0,Fs=null,r)throw Error(a(300));e===null||Le||(e=e.dependencies,e!==null&&Fu(e)&&(Le=!0))}function Dp(e,r,s,l){Ct=e;var h=0;do{if(Hs&&(Fs=null),rl=0,Hs=!1,25<=h)throw Error(a(301));if(h+=1,Ve=ie=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Z.H=hy,d=r(s,l)}while(Hs);return d}function NT(){var e=Z.H,r=e.useState()[0];return r=typeof r.then=="function"?al(r):r,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Ct.flags|=1024),r}function xf(){var e=tc!==0;return tc=0,e}function Df(e,r,s){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s}function Nf(e){if(Wu){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}Wu=!1}gr=0,Ve=ie=Ct=null,Hs=!1,rl=tc=0,Fs=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ct.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Re(){if(ie===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var r=Ve===null?Ct.memoizedState:Ve.next;if(r!==null)Ve=r,ie=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Ve===null?Ct.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var r=rl;return rl+=1,Fs===null&&(Fs=[]),e=_p(Fs,e,r),r=Ct,(Ve===null?r.memoizedState:Ve.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?cy:qf),e}function nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===$)return an(e)}throw Error(a(438,String(e)))}function If(e){var r=null,s=Ct.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=ec(),Ct.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(e),l=0;l<e;l++)s[l]=M;return r.index++,s}function pr(e,r){return typeof r=="function"?r(e):r}function ic(e){var r=Re();return Of(r,ie,e)}function Of(e,r,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{r=h.next;var T=v=null,I=null,F=r,W=!1;do{var et=F.lane&-536870913;if(et!==F.lane?(Vt&et)===et:(gr&et)===et){var G=F.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),et===zs&&(W=!0);else if((gr&G)===G){F=F.next,G===zs&&(W=!0);continue}else et={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=et,v=d):I=I.next=et,Ct.lanes|=G,ra|=G;et=F.action,Wa&&s(d,et),d=F.hasEagerState?F.eagerState:s(d,et)}else G={lane:et,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=G,v=d):I=I.next=G,Ct.lanes|=et,ra|=et;F=F.next}while(F!==null&&F!==r);if(I===null?v=d:I.next=T,!Yn(d,e.memoizedState)&&(Le=!0,W&&(s=Bs,s!==null)))throw s;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Mf(e){var r=Re(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);Yn(d,r.memoizedState)||(Le=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function Np(e,r,s){var l=Ct,h=Re(),d=Pt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var v=!Yn((ie||h).memoizedState,s);if(v&&(h.memoizedState=s,Le=!0),h=h.queue,Uf(Mp.bind(null,l,h,e),[e]),h.getSnapshot!==r||v||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,Gs(9,{destroy:void 0},Op.bind(null,l,h,s,r),null),se===null)throw Error(a(349));d||(gr&127)!==0||Ip(l,r,s)}return s}function Ip(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=Ct.updateQueue,r===null?(r=ec(),Ct.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function Op(e,r,s,l){r.value=s,r.getSnapshot=l,Vp(r)&&Lp(e)}function Mp(e,r,s){return s(function(){Vp(r)&&Lp(e)})}function Vp(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!Yn(e,s)}catch{return!0}}function Lp(e){var r=Fa(e,2);r!==null&&Ln(r,e,2)}function Vf(e){var r=An();if(typeof e=="function"){var s=e;if(e=s(),Wa){hn(!0);try{s()}finally{hn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:e},r}function Up(e,r,s,l){return e.baseState=s,Of(e,ie,typeof l=="function"?l:pr)}function IT(e,r,s,l,h){if(sc(e))throw Error(a(485));if(e=r.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Z.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,kp(r,d)):(d.next=s.next,r.pending=s.next=d)}}function kp(e,r){var s=r.action,l=r.payload,h=e.state;if(r.isTransition){var d=Z.T,v={};Z.T=v;try{var T=s(h,l),I=Z.S;I!==null&&I(v,T),zp(e,r,T)}catch(F){Lf(e,r,F)}finally{d!==null&&v.types!==null&&(d.types=v.types),Z.T=d}}else try{d=s(h,l),zp(e,r,d)}catch(F){Lf(e,r,F)}}function zp(e,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Bp(e,r,l)},function(l){return Lf(e,r,l)}):Bp(e,r,s)}function Bp(e,r,s){r.status="fulfilled",r.value=s,Pp(r),e.state=s,r=e.pending,r!==null&&(s=r.next,s===r?e.pending=null:(s=s.next,r.next=s,kp(e,s)))}function Lf(e,r,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Pp(r),r=r.next;while(r!==l)}e.action=null}function Pp(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function jp(e,r){return r}function qp(e,r){if(Pt){var s=se.formState;if(s!==null){t:{var l=Ct;if(Pt){if(le){e:{for(var h=le,d=fi;h.nodeType!==8;){if(!d){h=null;break e}if(h=mi(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){le=mi(h.nextSibling),l=h.data==="F!";break t}}Xr(l)}l=!1}l&&(r=s[0])}}return s=An(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:r},s.queue=l,s=oy.bind(null,Ct,l),l.dispatch=s,l=Vf(!1),d=jf.bind(null,Ct,!1,l.queue),l=An(),h={state:r,dispatch:null,action:e,pending:null},l.queue=h,s=IT.bind(null,Ct,h,d,s),h.dispatch=s,l.memoizedState=e,[r,s,!1]}function Hp(e){var r=Re();return Fp(r,ie,e)}function Fp(e,r,s){if(r=Of(e,r,jp)[0],e=ic(pr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=al(r)}catch(v){throw v===Ps?Qu:v}else l=r;r=Re();var h=r.queue,d=h.dispatch;return s!==r.memoizedState&&(Ct.flags|=2048,Gs(9,{destroy:void 0},OT.bind(null,h,s),null)),[l,d,e]}function OT(e,r){e.action=r}function Gp(e){var r=Re(),s=ie;if(s!==null)return Fp(r,s,e);Re(),r=r.memoizedState,s=Re();var l=s.queue.dispatch;return s.memoizedState=e,[r,l,!1]}function Gs(e,r,s,l){return e={tag:e,create:s,deps:l,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=ec(),Ct.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,r.lastEffect=e),e}function Yp(){return Re().memoizedState}function rc(e,r,s,l){var h=An();Ct.flags|=e,h.memoizedState=Gs(1|r,{destroy:void 0},s,l===void 0?null:l)}function ac(e,r,s,l){var h=Re();l=l===void 0?null:l;var d=h.memoizedState.inst;ie!==null&&l!==null&&Rf(l,ie.memoizedState.deps)?h.memoizedState=Gs(r,d,s,l):(Ct.flags|=e,h.memoizedState=Gs(1|r,d,s,l))}function Qp(e,r){rc(8390656,8,e,r)}function Uf(e,r){ac(2048,8,e,r)}function MT(e){Ct.flags|=4;var r=Ct.updateQueue;if(r===null)r=ec(),Ct.updateQueue=r,r.events=[e];else{var s=r.events;s===null?r.events=[e]:s.push(e)}}function Kp(e){var r=Re().memoizedState;return MT({ref:r,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function Xp(e,r){return ac(4,2,e,r)}function $p(e,r){return ac(4,4,e,r)}function Zp(e,r){if(typeof r=="function"){e=e();var s=r(e);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Jp(e,r,s){s=s!=null?s.concat([e]):null,ac(4,4,Zp.bind(null,r,e),s)}function kf(){}function Wp(e,r){var s=Re();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&Rf(r,l[1])?l[0]:(s.memoizedState=[e,r],e)}function ty(e,r){var s=Re();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&Rf(r,l[1]))return l[0];if(l=e(),Wa){hn(!0);try{e()}finally{hn(!1)}}return s.memoizedState=[l,r],l}function zf(e,r,s){return s===void 0||(gr&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=r:(e.memoizedState=s,e=ev(),Ct.lanes|=e,ra|=e,s)}function ey(e,r,s,l){return Yn(s,r)?s:qs.current!==null?(e=zf(e,s,l),Yn(e,r)||(Le=!0),e):(gr&42)===0||(gr&1073741824)!==0&&(Vt&261930)===0?(Le=!0,e.memoizedState=s):(e=ev(),Ct.lanes|=e,ra|=e,r)}function ny(e,r,s,l,h){var d=ot.p;ot.p=d!==0&&8>d?d:8;var v=Z.T,T={};Z.T=T,jf(e,!1,r,s);try{var I=h(),F=Z.S;if(F!==null&&F(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=xT(I,l);sl(e,r,W,Jn(e))}else sl(e,r,l,Jn(e))}catch(et){sl(e,r,{then:function(){},status:"rejected",reason:et},Jn())}finally{ot.p=d,v!==null&&T.types!==null&&(v.types=T.types),Z.T=v}}function VT(){}function Bf(e,r,s,l){if(e.tag!==5)throw Error(a(476));var h=iy(e).queue;ny(e,h,r,gt,s===null?VT:function(){return ry(e),s(l)})}function iy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:gt},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:s},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function ry(e){var r=iy(e);r.next===null&&(r=e.alternate.memoizedState),sl(e,r.next.queue,{},Jn())}function Pf(){return an(Sl)}function ay(){return Re().memoizedState}function sy(){return Re().memoizedState}function LT(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var s=Jn();e=Jr(s);var l=Wr(r,e,s);l!==null&&(Ln(l,r,s),el(l,r,s)),r={cache:gf()},e.payload=r;return}r=r.return}}function UT(e,r,s){var l=Jn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},sc(e)?ly(r,s):(s=rf(e,r,s,l),s!==null&&(Ln(s,e,l),uy(s,r,l)))}function oy(e,r,s){var l=Jn();sl(e,r,s,l)}function sl(e,r,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(sc(e))ly(r,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,s);if(h.hasEagerState=!0,h.eagerState=T,Yn(T,v))return Pu(e,r,h,0),se===null&&Bu(),!1}catch{}if(s=rf(e,r,h,l),s!==null)return Ln(s,e,l),uy(s,r,l),!0}return!1}function jf(e,r,s,l){if(l={lane:2,revertLane:_d(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},sc(e)){if(r)throw Error(a(479))}else r=rf(e,s,l,2),r!==null&&Ln(r,e,2)}function sc(e){var r=e.alternate;return e===Ct||r!==null&&r===Ct}function ly(e,r){Hs=Wu=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function uy(e,r,s){if((s&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,s|=l,r.lanes=s,mn(e,s)}}var ol={readContext:an,use:nc,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};ol.useEffectEvent=ve;var cy={readContext:an,use:nc,useCallback:function(e,r){return An().memoizedState=[e,r===void 0?null:r],e},useContext:an,useEffect:Qp,useImperativeHandle:function(e,r,s){s=s!=null?s.concat([e]):null,rc(4194308,4,Zp.bind(null,r,e),s)},useLayoutEffect:function(e,r){return rc(4194308,4,e,r)},useInsertionEffect:function(e,r){rc(4,2,e,r)},useMemo:function(e,r){var s=An();r=r===void 0?null:r;var l=e();if(Wa){hn(!0);try{e()}finally{hn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(e,r,s){var l=An();if(s!==void 0){var h=s(r);if(Wa){hn(!0);try{s(r)}finally{hn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=UT.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var r=An();return e={current:e},r.memoizedState=e},useState:function(e){e=Vf(e);var r=e.queue,s=oy.bind(null,Ct,r);return r.dispatch=s,[e.memoizedState,s]},useDebugValue:kf,useDeferredValue:function(e,r){var s=An();return zf(s,e,r)},useTransition:function(){var e=Vf(!1);return e=ny.bind(null,Ct,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,s){var l=Ct,h=An();if(Pt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),se===null)throw Error(a(349));(Vt&127)!==0||Ip(l,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,Qp(Mp.bind(null,l,d,e),[e]),l.flags|=2048,Gs(9,{destroy:void 0},Op.bind(null,l,d,s,r),null),s},useId:function(){var e=An(),r=se.identifierPrefix;if(Pt){var s=Yi,l=Gi;s=(l&~(1<<32-fe(l)-1)).toString(32)+s,r="_"+r+"R_"+s,s=tc++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=DT++,r="_"+r+"r_"+s.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:Pf,useFormState:qp,useActionState:qp,useOptimistic:function(e){var r=An();r.memoizedState=r.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=jf.bind(null,Ct,!0,s),s.dispatch=r,[e,r]},useMemoCache:If,useCacheRefresh:function(){return An().memoizedState=LT.bind(null,Ct)},useEffectEvent:function(e){var r=An(),s={impl:e};return r.memoizedState=s,function(){if((Kt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},qf={readContext:an,use:nc,useCallback:Wp,useContext:an,useEffect:Uf,useImperativeHandle:Jp,useInsertionEffect:Xp,useLayoutEffect:$p,useMemo:ty,useReducer:ic,useRef:Yp,useState:function(){return ic(pr)},useDebugValue:kf,useDeferredValue:function(e,r){var s=Re();return ey(s,ie.memoizedState,e,r)},useTransition:function(){var e=ic(pr)[0],r=Re().memoizedState;return[typeof e=="boolean"?e:al(e),r]},useSyncExternalStore:Np,useId:ay,useHostTransitionStatus:Pf,useFormState:Hp,useActionState:Hp,useOptimistic:function(e,r){var s=Re();return Up(s,ie,e,r)},useMemoCache:If,useCacheRefresh:sy};qf.useEffectEvent=Kp;var hy={readContext:an,use:nc,useCallback:Wp,useContext:an,useEffect:Uf,useImperativeHandle:Jp,useInsertionEffect:Xp,useLayoutEffect:$p,useMemo:ty,useReducer:Mf,useRef:Yp,useState:function(){return Mf(pr)},useDebugValue:kf,useDeferredValue:function(e,r){var s=Re();return ie===null?zf(s,e,r):ey(s,ie.memoizedState,e,r)},useTransition:function(){var e=Mf(pr)[0],r=Re().memoizedState;return[typeof e=="boolean"?e:al(e),r]},useSyncExternalStore:Np,useId:ay,useHostTransitionStatus:Pf,useFormState:Gp,useActionState:Gp,useOptimistic:function(e,r){var s=Re();return ie!==null?Up(s,ie,e,r):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:If,useCacheRefresh:sy};hy.useEffectEvent=Kp;function Hf(e,r,s,l){r=e.memoizedState,s=s(l,r),s=s==null?r:b({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ff={enqueueSetState:function(e,r,s){e=e._reactInternals;var l=Jn(),h=Jr(l);h.payload=r,s!=null&&(h.callback=s),r=Wr(e,h,l),r!==null&&(Ln(r,e,l),el(r,e,l))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var l=Jn(),h=Jr(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=Wr(e,h,l),r!==null&&(Ln(r,e,l),el(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=Jn(),l=Jr(s);l.tag=2,r!=null&&(l.callback=r),r=Wr(e,l,s),r!==null&&(Ln(r,e,s),el(r,e,s))}};function fy(e,r,s,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Qo(s,l)||!Qo(h,d):!0}function dy(e,r,s,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==e&&Ff.enqueueReplaceState(r,r.state,null)}function ts(e,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(e=e.defaultProps){s===r&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function my(e){zu(e)}function gy(e){console.error(e)}function py(e){zu(e)}function oc(e,r){try{var s=e.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function yy(e,r,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(e,r,s){return s=Jr(s),s.tag=3,s.payload={element:null},s.callback=function(){oc(e,r)},s}function vy(e){return e=Jr(e),e.tag=3,e}function _y(e,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){yy(r,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){yy(r,s,l),typeof h!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function kT(e,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&ks(r,s,h,!0),s=Kn.current,s!==null){switch(s.tag){case 31:case 13:return di===null?_c():s.alternate===null&&_e===0&&(_e=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Ku?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),pd(e,l,h)),!1;case 22:return s.flags|=65536,l===Ku?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),pd(e,l,h)),!1}throw Error(a(435,s.tag))}return pd(e,l,h),_c(),!1}if(Pt)return r=Kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==cf&&(e=Error(a(422),{cause:l}),$o(ui(e,s)))):(l!==cf&&(r=Error(a(423),{cause:l}),$o(ui(r,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=ui(l,s),h=Gf(e.stateNode,l,h),bf(e,h),_e!==4&&(_e=2)),!1;var d=Error(a(520),{cause:l});if(d=ui(d,s),gl===null?gl=[d]:gl.push(d),_e!==4&&(_e=2),r===null)return!0;l=ui(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Gf(s.stateNode,l,e),bf(s,e),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(aa===null||!aa.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=vy(h),_y(h,e,s,l),bf(s,h),!1}s=s.return}while(s!==null);return!1}var Yf=Error(a(461)),Le=!1;function sn(e,r,s,l){r.child=e===null?Sp(r,null,s,l):Ja(r,e.child,s,l)}function Ey(e,r,s,l,h){s=s.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ka(r),l=Cf(e,r,s,v,d,h),T=xf(),e!==null&&!Le?(Df(e,r,h),yr(e,r,h)):(Pt&&T&&lf(r),r.flags|=1,sn(e,r,l,h),r.child)}function by(e,r,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!af(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,Ty(e,r,d,l,h)):(e=qu(s.type,null,l,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!td(e,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Qo,s(v,l)&&e.ref===r.ref)return yr(e,r,h)}return r.flags|=1,e=hr(d,l),e.ref=r.ref,e.return=r,r.child=e}function Ty(e,r,s,l,h){if(e!==null){var d=e.memoizedProps;if(Qo(d,l)&&e.ref===r.ref)if(Le=!1,r.pendingProps=l=d,td(e,h))(e.flags&131072)!==0&&(Le=!0);else return r.lanes=e.lanes,yr(e,r,h)}return Qf(e,r,s,l,h)}function Sy(e,r,s,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(l=r.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,r.child=null;return Ay(e,r,d,s,l)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yu(r,d!==null?d.cachePool:null),d!==null?Rp(r,d):Sf(),Cp(r);else return l=r.lanes=536870912,Ay(e,r,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(Yu(r,d.cachePool),Rp(r,d),ea(),r.memoizedState=null):(e!==null&&Yu(r,null),Sf(),ea());return sn(e,r,h,s),r.child}function ll(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ay(e,r,s,l,h){var d=yf();return d=d===null?null:{parent:Me._currentValue,pool:d},r.memoizedState={baseLanes:s,cachePool:d},e!==null&&Yu(r,null),Sf(),Cp(r),e!==null&&ks(e,r,l,!0),r.childLanes=h,null}function lc(e,r){return r=cc({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function wy(e,r,s){return Ja(r,e.child,null,s),e=lc(r,r.pendingProps),e.flags|=2,Xn(r),r.memoizedState=null,e}function zT(e,r,s){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Pt){if(l.mode==="hidden")return e=lc(r,l),r.lanes=536870912,ll(null,e);if(wf(r),(e=le)?(e=kv(e,fi),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Qr!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},s=lp(e),s.return=r,r.child=s,rn=r,le=null)):e=null,e===null)throw Xr(r);return r.lanes=536870912,null}return lc(r,l)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(wf(r),h)if(r.flags&256)r.flags&=-257,r=wy(e,r,s);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(a(558));else if(Le||ks(e,r,s,!1),h=(s&e.childLanes)!==0,Le||h){if(l=se,l!==null&&(v=En(l,s),v!==0&&v!==d.retryLane))throw d.retryLane=v,Fa(e,v),Ln(l,e,v),Yf;_c(),r=wy(e,r,s)}else e=d.treeContext,le=mi(v.nextSibling),rn=r,Pt=!0,Kr=null,fi=!1,e!==null&&hp(r,e),r=lc(r,l),r.flags|=4096;return r}return e=hr(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function uc(e,r){var s=r.ref;if(s===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(r.flags|=4194816)}}function Qf(e,r,s,l,h){return Ka(r),s=Cf(e,r,s,l,void 0,h),l=xf(),e!==null&&!Le?(Df(e,r,h),yr(e,r,h)):(Pt&&l&&lf(r),r.flags|=1,sn(e,r,s,h),r.child)}function Ry(e,r,s,l,h,d){return Ka(r),r.updateQueue=null,s=Dp(r,l,s,h),xp(e),l=xf(),e!==null&&!Le?(Df(e,r,d),yr(e,r,d)):(Pt&&l&&lf(r),r.flags|=1,sn(e,r,s,d),r.child)}function Cy(e,r,s,l,h){if(Ka(r),r.stateNode===null){var d=Ms,v=s.contextType;typeof v=="object"&&v!==null&&(d=an(v)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ff,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},_f(r),v=s.contextType,d.context=typeof v=="object"&&v!==null?an(v):Ms,d.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Hf(r,s,v,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ff.enqueueReplaceState(d,d.state,null),il(r,l,d,h),nl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var T=r.memoizedProps,I=ts(s,T);d.props=I;var F=d.context,W=s.contextType;v=Ms,typeof W=="object"&&W!==null&&(v=an(W));var et=s.getDerivedStateFromProps;W=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==v)&&dy(r,d,l,v),Zr=!1;var G=r.memoizedState;d.state=G,il(r,l,d,h),nl(),F=r.memoizedState,T||G!==F||Zr?(typeof et=="function"&&(Hf(r,s,et,l),F=r.memoizedState),(I=Zr||fy(r,s,I,l,G,F,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Ef(e,r),v=r.memoizedProps,W=ts(s,v),d.props=W,et=r.pendingProps,G=d.context,F=s.contextType,I=Ms,typeof F=="object"&&F!==null&&(I=an(F)),T=s.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==et||G!==I)&&dy(r,d,l,I),Zr=!1,G=r.memoizedState,d.state=G,il(r,l,d,h),nl();var Q=r.memoizedState;v!==et||G!==Q||Zr||e!==null&&e.dependencies!==null&&Fu(e.dependencies)?(typeof T=="function"&&(Hf(r,s,T,l),Q=r.memoizedState),(W=Zr||fy(r,s,W,l,G,Q,I)||e!==null&&e.dependencies!==null&&Fu(e.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,uc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=Ja(r,e.child,null,h),r.child=Ja(r,null,s,h)):sn(e,r,s,h),r.memoizedState=d.state,e=r.child):e=yr(e,r,h),e}function xy(e,r,s,l){return Ya(),r.flags|=256,sn(e,r,s,l),r.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(e){return{baseLanes:e,cachePool:yp()}}function $f(e,r,s){return e=e!==null?e.childLanes&~s:0,r&&(e|=Zn),e}function Dy(e,r,s){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,e===null){if(Pt){if(h?ta(r):ea(),(e=le)?(e=kv(e,fi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Qr!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},s=lp(e),s.return=r,r.child=s,rn=r,le=null)):e=null,e===null)throw Xr(r);return Od(e)?r.lanes=32:r.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(ea(),h=r.mode,T=cc({mode:"hidden",children:T},h),l=Ga(l,h,s,null),T.return=r,l.return=r,T.sibling=l,r.child=T,l=r.child,l.memoizedState=Xf(s),l.childLanes=$f(e,v,s),r.memoizedState=Kf,ll(null,l)):(ta(r),Zf(r,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(ta(r),r.flags&=-257,r=Jf(e,r,s)):r.memoizedState!==null?(ea(),r.child=e.child,r.flags|=128,r=null):(ea(),T=l.fallback,h=r.mode,l=cc({mode:"visible",children:l.children},h),T=Ga(T,h,s,null),T.flags|=2,l.return=r,T.return=r,l.sibling=T,r.child=l,Ja(r,e.child,null,s),l=r.child,l.memoizedState=Xf(s),l.childLanes=$f(e,v,s),r.memoizedState=Kf,r=ll(null,l));else if(ta(r),Od(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(a(419)),l.stack="",l.digest=v,$o({value:l,source:null,stack:null}),r=Jf(e,r,s)}else if(Le||ks(e,r,s,!1),v=(s&e.childLanes)!==0,Le||v){if(v=se,v!==null&&(l=En(v,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Fa(e,l),Ln(v,e,l),Yf;Id(T)||_c(),r=Jf(e,r,s)}else Id(T)?(r.flags|=192,r.child=e.child,r=null):(e=I.treeContext,le=mi(T.nextSibling),rn=r,Pt=!0,Kr=null,fi=!1,e!==null&&hp(r,e),r=Zf(r,l.children),r.flags|=4096);return r}return h?(ea(),T=l.fallback,h=r.mode,I=e.child,F=I.sibling,l=hr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?T=hr(F,T):(T=Ga(T,h,s,null),T.flags|=2),T.return=r,l.return=r,l.sibling=T,r.child=l,ll(null,l),l=r.child,T=e.child.memoizedState,T===null?T=Xf(s):(h=T.cachePool,h!==null?(I=Me._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=yp(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=$f(e,v,s),r.memoizedState=Kf,ll(e.child,l)):(ta(r),s=e.child,e=s.sibling,s=hr(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,e!==null&&(v=r.deletions,v===null?(r.deletions=[e],r.flags|=16):v.push(e)),r.child=s,r.memoizedState=null,s)}function Zf(e,r){return r=cc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function cc(e,r){return e=Qn(22,e,null,r),e.lanes=0,e}function Jf(e,r,s){return Ja(r,e.child,null,s),e=Zf(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Ny(e,r,s){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),df(e.return,r,s)}function Wf(e,r,s,l,h,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=s,v.tailMode=h,v.treeForkCount=d)}function Iy(e,r,s){var l=r.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=we.current,T=(v&2)!==0;if(T?(v=v&1|2,r.flags|=128):v&=1,lt(we,v),sn(e,r,l,s),l=Pt?Xo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ny(e,s,r);else if(e.tag===19)Ny(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=r.child,h=null;s!==null;)e=s.alternate,e!==null&&Ju(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),Wf(r,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&Ju(e)===null){r.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Wf(r,!0,s,null,d,l);break;case"together":Wf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function yr(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),ra|=r.lanes,(s&r.childLanes)===0)if(e!==null){if(ks(e,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(a(153));if(r.child!==null){for(e=r.child,s=hr(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=hr(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function td(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Fu(e)))}function BT(e,r,s){switch(r.tag){case 3:te(r,r.stateNode.containerInfo),$r(r,Me,e.memoizedState.cache),Ya();break;case 27:case 5:Mt(r);break;case 4:te(r,r.stateNode.containerInfo);break;case 10:$r(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,wf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(ta(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Dy(e,r,s):(ta(r),e=yr(e,r,s),e!==null?e.sibling:null);ta(r);break;case 19:var h=(e.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(ks(e,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return Iy(e,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(we,we.current),l)break;return null;case 22:return r.lanes=0,Sy(e,r,s,r.pendingProps);case 24:$r(r,Me,e.memoizedState.cache)}return yr(e,r,s)}function Oy(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps)Le=!0;else{if(!td(e,s)&&(r.flags&128)===0)return Le=!1,BT(e,r,s);Le=(e.flags&131072)!==0}else Le=!1,Pt&&(r.flags&1048576)!==0&&cp(r,Xo,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(e=$a(r.elementType),r.type=e,typeof e=="function")af(e)?(l=ts(e,l),r.tag=1,r=Cy(null,r,e,l,s)):(r.tag=0,r=Qf(null,r,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===it){r.tag=11,r=Ey(null,r,e,l,s);break t}else if(h===R){r.tag=14,r=by(null,r,e,l,s);break t}}throw r=zt(e)||e,Error(a(306,r,""))}}return r;case 0:return Qf(e,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=ts(l,r.pendingProps),Cy(e,r,l,h,s);case 3:t:{if(te(r,r.stateNode.containerInfo),e===null)throw Error(a(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Ef(e,r),il(r,l,null,s);var v=r.memoizedState;if(l=v.cache,$r(r,Me,l),l!==d.cache&&mf(r,[Me],s,!0),nl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=xy(e,r,l,s);break t}else if(l!==h){h=ui(Error(a(424)),r),$o(h),r=xy(e,r,l,s);break t}else for(e=r.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,le=mi(e.firstChild),rn=r,Pt=!0,Kr=null,fi=!0,s=Sp(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ya(),l===h){r=yr(e,r,s);break t}sn(e,r,l,s)}r=r.child}return r;case 26:return uc(e,r),e===null?(s=Hv(r.type,null,r.pendingProps,null))?r.memoizedState=s:Pt||(s=r.type,e=r.pendingProps,l=Rc(yt.current).createElement(s),l[Ne]=r,l[Xe]=e,on(l,s,e),Ie(l),r.stateNode=l):r.memoizedState=Hv(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Mt(r),e===null&&Pt&&(l=r.stateNode=Pv(r.type,r.pendingProps,yt.current),rn=r,fi=!0,h=le,ua(r.type)?(Md=h,le=mi(l.firstChild)):le=h),sn(e,r,r.pendingProps.children,s),uc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Pt&&((h=l=le)&&(l=gS(l,r.type,r.pendingProps,fi),l!==null?(r.stateNode=l,rn=r,le=mi(l.firstChild),fi=!1,h=!0):h=!1),h||Xr(r)),Mt(r),h=r.type,d=r.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,xd(h,d)?l=null:v!==null&&xd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Cf(e,r,NT,null,null,s),Sl._currentValue=h),uc(e,r),sn(e,r,l,s),r.child;case 6:return e===null&&Pt&&((e=s=le)&&(s=pS(s,r.pendingProps,fi),s!==null?(r.stateNode=s,rn=r,le=null,e=!0):e=!1),e||Xr(r)),null;case 13:return Dy(e,r,s);case 4:return te(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Ja(r,null,l,s):sn(e,r,l,s),r.child;case 11:return Ey(e,r,r.type,r.pendingProps,s);case 7:return sn(e,r,r.pendingProps,s),r.child;case 8:return sn(e,r,r.pendingProps.children,s),r.child;case 12:return sn(e,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,$r(r,r.type,l.value),sn(e,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ka(r),h=an(h),l=l(h),r.flags|=1,sn(e,r,l,s),r.child;case 14:return by(e,r,r.type,r.pendingProps,s);case 15:return Ty(e,r,r.type,r.pendingProps,s);case 19:return Iy(e,r,s);case 31:return zT(e,r,s);case 22:return Sy(e,r,s,r.pendingProps);case 24:return Ka(r),l=an(Me),e===null?(h=yf(),h===null&&(h=se,d=gf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:l,cache:h},_f(r),$r(r,Me,h)):((e.lanes&s)!==0&&(Ef(e,r),il(r,null,null,s),nl()),h=e.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),$r(r,Me,l)):(l=d.cache,$r(r,Me,l),l!==h.cache&&mf(r,[Me],s,!0))),sn(e,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function vr(e){e.flags|=4}function ed(e,r,s,l,h){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(av())e.flags|=8192;else throw Za=Ku,vf}else e.flags&=-16777217}function My(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Kv(r))if(av())e.flags|=8192;else throw Za=Ku,vf}function hc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Ke():536870912,e.lanes|=r,Xs|=r)}function ul(e,r){if(!Pt)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ue(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(r)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,r}function PT(e,r,s){var l=r.pendingProps;switch(uf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(r),null;case 1:return ue(r),null;case 3:return s=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),mr(Me),qt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Us(r)?vr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,hf())),ue(r),null;case 26:var h=r.type,d=r.memoizedState;return e===null?(vr(r),d!==null?(ue(r),My(r,d)):(ue(r),ed(r,h,null,l,s))):d?d!==e.memoizedState?(vr(r),ue(r),My(r,d)):(ue(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&vr(r),ue(r),ed(r,h,e,l,s)),null;case 27:if(ti(r),s=yt.current,h=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&vr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ue(r),null}e=ct.current,Us(r)?fp(r):(e=Pv(h,l,s),r.stateNode=e,vr(r))}return ue(r),null;case 5:if(ti(r),h=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&vr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ue(r),null}if(d=ct.current,Us(r))fp(r);else{var v=Rc(yt.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Ne]=r,d[Xe]=l;t:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break t;for(;v.sibling===null;){if(v.return===null||v.return===r)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;t:switch(on(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&vr(r)}}return ue(r),ed(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,s),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&vr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(e=yt.current,Us(r)){if(e=r.stateNode,s=r.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ne]=r,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Dv(e.nodeValue,s)),e||Xr(r,!0)}else e=Rc(e).createTextNode(l),e[Ne]=r,r.stateNode=e}return ue(r),null;case 31:if(s=r.memoizedState,e===null||e.memoizedState!==null){if(l=Us(r),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ne]=r}else Ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),e=!1}else s=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return r.flags&256?(Xn(r),r):(Xn(r),null);if((r.flags&128)!==0)throw Error(a(558))}return ue(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Us(r),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ne]=r}else Ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),h=!1}else h=hf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Xn(r),r):(Xn(r),null)}return Xn(r),(r.flags&128)!==0?(r.lanes=s,r):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==e&&s&&(r.child.flags|=8192),hc(r,r.updateQueue),ue(r),null);case 4:return qt(),e===null&&Sd(r.stateNode.containerInfo),ue(r),null;case 10:return mr(r.type),ue(r),null;case 19:if(J(we),l=r.memoizedState,l===null)return ue(r),null;if(h=(r.flags&128)!==0,d=l.rendering,d===null)if(h)ul(l,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=Ju(e),d!==null){for(r.flags|=128,ul(l,!1),e=d.updateQueue,r.updateQueue=e,hc(r,e),r.subtreeFlags=0,e=s,s=r.child;s!==null;)op(s,e),s=s.sibling;return lt(we,we.current&1|2),Pt&&fr(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&Qe()>pc&&(r.flags|=128,h=!0,ul(l,!1),r.lanes=4194304)}else{if(!h)if(e=Ju(d),e!==null){if(r.flags|=128,h=!0,e=e.updateQueue,r.updateQueue=e,hc(r,e),ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pt)return ue(r),null}else 2*Qe()-l.renderingStartTime>pc&&s!==536870912&&(r.flags|=128,h=!0,ul(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(e=l.last,e!==null?e.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Qe(),e.sibling=null,s=we.current,lt(we,h?s&1|2:s&1),Pt&&fr(r,l.treeForkCount),e):(ue(r),null);case 22:case 23:return Xn(r),Af(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(ue(r),r.subtreeFlags&6&&(r.flags|=8192)):ue(r),s=r.updateQueue,s!==null&&hc(r,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),e!==null&&J(Xa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),mr(Me),ue(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function jT(e,r){switch(uf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return mr(Me),qt(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return ti(r),null;case 31:if(r.memoizedState!==null){if(Xn(r),r.alternate===null)throw Error(a(340));Ya()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(Xn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Ya()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return J(we),null;case 4:return qt(),null;case 10:return mr(r.type),null;case 22:case 23:return Xn(r),Af(),e!==null&&J(Xa),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return mr(Me),null;case 25:return null;default:return null}}function Vy(e,r){switch(uf(r),r.tag){case 3:mr(Me),qt();break;case 26:case 27:case 5:ti(r);break;case 4:qt();break;case 31:r.memoizedState!==null&&Xn(r);break;case 13:Xn(r);break;case 19:J(we);break;case 10:mr(r.type);break;case 22:case 23:Xn(r),Af(),e!==null&&J(Xa);break;case 24:mr(Me)}}function cl(e,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==h)}}catch(T){Wt(r,r.return,T)}}function na(e,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var I=s,F=T;try{F()}catch(W){Wt(h,I,W)}}}l=l.next}while(l!==d)}}catch(W){Wt(r,r.return,W)}}function Ly(e){var r=e.updateQueue;if(r!==null){var s=e.stateNode;try{wp(r,s)}catch(l){Wt(e,e.return,l)}}}function Uy(e,r,s){s.props=ts(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Wt(e,r,l)}}function hl(e,r){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Wt(e,r,h)}}function Qi(e,r){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,r,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Wt(e,r,h)}else s.current=null}function ky(e){var r=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Wt(e,e.return,h)}}function nd(e,r,s){try{var l=e.stateNode;uS(l,e.type,s,r),l[Xe]=r}catch(h){Wt(e,e.return,h)}}function zy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ua(e.type)||e.tag===4}function id(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||zy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rd(e,r,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(e),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Ei));else if(l!==4&&(l===27&&ua(e.type)&&(s=e.stateNode,r=null),e=e.child,e!==null))for(rd(e,r,s),e=e.sibling;e!==null;)rd(e,r,s),e=e.sibling}function fc(e,r,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(l!==4&&(l===27&&ua(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(fc(e,r,s),e=e.sibling;e!==null;)fc(e,r,s),e=e.sibling}function By(e){var r=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);on(r,l,s),r[Ne]=e,r[Xe]=s}catch(d){Wt(e,e.return,d)}}var _r=!1,Ue=!1,ad=!1,Py=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function qT(e,r){if(e=e.containerInfo,Rd=Mc,e=Jg(e),Zh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var v=0,T=-1,I=-1,F=0,W=0,et=e,G=null;e:for(;;){for(var Q;et!==s||h!==0&&et.nodeType!==3||(T=v+h),et!==d||l!==0&&et.nodeType!==3||(I=v+l),et.nodeType===3&&(v+=et.nodeValue.length),(Q=et.firstChild)!==null;)G=et,et=Q;for(;;){if(et===e)break e;if(G===s&&++F===h&&(T=v),G===d&&++W===l&&(I=v),(Q=et.nextSibling)!==null)break;et=G,G=et.parentNode}et=Q}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Cd={focusedElem:e,selectionRange:s},Mc=!1,Ze=r;Ze!==null;)if(r=Ze,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Ze=e;else for(;Ze!==null;){switch(r=Ze,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var ft=ts(s.type,h);e=l.getSnapshotBeforeUpdate(ft,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){Wt(s,s.return,Et)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,s=e.nodeType,s===9)Nd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=r.sibling,e!==null){e.return=r.return,Ze=e;break}Ze=r.return}}function jy(e,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:br(e,s),l&4&&cl(5,s);break;case 1:if(br(e,s),l&4)if(e=s.stateNode,r===null)try{e.componentDidMount()}catch(v){Wt(s,s.return,v)}else{var h=ts(s.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(h,r,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Wt(s,s.return,v)}}l&64&&Ly(s),l&512&&hl(s,s.return);break;case 3:if(br(e,s),l&64&&(e=s.updateQueue,e!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{wp(e,r)}catch(v){Wt(s,s.return,v)}}break;case 27:r===null&&l&4&&By(s);case 26:case 5:br(e,s),r===null&&l&4&&ky(s),l&512&&hl(s,s.return);break;case 12:br(e,s);break;case 31:br(e,s),l&4&&Fy(e,s);break;case 13:br(e,s),l&4&&Gy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=ZT.bind(null,s),yS(e,s))));break;case 22:if(l=s.memoizedState!==null||_r,!l){r=r!==null&&r.memoizedState!==null||Ue,h=_r;var d=Ue;_r=l,(Ue=r)&&!d?Tr(e,s,(s.subtreeFlags&8772)!==0):br(e,s),_r=h,Ue=d}break;case 30:break;default:br(e,s)}}function qy(e){var r=e.alternate;r!==null&&(e.alternate=null,qy(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&_s(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,In=!1;function Er(e,r,s){for(s=s.child;s!==null;)Hy(e,r,s),s=s.sibling}function Hy(e,r,s){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(jn,s)}catch{}switch(s.tag){case 26:Ue||Qi(s,r),Er(e,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ue||Qi(s,r);var l=pe,h=In;ua(s.type)&&(pe=s.stateNode,In=!1),Er(e,r,s),El(s.stateNode),pe=l,In=h;break;case 5:Ue||Qi(s,r);case 6:if(l=pe,h=In,pe=null,Er(e,r,s),pe=l,In=h,pe!==null)if(In)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(s.stateNode)}catch(d){Wt(s,r,d)}else try{pe.removeChild(s.stateNode)}catch(d){Wt(s,r,d)}break;case 18:pe!==null&&(In?(e=pe,Lv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),io(e)):Lv(pe,s.stateNode));break;case 4:l=pe,h=In,pe=s.stateNode.containerInfo,In=!0,Er(e,r,s),pe=l,In=h;break;case 0:case 11:case 14:case 15:na(2,s,r),Ue||na(4,s,r),Er(e,r,s);break;case 1:Ue||(Qi(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Uy(s,r,l)),Er(e,r,s);break;case 21:Er(e,r,s);break;case 22:Ue=(l=Ue)||s.memoizedState!==null,Er(e,r,s),Ue=l;break;default:Er(e,r,s)}}function Fy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{io(e)}catch(s){Wt(r,r.return,s)}}}function Gy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{io(e)}catch(s){Wt(r,r.return,s)}}function HT(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Py),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Py),r;default:throw Error(a(435,e.tag))}}function dc(e,r){var s=HT(e);r.forEach(function(l){if(!s.has(l)){s.add(l);var h=JT.bind(null,e,l);l.then(h,h)}})}function On(e,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,v=r,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(ua(T.type)){pe=T.stateNode,In=!1;break t}break;case 5:pe=T.stateNode,In=!1;break t;case 3:case 4:pe=T.stateNode.containerInfo,In=!0;break t}T=T.return}if(pe===null)throw Error(a(160));Hy(d,v,h),pe=null,In=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Yy(r,e),r=r.sibling}var Ri=null;function Yy(e,r){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:On(r,e),Mn(e),l&4&&(na(3,e,e.return),cl(3,e),na(5,e,e.return));break;case 1:On(r,e),Mn(e),l&512&&(Ue||s===null||Qi(s,s.return)),l&64&&_r&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Ri;if(On(r,e),Mn(e),l&512&&(Ue||s===null||Qi(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Mi]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),on(d,l,s),d[Ne]=e,Ie(d),l=d;break t;case"link":var v=Yv("link","href",h).get(l+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),on(d,l,s),h.head.appendChild(d);break;case"meta":if(v=Yv("meta","content",h).get(l+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break e}}d=h.createElement(l),on(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Ne]=e,Ie(d),l=d}e.stateNode=l}else Qv(h,e.type,e.stateNode);else e.stateNode=Gv(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?Qv(h,e.type,e.stateNode):Gv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&nd(e,e.memoizedProps,s.memoizedProps)}break;case 27:On(r,e),Mn(e),l&512&&(Ue||s===null||Qi(s,s.return)),s!==null&&l&4&&nd(e,e.memoizedProps,s.memoizedProps);break;case 5:if(On(r,e),Mn(e),l&512&&(Ue||s===null||Qi(s,s.return)),e.flags&32){h=e.stateNode;try{Nn(h,"")}catch(ft){Wt(e,e.return,ft)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,nd(e,h,s!==null?s.memoizedProps:h)),l&1024&&(ad=!0);break;case 6:if(On(r,e),Mn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ft){Wt(e,e.return,ft)}}break;case 3:if(Dc=null,h=Ri,Ri=Cc(r.containerInfo),On(r,e),Ri=h,Mn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{io(r.containerInfo)}catch(ft){Wt(e,e.return,ft)}ad&&(ad=!1,Qy(e));break;case 4:l=Ri,Ri=Cc(e.stateNode.containerInfo),On(r,e),Mn(e),Ri=l;break;case 12:On(r,e),Mn(e);break;case 31:On(r,e),Mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,dc(e,l)));break;case 13:On(r,e),Mn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(gc=Qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,dc(e,l)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,F=_r,W=Ue;if(_r=F||h,Ue=W||I,On(r,e),Ue=W,_r=F,Mn(e),l&8192)t:for(r=e.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||I||_r||Ue||es(e)),s=null,r=e;;){if(r.tag===5||r.tag===26){if(s===null){I=s=r;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var et=I.memoizedProps.style,G=et!=null&&et.hasOwnProperty("display")?et.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ft){Wt(I,I.return,ft)}}}else if(r.tag===6){if(s===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ft){Wt(I,I.return,ft)}}}else if(r.tag===18){if(s===null){I=r;try{var Q=I.stateNode;h?Uv(Q,!0):Uv(I.stateNode,!1)}catch(ft){Wt(I,I.return,ft)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,dc(e,s))));break;case 19:On(r,e),Mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,dc(e,l)));break;case 30:break;case 21:break;default:On(r,e),Mn(e)}}function Mn(e){var r=e.flags;if(r&2){try{for(var s,l=e.return;l!==null;){if(zy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=id(e);fc(e,d,h);break;case 5:var v=s.stateNode;s.flags&32&&(Nn(v,""),s.flags&=-33);var T=id(e);fc(e,T,v);break;case 3:case 4:var I=s.stateNode.containerInfo,F=id(e);rd(e,F,I);break;default:throw Error(a(161))}}catch(W){Wt(e,e.return,W)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Qy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function br(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)jy(e,r.alternate,r),r=r.sibling}function es(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:na(4,r,r.return),es(r);break;case 1:Qi(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Uy(r,r.return,s),es(r);break;case 27:El(r.stateNode);case 26:case 5:Qi(r,r.return),es(r);break;case 22:r.memoizedState===null&&es(r);break;case 30:es(r);break;default:es(r)}e=e.sibling}}function Tr(e,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=e,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,s),cl(4,d);break;case 1:if(Tr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Wt(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Ap(I[h],T)}catch(F){Wt(l,l.return,F)}}s&&v&64&&Ly(d),hl(d,d.return);break;case 27:By(d);case 26:case 5:Tr(h,d,s),s&&l===null&&v&4&&ky(d),hl(d,d.return);break;case 12:Tr(h,d,s);break;case 31:Tr(h,d,s),s&&v&4&&Fy(h,d);break;case 13:Tr(h,d,s),s&&v&4&&Gy(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,s),hl(d,d.return);break;case 30:break;default:Tr(h,d,s)}r=r.sibling}}function sd(e,r){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Zo(s))}function od(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Zo(e))}function Ci(e,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ky(e,r,s,l),r=r.sibling}function Ky(e,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ci(e,r,s,l),h&2048&&cl(9,r);break;case 1:Ci(e,r,s,l);break;case 3:Ci(e,r,s,l),h&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Zo(e)));break;case 12:if(h&2048){Ci(e,r,s,l),e=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Wt(r,r.return,I)}}else Ci(e,r,s,l);break;case 31:Ci(e,r,s,l);break;case 13:Ci(e,r,s,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Ci(e,r,s,l):fl(e,r):d._visibility&2?Ci(e,r,s,l):(d._visibility|=2,Ys(e,r,s,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&sd(v,r);break;case 24:Ci(e,r,s,l),h&2048&&od(r.alternate,r);break;default:Ci(e,r,s,l)}}function Ys(e,r,s,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,v=r,T=s,I=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:Ys(d,v,T,I,h),cl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Ys(d,v,T,I,h):fl(d,v):(W._visibility|=2,Ys(d,v,T,I,h)),h&&F&2048&&sd(v.alternate,v);break;case 24:Ys(d,v,T,I,h),h&&F&2048&&od(v.alternate,v);break;default:Ys(d,v,T,I,h)}r=r.sibling}}function fl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=e,l=r,h=l.flags;switch(l.tag){case 22:fl(s,l),h&2048&&sd(l.alternate,l);break;case 24:fl(s,l),h&2048&&od(l.alternate,l);break;default:fl(s,l)}r=r.sibling}}var dl=8192;function Qs(e,r,s){if(e.subtreeFlags&dl)for(e=e.child;e!==null;)Xy(e,r,s),e=e.sibling}function Xy(e,r,s){switch(e.tag){case 26:Qs(e,r,s),e.flags&dl&&e.memoizedState!==null&&DS(s,Ri,e.memoizedState,e.memoizedProps);break;case 5:Qs(e,r,s);break;case 3:case 4:var l=Ri;Ri=Cc(e.stateNode.containerInfo),Qs(e,r,s),Ri=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=dl,dl=16777216,Qs(e,r,s),dl=l):Qs(e,r,s));break;default:Qs(e,r,s)}}function $y(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function ml(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Ze=l,Jy(l,e)}$y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zy(e),e=e.sibling}function Zy(e){switch(e.tag){case 0:case 11:case 15:ml(e),e.flags&2048&&na(9,e,e.return);break;case 3:ml(e);break;case 12:ml(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,mc(e)):ml(e);break;default:ml(e)}}function mc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Ze=l,Jy(l,e)}$y(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:na(8,r,r.return),mc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,mc(r));break;default:mc(r)}e=e.sibling}}function Jy(e,r){for(;Ze!==null;){var s=Ze;switch(s.tag){case 0:case 11:case 15:na(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ze=l;else t:for(s=e;Ze!==null;){l=Ze;var h=l.sibling,d=l.return;if(qy(l),l===s){Ze=null;break t}if(h!==null){h.return=d,Ze=h;break t}Ze=d}}}var FT={getCacheForType:function(e){var r=an(Me),s=r.data.get(e);return s===void 0&&(s=e(),r.data.set(e,s)),s},cacheSignal:function(){return an(Me).controller.signal}},GT=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,It=null,Vt=0,Jt=0,$n=null,ia=!1,Ks=!1,ld=!1,Sr=0,_e=0,ra=0,ns=0,ud=0,Zn=0,Xs=0,gl=null,Vn=null,cd=!1,gc=0,Wy=0,pc=1/0,yc=null,aa=null,Pe=0,sa=null,$s=null,Ar=0,hd=0,fd=null,tv=null,pl=0,dd=null;function Jn(){return(Kt&2)!==0&&Vt!==0?Vt&-Vt:Z.T!==null?_d():Hn()}function ev(){if(Zn===0)if((Vt&536870912)===0||Pt){var e=or;or<<=1,(or&3932160)===0&&(or=262144),Zn=e}else Zn=536870912;return e=Kn.current,e!==null&&(e.flags|=32),Zn}function Ln(e,r,s){(e===se&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Zs(e,0),oa(e,Vt,Zn,!1)),xn(e,s),((Kt&2)===0||e!==se)&&(e===se&&((Kt&2)===0&&(ns|=s),_e===4&&oa(e,Vt,Zn,!1)),Ki(e))}function nv(e,r,s){if((Kt&6)!==0)throw Error(a(327));var l=!s&&(r&127)===0&&(r&e.expiredLanes)===0||De(e,r),h=l?KT(e,r):gd(e,r,!0),d=l;do{if(h===0){Ks&&!l&&oa(e,r,0,!1);break}else{if(s=e.current.alternate,d&&!YT(s)){h=gd(e,r,!1),d=!1;continue}if(h===2){if(d=r,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var T=e;h=gl;var I=T.current.memoizedState.isDehydrated;if(I&&(Zs(T,v).flags|=256),v=gd(T,v,!1),v!==2){if(ld&&!I){T.errorRecoveryDisabledLanes|=d,ns|=d,h=4;break t}d=Vn,Vn=h,d!==null&&(Vn===null?Vn=d:Vn.push.apply(Vn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Zs(e,0),oa(e,r,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:oa(l,r,Zn,!ia);break t;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(h=gc+300-Qe(),10<h)){if(oa(l,r,Zn,!ia),me(l,0,!0)!==0)break t;Ar=r,l.timeoutHandle=Mv(iv.bind(null,l,s,Vn,yc,cd,r,Zn,ns,Xs,ia,d,"Throttled",-0,0),h);break t}iv(l,s,Vn,yc,cd,r,Zn,ns,Xs,ia,d,null,-0,0)}}break}while(!0);Ki(e)}function iv(e,r,s,l,h,d,v,T,I,F,W,et,G,Q){if(e.timeoutHandle=-1,et=r.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ei},Xy(r,d,et);var ft=(d&62914560)===d?gc-Qe():(d&4194048)===d?Wy-Qe():0;if(ft=NS(et,ft),ft!==null){Ar=d,e.cancelPendingCommit=ft(hv.bind(null,e,r,d,s,l,h,v,T,I,W,et,null,G,Q)),oa(e,d,v,!F);return}}hv(e,r,d,s,l,h,v,T,I)}function YT(e){for(var r=e;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Yn(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function oa(e,r,s,l){r&=~ud,r&=~ns,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var h=r;0<h;){var d=31-fe(h),v=1<<d;l[d]=-1,h&=~v}s!==0&&dn(e,s,r)}function vc(){return(Kt&6)===0?(yl(0),!1):!0}function md(){if(It!==null){if(Jt===0)var e=It.return;else e=It,dr=Qa=null,Nf(e),js=null,Wo=0,e=It;for(;e!==null;)Vy(e.alternate,e),e=e.return;It=null}}function Zs(e,r){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,fS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ar=0,md(),se=e,It=s=hr(e.current,null),Vt=r,Jt=0,$n=null,ia=!1,Ks=De(e,r),ld=!1,Xs=Zn=ud=ns=ra=_e=0,Vn=gl=null,cd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var h=31-fe(l),d=1<<h;r|=e[h],l&=~d}return Sr=r,Bu(),s}function rv(e,r){Ct=null,Z.H=ol,r===Ps||r===Qu?(r=Ep(),Jt=3):r===vf?(r=Ep(),Jt=4):Jt=r===Yf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,$n=r,It===null&&(_e=1,oc(e,ui(r,e.current)))}function av(){var e=Kn.current;return e===null?!0:(Vt&4194048)===Vt?di===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===di:!1}function sv(){var e=Z.H;return Z.H=ol,e===null?ol:e}function ov(){var e=Z.A;return Z.A=FT,e}function _c(){_e=4,ia||(Vt&4194048)!==Vt&&Kn.current!==null||(Ks=!0),(ra&134217727)===0&&(ns&134217727)===0||se===null||oa(se,Vt,Zn,!1)}function gd(e,r,s){var l=Kt;Kt|=2;var h=sv(),d=ov();(se!==e||Vt!==r)&&(yc=null,Zs(e,r)),r=!1;var v=_e;t:do try{if(Jt!==0&&It!==null){var T=It,I=$n;switch(Jt){case 8:md(),v=6;break t;case 3:case 2:case 9:case 6:Kn.current===null&&(r=!0);var F=Jt;if(Jt=0,$n=null,Js(e,T,I,F),s&&Ks){v=0;break t}break;default:F=Jt,Jt=0,$n=null,Js(e,T,I,F)}}QT(),v=_e;break}catch(W){rv(e,W)}while(!0);return r&&e.shellSuspendCounter++,dr=Qa=null,Kt=l,Z.H=h,Z.A=d,It===null&&(se=null,Vt=0,Bu()),v}function QT(){for(;It!==null;)lv(It)}function KT(e,r){var s=Kt;Kt|=2;var l=sv(),h=ov();se!==e||Vt!==r?(yc=null,pc=Qe()+500,Zs(e,r)):Ks=De(e,r);t:do try{if(Jt!==0&&It!==null){r=It;var d=$n;e:switch(Jt){case 1:Jt=0,$n=null,Js(e,r,d,1);break;case 2:case 9:if(vp(d)){Jt=0,$n=null,uv(r);break}r=function(){Jt!==2&&Jt!==9||se!==e||(Jt=7),Ki(e)},d.then(r,r);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:vp(d)?(Jt=0,$n=null,uv(r)):(Jt=0,$n=null,Js(e,r,d,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var T=It;if(v?Kv(v):T.stateNode.complete){Jt=0,$n=null;var I=T.sibling;if(I!==null)It=I;else{var F=T.return;F!==null?(It=F,Ec(F)):It=null}break e}}Jt=0,$n=null,Js(e,r,d,5);break;case 6:Jt=0,$n=null,Js(e,r,d,6);break;case 8:md(),_e=6;break t;default:throw Error(a(462))}}XT();break}catch(W){rv(e,W)}while(!0);return dr=Qa=null,Z.H=l,Z.A=h,Kt=s,It!==null?0:(se=null,Vt=0,Bu(),_e)}function XT(){for(;It!==null&&!kr();)lv(It)}function lv(e){var r=Oy(e.alternate,e,Sr);e.memoizedProps=e.pendingProps,r===null?Ec(e):It=r}function uv(e){var r=e,s=r.alternate;switch(r.tag){case 15:case 0:r=Ry(s,r,r.pendingProps,r.type,void 0,Vt);break;case 11:r=Ry(s,r,r.pendingProps,r.type.render,r.ref,Vt);break;case 5:Nf(r);default:Vy(s,r),r=It=op(r,Sr),r=Oy(s,r,Sr)}e.memoizedProps=e.pendingProps,r===null?Ec(e):It=r}function Js(e,r,s,l){dr=Qa=null,Nf(r),js=null,Wo=0;var h=r.return;try{if(kT(e,h,r,s,Vt)){_e=1,oc(e,ui(s,e.current)),It=null;return}}catch(d){if(h!==null)throw It=h,d;_e=1,oc(e,ui(s,e.current)),It=null;return}r.flags&32768?(Pt||l===1?e=!0:Ks||(Vt&536870912)!==0?e=!1:(ia=e=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),cv(r,e)):Ec(r)}function Ec(e){var r=e;do{if((r.flags&32768)!==0){cv(r,ia);return}e=r.return;var s=PT(r.alternate,r,Sr);if(s!==null){It=s;return}if(r=r.sibling,r!==null){It=r;return}It=r=e}while(r!==null);_e===0&&(_e=5)}function cv(e,r){do{var s=jT(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);_e=6,It=null}function hv(e,r,s,l,h,d,v,T,I){e.cancelPendingCommit=null;do bc();while(Pe!==0);if((Kt&6)!==0)throw Error(a(327));if(r!==null){if(r===e.current)throw Error(a(177));if(d=r.lanes|r.childLanes,d|=nf,Se(e,s,d,v,T,I),e===se&&(It=se=null,Vt=0),$s=r,sa=e,Ar=s,hd=d,fd=h,tv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,WT(_n,function(){return pv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,h=ot.p,ot.p=2,v=Kt,Kt|=4;try{qT(e,r,s)}finally{Kt=v,ot.p=h,Z.T=l}}Pe=1,fv(),dv(),mv()}}function fv(){if(Pe===1){Pe=0;var e=sa,r=$s,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=Z.T,Z.T=null;var l=ot.p;ot.p=2;var h=Kt;Kt|=4;try{Yy(r,e);var d=Cd,v=Jg(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Zg(T.ownerDocument.documentElement,T)){if(I!==null&&Zh(T)){var F=I.start,W=I.end;if(W===void 0&&(W=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(W,T.value.length);else{var et=T.ownerDocument||document,G=et&&et.defaultView||window;if(G.getSelection){var Q=G.getSelection(),ft=T.textContent.length,Et=Math.min(I.start,ft),ae=I.end===void 0?Et:Math.min(I.end,ft);!Q.extend&&Et>ae&&(v=ae,ae=Et,Et=v);var B=$g(T,Et),L=$g(T,ae);if(B&&L&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var H=et.createRange();H.setStart(B.node,B.offset),Q.removeAllRanges(),Et>ae?(Q.addRange(H),Q.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),Q.addRange(H))}}}}for(et=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<et.length;T++){var tt=et[T];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Mc=!!Rd,Cd=Rd=null}finally{Kt=h,ot.p=l,Z.T=s}}e.current=r,Pe=2}}function dv(){if(Pe===2){Pe=0;var e=sa,r=$s,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=Z.T,Z.T=null;var l=ot.p;ot.p=2;var h=Kt;Kt|=4;try{jy(e,r.alternate,r)}finally{Kt=h,ot.p=l,Z.T=s}}Pe=3}}function mv(){if(Pe===4||Pe===3){Pe=0,Da();var e=sa,r=$s,s=Ar,l=tv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pe=5:(Pe=0,$s=sa=null,gv(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(aa=null),bn(s),r=r.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(jn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Z.T,h=ot.p,ot.p=2,Z.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Z.T=r,ot.p=h}}(Ar&3)!==0&&bc(),Ki(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===dd?pl++:(pl=0,dd=e):pl=0,yl(0)}}function gv(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Zo(r)))}function bc(){return fv(),dv(),mv(),pv()}function pv(){if(Pe!==5)return!1;var e=sa,r=hd;hd=0;var s=bn(Ar),l=Z.T,h=ot.p;try{ot.p=32>s?32:s,Z.T=null,s=fd,fd=null;var d=sa,v=Ar;if(Pe=0,$s=sa=null,Ar=0,(Kt&6)!==0)throw Error(a(331));var T=Kt;if(Kt|=4,Zy(d.current),Ky(d,d.current,v,s),Kt=T,yl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(jn,d)}catch{}return!0}finally{ot.p=h,Z.T=l,gv(e,r)}}function yv(e,r,s){r=ui(s,r),r=Gf(e.stateNode,r,2),e=Wr(e,r,2),e!==null&&(xn(e,2),Ki(e))}function Wt(e,r,s){if(e.tag===3)yv(e,e,s);else for(;r!==null;){if(r.tag===3){yv(r,e,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(aa===null||!aa.has(l))){e=ui(s,e),s=vy(2),l=Wr(r,s,2),l!==null&&(_y(s,l,r,e),xn(l,2),Ki(l));break}}r=r.return}}function pd(e,r,s){var l=e.pingCache;if(l===null){l=e.pingCache=new GT;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(ld=!0,h.add(s),e=$T.bind(null,e,r,s),r.then(e,e))}function $T(e,r,s){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,se===e&&(Vt&s)===s&&(_e===4||_e===3&&(Vt&62914560)===Vt&&300>Qe()-gc?(Kt&2)===0&&Zs(e,0):ud|=s,Xs===Vt&&(Xs=0)),Ki(e)}function vv(e,r){r===0&&(r=Ke()),e=Fa(e,r),e!==null&&(xn(e,r),Ki(e))}function ZT(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),vv(e,s)}function JT(e,r){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),vv(e,s)}function WT(e,r){return ee(e,r)}var Tc=null,Ws=null,yd=!1,Sc=!1,vd=!1,la=0;function Ki(e){e!==Ws&&e.next===null&&(Ws===null?Tc=Ws=e:Ws=Ws.next=e),Sc=!0,yd||(yd=!0,eS())}function yl(e,r){if(!vd&&Sc){vd=!0;do for(var s=!1,l=Tc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-fe(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Tv(l,d))}else d=Vt,d=me(l,l===se?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||De(l,d)||(s=!0,Tv(l,d));l=l.next}while(s);vd=!1}}function tS(){_v()}function _v(){Sc=yd=!1;var e=0;la!==0&&hS()&&(e=la);for(var r=Qe(),s=null,l=Tc;l!==null;){var h=l.next,d=Ev(l,r);d===0?(l.next=null,s===null?Tc=h:s.next=h,h===null&&(Ws=s)):(s=l,(e!==0||(d&3)!==0)&&(Sc=!0)),l=h}Pe!==0&&Pe!==5||yl(e),la!==0&&(la=0)}function Ev(e,r){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-fe(d),T=1<<v,I=h[v];I===-1?((T&s)===0||(T&l)!==0)&&(h[v]=fn(T,r)):I<=r&&(e.expiredLanes|=T),d&=~T}if(r=se,s=Vt,s=me(e,e===r?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===r&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Bn(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||De(e,s)){if(r=s&-s,r===e.callbackPriority)return r;switch(l!==null&&Bn(l),bn(s)){case 2:case 8:s=ni;break;case 32:s=_n;break;case 268435456:s=Ia;break;default:s=_n}return l=bv.bind(null,e),s=ee(s,l),e.callbackPriority=r,e.callbackNode=s,r}return l!==null&&l!==null&&Bn(l),e.callbackPriority=2,e.callbackNode=null,2}function bv(e,r){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(bc()&&e.callbackNode!==s)return null;var l=Vt;return l=me(e,e===se?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(nv(e,l,r),Ev(e,Qe()),e.callbackNode!=null&&e.callbackNode===s?bv.bind(null,e):null)}function Tv(e,r){if(bc())return null;nv(e,r,!0)}function eS(){dS(function(){(Kt&6)!==0?ee(Na,tS):_v()})}function _d(){if(la===0){var e=zs;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),la=e}return la}function Sv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ss(""+e)}function Av(e,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,e.id&&s.setAttribute("form",e.id),r.parentNode.insertBefore(s,r),e=new FormData(e),s.parentNode.removeChild(s),e}function nS(e,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var d=Sv((h[Xe]||null).action),v=l.submitter;v&&(r=(r=v[Xe]||null)?Sv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new ji("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var I=v?Av(h,v):new FormData(h);Bf(s,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?Av(h,v):new FormData(h),Bf(s,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Ed=0;Ed<ef.length;Ed++){var bd=ef[Ed],iS=bd.toLowerCase(),rS=bd[0].toUpperCase()+bd.slice(1);wi(iS,"on"+rS)}wi(ep,"onAnimationEnd"),wi(np,"onAnimationIteration"),wi(ip,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(ET,"onTransitionRun"),wi(bT,"onTransitionStart"),wi(TT,"onTransitionCancel"),wi(rp,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function wv(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,F=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=F;try{d(h)}catch(W){zu(W)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,F=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=F;try{d(h)}catch(W){zu(W)}h.currentTarget=null,d=I}}}}function Ot(e,r){var s=r[vs];s===void 0&&(s=r[vs]=new Set);var l=e+"__bubble";s.has(l)||(Rv(r,e,2,!1),s.add(l))}function Td(e,r,s){var l=0;r&&(l|=4),Rv(s,e,l,r)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[Ac]){e[Ac]=!0,No.forEach(function(s){s!=="selectionchange"&&(aS.has(s)||Td(s,!1,e),Td(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Ac]||(r[Ac]=!0,Td("selectionchange",!1,r))}}function Rv(e,r,s,l){switch(e_(r)){case 2:var h=MS;break;case 8:h=VS;break;default:h=zd}s=h.bind(null,r,s,e),h=void 0,!Ua||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(r,s,{capture:!0,passive:h}):e.addEventListener(r,s,!0):h!==void 0?e.addEventListener(r,s,{passive:h}):e.addEventListener(r,s,!1)}function Ad(e,r,s,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Vi(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}T=T.parentNode}}l=l.return}Hr(function(){var F=d,W=ai(s),et=[];t:{var G=ap.get(e);if(G!==void 0){var Q=ji,ft=e;switch(e){case"keypress":if(za(s)===0)break t;case"keydown":case"keyup":Q=Lu;break;case"focusin":ft="focus",Q=Pa;break;case"focusout":ft="blur",Q=Pa;break;case"beforeblur":case"afterblur":Q=Pa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case ep:case np:case ip:Q=xu;break;case rp:Q=A;break;case"scroll":case"scrollend":Q=qo;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=cr;break;case"toggle":case"beforetoggle":Q=Rt}var Et=(r&4)!==0,ae=!Et&&(e==="scroll"||e==="scrollend"),B=Et?G!==null?G+"Capture":null:G;Et=[];for(var L=F,H;L!==null;){var tt=L;if(H=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||H===null||B===null||(tt=bi(L,B),tt!=null&&Et.push(_l(L,tt,H))),ae)break;L=L.return}0<Et.length&&(G=new Q(G,ft,null,s,W),et.push({event:G,listeners:Et}))}}if((r&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",G&&s!==Bo&&(ft=s.relatedTarget||s.fromElement)&&(Vi(ft)||ft[Oi]))break t;if((Q||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(ft=s.relatedTarget||s.toElement,Q=F,ft=ft?Vi(ft):null,ft!==null&&(ae=u(ft),Et=ft.tag,ft!==ae||Et!==5&&Et!==27&&Et!==6)&&(ft=null)):(Q=null,ft=F),Q!==ft)){if(Et=Ho,tt="onMouseLeave",B="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(Et=cr,tt="onPointerLeave",B="onPointerEnter",L="pointer"),ae=Q==null?G:Fn(Q),H=ft==null?G:Fn(ft),G=new Et(tt,L+"leave",Q,s,W),G.target=ae,G.relatedTarget=H,tt=null,Vi(W)===F&&(Et=new Et(B,L+"enter",ft,s,W),Et.target=H,Et.relatedTarget=ae,tt=Et),ae=tt,Q&&ft)e:{for(Et=sS,B=Q,L=ft,H=0,tt=B;tt;tt=Et(tt))H++;tt=0;for(var pt=L;pt;pt=Et(pt))tt++;for(;0<H-tt;)B=Et(B),H--;for(;0<tt-H;)L=Et(L),tt--;for(;H--;){if(B===L||L!==null&&B===L.alternate){Et=B;break e}B=Et(B),L=Et(L)}Et=null}else Et=null;Q!==null&&Cv(et,G,Q,Et,!1),ft!==null&&ae!==null&&Cv(et,ae,ft,Et,!0)}}t:{if(G=F?Fn(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Gt=Fg;else if(qg(G))if(Gg)Gt=yT;else{Gt=gT;var dt=mT}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Ts(F.elementType)&&(Gt=Fg):Gt=pT;if(Gt&&(Gt=Gt(e,F))){Hg(et,Gt,s,W);break t}dt&&dt(e,G,F),e==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Uo(G,"number",G.value)}switch(dt=F?Fn(F):window,e){case"focusin":(qg(dt)||dt.contentEditable==="true")&&(Ns=dt,Jh=F,Ko=null);break;case"focusout":Ko=Jh=Ns=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Wg(et,s,W);break;case"selectionchange":if(_T)break;case"keydown":case"keyup":Wg(et,s,W)}var xt;if(Qt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ds?ja(e,s)&&(Lt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Lt="onCompositionStart");Lt&&(Fi&&s.locale!=="ko"&&(Ds||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ds&&(xt=jo()):(Pi=W,Po="value"in Pi?Pi.value:Pi.textContent,Ds=!0)),dt=wc(F,Lt),0<dt.length&&(Lt=new Hi(Lt,e,null,s,W),et.push({event:Lt,listeners:dt}),xt?Lt.data=xt:(xt=xs(s),xt!==null&&(Lt.data=xt)))),(xt=oi?cT(e,s):hT(e,s))&&(Lt=wc(F,"onBeforeInput"),0<Lt.length&&(dt=new Hi("onBeforeInput","beforeinput",null,s,W),et.push({event:dt,listeners:Lt}),dt.data=xt)),nS(et,e,F,s,W)}wv(et,r)})}function _l(e,r,s){return{instance:e,listener:r,currentTarget:s}}function wc(e,r){for(var s=r+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=bi(e,s),h!=null&&l.unshift(_l(e,h,d)),h=bi(e,r),h!=null&&l.push(_l(e,h,d))),e.tag===3)return l;e=e.return}return[]}function sS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cv(e,r,s,l,h){for(var d=r._reactName,v=[];s!==null&&s!==l;){var T=s,I=T.alternate,F=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||F===null||(I=F,h?(F=bi(s,d),F!=null&&v.unshift(_l(s,F,I))):h||(F=bi(s,d),F!=null&&v.push(_l(s,F,I)))),s=s.return}v.length!==0&&e.push({event:r,listeners:v})}var oS=/\r\n?/g,lS=/\u0000|\uFFFD/g;function xv(e){return(typeof e=="string"?e:""+e).replace(oS,`
`).replace(lS,"")}function Dv(e,r){return r=xv(r),xv(e)===r}function re(e,r,s,l,h,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Nn(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Nn(e,""+l);break;case"className":Gn(e,"class",l);break;case"tabIndex":Gn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,s,l);break;case"style":zo(e,l,d);break;case"data":if(r!=="object"){Gn(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ss(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&re(e,r,"name",h.name,h,null),re(e,r,"formEncType",h.formEncType,h,null),re(e,r,"formMethod",h.formMethod,h,null),re(e,r,"formTarget",h.formTarget,h,null)):(re(e,r,"encType",h.encType,h,null),re(e,r,"method",h.method,h,null),re(e,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ss(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Ei);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Ss(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Es(e,"popover",l);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Es(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=wu.get(s)||s,Es(e,s,l))}}function wd(e,r,s,l,h,d){switch(s){case"style":zo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Nn(e,l):(typeof l=="number"||typeof l=="bigint")&&Nn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=e[Xe]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(r,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Es(e,s,l)}}}function on(e,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:re(e,r,d,v,s,null)}}h&&re(e,r,"srcSet",s.srcSet,s,null),l&&re(e,r,"src",s.src,s,null);return;case"input":Ot("invalid",e);var T=d=v=h=null,I=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var W=s[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,r));break;default:re(e,r,l,W,s,null)}}Tu(e,d,T,I,F,v,h,!1);return;case"select":Ot("invalid",e),l=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:re(e,r,h,T,s,null)}r=d,s=v,e.multiple=!!l,r!=null?Br(e,!!l,r,!1):s!=null&&Br(e,!!l,s,!0);return;case"textarea":Ot("invalid",e),d=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:re(e,r,v,T,s,null)}Pr(e,l,h,d);return;case"option":for(I in s)s.hasOwnProperty(I)&&(l=s[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":re(e,r,I,l,s,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<vl.length;l++)Ot(vl[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:re(e,r,F,l,s,null)}return;default:if(Ts(r)){for(W in s)s.hasOwnProperty(W)&&(l=s[W],l!==void 0&&wd(e,r,W,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&re(e,r,T,l,s,null))}function uS(e,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,F=null,W=null;for(Q in s){var et=s[Q];if(s.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=et;default:l.hasOwnProperty(Q)||re(e,r,Q,null,l,et)}}for(var G in l){var Q=l[G];if(et=s[G],l.hasOwnProperty(G)&&(Q!=null||et!=null))switch(G){case"type":d=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":W=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,r));break;default:Q!==et&&re(e,r,G,Q,l,et)}}bs(e,v,T,I,F,W,d,h);return;case"select":Q=v=T=G=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||re(e,r,d,null,l,I)}for(h in l)if(d=l[h],I=s[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&re(e,r,h,d,l,I)}r=T,s=v,l=Q,G!=null?Br(e,!!s,G,!1):!!l!=!!s&&(r!=null?Br(e,!!s,r,!0):Br(e,!!s,s?[]:"",!1));return;case"textarea":Q=G=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:re(e,r,T,null,l,h)}for(v in l)if(h=l[v],d=s[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&re(e,r,v,h,l,d)}Su(e,G,Q);return;case"option":for(var ft in s)G=s[ft],s.hasOwnProperty(ft)&&G!=null&&!l.hasOwnProperty(ft)&&(ft==="selected"?e.selected=!1:re(e,r,ft,null,l,G));for(I in l)G=l[I],Q=s[I],l.hasOwnProperty(I)&&G!==Q&&(G!=null||Q!=null)&&(I==="selected"?e.selected=G&&typeof G!="function"&&typeof G!="symbol":re(e,r,I,G,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)G=s[Et],s.hasOwnProperty(Et)&&G!=null&&!l.hasOwnProperty(Et)&&re(e,r,Et,null,l,G);for(F in l)if(G=l[F],Q=s[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,r));break;default:re(e,r,F,G,l,Q)}return;default:if(Ts(r)){for(var ae in s)G=s[ae],s.hasOwnProperty(ae)&&G!==void 0&&!l.hasOwnProperty(ae)&&wd(e,r,ae,void 0,l,G);for(W in l)G=l[W],Q=s[W],!l.hasOwnProperty(W)||G===Q||G===void 0&&Q===void 0||wd(e,r,W,G,l,Q);return}}for(var B in s)G=s[B],s.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&re(e,r,B,null,l,G);for(et in l)G=l[et],Q=s[et],!l.hasOwnProperty(et)||G===Q||G==null&&Q==null||re(e,r,et,G,l,Q)}function Nv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&Nv(v)){for(v=0,T=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],F=I.startTime;if(F>T)break;var W=I.transferSize,et=I.initiatorType;W&&Nv(et)&&(I=I.responseEnd,v+=W*(I<T?1:(T-F)/(I-F)))}if(--l,r+=8*(d+v)/(h.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Rd=null,Cd=null;function Rc(e){return e.nodeType===9?e:e.ownerDocument}function Iv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ov(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function xd(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Dd=null;function hS(){var e=window.event;return e&&e.type==="popstate"?e===Dd?!1:(Dd=e,!0):(Dd=null,!1)}var Mv=typeof setTimeout=="function"?setTimeout:void 0,fS=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,dS=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(e){return Vv.resolve(null).then(e).catch(mS)}:Mv;function mS(e){setTimeout(function(){throw e})}function ua(e){return e==="head"}function Lv(e,r){var s=r,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),io(r);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")El(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,El(s);for(var d=s.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[Mi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=v}}else s==="body"&&El(e.ownerDocument.body);s=h}while(s);io(r)}function Uv(e,r){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Nd(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Nd(s),_s(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function gS(e,r,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Mi])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=mi(e.nextSibling),e===null)break}return null}function pS(e,r,s){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=mi(e.nextSibling),e===null))return null;return e}function kv(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=mi(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function Od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yS(e,r){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||s.readyState!=="loading")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function mi(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var Md=null;function zv(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(r===0)return mi(e.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}e=e.nextSibling}return null}function Bv(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return e;r--}else s!=="/$"&&s!=="/&"||r++}e=e.previousSibling}return null}function Pv(e,r,s){switch(r=Rc(s),e){case"html":if(e=r.documentElement,!e)throw Error(a(452));return e;case"head":if(e=r.head,!e)throw Error(a(453));return e;case"body":if(e=r.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function El(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);_s(e)}var gi=new Map,jv=new Set;function Cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wr=ot.d;ot.d={f:vS,r:_S,D:ES,C:bS,L:TS,m:SS,X:wS,S:AS,M:RS};function vS(){var e=wr.f(),r=vc();return e||r}function _S(e){var r=ri(e);r!==null&&r.tag===5&&r.type==="form"?ry(r):wr.r(e)}var to=typeof document>"u"?null:document;function qv(e,r,s){var l=to;if(l&&typeof r=="string"&&r){var h=Dn(r);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),jv.has(h)||(jv.add(h),e={rel:e,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),on(r,"link",e),Ie(r),l.head.appendChild(r)))}}function ES(e){wr.D(e),qv("dns-prefetch",e,null)}function bS(e,r){wr.C(e,r),qv("preconnect",e,r)}function TS(e,r,s){wr.L(e,r,s);var l=to;if(l&&e&&r){var h='link[rel="preload"][as="'+Dn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Dn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Dn(s.imageSizes)+'"]')):h+='[href="'+Dn(e)+'"]';var d=h;switch(r){case"style":d=eo(e);break;case"script":d=no(e)}gi.has(d)||(e=b({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:e,as:r},s),gi.set(d,e),l.querySelector(h)!==null||r==="style"&&l.querySelector(bl(d))||r==="script"&&l.querySelector(Tl(d))||(r=l.createElement("link"),on(r,"link",e),Ie(r),l.head.appendChild(r)))}}function SS(e,r){wr.m(e,r);var s=to;if(s&&e){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Dn(l)+'"][href="'+Dn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(e)}if(!gi.has(d)&&(e=b({rel:"modulepreload",href:e},r),gi.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Tl(d)))return}l=s.createElement("link"),on(l,"link",e),Ie(l),s.head.appendChild(l)}}}function AS(e,r,s){wr.S(e,r,s);var l=to;if(l&&e){var h=Li(l).hoistableStyles,d=eo(e);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(bl(d)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":r},s),(s=gi.get(d))&&Vd(e,s);var I=v=l.createElement("link");Ie(I),on(I,"link",e),I._p=new Promise(function(F,W){I.onload=F,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function wS(e,r){wr.X(e,r);var s=to;if(s&&e){var l=Li(s).hoistableScripts,h=no(e),d=l.get(h);d||(d=s.querySelector(Tl(h)),d||(e=b({src:e,async:!0},r),(r=gi.get(h))&&Ld(e,r),d=s.createElement("script"),Ie(d),on(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function RS(e,r){wr.M(e,r);var s=to;if(s&&e){var l=Li(s).hoistableScripts,h=no(e),d=l.get(h);d||(d=s.querySelector(Tl(h)),d||(e=b({src:e,async:!0,type:"module"},r),(r=gi.get(h))&&Ld(e,r),d=s.createElement("script"),Ie(d),on(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Hv(e,r,s,l){var h=(h=yt.current)?Cc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=eo(s.href),s=Li(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=eo(s.href);var d=Li(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(bl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),gi.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},gi.set(e,s),d||CS(h,e,s,v.state))),r&&l===null)throw Error(a(528,""));return v}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=no(s),s=Li(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function eo(e){return'href="'+Dn(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function Fv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function CS(e,r,s,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),on(r,"link",s),Ie(r),e.head.appendChild(r))}function no(e){return'[src="'+Dn(e)+'"]'}function Tl(e){return"script[async]"+e}function Gv(e,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+Dn(s.href)+'"]');if(l)return r.instance=l,Ie(l),l;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ie(l),on(l,"style",h),xc(l,s.precedence,e),r.instance=l;case"stylesheet":h=eo(s.href);var d=e.querySelector(bl(h));if(d)return r.state.loading|=4,r.instance=d,Ie(d),d;l=Fv(s),(h=gi.get(h))&&Vd(l,h),d=(e.ownerDocument||e).createElement("link"),Ie(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),on(d,"link",l),r.state.loading|=4,xc(d,s.precedence,e),r.instance=d;case"script":return d=no(s.src),(h=e.querySelector(Tl(d)))?(r.instance=h,Ie(h),h):(l=s,(h=gi.get(d))&&(l=b({},s),Ld(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ie(h),on(h,"link",l),e.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,xc(l,s.precedence,e));return r.instance}function xc(e,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(e,r.firstChild))}function Vd(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Ld(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Dc=null;function Yv(e,r,s){if(Dc===null){var l=new Map,h=Dc=new Map;h.set(s,l)}else h=Dc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[Mi]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Qv(e,r,s){e=e.ownerDocument||e,e.head.insertBefore(s,r==="title"?e.querySelector("head > title"):null)}function xS(e,r,s){if(s===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(e=r.disabled,typeof r.precedence=="string"&&e==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Kv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function DS(e,r,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=eo(l.href),d=r.querySelector(bl(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Nc.bind(e),r.then(e,e)),s.state.loading|=4,s.instance=d,Ie(d);return}d=r.ownerDocument||r,l=Fv(l),(h=gi.get(h))&&Vd(l,h),d=d.createElement("link"),Ie(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),on(d,"link",l),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Nc.bind(e),r.addEventListener("load",s),r.addEventListener("error",s))}}var Ud=0;function NS(e,r){return e.stylesheets&&e.count===0&&Oc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&Oc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&Ud===0&&(Ud=62500*cS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Oc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Ud?50:800)+r);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ic=null;function Oc(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ic=new Map,r.forEach(IS,e),Ic=null,Nc.call(e))}function IS(e,r){if(!(r.state.loading&4)){var s=Ic.get(e);if(s)var l=s.get(null);else{s=new Map,Ic.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,h),s.set(v,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),r.state.loading|=4}}var Sl={$$typeof:$,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function OS(e,r,s,l,h,d,v,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Xv(e,r,s,l,h,d,v,T,I,F,W,et){return e=new OS(e,r,s,v,I,F,W,et,T),r=1,d===!0&&(r|=24),d=Qn(3,null,null,r),e.current=d,d.stateNode=e,r=gf(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},_f(d),e}function $v(e){return e?(e=Ms,e):Ms}function Zv(e,r,s,l,h,d){h=$v(h),l.context===null?l.context=h:l.pendingContext=h,l=Jr(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Wr(e,l,r),s!==null&&(Ln(s,e,r),el(s,e,r))}function Jv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function kd(e,r){Jv(e,r),(e=e.alternate)&&Jv(e,r)}function Wv(e){if(e.tag===13||e.tag===31){var r=Fa(e,67108864);r!==null&&Ln(r,e,67108864),kd(e,67108864)}}function t_(e){if(e.tag===13||e.tag===31){var r=Jn();r=qn(r);var s=Fa(e,r);s!==null&&Ln(s,e,r),kd(e,r)}}var Mc=!0;function MS(e,r,s,l){var h=Z.T;Z.T=null;var d=ot.p;try{ot.p=2,zd(e,r,s,l)}finally{ot.p=d,Z.T=h}}function VS(e,r,s,l){var h=Z.T;Z.T=null;var d=ot.p;try{ot.p=8,zd(e,r,s,l)}finally{ot.p=d,Z.T=h}}function zd(e,r,s,l){if(Mc){var h=Bd(l);if(h===null)Ad(e,r,l,Vc,s),n_(e,l);else if(US(h,e,r,s,l))l.stopPropagation();else if(n_(e,l),r&4&&-1<LS.indexOf(e)){for(;h!==null;){var d=ri(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=de(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-fe(v);T.entanglements[1]|=I,v&=~I}Ki(d),(Kt&6)===0&&(pc=Qe()+500,yl(0))}}break;case 31:case 13:T=Fa(d,2),T!==null&&Ln(T,d,2),vc(),kd(d,2)}if(d=Bd(l),d===null&&Ad(e,r,l,Vc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ad(e,r,l,null,s)}}function Bd(e){return e=ai(e),Pd(e)}var Vc=null;function Pd(e){if(Vc=null,e=Vi(e),e!==null){var r=u(e);if(r===null)e=null;else{var s=r.tag;if(s===13){if(e=f(r),e!==null)return e;e=null}else if(s===31){if(e=m(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Vc=e,null}function e_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case Na:return 2;case ni:return 8;case _n:case ar:return 32;case Ia:return 268435456;default:return 32}default:return 32}}var jd=!1,ca=null,ha=null,fa=null,Al=new Map,wl=new Map,da=[],LS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n_(e,r){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Al.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(r.pointerId)}}function Rl(e,r,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=ri(r),r!==null&&Wv(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function US(e,r,s,l,h){switch(r){case"focusin":return ca=Rl(ca,e,r,s,l,h),!0;case"dragenter":return ha=Rl(ha,e,r,s,l,h),!0;case"mouseover":return fa=Rl(fa,e,r,s,l,h),!0;case"pointerover":var d=h.pointerId;return Al.set(d,Rl(Al.get(d)||null,e,r,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,Rl(wl.get(d)||null,e,r,s,l,h)),!0}return!1}function i_(e){var r=Vi(e.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){e.blockedOn=r,en(e.priority,function(){t_(s)});return}}else if(r===31){if(r=m(s),r!==null){e.blockedOn=r,en(e.priority,function(){t_(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=Bd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Bo=l,s.target.dispatchEvent(l),Bo=null}else return r=ri(s),r!==null&&Wv(r),e.blockedOn=s,!1;r.shift()}return!0}function r_(e,r,s){Lc(e)&&s.delete(r)}function kS(){jd=!1,ca!==null&&Lc(ca)&&(ca=null),ha!==null&&Lc(ha)&&(ha=null),fa!==null&&Lc(fa)&&(fa=null),Al.forEach(r_),wl.forEach(r_)}function Uc(e,r){e.blockedOn===r&&(e.blockedOn=null,jd||(jd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kS)))}var kc=null;function a_(e){kc!==e&&(kc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){kc===e&&(kc=null);for(var r=0;r<e.length;r+=3){var s=e[r],l=e[r+1],h=e[r+2];if(typeof l!="function"){if(Pd(l||s)===null)continue;break}var d=ri(s);d!==null&&(e.splice(r,3),r-=3,Bf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function io(e){function r(I){return Uc(I,e)}ca!==null&&Uc(ca,e),ha!==null&&Uc(ha,e),fa!==null&&Uc(fa,e),Al.forEach(r),wl.forEach(r);for(var s=0;s<da.length;s++){var l=da[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<da.length&&(s=da[0],s.blockedOn===null);)i_(s),s.blockedOn===null&&da.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],v=h[Xe]||null;if(typeof d=="function")v||a_(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Xe]||null)T=v.formAction;else if(Pd(h)!==null)continue}else T=v.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),a_(s)}}}function s_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function qd(e){this._internalRoot=e}zc.prototype.render=qd.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Jn();Zv(s,l,e,r,null,null)},zc.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Zv(e.current,2,null,e,null,null),vc(),r[Oi]=null}};function zc(e){this._internalRoot=e}zc.prototype.unstable_scheduleHydration=function(e){if(e){var r=Hn();e={blockedOn:null,target:e,priority:r};for(var s=0;s<da.length&&r!==0&&r<da[s].priority;s++);da.splice(s,0,e),s===0&&i_(e)}};var o_=t.version;if(o_!=="19.2.4")throw Error(a(527,o_,"19.2.4"));ot.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(r),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var zS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{jn=Bc.inject(zS),Be=Bc}catch{}}return xl.createRoot=function(e,r){if(!o(e))throw Error(a(299));var s=!1,l="",h=my,d=gy,v=py;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=Xv(e,1,!1,null,null,s,l,null,h,d,v,s_),e[Oi]=r.current,Sd(e),new qd(r)},xl.hydrateRoot=function(e,r,s){if(!o(e))throw Error(a(299));var l=!1,h="",d=my,v=gy,T=py,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),r=Xv(e,1,!0,r,s??null,l,h,I,d,v,T,s_),r.context=$v(null),s=r.current,l=Jn(),l=qn(l),h=Jr(l),h.callback=null,Wr(s,h,l),s=l,r.current.lanes=s,xn(r,s),Ki(r),e[Oi]=r.current,Sd(e),new zc(r)},xl.version="19.2.4",xl}var y_;function KS(){if(y_)return Gd.exports;y_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Gd.exports=QS(),Gd.exports}var XS=KS();const $S={async getCurrentWeather(n=24.513,t=121.609){try{const a=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${n}&longitude=${t}&current=temperature_2m,relative_humidity_2m,weather_code&timezone=auto`)).json();if(!a.current)throw new Error("No weather data");return{temp:a.current.temperature_2m,humidity:a.current.relative_humidity_2m,code:a.current.weather_code,desc:ZS(a.current.weather_code)}}catch(i){return console.error("Weather fetch failed:",i),null}}};function ZS(n){return{0:"",1:"",2:"",3:"",45:"",48:"",51:"",53:"",55:"",61:"",63:"",65:"",80:"",81:"",82:"",95:"",96:"",99:""}[n]||""}const nE=(...n)=>n.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const JS=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const WS=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const v_=n=>{const t=WS(n);return t.charAt(0).toUpperCase()+t.slice(1)};var tA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eA=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const nA=C.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:f,...m},g)=>C.createElement("svg",{ref:g,...tA,width:t,height:t,stroke:n,strokeWidth:a?Number(i)*24/Number(t):i,className:nE("lucide",o),...!u&&!eA(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,E])=>C.createElement(p,E)),...Array.isArray(u)?u:[u]]));const Ye=(n,t)=>{const i=C.forwardRef(({className:a,...o},u)=>C.createElement(nA,{ref:u,iconNode:t,className:nE(`lucide-${JS(v_(n))}`,`lucide-${n}`,a),...o}));return i.displayName=v_(n),i};const iA=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],rA=Ye("cloud-lightning",iA);const aA=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],sA=Ye("cloud-rain",aA);const oA=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],lA=Ye("cloud-sun",oA);const uA=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],cA=Ye("cloud",uA);const hA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],fA=Ye("copy",hA);const dA=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],mA=Ye("droplets",dA);const gA=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],pA=Ye("grip-vertical",gA);const yA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vA=Ye("image",yA);const _A=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],qm=Ye("loader",_A);const EA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bA=Ye("lock",EA);const TA=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],SA=Ye("mountain",TA);const AA=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wA=Ye("package",AA);const RA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],CA=Ye("plus",RA);const xA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],iE=Ye("save",xA);const DA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],NA=Ye("shield-alert",DA);const IA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],OA=Ye("sun",IA);const MA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],VA=Ye("trash-2",MA);const LA=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],UA=Ye("wallet",LA);const kA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zA=Ye("x",kA);function BA({className:n=""}){const[t,i]=C.useState(null),[a,o]=C.useState(!0);C.useEffect(()=>{async function f(){const m=await $S.getCurrentWeather();i(m),o(!1)}f()},[]);const u=f=>f===0||f===1?q.jsx(OA,{className:"text-warning",size:32}):f===2||f===3?q.jsx(cA,{className:"text-secondary",size:32}):f>=51&&f<=67?q.jsx(sA,{className:"text-secondary",size:32}):f>=95?q.jsx(rA,{className:"text-danger",size:32}):q.jsx(lA,{className:"text-warning",size:32});return a?q.jsxs("div",{className:`weather-widget glass-panel p-4 flex items-center justify-center gap-2 ${n}`,children:[q.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary"}),q.jsx("span",{className:"text-sm text-muted",children:"..."})]}):t?q.jsxs("div",{className:`weather-widget glass-panel ${n}`,style:{padding:"var(--space-4)"},children:[q.jsxs("div",{className:"flex-row justify-between items-center mb-2",children:[q.jsx("span",{className:"text-sm font-bold text-muted",children:" ()"}),u(t.code)]}),q.jsxs("div",{className:"flex-col gap-1",children:[q.jsxs("div",{className:"flex-row items-baseline gap-2",children:[q.jsxs("span",{className:"text-3xl font-bold",style:{color:"var(--color-text-main)"},children:[t.temp,""]}),q.jsx("span",{className:"text-md font-medium text-muted",children:t.desc})]}),q.jsxs("div",{className:"flex-row items-center gap-1 text-sm text-muted",children:[q.jsx(mA,{size:14}),q.jsxs("span",{children:[" ",t.humidity,"%"]})]})]}),q.jsx("style",{children:`
                .text-warning { color: var(--color-warning); }
                .text-secondary { color: var(--color-secondary); }
                .text-danger { color: var(--color-danger); }
                .text-primary { color: var(--color-primary); }
                .text-muted { color: var(--color-text-muted); }
            `})]}):q.jsx("div",{className:`weather-widget glass-panel p-4 ${n}`,children:q.jsx("div",{className:"text-sm text-muted",children:""})})}function PA({children:n}){const t=useMediaQuery("(min-width: 1024px)"),[i,a]=React.useState(!1),{logout:o,role:u}=useAuth();return t?q.jsxs("div",{className:"layout-desktop",children:[q.jsxs("aside",{className:"sidebar glass-panel",style:{margin:"16px",borderRadius:"24px",height:"calc(100vh - 32px)",border:"1px solid rgba(255,255,255,0.2)"},children:[q.jsxs("div",{className:"logo-area",children:[q.jsx("span",{style:{fontSize:"1.5rem"},children:""})," Outdoor Planner"]}),q.jsxs("nav",{style:{display:"flex",flexDirection:"column",height:"calc(100% - 80px)",gap:"8px"},children:[q.jsxs("div",{className:"nav-item active",children:[q.jsx(Calendar,{size:20})," "]}),q.jsxs("div",{className:"nav-item",children:[q.jsx(Settings,{size:20})," "]}),q.jsxs("div",{style:{marginTop:"auto"},children:[q.jsx(BA,{className:"mb-4"}),q.jsxs("div",{style:{borderTop:"1px solid var(--glass-border)",paddingTop:"1rem"},children:[q.jsxs("div",{style:{padding:"0 0.5rem 0.5rem",fontSize:"0.8rem",color:"var(--color-text-muted)"},children:[": ",q.jsx("span",{className:"badge",children:u})]}),q.jsx("button",{onClick:o,className:"nav-item danger",style:{width:"100%",border:"none",background:"transparent"},children:""})]})]})]})]}),q.jsx("main",{className:"main-content",children:n}),q.jsx("aside",{className:"map-panel glass-panel",style:{margin:"16px 16px 16px 0",borderRadius:"24px",height:"calc(100vh - 32px)",overflow:"hidden"},children:q.jsx(MapContainer,{})}),q.jsx("style",{children:`
          .layout-desktop {
            display: grid;
            grid-template-columns: 260px 1fr 380px;
            height: 100vh;
            /* Background handled by body gradient */
          }
          .sidebar {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            padding: var(--space-6);
            display: flex;
            flex-direction: column;
          }
          .map-panel {
            background: var(--glass-bg);
            position: relative;
          }
          .main-content {
            padding: var(--space-6);
            overflow-y: auto;
          }
          
          .nav-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: 12px 16px;
            border-radius: var(--radius-full);
            cursor: pointer;
            color: var(--color-text-muted);
            font-weight: 500;
            transition: all 0.2s;
            font-family: 'Noto Sans TC', sans-serif;
          }
          .nav-item:hover {
             background: rgba(255,255,255,0.4);
             color: var(--color-primary);
             transform: translateX(4px);
          }
          .nav-item.active {
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
            color: white;
            box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
          }
          .nav-item.danger:hover {
            color: var(--color-danger);
            background: rgba(239, 68, 68, 0.1);
          }
          
          .logo-area {
            font-weight: 800;
            font-size: 1.4rem;
            margin-bottom: var(--space-8);
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 8px;
          }
          
          .badge {
            display: inline-block;
            padding: 2px 8px;
            background: rgba(0,0,0,0.05);
            border-radius: 99px;
            font-size: 0.75rem;
            font-weight: bold;
          }
        `})]}):q.jsxs("div",{className:"layout-mobile",children:[q.jsxs("header",{className:"mobile-header",children:[q.jsx(Menu,{size:24}),q.jsx("span",{className:"mobile-title",children:"Outdoor Planner"}),q.jsx("button",{onClick:o,style:{border:"none",background:"none",fontSize:"0.9rem",color:"var(--color-text-muted)"},children:""})]}),q.jsx("main",{className:"mobile-content",children:n}),q.jsx(MobileFocusPanel,{}),q.jsx("style",{children:`
        .layout-mobile {
          min-height: 100vh;
          background-color: hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l));
          padding-bottom: 80px;
        }
        .mobile-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: var(--space-4);
          background-color: hsl(var(--color-surface-h), var(--color-surface-s), var(--color-surface-l));
          border-bottom: 1px solid hsl(var(--color-border-h), var(--color-border-s), var(--color-border-l));
          position: sticky;
          top: 0;
          z-index: 10;
        }
        .mobile-title {
          font-weight: bold;
          font-size: 1.1rem;
        }
        .mobile-content {
          padding: var(--space-4);
        }
      `})]})}const rE=C.createContext(null),lo={ADMIN:"ADMIN",PARTICIPANT:"PARTICIPANT",VIEWER:"VIEWER"},jA={admin123:lo.ADMIN,team2026:lo.PARTICIPANT,viewonly:lo.VIEWER};function qA({children:n}){const[t,i]=C.useState(null),[a,o]=C.useState(!0);C.useEffect(()=>{const m=localStorage.getItem("trip_role");m&&lo[m]&&i(m),o(!1)},[]);const u=m=>{const g=jA[m];return g?(i(g),localStorage.setItem("trip_role",g),!0):!1},f=()=>{i(null),localStorage.removeItem("trip_role")};return q.jsx(rE.Provider,{value:{role:t,login:u,logout:f,loading:a},children:n})}function Hm(){return C.useContext(rE)}function HA(){const{login:n}=Hm(),[t,i]=C.useState(""),[a,o]=C.useState(!1),u=f=>{f.preventDefault(),n(t)||(o(!0),i(""))};return q.jsxs("div",{className:"login-container",children:[q.jsxs("div",{className:"login-card",children:[q.jsxs("div",{className:"logo-section",children:[q.jsx(SA,{size:48,className:"logo-icon"}),q.jsx("h1",{children:"Outdoor Planner"}),q.jsx("p",{className:"subtitle",children:""})]}),q.jsxs("form",{onSubmit:u,className:"login-form",children:[q.jsxs("div",{className:"input-group",children:[q.jsx(bA,{size:20,className:"input-icon"}),q.jsx("input",{type:"password",placeholder:"...",value:t,onChange:f=>{i(f.target.value),o(!1)},className:"password-input",autoFocus:!0})]}),a&&q.jsx("div",{className:"error-msg",children:""}),q.jsx("button",{type:"submit",className:"btn btn-primary login-btn",children:""})]}),q.jsx("div",{className:"role-hint",children:q.jsx("small",{children:": admin123 () / team2026 () / viewonly ()"})})]}),q.jsx("style",{children:`
        .login-container {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, hsl(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l)) 0%, rgba(0,0,0,0.8) 100%);
          padding: var(--space-4);
        }
        .login-card {
          background: var(--glass-bg);
          background-color: rgba(255, 255, 255, 0.9); /* Safety fallback */
          backdrop-filter: blur(12px);
          -webkit-backdrop-filter: blur(12px);
          padding: var(--space-8) var(--space-6);
          border-radius: var(--radius-xl);
          width: 100%;
          max-width: 400px;
          border: 1px solid var(--glass-border);
          box-shadow: var(--shadow-lg);
          text-align: center;
        }
        .logo-section {
          margin-bottom: var(--space-8);
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: var(--space-2);
        }
        .logo-icon {
          color: var(--color-primary);
        }
        .subtitle {
          color: var(--color-text-muted);
          font-size: 0.9rem;
        }
        .login-form {
          display: flex;
          flex-direction: column;
          gap: var(--space-4);
        }
        .input-group {
          position: relative;
        }
        .input-icon {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: var(--color-text-muted);
        }
        .password-input {
          width: 100%;
          padding: var(--space-3) var(--space-3) var(--space-3) 40px;
          border: 1px solid var(--glass-border);
          background: rgba(255,255,255,0.1);
          border-radius: var(--radius-md);
          font-size: 1rem;
          outline: none;
          color: var(--color-text-main);
          transition: all 0.2s;
        }
        .password-input:focus {
          border-color: var(--color-primary);
          box-shadow: 0 0 0 2px rgba(5, 150, 105, 0.2);
          background: rgba(255,255,255,0.2);
        }
        .login-btn {
          width: 100%;
          padding: var(--space-3);
          font-size: 1rem;
        }
        .error-msg {
          color: var(--color-danger);
          font-size: 0.85rem;
          text-align: left;
        }
        .role-hint {
          margin-top: var(--space-6);
          color: var(--color-text-muted);
          opacity: 0.7;
        }
      `})]})}function FA({children:n}){const{role:t,loading:i}=Hm();return i?q.jsx("div",{className:"loading-screen",children:"..."}):t?n:q.jsx(HA,{})}function GA({children:n,restrictedTo:t=[],fallback:i=null}){const{role:a}=Hm();return!a||!t.includes(a)?i:n}const YA=({children:n,fallback:t})=>q.jsx(GA,{restrictedTo:[lo.ADMIN,lo.PARTICIPANT],fallback:t,children:n});var Vl=eE();function QA(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return C.useMemo(()=>a=>{t.forEach(o=>o(a))},t)}const Ch=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bo(n){const t=Object.prototype.toString.call(n);return t==="[object Window]"||t==="[object global]"}function Fm(n){return"nodeType"in n}function kn(n){var t,i;return n?bo(n)?n:Fm(n)&&(t=(i=n.ownerDocument)==null?void 0:i.defaultView)!=null?t:window:window}function Gm(n){const{Document:t}=kn(n);return n instanceof t}function ou(n){return bo(n)?!1:n instanceof kn(n).HTMLElement}function aE(n){return n instanceof kn(n).SVGElement}function To(n){return n?bo(n)?n.document:Fm(n)?Gm(n)?n:ou(n)||aE(n)?n.ownerDocument:document:document:document}const tr=Ch?C.useLayoutEffect:C.useEffect;function Ym(n){const t=C.useRef(n);return tr(()=>{t.current=n}),C.useCallback(function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t.current==null?void 0:t.current(...a)},[])}function KA(){const n=C.useRef(null),t=C.useCallback((a,o)=>{n.current=setInterval(a,o)},[]),i=C.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[t,i]}function Kl(n,t){t===void 0&&(t=[n]);const i=C.useRef(n);return tr(()=>{i.current!==n&&(i.current=n)},t),i}function lu(n,t){const i=C.useRef();return C.useMemo(()=>{const a=n(i.current);return i.current=a,a},[...t])}function sh(n){const t=Ym(n),i=C.useRef(null),a=C.useCallback(o=>{o!==i.current&&t?.(o,i.current),i.current=o},[]);return[i,a]}function dm(n){const t=C.useRef();return C.useEffect(()=>{t.current=n},[n]),t.current}let Xd={};function uu(n,t){return C.useMemo(()=>{if(t)return t;const i=Xd[n]==null?0:Xd[n]+1;return Xd[n]=i,n+"-"+i},[n,t])}function sE(n){return function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return a.reduce((u,f)=>{const m=Object.entries(f);for(const[g,p]of m){const E=u[g];E!=null&&(u[g]=E+n*p)}return u},{...t})}}const uo=sE(1),Xl=sE(-1);function XA(n){return"clientX"in n&&"clientY"in n}function Qm(n){if(!n)return!1;const{KeyboardEvent:t}=kn(n.target);return t&&n instanceof t}function $A(n){if(!n)return!1;const{TouchEvent:t}=kn(n.target);return t&&n instanceof t}function mm(n){if($A(n)){if(n.touches&&n.touches.length){const{clientX:t,clientY:i}=n.touches[0];return{x:t,y:i}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:t,clientY:i}=n.changedTouches[0];return{x:t,y:i}}}return XA(n)?{x:n.clientX,y:n.clientY}:null}const $l=Object.freeze({Translate:{toString(n){if(!n)return;const{x:t,y:i}=n;return"translate3d("+(t?Math.round(t):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:t,scaleY:i}=n;return"scaleX("+t+") scaleY("+i+")"}},Transform:{toString(n){if(n)return[$l.Translate.toString(n),$l.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:t,duration:i,easing:a}=n;return t+" "+i+"ms "+a}}}),__="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ZA(n){return n.matches(__)?n:n.querySelector(__)}const JA={display:"none"};function WA(n){let{id:t,value:i}=n;return Rn.createElement("div",{id:t,style:JA},i)}function tw(n){let{id:t,announcement:i,ariaLiveType:a="assertive"}=n;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Rn.createElement("div",{id:t,style:o,role:"status","aria-live":a,"aria-atomic":!0},i)}function ew(){const[n,t]=C.useState("");return{announce:C.useCallback(a=>{a!=null&&t(a)},[]),announcement:n}}const oE=C.createContext(null);function nw(n){const t=C.useContext(oE);C.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(n)},[n,t])}function iw(){const[n]=C.useState(()=>new Set),t=C.useCallback(a=>(n.add(a),()=>n.delete(a)),[n]);return[C.useCallback(a=>{let{type:o,event:u}=a;n.forEach(f=>{var m;return(m=f[o])==null?void 0:m.call(f,u)})},[n]),t]}const rw={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},aw={onDragStart(n){let{active:t}=n;return"Picked up draggable item "+t.id+"."},onDragOver(n){let{active:t,over:i}=n;return i?"Draggable item "+t.id+" was moved over droppable area "+i.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(n){let{active:t,over:i}=n;return i?"Draggable item "+t.id+" was dropped over droppable area "+i.id:"Draggable item "+t.id+" was dropped."},onDragCancel(n){let{active:t}=n;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function sw(n){let{announcements:t=aw,container:i,hiddenTextDescribedById:a,screenReaderInstructions:o=rw}=n;const{announce:u,announcement:f}=ew(),m=uu("DndLiveRegion"),[g,p]=C.useState(!1);if(C.useEffect(()=>{p(!0)},[]),nw(C.useMemo(()=>({onDragStart(b){let{active:S}=b;u(t.onDragStart({active:S}))},onDragMove(b){let{active:S,over:D}=b;t.onDragMove&&u(t.onDragMove({active:S,over:D}))},onDragOver(b){let{active:S,over:D}=b;u(t.onDragOver({active:S,over:D}))},onDragEnd(b){let{active:S,over:D}=b;u(t.onDragEnd({active:S,over:D}))},onDragCancel(b){let{active:S,over:D}=b;u(t.onDragCancel({active:S,over:D}))}}),[u,t])),!g)return null;const E=Rn.createElement(Rn.Fragment,null,Rn.createElement(WA,{id:a,value:o.draggable}),Rn.createElement(tw,{id:m,announcement:f}));return i?Vl.createPortal(E,i):E}var je;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(je||(je={}));function oh(){}function E_(n,t){return C.useMemo(()=>({sensor:n,options:t??{}}),[n,t])}function ow(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return C.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Ii=Object.freeze({x:0,y:0});function lE(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function uE(n,t){let{data:{value:i}}=n,{data:{value:a}}=t;return i-a}function lw(n,t){let{data:{value:i}}=n,{data:{value:a}}=t;return a-i}function b_(n){let{left:t,top:i,height:a,width:o}=n;return[{x:t,y:i},{x:t+o,y:i},{x:t,y:i+a},{x:t+o,y:i+a}]}function cE(n,t){if(!n||n.length===0)return null;const[i]=n;return i[t]}function T_(n,t,i){return t===void 0&&(t=n.left),i===void 0&&(i=n.top),{x:t+n.width*.5,y:i+n.height*.5}}const uw=n=>{let{collisionRect:t,droppableRects:i,droppableContainers:a}=n;const o=T_(t,t.left,t.top),u=[];for(const f of a){const{id:m}=f,g=i.get(m);if(g){const p=lE(T_(g),o);u.push({id:m,data:{droppableContainer:f,value:p}})}}return u.sort(uE)},cw=n=>{let{collisionRect:t,droppableRects:i,droppableContainers:a}=n;const o=b_(t),u=[];for(const f of a){const{id:m}=f,g=i.get(m);if(g){const p=b_(g),E=o.reduce((S,D,P)=>S+lE(p[P],D),0),b=Number((E/4).toFixed(4));u.push({id:m,data:{droppableContainer:f,value:b}})}}return u.sort(uE)};function hw(n,t){const i=Math.max(t.top,n.top),a=Math.max(t.left,n.left),o=Math.min(t.left+t.width,n.left+n.width),u=Math.min(t.top+t.height,n.top+n.height),f=o-a,m=u-i;if(a<o&&i<u){const g=t.width*t.height,p=n.width*n.height,E=f*m,b=E/(g+p-E);return Number(b.toFixed(4))}return 0}const fw=n=>{let{collisionRect:t,droppableRects:i,droppableContainers:a}=n;const o=[];for(const u of a){const{id:f}=u,m=i.get(f);if(m){const g=hw(m,t);g>0&&o.push({id:f,data:{droppableContainer:u,value:g}})}}return o.sort(lw)};function dw(n,t,i){return{...n,scaleX:t&&i?t.width/i.width:1,scaleY:t&&i?t.height/i.height:1}}function hE(n,t){return n&&t?{x:n.left-t.left,y:n.top-t.top}:Ii}function mw(n){return function(i){for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];return o.reduce((f,m)=>({...f,top:f.top+n*m.y,bottom:f.bottom+n*m.y,left:f.left+n*m.x,right:f.right+n*m.x}),{...i})}}const gw=mw(1);function pw(n){if(n.startsWith("matrix3d(")){const t=n.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(n.startsWith("matrix(")){const t=n.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function yw(n,t,i){const a=pw(t);if(!a)return n;const{scaleX:o,scaleY:u,x:f,y:m}=a,g=n.left-f-(1-o)*parseFloat(i),p=n.top-m-(1-u)*parseFloat(i.slice(i.indexOf(" ")+1)),E=o?n.width/o:n.width,b=u?n.height/u:n.height;return{width:E,height:b,top:p,right:g+E,bottom:p+b,left:g}}const vw={ignoreTransform:!1};function So(n,t){t===void 0&&(t=vw);let i=n.getBoundingClientRect();if(t.ignoreTransform){const{transform:p,transformOrigin:E}=kn(n).getComputedStyle(n);p&&(i=yw(i,p,E))}const{top:a,left:o,width:u,height:f,bottom:m,right:g}=i;return{top:a,left:o,width:u,height:f,bottom:m,right:g}}function S_(n){return So(n,{ignoreTransform:!0})}function _w(n){const t=n.innerWidth,i=n.innerHeight;return{top:0,left:0,right:t,bottom:i,width:t,height:i}}function Ew(n,t){return t===void 0&&(t=kn(n).getComputedStyle(n)),t.position==="fixed"}function bw(n,t){t===void 0&&(t=kn(n).getComputedStyle(n));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=t[o];return typeof u=="string"?i.test(u):!1})}function xh(n,t){const i=[];function a(o){if(t!=null&&i.length>=t||!o)return i;if(Gm(o)&&o.scrollingElement!=null&&!i.includes(o.scrollingElement))return i.push(o.scrollingElement),i;if(!ou(o)||aE(o)||i.includes(o))return i;const u=kn(n).getComputedStyle(o);return o!==n&&bw(o,u)&&i.push(o),Ew(o,u)?i:a(o.parentNode)}return n?a(n):i}function fE(n){const[t]=xh(n,1);return t??null}function $d(n){return!Ch||!n?null:bo(n)?n:Fm(n)?Gm(n)||n===To(n).scrollingElement?window:ou(n)?n:null:null}function dE(n){return bo(n)?n.scrollX:n.scrollLeft}function mE(n){return bo(n)?n.scrollY:n.scrollTop}function gm(n){return{x:dE(n),y:mE(n)}}var We;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(We||(We={}));function gE(n){return!Ch||!n?!1:n===document.scrollingElement}function pE(n){const t={x:0,y:0},i=gE(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},a={x:n.scrollWidth-i.width,y:n.scrollHeight-i.height},o=n.scrollTop<=t.y,u=n.scrollLeft<=t.x,f=n.scrollTop>=a.y,m=n.scrollLeft>=a.x;return{isTop:o,isLeft:u,isBottom:f,isRight:m,maxScroll:a,minScroll:t}}const Tw={x:.2,y:.2};function Sw(n,t,i,a,o){let{top:u,left:f,right:m,bottom:g}=i;a===void 0&&(a=10),o===void 0&&(o=Tw);const{isTop:p,isBottom:E,isLeft:b,isRight:S}=pE(n),D={x:0,y:0},P={x:0,y:0},k={height:t.height*o.y,width:t.width*o.x};return!p&&u<=t.top+k.height?(D.y=We.Backward,P.y=a*Math.abs((t.top+k.height-u)/k.height)):!E&&g>=t.bottom-k.height&&(D.y=We.Forward,P.y=a*Math.abs((t.bottom-k.height-g)/k.height)),!S&&m>=t.right-k.width?(D.x=We.Forward,P.x=a*Math.abs((t.right-k.width-m)/k.width)):!b&&f<=t.left+k.width&&(D.x=We.Backward,P.x=a*Math.abs((t.left+k.width-f)/k.width)),{direction:D,speed:P}}function Aw(n){if(n===document.scrollingElement){const{innerWidth:u,innerHeight:f}=window;return{top:0,left:0,right:u,bottom:f,width:u,height:f}}const{top:t,left:i,right:a,bottom:o}=n.getBoundingClientRect();return{top:t,left:i,right:a,bottom:o,width:n.clientWidth,height:n.clientHeight}}function yE(n){return n.reduce((t,i)=>uo(t,gm(i)),Ii)}function ww(n){return n.reduce((t,i)=>t+dE(i),0)}function Rw(n){return n.reduce((t,i)=>t+mE(i),0)}function Cw(n,t){if(t===void 0&&(t=So),!n)return;const{top:i,left:a,bottom:o,right:u}=t(n);fE(n)&&(o<=0||u<=0||i>=window.innerHeight||a>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const xw=[["x",["left","right"],ww],["y",["top","bottom"],Rw]];class Km{constructor(t,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=xh(i),o=yE(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,f,m]of xw)for(const g of f)Object.defineProperty(this,g,{get:()=>{const p=m(a),E=o[u]-p;return this.rect[g]+E},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Bl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...i)})},this.target=t}add(t,i,a){var o;(o=this.target)==null||o.addEventListener(t,i,a),this.listeners.push([t,i,a])}}function Dw(n){const{EventTarget:t}=kn(n);return n instanceof t?n:To(n)}function Zd(n,t){const i=Math.abs(n.x),a=Math.abs(n.y);return typeof t=="number"?Math.sqrt(i**2+a**2)>t:"x"in t&&"y"in t?i>t.x&&a>t.y:"x"in t?i>t.x:"y"in t?a>t.y:!1}var pi;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(pi||(pi={}));function A_(n){n.preventDefault()}function Nw(n){n.stopPropagation()}var jt;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(jt||(jt={}));const vE={start:[jt.Space,jt.Enter],cancel:[jt.Esc],end:[jt.Space,jt.Enter,jt.Tab]},Iw=(n,t)=>{let{currentCoordinates:i}=t;switch(n.code){case jt.Right:return{...i,x:i.x+25};case jt.Left:return{...i,x:i.x-25};case jt.Down:return{...i,y:i.y+25};case jt.Up:return{...i,y:i.y-25}}};class Xm{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:i}}=t;this.props=t,this.listeners=new Bl(To(i)),this.windowListeners=new Bl(kn(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(pi.Resize,this.handleCancel),this.windowListeners.add(pi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(pi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:i}=this.props,a=t.node.current;a&&Cw(a),i(Ii)}handleKeyDown(t){if(Qm(t)){const{active:i,context:a,options:o}=this.props,{keyboardCodes:u=vE,coordinateGetter:f=Iw,scrollBehavior:m="smooth"}=o,{code:g}=t;if(u.end.includes(g)){this.handleEnd(t);return}if(u.cancel.includes(g)){this.handleCancel(t);return}const{collisionRect:p}=a.current,E=p?{x:p.left,y:p.top}:Ii;this.referenceCoordinates||(this.referenceCoordinates=E);const b=f(t,{active:i,context:a.current,currentCoordinates:E});if(b){const S=Xl(b,E),D={x:0,y:0},{scrollableAncestors:P}=a.current;for(const k of P){const U=t.code,{isTop:K,isRight:X,isLeft:$,isBottom:it,maxScroll:at,minScroll:st}=pE(k),R=Aw(k),w={x:Math.min(U===jt.Right?R.right-R.width/2:R.right,Math.max(U===jt.Right?R.left:R.left+R.width/2,b.x)),y:Math.min(U===jt.Down?R.bottom-R.height/2:R.bottom,Math.max(U===jt.Down?R.top:R.top+R.height/2,b.y))},x=U===jt.Right&&!X||U===jt.Left&&!$,M=U===jt.Down&&!it||U===jt.Up&&!K;if(x&&w.x!==b.x){const O=k.scrollLeft+S.x,z=U===jt.Right&&O<=at.x||U===jt.Left&&O>=st.x;if(z&&!S.y){k.scrollTo({left:O,behavior:m});return}z?D.x=k.scrollLeft-O:D.x=U===jt.Right?k.scrollLeft-at.x:k.scrollLeft-st.x,D.x&&k.scrollBy({left:-D.x,behavior:m});break}else if(M&&w.y!==b.y){const O=k.scrollTop+S.y,z=U===jt.Down&&O<=at.y||U===jt.Up&&O>=st.y;if(z&&!S.x){k.scrollTo({top:O,behavior:m});return}z?D.y=k.scrollTop-O:D.y=U===jt.Down?k.scrollTop-at.y:k.scrollTop-st.y,D.y&&k.scrollBy({top:-D.y,behavior:m});break}}this.handleMove(t,uo(Xl(b,this.referenceCoordinates),D))}}}handleMove(t,i){const{onMove:a}=this.props;t.preventDefault(),a(i)}handleEnd(t){const{onEnd:i}=this.props;t.preventDefault(),this.detach(),i()}handleCancel(t){const{onCancel:i}=this.props;t.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Xm.activators=[{eventName:"onKeyDown",handler:(n,t,i)=>{let{keyboardCodes:a=vE,onActivation:o}=t,{active:u}=i;const{code:f}=n.nativeEvent;if(a.start.includes(f)){const m=u.activatorNode.current;return m&&n.target!==m?!1:(n.preventDefault(),o?.({event:n.nativeEvent}),!0)}return!1}}];function w_(n){return!!(n&&"distance"in n)}function R_(n){return!!(n&&"delay"in n)}class $m{constructor(t,i,a){var o;a===void 0&&(a=Dw(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=i;const{event:u}=t,{target:f}=u;this.props=t,this.events=i,this.document=To(f),this.documentListeners=new Bl(this.document),this.listeners=new Bl(a),this.windowListeners=new Bl(kn(f)),this.initialCoordinates=(o=mm(u))!=null?o:Ii,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:i,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(pi.Resize,this.handleCancel),this.windowListeners.add(pi.DragStart,A_),this.windowListeners.add(pi.VisibilityChange,this.handleCancel),this.windowListeners.add(pi.ContextMenu,A_),this.documentListeners.add(pi.Keydown,this.handleKeydown),i){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(R_(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(w_(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,i){const{active:a,onPending:o}=this.props;o(a,t,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:t}=this,{onStart:i}=this.props;t&&(this.activated=!0,this.documentListeners.add(pi.Click,Nw,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(pi.SelectionChange,this.removeTextSelection),i(t))}handleMove(t){var i;const{activated:a,initialCoordinates:o,props:u}=this,{onMove:f,options:{activationConstraint:m}}=u;if(!o)return;const g=(i=mm(t))!=null?i:Ii,p=Xl(o,g);if(!a&&m){if(w_(m)){if(m.tolerance!=null&&Zd(p,m.tolerance))return this.handleCancel();if(Zd(p,m.distance))return this.handleStart()}if(R_(m)&&Zd(p,m.tolerance))return this.handleCancel();this.handlePending(m,p);return}t.cancelable&&t.preventDefault(),f(g)}handleEnd(){const{onAbort:t,onEnd:i}=this.props;this.detach(),this.activated||t(this.props.active),i()}handleCancel(){const{onAbort:t,onCancel:i}=this.props;this.detach(),this.activated||t(this.props.active),i()}handleKeydown(t){t.code===jt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Ow={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Zm extends $m{constructor(t){const{event:i}=t,a=To(i.target);super(t,Ow,a)}}Zm.activators=[{eventName:"onPointerDown",handler:(n,t)=>{let{nativeEvent:i}=n,{onActivation:a}=t;return!i.isPrimary||i.button!==0?!1:(a?.({event:i}),!0)}}];const Mw={move:{name:"mousemove"},end:{name:"mouseup"}};var pm;(function(n){n[n.RightClick=2]="RightClick"})(pm||(pm={}));class Vw extends $m{constructor(t){super(t,Mw,To(t.event.target))}}Vw.activators=[{eventName:"onMouseDown",handler:(n,t)=>{let{nativeEvent:i}=n,{onActivation:a}=t;return i.button===pm.RightClick?!1:(a?.({event:i}),!0)}}];const Jd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Lw extends $m{constructor(t){super(t,Jd)}static setup(){return window.addEventListener(Jd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Jd.move.name,t)};function t(){}}}Lw.activators=[{eventName:"onTouchStart",handler:(n,t)=>{let{nativeEvent:i}=n,{onActivation:a}=t;const{touches:o}=i;return o.length>1?!1:(a?.({event:i}),!0)}}];var Pl;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Pl||(Pl={}));var lh;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(lh||(lh={}));function Uw(n){let{acceleration:t,activator:i=Pl.Pointer,canScroll:a,draggingRect:o,enabled:u,interval:f=5,order:m=lh.TreeOrder,pointerCoordinates:g,scrollableAncestors:p,scrollableAncestorRects:E,delta:b,threshold:S}=n;const D=zw({delta:b,disabled:!u}),[P,k]=KA(),U=C.useRef({x:0,y:0}),K=C.useRef({x:0,y:0}),X=C.useMemo(()=>{switch(i){case Pl.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Pl.DraggableRect:return o}},[i,o,g]),$=C.useRef(null),it=C.useCallback(()=>{const st=$.current;if(!st)return;const R=U.current.x*K.current.x,w=U.current.y*K.current.y;st.scrollBy(R,w)},[]),at=C.useMemo(()=>m===lh.TreeOrder?[...p].reverse():p,[m,p]);C.useEffect(()=>{if(!u||!p.length||!X){k();return}for(const st of at){if(a?.(st)===!1)continue;const R=p.indexOf(st),w=E[R];if(!w)continue;const{direction:x,speed:M}=Sw(st,w,X,t,S);for(const O of["x","y"])D[O][x[O]]||(M[O]=0,x[O]=0);if(M.x>0||M.y>0){k(),$.current=st,P(it,f),U.current=M,K.current=x;return}}U.current={x:0,y:0},K.current={x:0,y:0},k()},[t,it,a,k,u,f,JSON.stringify(X),JSON.stringify(D),P,p,at,E,JSON.stringify(S)])}const kw={x:{[We.Backward]:!1,[We.Forward]:!1},y:{[We.Backward]:!1,[We.Forward]:!1}};function zw(n){let{delta:t,disabled:i}=n;const a=dm(t);return lu(o=>{if(i||!a||!o)return kw;const u={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[We.Backward]:o.x[We.Backward]||u.x===-1,[We.Forward]:o.x[We.Forward]||u.x===1},y:{[We.Backward]:o.y[We.Backward]||u.y===-1,[We.Forward]:o.y[We.Forward]||u.y===1}}},[i,t,a])}function Bw(n,t){const i=t!=null?n.get(t):void 0,a=i?i.node.current:null;return lu(o=>{var u;return t==null?null:(u=a??o)!=null?u:null},[a,t])}function Pw(n,t){return C.useMemo(()=>n.reduce((i,a)=>{const{sensor:o}=a,u=o.activators.map(f=>({eventName:f.eventName,handler:t(f.handler,a)}));return[...i,...u]},[]),[n,t])}var Zl;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Zl||(Zl={}));var ym;(function(n){n.Optimized="optimized"})(ym||(ym={}));const C_=new Map;function jw(n,t){let{dragging:i,dependencies:a,config:o}=t;const[u,f]=C.useState(null),{frequency:m,measure:g,strategy:p}=o,E=C.useRef(n),b=U(),S=Kl(b),D=C.useCallback(function(K){K===void 0&&(K=[]),!S.current&&f(X=>X===null?K:X.concat(K.filter($=>!X.includes($))))},[S]),P=C.useRef(null),k=lu(K=>{if(b&&!i)return C_;if(!K||K===C_||E.current!==n||u!=null){const X=new Map;for(let $ of n){if(!$)continue;if(u&&u.length>0&&!u.includes($.id)&&$.rect.current){X.set($.id,$.rect.current);continue}const it=$.node.current,at=it?new Km(g(it),it):null;$.rect.current=at,at&&X.set($.id,at)}return X}return K},[n,u,i,b,g]);return C.useEffect(()=>{E.current=n},[n]),C.useEffect(()=>{b||D()},[i,b]),C.useEffect(()=>{u&&u.length>0&&f(null)},[JSON.stringify(u)]),C.useEffect(()=>{b||typeof m!="number"||P.current!==null||(P.current=setTimeout(()=>{D(),P.current=null},m))},[m,b,D,...a]),{droppableRects:k,measureDroppableContainers:D,measuringScheduled:u!=null};function U(){switch(p){case Zl.Always:return!1;case Zl.BeforeDragging:return i;default:return!i}}}function _E(n,t){return lu(i=>n?i||(typeof t=="function"?t(n):n):null,[t,n])}function qw(n,t){return _E(n,t)}function Hw(n){let{callback:t,disabled:i}=n;const a=Ym(t),o=C.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(a)},[a,i]);return C.useEffect(()=>()=>o?.disconnect(),[o]),o}function Dh(n){let{callback:t,disabled:i}=n;const a=Ym(t),o=C.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(a)},[i]);return C.useEffect(()=>()=>o?.disconnect(),[o]),o}function Fw(n){return new Km(So(n),n)}function x_(n,t,i){t===void 0&&(t=Fw);const[a,o]=C.useState(null);function u(){o(g=>{if(!n)return null;if(n.isConnected===!1){var p;return(p=g??i)!=null?p:null}const E=t(n);return JSON.stringify(g)===JSON.stringify(E)?g:E})}const f=Hw({callback(g){if(n)for(const p of g){const{type:E,target:b}=p;if(E==="childList"&&b instanceof HTMLElement&&b.contains(n)){u();break}}}}),m=Dh({callback:u});return tr(()=>{u(),n?(m?.observe(n),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[n]),a}function Gw(n){const t=_E(n);return hE(n,t)}const D_=[];function Yw(n){const t=C.useRef(n),i=lu(a=>n?a&&a!==D_&&n&&t.current&&n.parentNode===t.current.parentNode?a:xh(n):D_,[n]);return C.useEffect(()=>{t.current=n},[n]),i}function Qw(n){const[t,i]=C.useState(null),a=C.useRef(n),o=C.useCallback(u=>{const f=$d(u.target);f&&i(m=>m?(m.set(f,gm(f)),new Map(m)):null)},[]);return C.useEffect(()=>{const u=a.current;if(n!==u){f(u);const m=n.map(g=>{const p=$d(g);return p?(p.addEventListener("scroll",o,{passive:!0}),[p,gm(p)]):null}).filter(g=>g!=null);i(m.length?new Map(m):null),a.current=n}return()=>{f(n),f(u)};function f(m){m.forEach(g=>{const p=$d(g);p?.removeEventListener("scroll",o)})}},[o,n]),C.useMemo(()=>n.length?t?Array.from(t.values()).reduce((u,f)=>uo(u,f),Ii):yE(n):Ii,[n,t])}function N_(n,t){t===void 0&&(t=[]);const i=C.useRef(null);return C.useEffect(()=>{i.current=null},t),C.useEffect(()=>{const a=n!==Ii;a&&!i.current&&(i.current=n),!a&&i.current&&(i.current=null)},[n]),i.current?Xl(n,i.current):Ii}function Kw(n){C.useEffect(()=>{if(!Ch)return;const t=n.map(i=>{let{sensor:a}=i;return a.setup==null?void 0:a.setup()});return()=>{for(const i of t)i?.()}},n.map(t=>{let{sensor:i}=t;return i}))}function Xw(n,t){return C.useMemo(()=>n.reduce((i,a)=>{let{eventName:o,handler:u}=a;return i[o]=f=>{u(f,t)},i},{}),[n,t])}function EE(n){return C.useMemo(()=>n?_w(n):null,[n])}const I_=[];function $w(n,t){t===void 0&&(t=So);const[i]=n,a=EE(i?kn(i):null),[o,u]=C.useState(I_);function f(){u(()=>n.length?n.map(g=>gE(g)?a:new Km(t(g),g)):I_)}const m=Dh({callback:f});return tr(()=>{m?.disconnect(),f(),n.forEach(g=>m?.observe(g))},[n]),o}function Zw(n){if(!n)return null;if(n.children.length>1)return n;const t=n.children[0];return ou(t)?t:n}function Jw(n){let{measure:t}=n;const[i,a]=C.useState(null),o=C.useCallback(p=>{for(const{target:E}of p)if(ou(E)){a(b=>{const S=t(E);return b?{...b,width:S.width,height:S.height}:S});break}},[t]),u=Dh({callback:o}),f=C.useCallback(p=>{const E=Zw(p);u?.disconnect(),E&&u?.observe(E),a(E?t(E):null)},[t,u]),[m,g]=sh(f);return C.useMemo(()=>({nodeRef:m,rect:i,setRef:g}),[i,m,g])}const Ww=[{sensor:Zm,options:{}},{sensor:Xm,options:{}}],t2={current:{}},$c={draggable:{measure:S_},droppable:{measure:S_,strategy:Zl.WhileDragging,frequency:ym.Optimized},dragOverlay:{measure:So}};class jl extends Map{get(t){var i;return t!=null&&(i=super.get(t))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:i}=t;return!i})}getNodeFor(t){var i,a;return(i=(a=this.get(t))==null?void 0:a.node.current)!=null?i:void 0}}const e2={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new jl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:oh},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:$c,measureDroppableContainers:oh,windowRect:null,measuringScheduled:!1},n2={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:oh,draggableNodes:new Map,over:null,measureDroppableContainers:oh},Nh=C.createContext(n2),bE=C.createContext(e2);function i2(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new jl}}}function r2(n,t){switch(t.type){case je.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case je.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:t.coordinates.x-n.draggable.initialCoordinates.x,y:t.coordinates.y-n.draggable.initialCoordinates.y}}};case je.DragEnd:case je.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case je.RegisterDroppable:{const{element:i}=t,{id:a}=i,o=new jl(n.droppable.containers);return o.set(a,i),{...n,droppable:{...n.droppable,containers:o}}}case je.SetDroppableDisabled:{const{id:i,key:a,disabled:o}=t,u=n.droppable.containers.get(i);if(!u||a!==u.key)return n;const f=new jl(n.droppable.containers);return f.set(i,{...u,disabled:o}),{...n,droppable:{...n.droppable,containers:f}}}case je.UnregisterDroppable:{const{id:i,key:a}=t,o=n.droppable.containers.get(i);if(!o||a!==o.key)return n;const u=new jl(n.droppable.containers);return u.delete(i),{...n,droppable:{...n.droppable,containers:u}}}default:return n}}function a2(n){let{disabled:t}=n;const{active:i,activatorEvent:a,draggableNodes:o}=C.useContext(Nh),u=dm(a),f=dm(i?.id);return C.useEffect(()=>{if(!t&&!a&&u&&f!=null){if(!Qm(u)||document.activeElement===u.target)return;const m=o.get(f);if(!m)return;const{activatorNode:g,node:p}=m;if(!g.current&&!p.current)return;requestAnimationFrame(()=>{for(const E of[g.current,p.current]){if(!E)continue;const b=ZA(E);if(b){b.focus();break}}})}},[a,t,o,f,u]),null}function s2(n,t){let{transform:i,...a}=t;return n!=null&&n.length?n.reduce((o,u)=>u({transform:o,...a}),i):i}function o2(n){return C.useMemo(()=>({draggable:{...$c.draggable,...n?.draggable},droppable:{...$c.droppable,...n?.droppable},dragOverlay:{...$c.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function l2(n){let{activeNode:t,measure:i,initialRect:a,config:o=!0}=n;const u=C.useRef(!1),{x:f,y:m}=typeof o=="boolean"?{x:o,y:o}:o;tr(()=>{if(!f&&!m||!t){u.current=!1;return}if(u.current||!a)return;const p=t?.node.current;if(!p||p.isConnected===!1)return;const E=i(p),b=hE(E,a);if(f||(b.x=0),m||(b.y=0),u.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const S=fE(p);S&&S.scrollBy({top:b.y,left:b.x})}},[t,f,m,a,i])}const TE=C.createContext({...Ii,scaleX:1,scaleY:1});var ga;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(ga||(ga={}));const u2=C.memo(function(t){var i,a,o,u;let{id:f,accessibility:m,autoScroll:g=!0,children:p,sensors:E=Ww,collisionDetection:b=fw,measuring:S,modifiers:D,...P}=t;const k=C.useReducer(r2,void 0,i2),[U,K]=k,[X,$]=iw(),[it,at]=C.useState(ga.Uninitialized),st=it===ga.Initialized,{draggable:{active:R,nodes:w,translate:x},droppable:{containers:M}}=U,O=R!=null?w.get(R):null,z=C.useRef({initial:null,translated:null}),N=C.useMemo(()=>{var Nt;return R!=null?{id:R,data:(Nt=O?.data)!=null?Nt:t2,rect:z}:null},[R,O]),zt=C.useRef(null),[oe,Z]=C.useState(null),[ot,gt]=C.useState(null),wt=Kl(P,Object.values(P)),Bt=uu("DndDescribedBy",f),V=C.useMemo(()=>M.getEnabled(),[M]),J=o2(S),{droppableRects:lt,measureDroppableContainers:ct,measuringScheduled:_t}=jw(V,{dragging:st,dependencies:[x.x,x.y],config:J.droppable}),yt=Bw(w,R),Dt=C.useMemo(()=>ot?mm(ot):null,[ot]),te=or(),qt=qw(yt,J.draggable.measure);l2({activeNode:R!=null?w.get(R):null,config:te.layoutShiftCompensation,initialRect:qt,measure:J.draggable.measure});const Mt=x_(yt,J.draggable.measure,qt),ti=x_(yt?yt.parentElement:null),tn=C.useRef({activatorEvent:null,active:null,activeNode:yt,collisionRect:null,collisions:null,droppableRects:lt,draggableNodes:w,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),zn=M.getNodeFor((i=tn.current.over)==null?void 0:i.id),xe=Jw({measure:J.dragOverlay.measure}),ei=(a=xe.nodeRef.current)!=null?a:yt,Cn=st?(o=xe.rect)!=null?o:Mt:null,Lr=!!(xe.nodeRef.current&&xe.rect),Ur=Gw(Lr?null:Mt),he=EE(ei?kn(ei):null),ee=Yw(st?zn??yt:null),Bn=$w(ee),kr=s2(D,{transform:{x:x.x-Ur.x,y:x.y-Ur.y,scaleX:1,scaleY:1},activatorEvent:ot,active:N,activeNodeRect:Mt,containerNodeRect:ti,draggingNodeRect:Cn,over:tn.current.over,overlayNodeRect:xe.rect,scrollableAncestors:ee,scrollableAncestorRects:Bn,windowRect:he}),Da=Dt?uo(Dt,x):null,Qe=Qw(ee),rr=N_(Qe),Na=N_(Qe,[Mt]),ni=uo(kr,rr),_n=Cn?gw(Cn,kr):null,ar=N&&_n?b({active:N,collisionRect:_n,droppableRects:lt,droppableContainers:V,pointerCoordinates:Da}):null,Ia=cE(ar,"id"),[Pn,Oa]=C.useState(null),jn=Lr?kr:uo(kr,Na),Be=dw(jn,(u=Pn?.rect)!=null?u:null,Mt),hn=C.useRef(null),fe=C.useCallback((Nt,de)=>{let{sensor:me,options:De}=de;if(zt.current==null)return;const fn=w.get(zt.current);if(!fn)return;const Ke=Nt.nativeEvent,Te=new me({active:zt.current,activeNode:fn,event:Ke,options:De,context:tn,onAbort(Se){if(!w.get(Se))return;const{onDragAbort:mn}=wt.current,En={id:Se};mn?.(En),X({type:"onDragAbort",event:En})},onPending(Se,dn,mn,En){if(!w.get(Se))return;const{onDragPending:bn}=wt.current,Hn={id:Se,constraint:dn,initialCoordinates:mn,offset:En};bn?.(Hn),X({type:"onDragPending",event:Hn})},onStart(Se){const dn=zt.current;if(dn==null)return;const mn=w.get(dn);if(!mn)return;const{onDragStart:En}=wt.current,qn={activatorEvent:Ke,active:{id:dn,data:mn.data,rect:z}};Vl.unstable_batchedUpdates(()=>{En?.(qn),at(ga.Initializing),K({type:je.DragStart,initialCoordinates:Se,active:dn}),X({type:"onDragStart",event:qn}),Z(hn.current),gt(Ke)})},onMove(Se){K({type:je.DragMove,coordinates:Se})},onEnd:xn(je.DragEnd),onCancel:xn(je.DragCancel)});hn.current=Te;function xn(Se){return async function(){const{active:mn,collisions:En,over:qn,scrollAdjustedTranslate:bn}=tn.current;let Hn=null;if(mn&&bn){const{cancelDrop:en}=wt.current;Hn={activatorEvent:Ke,active:mn,collisions:En,delta:bn,over:qn},Se===je.DragEnd&&typeof en=="function"&&await Promise.resolve(en(Hn))&&(Se=je.DragCancel)}zt.current=null,Vl.unstable_batchedUpdates(()=>{K({type:Se}),at(ga.Uninitialized),Oa(null),Z(null),gt(null),hn.current=null;const en=Se===je.DragEnd?"onDragEnd":"onDragCancel";if(Hn){const Tn=wt.current[en];Tn?.(Hn),X({type:en,event:Hn})}})}}},[w]),ps=C.useCallback((Nt,de)=>(me,De)=>{const fn=me.nativeEvent,Ke=w.get(De);if(zt.current!==null||!Ke||fn.dndKit||fn.defaultPrevented)return;const Te={active:Ke};Nt(me,de.options,Te)===!0&&(fn.dndKit={capturedBy:de.sensor},zt.current=De,fe(me,de))},[w,fe]),sr=Pw(E,ps);Kw(E),tr(()=>{Mt&&it===ga.Initializing&&at(ga.Initialized)},[Mt,it]),C.useEffect(()=>{const{onDragMove:Nt}=wt.current,{active:de,activatorEvent:me,collisions:De,over:fn}=tn.current;if(!de||!me)return;const Ke={active:de,activatorEvent:me,collisions:De,delta:{x:ni.x,y:ni.y},over:fn};Vl.unstable_batchedUpdates(()=>{Nt?.(Ke),X({type:"onDragMove",event:Ke})})},[ni.x,ni.y]),C.useEffect(()=>{const{active:Nt,activatorEvent:de,collisions:me,droppableContainers:De,scrollAdjustedTranslate:fn}=tn.current;if(!Nt||zt.current==null||!de||!fn)return;const{onDragOver:Ke}=wt.current,Te=De.get(Ia),xn=Te&&Te.rect.current?{id:Te.id,rect:Te.rect.current,data:Te.data,disabled:Te.disabled}:null,Se={active:Nt,activatorEvent:de,collisions:me,delta:{x:fn.x,y:fn.y},over:xn};Vl.unstable_batchedUpdates(()=>{Oa(xn),Ke?.(Se),X({type:"onDragOver",event:Se})})},[Ia]),tr(()=>{tn.current={activatorEvent:ot,active:N,activeNode:yt,collisionRect:_n,collisions:ar,droppableRects:lt,draggableNodes:w,draggingNode:ei,draggingNodeRect:Cn,droppableContainers:M,over:Pn,scrollableAncestors:ee,scrollAdjustedTranslate:ni},z.current={initial:Cn,translated:_n}},[N,yt,ar,_n,w,ei,Cn,lt,M,Pn,ee,ni]),Uw({...te,delta:x,draggingRect:_n,pointerCoordinates:Da,scrollableAncestors:ee,scrollableAncestorRects:Bn});const ys=C.useMemo(()=>({active:N,activeNode:yt,activeNodeRect:Mt,activatorEvent:ot,collisions:ar,containerNodeRect:ti,dragOverlay:xe,draggableNodes:w,droppableContainers:M,droppableRects:lt,over:Pn,measureDroppableContainers:ct,scrollableAncestors:ee,scrollableAncestorRects:Bn,measuringConfiguration:J,measuringScheduled:_t,windowRect:he}),[N,yt,Mt,ot,ar,ti,xe,w,M,lt,Pn,ct,ee,Bn,J,_t,he]),ii=C.useMemo(()=>({activatorEvent:ot,activators:sr,active:N,activeNodeRect:Mt,ariaDescribedById:{draggable:Bt},dispatch:K,draggableNodes:w,over:Pn,measureDroppableContainers:ct}),[ot,sr,N,Mt,K,Bt,w,Pn,ct]);return Rn.createElement(oE.Provider,{value:$},Rn.createElement(Nh.Provider,{value:ii},Rn.createElement(bE.Provider,{value:ys},Rn.createElement(TE.Provider,{value:Be},p)),Rn.createElement(a2,{disabled:m?.restoreFocus===!1})),Rn.createElement(sw,{...m,hiddenTextDescribedById:Bt}));function or(){const Nt=oe?.autoScrollEnabled===!1,de=typeof g=="object"?g.enabled===!1:g===!1,me=st&&!Nt&&!de;return typeof g=="object"?{...g,enabled:me}:{enabled:me}}}),c2=C.createContext(null),O_="button",h2="Draggable";function f2(n){let{id:t,data:i,disabled:a=!1,attributes:o}=n;const u=uu(h2),{activators:f,activatorEvent:m,active:g,activeNodeRect:p,ariaDescribedById:E,draggableNodes:b,over:S}=C.useContext(Nh),{role:D=O_,roleDescription:P="draggable",tabIndex:k=0}=o??{},U=g?.id===t,K=C.useContext(U?TE:c2),[X,$]=sh(),[it,at]=sh(),st=Xw(f,t),R=Kl(i);tr(()=>(b.set(t,{id:t,key:u,node:X,activatorNode:it,data:R}),()=>{const x=b.get(t);x&&x.key===u&&b.delete(t)}),[b,t]);const w=C.useMemo(()=>({role:D,tabIndex:k,"aria-disabled":a,"aria-pressed":U&&D===O_?!0:void 0,"aria-roledescription":P,"aria-describedby":E.draggable}),[a,D,k,U,P,E.draggable]);return{active:g,activatorEvent:m,activeNodeRect:p,attributes:w,isDragging:U,listeners:a?void 0:st,node:X,over:S,setNodeRef:$,setActivatorNodeRef:at,transform:K}}function d2(){return C.useContext(bE)}const m2="Droppable",g2={timeout:25};function p2(n){let{data:t,disabled:i=!1,id:a,resizeObserverConfig:o}=n;const u=uu(m2),{active:f,dispatch:m,over:g,measureDroppableContainers:p}=C.useContext(Nh),E=C.useRef({disabled:i}),b=C.useRef(!1),S=C.useRef(null),D=C.useRef(null),{disabled:P,updateMeasurementsFor:k,timeout:U}={...g2,...o},K=Kl(k??a),X=C.useCallback(()=>{if(!b.current){b.current=!0;return}D.current!=null&&clearTimeout(D.current),D.current=setTimeout(()=>{p(Array.isArray(K.current)?K.current:[K.current]),D.current=null},U)},[U]),$=Dh({callback:X,disabled:P||!f}),it=C.useCallback((w,x)=>{$&&(x&&($.unobserve(x),b.current=!1),w&&$.observe(w))},[$]),[at,st]=sh(it),R=Kl(t);return C.useEffect(()=>{!$||!at.current||($.disconnect(),b.current=!1,$.observe(at.current))},[at,$]),C.useEffect(()=>(m({type:je.RegisterDroppable,element:{id:a,key:u,disabled:i,node:at,rect:S,data:R}}),()=>m({type:je.UnregisterDroppable,key:u,id:a})),[a]),C.useEffect(()=>{i!==E.current.disabled&&(m({type:je.SetDroppableDisabled,id:a,key:u,disabled:i}),E.current.disabled=i)},[a,u,i,m]),{active:f,rect:S,isOver:g?.id===a,node:at,over:g,setNodeRef:st}}function Jm(n,t,i){const a=n.slice();return a.splice(i<0?a.length+i:i,0,a.splice(t,1)[0]),a}function y2(n,t){return n.reduce((i,a,o)=>{const u=t.get(a);return u&&(i[o]=u),i},Array(n.length))}function Pc(n){return n!==null&&n>=0}function v2(n,t){if(n===t)return!0;if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0}function _2(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const SE=n=>{let{rects:t,activeIndex:i,overIndex:a,index:o}=n;const u=Jm(t,a,i),f=t[o],m=u[o];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},jc={scaleX:1,scaleY:1},E2=n=>{var t;let{activeIndex:i,activeNodeRect:a,index:o,rects:u,overIndex:f}=n;const m=(t=u[i])!=null?t:a;if(!m)return null;if(o===i){const p=u[f];return p?{x:0,y:i<f?p.top+p.height-(m.top+m.height):p.top-m.top,...jc}:null}const g=b2(u,o,i);return o>i&&o<=f?{x:0,y:-m.height-g,...jc}:o<i&&o>=f?{x:0,y:m.height+g,...jc}:{x:0,y:0,...jc}};function b2(n,t,i){const a=n[t],o=n[t-1],u=n[t+1];return a?i<t?o?a.top-(o.top+o.height):u?u.top-(a.top+a.height):0:u?u.top-(a.top+a.height):o?a.top-(o.top+o.height):0:0}const AE="Sortable",wE=Rn.createContext({activeIndex:-1,containerId:AE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:SE,disabled:{draggable:!1,droppable:!1}});function T2(n){let{children:t,id:i,items:a,strategy:o=SE,disabled:u=!1}=n;const{active:f,dragOverlay:m,droppableRects:g,over:p,measureDroppableContainers:E}=d2(),b=uu(AE,i),S=m.rect!==null,D=C.useMemo(()=>a.map(st=>typeof st=="object"&&"id"in st?st.id:st),[a]),P=f!=null,k=f?D.indexOf(f.id):-1,U=p?D.indexOf(p.id):-1,K=C.useRef(D),X=!v2(D,K.current),$=U!==-1&&k===-1||X,it=_2(u);tr(()=>{X&&P&&E(D)},[X,D,P,E]),C.useEffect(()=>{K.current=D},[D]);const at=C.useMemo(()=>({activeIndex:k,containerId:b,disabled:it,disableTransforms:$,items:D,overIndex:U,useDragOverlay:S,sortedRects:y2(D,g),strategy:o}),[k,b,it.draggable,it.droppable,$,D,U,g,S,o]);return Rn.createElement(wE.Provider,{value:at},t)}const S2=n=>{let{id:t,items:i,activeIndex:a,overIndex:o}=n;return Jm(i,a,o).indexOf(t)},A2=n=>{let{containerId:t,isSorting:i,wasDragging:a,index:o,items:u,newIndex:f,previousItems:m,previousContainerId:g,transition:p}=n;return!p||!a||m!==u&&o===f?!1:i?!0:f!==o&&t===g},w2={duration:200,easing:"ease"},RE="transform",R2=$l.Transition.toString({property:RE,duration:0,easing:"linear"}),C2={roleDescription:"sortable"};function x2(n){let{disabled:t,index:i,node:a,rect:o}=n;const[u,f]=C.useState(null),m=C.useRef(i);return tr(()=>{if(!t&&i!==m.current&&a.current){const g=o.current;if(g){const p=So(a.current,{ignoreTransform:!0}),E={x:g.left-p.left,y:g.top-p.top,scaleX:g.width/p.width,scaleY:g.height/p.height};(E.x||E.y)&&f(E)}}i!==m.current&&(m.current=i)},[t,i,a,o]),C.useEffect(()=>{u&&f(null)},[u]),u}function D2(n){let{animateLayoutChanges:t=A2,attributes:i,disabled:a,data:o,getNewIndex:u=S2,id:f,strategy:m,resizeObserverConfig:g,transition:p=w2}=n;const{items:E,containerId:b,activeIndex:S,disabled:D,disableTransforms:P,sortedRects:k,overIndex:U,useDragOverlay:K,strategy:X}=C.useContext(wE),$=N2(a,D),it=E.indexOf(f),at=C.useMemo(()=>({sortable:{containerId:b,index:it,items:E},...o}),[b,o,it,E]),st=C.useMemo(()=>E.slice(E.indexOf(f)),[E,f]),{rect:R,node:w,isOver:x,setNodeRef:M}=p2({id:f,data:at,disabled:$.droppable,resizeObserverConfig:{updateMeasurementsFor:st,...g}}),{active:O,activatorEvent:z,activeNodeRect:N,attributes:zt,setNodeRef:oe,listeners:Z,isDragging:ot,over:gt,setActivatorNodeRef:wt,transform:Bt}=f2({id:f,data:at,attributes:{...C2,...i},disabled:$.draggable}),V=QA(M,oe),J=!!O,lt=J&&!P&&Pc(S)&&Pc(U),ct=!K&&ot,_t=ct&&lt?Bt:null,Dt=lt?_t??(m??X)({rects:k,activeNodeRect:N,activeIndex:S,overIndex:U,index:it}):null,te=Pc(S)&&Pc(U)?u({id:f,items:E,activeIndex:S,overIndex:U}):it,qt=O?.id,Mt=C.useRef({activeId:qt,items:E,newIndex:te,containerId:b}),ti=E!==Mt.current.items,tn=t({active:O,containerId:b,isDragging:ot,isSorting:J,id:f,index:it,items:E,newIndex:Mt.current.newIndex,previousItems:Mt.current.items,previousContainerId:Mt.current.containerId,transition:p,wasDragging:Mt.current.activeId!=null}),zn=x2({disabled:!tn,index:it,node:w,rect:R});return C.useEffect(()=>{J&&Mt.current.newIndex!==te&&(Mt.current.newIndex=te),b!==Mt.current.containerId&&(Mt.current.containerId=b),E!==Mt.current.items&&(Mt.current.items=E)},[J,te,b,E]),C.useEffect(()=>{if(qt===Mt.current.activeId)return;if(qt!=null&&Mt.current.activeId==null){Mt.current.activeId=qt;return}const ei=setTimeout(()=>{Mt.current.activeId=qt},50);return()=>clearTimeout(ei)},[qt]),{active:O,activeIndex:S,attributes:zt,data:at,rect:R,index:it,newIndex:te,items:E,isOver:x,isSorting:J,isDragging:ot,listeners:Z,node:w,overIndex:U,over:gt,setNodeRef:V,setActivatorNodeRef:wt,setDroppableNodeRef:M,setDraggableNodeRef:oe,transform:zn??Dt,transition:xe()};function xe(){if(zn||ti&&Mt.current.newIndex===it)return R2;if(!(ct&&!Qm(z)||!p)&&(J||tn))return $l.Transition.toString({...p,property:RE})}}function N2(n,t){var i,a;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(i=n?.draggable)!=null?i:t.draggable,droppable:(a=n?.droppable)!=null?a:t.droppable}}function uh(n){if(!n)return!1;const t=n.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const I2=[jt.Down,jt.Right,jt.Up,jt.Left],O2=(n,t)=>{let{context:{active:i,collisionRect:a,droppableRects:o,droppableContainers:u,over:f,scrollableAncestors:m}}=t;if(I2.includes(n.code)){if(n.preventDefault(),!i||!a)return;const g=[];u.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const S=o.get(b.id);if(S)switch(n.code){case jt.Down:a.top<S.top&&g.push(b);break;case jt.Up:a.top>S.top&&g.push(b);break;case jt.Left:a.left>S.left&&g.push(b);break;case jt.Right:a.left<S.left&&g.push(b);break}});const p=cw({collisionRect:a,droppableRects:o,droppableContainers:g});let E=cE(p,"id");if(E===f?.id&&p.length>1&&(E=p[1].id),E!=null){const b=u.get(i.id),S=u.get(E),D=S?o.get(S.id):null,P=S?.node.current;if(P&&D&&b&&S){const U=xh(P).some((st,R)=>m[R]!==st),K=CE(b,S),X=M2(b,S),$=U||!K?{x:0,y:0}:{x:X?a.width-D.width:0,y:X?a.height-D.height:0},it={x:D.left,y:D.top};return $.x&&$.y?it:Xl(it,$)}}}};function CE(n,t){return!uh(n)||!uh(t)?!1:n.data.current.sortable.containerId===t.data.current.sortable.containerId}function M2(n,t){return!uh(n)||!uh(t)||!CE(n,t)?!1:n.data.current.sortable.index<t.data.current.sortable.index}const V2=()=>{};var M_={};const xE=function(n){const t=[];let i=0;for(let a=0;a<n.length;a++){let o=n.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},L2=function(n){const t=[];let i=0,a=0;for(;i<n.length;){const o=n[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],f=n[i++],m=n[i++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(g>>10)),t[a++]=String.fromCharCode(56320+(g&1023))}else{const u=n[i++],f=n[i++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},DE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,m=f?n[o+1]:0,g=o+2<n.length,p=g?n[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,D=p&63;g||(D=64,f||(S=64)),a.push(i[E],i[b],i[S],i[D])}return a.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(xE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):L2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],m=o<n.length?i[n.charAt(o)]:0;++o;const p=o<n.length?i[n.charAt(o)]:64;++o;const b=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new U2;const S=u<<2|m>>4;if(a.push(S),p!==64){const D=m<<4&240|p>>2;if(a.push(D),b!==64){const P=p<<6&192|b;a.push(P)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class U2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k2=function(n){const t=xE(n);return DE.encodeByteArray(t,!0)},ch=function(n){return k2(n).replace(/\./g,"")},z2=function(n){try{return DE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function B2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const P2=()=>B2().__FIREBASE_DEFAULTS__,j2=()=>{if(typeof process>"u"||typeof M_>"u")return;const n=M_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},q2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&z2(n[1]);return t&&JSON.parse(t)},Wm=()=>{try{return V2()||P2()||j2()||q2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},H2=n=>Wm()?.emulatorHosts?.[n],NE=n=>{const t=H2(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},IE=()=>Wm()?.config;class F2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function cu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OE(n){return(await fetch(n,{credentials:"include"})).ok}function ME(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ch(JSON.stringify(i)),ch(JSON.stringify(f)),""].join(".")}const ql={};function G2(){const n={prod:[],emulator:[]};for(const t of Object.keys(ql))ql[t]?n.emulator.push(t):n.prod.push(t);return n}function Y2(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let V_=!1;function VE(n,t){if(typeof window>"u"||typeof document>"u"||!cu(window.location.host)||ql[n]===t||ql[n]||V_)return;ql[n]=t;function i(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=G2().prod.length>0;function f(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{V_=!0,f()},S}function E(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=Y2(a),D=i("text"),P=document.getElementById(D)||document.createElement("span"),k=i("learnmore"),U=document.getElementById(k)||document.createElement("a"),K=i("preprendIcon"),X=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;m($),E(U,k);const it=p();g(X,K),$.append(X,P,U,it),document.body.appendChild($)}u?(P.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Q2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K2(){const n=Wm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X2(){return!K2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $2(){try{return typeof indexedDB=="object"}catch{return!1}}function Z2(){return new Promise((n,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const J2="FirebaseError";class cs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=J2,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,LE.prototype.create)}}class LE{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?W2(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new cs(o,m,a)}}function W2(n,t){return n.replace(tR,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const tR=/\{\$([^}]+)}/g;function hh(n,t){if(n===t)return!0;const i=Object.keys(n),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const u=n[o],f=t[o];if(L_(u)&&L_(f)){if(!hh(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function L_(n){return n!==null&&typeof n=="object"}function xr(n){return n&&n._delegate?n._delegate:n}class mo{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const is="[DEFAULT]";class eR{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new F2;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iR(t))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=is){return this.instances.has(t)}getOptions(t=is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&t(u,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:nR(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=is){return this.component?this.component.multipleInstances?t:is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nR(n){return n===is?void 0:n}function iR(n){return n.instantiationMode==="EAGER"}class rR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new eR(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ft||(Ft={}));const aR={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},sR=Ft.INFO,oR={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},lR=(n,t,...i)=>{if(t<n.logLevel)return;const a=new Date().toISOString(),o=oR[t];if(o)console[o](`[${a}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class UE{constructor(t){this.name=t,this._logLevel=sR,this._logHandler=lR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const uR=(n,t)=>t.some(i=>n instanceof i);let U_,k_;function cR(){return U_||(U_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return k_||(k_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kE=new WeakMap,vm=new WeakMap,zE=new WeakMap,Wd=new WeakMap,tg=new WeakMap;function fR(n){const t=new Promise((i,a)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{i(va(n.result)),o()},f=()=>{a(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&kE.set(i,n)}).catch(()=>{}),tg.set(t,n),t}function dR(n){if(vm.has(n))return;const t=new Promise((i,a)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{a(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});vm.set(n,t)}let _m={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return vm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||zE.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return va(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function mR(n){_m=n(_m)}function gR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=n.call(tm(this),t,...i);return zE.set(a,t.sort?t.sort():[t]),va(a)}:hR().includes(n)?function(...t){return n.apply(tm(this),t),va(kE.get(this))}:function(...t){return va(n.apply(tm(this),t))}}function pR(n){return typeof n=="function"?gR(n):(n instanceof IDBTransaction&&dR(n),uR(n,cR())?new Proxy(n,_m):n)}function va(n){if(n instanceof IDBRequest)return fR(n);if(Wd.has(n))return Wd.get(n);const t=pR(n);return t!==n&&(Wd.set(n,t),tg.set(t,n)),t}const tm=n=>tg.get(n);function yR(n,t,{blocked:i,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(n,t),m=va(f);return a&&f.addEventListener("upgradeneeded",g=>{a(va(f.result),g.oldVersion,g.newVersion,va(f.transaction),g)}),i&&f.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const vR=["get","getKey","getAll","getAllKeys","count"],_R=["put","add","delete","clear"],em=new Map;function z_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(em.get(t))return em.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=_R.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||vR.includes(i)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),o&&g.done]))[0]};return em.set(t,u),u}mR(n=>({...n,get:(t,i,a)=>z_(t,i)||n.get(t,i,a),has:(t,i)=>!!z_(t,i)||n.has(t,i)}));class ER{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(bR(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function bR(n){return n.getComponent()?.type==="VERSION"}const Em="@firebase/app",B_="0.14.7";const Dr=new UE("@firebase/app"),TR="@firebase/app-compat",SR="@firebase/analytics-compat",AR="@firebase/analytics",wR="@firebase/app-check-compat",RR="@firebase/app-check",CR="@firebase/auth",xR="@firebase/auth-compat",DR="@firebase/database",NR="@firebase/data-connect",IR="@firebase/database-compat",OR="@firebase/functions",MR="@firebase/functions-compat",VR="@firebase/installations",LR="@firebase/installations-compat",UR="@firebase/messaging",kR="@firebase/messaging-compat",zR="@firebase/performance",BR="@firebase/performance-compat",PR="@firebase/remote-config",jR="@firebase/remote-config-compat",qR="@firebase/storage",HR="@firebase/storage-compat",FR="@firebase/firestore",GR="@firebase/ai",YR="@firebase/firestore-compat",QR="firebase",KR="12.8.0";const bm="[DEFAULT]",XR={[Em]:"fire-core",[TR]:"fire-core-compat",[AR]:"fire-analytics",[SR]:"fire-analytics-compat",[RR]:"fire-app-check",[wR]:"fire-app-check-compat",[CR]:"fire-auth",[xR]:"fire-auth-compat",[DR]:"fire-rtdb",[NR]:"fire-data-connect",[IR]:"fire-rtdb-compat",[OR]:"fire-fn",[MR]:"fire-fn-compat",[VR]:"fire-iid",[LR]:"fire-iid-compat",[UR]:"fire-fcm",[kR]:"fire-fcm-compat",[zR]:"fire-perf",[BR]:"fire-perf-compat",[PR]:"fire-rc",[jR]:"fire-rc-compat",[qR]:"fire-gcs",[HR]:"fire-gcs-compat",[FR]:"fire-fst",[YR]:"fire-fst-compat",[GR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};const fh=new Map,$R=new Map,Tm=new Map;function P_(n,t){try{n.container.addComponent(t)}catch(i){Dr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function Jl(n){const t=n.name;if(Tm.has(t))return Dr.debug(`There were multiple attempts to register component ${t}.`),!1;Tm.set(t,n);for(const i of fh.values())P_(i,n);for(const i of $R.values())P_(i,n);return!0}function BE(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function PE(n){return n==null?!1:n.settings!==void 0}const ZR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_a=new LE("app","Firebase",ZR);class JR{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _a.create("app-deleted",{appName:this._name})}}const jE=KR;function qE(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const a={name:bm,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw _a.create("bad-app-name",{appName:String(o)});if(i||(i=IE()),!i)throw _a.create("no-options");const u=fh.get(o);if(u){if(hh(i,u.options)&&hh(a,u.config))return u;throw _a.create("duplicate-app",{appName:o})}const f=new rR(o);for(const g of Tm.values())f.addComponent(g);const m=new JR(i,a,f);return fh.set(o,m),m}function HE(n=bm){const t=fh.get(n);if(!t&&n===bm&&IE())return qE();if(!t)throw _a.create("no-app",{appName:n});return t}function Ea(n,t,i){let a=XR[n]??n;i&&(a+=`-${i}`);const o=a.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${t}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dr.warn(f.join(" "));return}Jl(new mo(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const WR="firebase-heartbeat-database",tC=1,Wl="firebase-heartbeat-store";let nm=null;function FE(){return nm||(nm=yR(WR,tC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Wl)}catch(i){console.warn(i)}}}}).catch(n=>{throw _a.create("idb-open",{originalErrorMessage:n.message})})),nm}async function eC(n){try{const i=(await FE()).transaction(Wl),a=await i.objectStore(Wl).get(GE(n));return await i.done,a}catch(t){if(t instanceof cs)Dr.warn(t.message);else{const i=_a.create("idb-get",{originalErrorMessage:t?.message});Dr.warn(i.message)}}}async function j_(n,t){try{const a=(await FE()).transaction(Wl,"readwrite");await a.objectStore(Wl).put(t,GE(n)),await a.done}catch(i){if(i instanceof cs)Dr.warn(i.message);else{const a=_a.create("idb-set",{originalErrorMessage:i?.message});Dr.warn(a.message)}}}function GE(n){return`${n.name}!${n.options.appId}`}const nC=1024,iC=30;class rC{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sC(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=q_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>iC){const o=oC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Dr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=q_(),{heartbeatsToSend:i,unsentEntries:a}=aC(this._heartbeatsCache.heartbeats),o=ch(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Dr.warn(t),""}}}function q_(){return new Date().toISOString().substring(0,10)}function aC(n,t=nC){const i=[];let a=n.slice();for(const o of n){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),H_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),H_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class sC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $2()?Z2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await eC(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return j_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return j_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function H_(n){return ch(JSON.stringify({version:2,heartbeats:n})).length}function oC(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let a=1;a<n.length;a++)n[a].date<i&&(i=n[a].date,t=a);return t}function lC(n){Jl(new mo("platform-logger",t=>new ER(t),"PRIVATE")),Jl(new mo("heartbeat",t=>new rC(t),"PRIVATE")),Ea(Em,B_,n),Ea(Em,B_,"esm2020"),Ea("fire-js","")}lC("");var uC="firebase",cC="12.8.0";Ea(uC,cC,"app");var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ba,YE;(function(){var n;function t(R,w){function x(){}x.prototype=w.prototype,R.F=w.prototype,R.prototype=new x,R.prototype.constructor=R,R.D=function(M,O,z){for(var N=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)N[zt-2]=arguments[zt];return w.prototype[O].apply(M,N)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,x){x||(x=0);const M=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)M[O]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(O=0;O<16;++O)M[O]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=R.g[0],x=R.g[1],O=R.g[2];let z=R.g[3],N;N=w+(z^x&(O^z))+M[0]+3614090360&4294967295,w=x+(N<<7&4294967295|N>>>25),N=z+(O^w&(x^O))+M[1]+3905402710&4294967295,z=w+(N<<12&4294967295|N>>>20),N=O+(x^z&(w^x))+M[2]+606105819&4294967295,O=z+(N<<17&4294967295|N>>>15),N=x+(w^O&(z^w))+M[3]+3250441966&4294967295,x=O+(N<<22&4294967295|N>>>10),N=w+(z^x&(O^z))+M[4]+4118548399&4294967295,w=x+(N<<7&4294967295|N>>>25),N=z+(O^w&(x^O))+M[5]+1200080426&4294967295,z=w+(N<<12&4294967295|N>>>20),N=O+(x^z&(w^x))+M[6]+2821735955&4294967295,O=z+(N<<17&4294967295|N>>>15),N=x+(w^O&(z^w))+M[7]+4249261313&4294967295,x=O+(N<<22&4294967295|N>>>10),N=w+(z^x&(O^z))+M[8]+1770035416&4294967295,w=x+(N<<7&4294967295|N>>>25),N=z+(O^w&(x^O))+M[9]+2336552879&4294967295,z=w+(N<<12&4294967295|N>>>20),N=O+(x^z&(w^x))+M[10]+4294925233&4294967295,O=z+(N<<17&4294967295|N>>>15),N=x+(w^O&(z^w))+M[11]+2304563134&4294967295,x=O+(N<<22&4294967295|N>>>10),N=w+(z^x&(O^z))+M[12]+1804603682&4294967295,w=x+(N<<7&4294967295|N>>>25),N=z+(O^w&(x^O))+M[13]+4254626195&4294967295,z=w+(N<<12&4294967295|N>>>20),N=O+(x^z&(w^x))+M[14]+2792965006&4294967295,O=z+(N<<17&4294967295|N>>>15),N=x+(w^O&(z^w))+M[15]+1236535329&4294967295,x=O+(N<<22&4294967295|N>>>10),N=w+(O^z&(x^O))+M[1]+4129170786&4294967295,w=x+(N<<5&4294967295|N>>>27),N=z+(x^O&(w^x))+M[6]+3225465664&4294967295,z=w+(N<<9&4294967295|N>>>23),N=O+(w^x&(z^w))+M[11]+643717713&4294967295,O=z+(N<<14&4294967295|N>>>18),N=x+(z^w&(O^z))+M[0]+3921069994&4294967295,x=O+(N<<20&4294967295|N>>>12),N=w+(O^z&(x^O))+M[5]+3593408605&4294967295,w=x+(N<<5&4294967295|N>>>27),N=z+(x^O&(w^x))+M[10]+38016083&4294967295,z=w+(N<<9&4294967295|N>>>23),N=O+(w^x&(z^w))+M[15]+3634488961&4294967295,O=z+(N<<14&4294967295|N>>>18),N=x+(z^w&(O^z))+M[4]+3889429448&4294967295,x=O+(N<<20&4294967295|N>>>12),N=w+(O^z&(x^O))+M[9]+568446438&4294967295,w=x+(N<<5&4294967295|N>>>27),N=z+(x^O&(w^x))+M[14]+3275163606&4294967295,z=w+(N<<9&4294967295|N>>>23),N=O+(w^x&(z^w))+M[3]+4107603335&4294967295,O=z+(N<<14&4294967295|N>>>18),N=x+(z^w&(O^z))+M[8]+1163531501&4294967295,x=O+(N<<20&4294967295|N>>>12),N=w+(O^z&(x^O))+M[13]+2850285829&4294967295,w=x+(N<<5&4294967295|N>>>27),N=z+(x^O&(w^x))+M[2]+4243563512&4294967295,z=w+(N<<9&4294967295|N>>>23),N=O+(w^x&(z^w))+M[7]+1735328473&4294967295,O=z+(N<<14&4294967295|N>>>18),N=x+(z^w&(O^z))+M[12]+2368359562&4294967295,x=O+(N<<20&4294967295|N>>>12),N=w+(x^O^z)+M[5]+4294588738&4294967295,w=x+(N<<4&4294967295|N>>>28),N=z+(w^x^O)+M[8]+2272392833&4294967295,z=w+(N<<11&4294967295|N>>>21),N=O+(z^w^x)+M[11]+1839030562&4294967295,O=z+(N<<16&4294967295|N>>>16),N=x+(O^z^w)+M[14]+4259657740&4294967295,x=O+(N<<23&4294967295|N>>>9),N=w+(x^O^z)+M[1]+2763975236&4294967295,w=x+(N<<4&4294967295|N>>>28),N=z+(w^x^O)+M[4]+1272893353&4294967295,z=w+(N<<11&4294967295|N>>>21),N=O+(z^w^x)+M[7]+4139469664&4294967295,O=z+(N<<16&4294967295|N>>>16),N=x+(O^z^w)+M[10]+3200236656&4294967295,x=O+(N<<23&4294967295|N>>>9),N=w+(x^O^z)+M[13]+681279174&4294967295,w=x+(N<<4&4294967295|N>>>28),N=z+(w^x^O)+M[0]+3936430074&4294967295,z=w+(N<<11&4294967295|N>>>21),N=O+(z^w^x)+M[3]+3572445317&4294967295,O=z+(N<<16&4294967295|N>>>16),N=x+(O^z^w)+M[6]+76029189&4294967295,x=O+(N<<23&4294967295|N>>>9),N=w+(x^O^z)+M[9]+3654602809&4294967295,w=x+(N<<4&4294967295|N>>>28),N=z+(w^x^O)+M[12]+3873151461&4294967295,z=w+(N<<11&4294967295|N>>>21),N=O+(z^w^x)+M[15]+530742520&4294967295,O=z+(N<<16&4294967295|N>>>16),N=x+(O^z^w)+M[2]+3299628645&4294967295,x=O+(N<<23&4294967295|N>>>9),N=w+(O^(x|~z))+M[0]+4096336452&4294967295,w=x+(N<<6&4294967295|N>>>26),N=z+(x^(w|~O))+M[7]+1126891415&4294967295,z=w+(N<<10&4294967295|N>>>22),N=O+(w^(z|~x))+M[14]+2878612391&4294967295,O=z+(N<<15&4294967295|N>>>17),N=x+(z^(O|~w))+M[5]+4237533241&4294967295,x=O+(N<<21&4294967295|N>>>11),N=w+(O^(x|~z))+M[12]+1700485571&4294967295,w=x+(N<<6&4294967295|N>>>26),N=z+(x^(w|~O))+M[3]+2399980690&4294967295,z=w+(N<<10&4294967295|N>>>22),N=O+(w^(z|~x))+M[10]+4293915773&4294967295,O=z+(N<<15&4294967295|N>>>17),N=x+(z^(O|~w))+M[1]+2240044497&4294967295,x=O+(N<<21&4294967295|N>>>11),N=w+(O^(x|~z))+M[8]+1873313359&4294967295,w=x+(N<<6&4294967295|N>>>26),N=z+(x^(w|~O))+M[15]+4264355552&4294967295,z=w+(N<<10&4294967295|N>>>22),N=O+(w^(z|~x))+M[6]+2734768916&4294967295,O=z+(N<<15&4294967295|N>>>17),N=x+(z^(O|~w))+M[13]+1309151649&4294967295,x=O+(N<<21&4294967295|N>>>11),N=w+(O^(x|~z))+M[4]+4149444226&4294967295,w=x+(N<<6&4294967295|N>>>26),N=z+(x^(w|~O))+M[11]+3174756917&4294967295,z=w+(N<<10&4294967295|N>>>22),N=O+(w^(z|~x))+M[2]+718787259&4294967295,O=z+(N<<15&4294967295|N>>>17),N=x+(z^(O|~w))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+z&4294967295}a.prototype.v=function(R,w){w===void 0&&(w=R.length);const x=w-this.blockSize,M=this.C;let O=this.h,z=0;for(;z<w;){if(O==0)for(;z<=x;)o(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<w;)if(M[O++]=R.charCodeAt(z++),O==this.blockSize){o(this,M),O=0;break}}else for(;z<w;)if(M[O++]=R[z++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=w},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var x=R.length-8;x<R.length;++x)R[x]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)R[w++]=this.g[x]>>>M&255;return R};function u(R,w){var x=m;return Object.prototype.hasOwnProperty.call(x,R)?x[R]:x[R]=w(R)}function f(R,w){this.h=w;const x=[];let M=!0;for(let O=R.length-1;O>=0;O--){const z=R[O]|0;M&&z==w||(x[O]=z,M=!1)}this.g=x}var m={};function g(R){return-128<=R&&R<128?u(R,function(w){return new f([w|0],w<0?-1:0)}):new f([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return U(p(-R));const w=[];let x=1;for(let M=0;R>=x;M++)w[M]=R/x|0,x*=4294967296;return new f(w,0)}function E(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return U(E(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=p(Math.pow(w,8));let M=b;for(let z=0;z<R.length;z+=8){var O=Math.min(8,R.length-z);const N=parseInt(R.substring(z,z+O),w);O<8?(O=p(Math.pow(w,O)),M=M.j(O).add(p(N))):(M=M.j(x),M=M.add(p(N)))}return M}var b=g(0),S=g(1),D=g(16777216);n=f.prototype,n.m=function(){if(k(this))return-U(this).m();let R=0,w=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);R+=(M>=0?M:4294967296+M)*w,w*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(k(this))return"-"+U(this).toString(R);const w=p(Math.pow(R,6));var x=this;let M="";for(;;){const O=it(x,w).g;x=K(x,O.j(w));let z=((x.g.length>0?x.g[0]:x.h)>>>0).toString(R);if(x=O,P(x))return z+M;for(;z.length<6;)z="0"+z;M=z+M}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function k(R){return R.h==-1}n.l=function(R){return R=K(this,R),k(R)?-1:P(R)?0:1};function U(R){const w=R.g.length,x=[];for(let M=0;M<w;M++)x[M]=~R.g[M];return new f(x,~R.h).add(S)}n.abs=function(){return k(this)?U(this):this},n.add=function(R){const w=Math.max(this.g.length,R.g.length),x=[];let M=0;for(let O=0;O<=w;O++){let z=M+(this.i(O)&65535)+(R.i(O)&65535),N=(z>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);M=N>>>16,z&=65535,N&=65535,x[O]=N<<16|z}return new f(x,x[x.length-1]&-2147483648?-1:0)};function K(R,w){return R.add(U(w))}n.j=function(R){if(P(this)||P(R))return b;if(k(this))return k(R)?U(this).j(U(R)):U(U(this).j(R));if(k(R))return U(this.j(U(R)));if(this.l(D)<0&&R.l(D)<0)return p(this.m()*R.m());const w=this.g.length+R.g.length,x=[];for(var M=0;M<2*w;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<R.g.length;O++){const z=this.i(M)>>>16,N=this.i(M)&65535,zt=R.i(O)>>>16,oe=R.i(O)&65535;x[2*M+2*O]+=N*oe,X(x,2*M+2*O),x[2*M+2*O+1]+=z*oe,X(x,2*M+2*O+1),x[2*M+2*O+1]+=N*zt,X(x,2*M+2*O+1),x[2*M+2*O+2]+=z*zt,X(x,2*M+2*O+2)}for(R=0;R<w;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=w;R<2*w;R++)x[R]=0;return new f(x,0)};function X(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function $(R,w){this.g=R,this.h=w}function it(R,w){if(P(w))throw Error("division by zero");if(P(R))return new $(b,b);if(k(R))return w=it(U(R),w),new $(U(w.g),U(w.h));if(k(w))return w=it(R,U(w)),new $(U(w.g),w.h);if(R.g.length>30){if(k(R)||k(w))throw Error("slowDivide_ only works with positive integers.");for(var x=S,M=w;M.l(R)<=0;)x=at(x),M=at(M);var O=st(x,1),z=st(M,1);for(M=st(M,2),x=st(x,2);!P(M);){var N=z.add(M);N.l(R)<=0&&(O=O.add(x),z=N),M=st(M,1),x=st(x,1)}return w=K(R,O.j(w)),new $(O,w)}for(O=b;R.l(w)>=0;){for(x=Math.max(1,Math.floor(R.m()/w.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),z=p(x),N=z.j(w);k(N)||N.l(R)>0;)x-=M,z=p(x),N=z.j(w);P(z)&&(z=S),O=O.add(z),R=K(R,N)}return new $(O,R)}n.B=function(R){return it(this,R).h},n.and=function(R){const w=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<w;M++)x[M]=this.i(M)&R.i(M);return new f(x,this.h&R.h)},n.or=function(R){const w=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<w;M++)x[M]=this.i(M)|R.i(M);return new f(x,this.h|R.h)},n.xor=function(R){const w=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<w;M++)x[M]=this.i(M)^R.i(M);return new f(x,this.h^R.h)};function at(R){const w=R.g.length+1,x=[];for(let M=0;M<w;M++)x[M]=R.i(M)<<1|R.i(M-1)>>>31;return new f(x,R.h)}function st(R,w){const x=w>>5;w%=32;const M=R.g.length-x,O=[];for(let z=0;z<M;z++)O[z]=w>0?R.i(z+x)>>>w|R.i(z+x+1)<<32-w:R.i(z+x);return new f(O,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,YE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,ba=f}).apply(typeof F_<"u"?F_:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var QE,Ll,KE,Zc,Sm,XE,$E,ZE;(function(){var n,t=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(c,y){if(y)t:{var _=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in _))break t;_=_[j]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&_.push([A,y[A]]);return _}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,_){return c.call.apply(c.bind,arguments)}function p(c,y,_){return p=g,p.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,j,Y){for(var ut=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ut[Rt-2]=arguments[Rt];return y.prototype[j].apply(A,ut)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const y=c.length;if(y>0){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function P(c,y){for(let A=1;A<arguments.length;A++){const j=arguments[A];var _=typeof j;if(_=_!="object"?_:j?Array.isArray(j)?"array":_:"null",_=="array"||_=="object"&&typeof j.length=="number"){_=c.length||0;const Y=j.length||0;c.length=_+Y;for(let ut=0;ut<Y;ut++)c[_+ut]=j[ut]}else c.push(j)}}class k{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){f.setTimeout(()=>{throw c},0)}function K(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,_){const A=$.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var $=new k(()=>new it,c=>c.reset());class it{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,st=!1,R=new X,w=()=>{const c=Promise.resolve(void 0);at=()=>{c.then(x)}};function x(){for(var c;c=K();){try{c.h.call(c.g)}catch(_){U(_)}var y=$;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}st=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function zt(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(zt,O),zt.prototype.init=function(c,y){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&zt.Z.h.call(this)},zt.prototype.h=function(){zt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ot(c,y,_,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=j,this.key=++Z,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wt(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function Bt(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function V(c){const y={};for(const _ in c)y[_]=c[_];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(c,y){let _,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(_ in A)c[_]=A[_];for(let Y=0;Y<J.length;Y++)_=J[Y],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function ct(c){this.src=c,this.g={},this.h=0}ct.prototype.add=function(c,y,_,A,j){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const ut=yt(c,y,A,j);return ut>-1?(y=c[ut],_||(y.fa=!1)):(y=new ot(y,this.src,Y,!!A,j),y.fa=_,c.push(y)),y};function _t(c,y){const _=y.type;if(_ in c.g){var A=c.g[_],j=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=j>=0)&&Array.prototype.splice.call(A,j,1),Y&&(gt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function yt(c,y,_,A){for(let j=0;j<c.length;++j){const Y=c[j];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==A)return j}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),te={};function qt(c,y,_,A,j){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)qt(c,y[Y],_,A,j);return null}return _=Ur(_),c&&c[oe]?c.J(y,_,m(A)?!!A.capture:!1,j):Mt(c,y,_,!1,A,j)}function Mt(c,y,_,A,j,Y){if(!y)throw Error("Invalid event type");const ut=m(j)?!!j.capture:!!j;let Rt=Cn(c);if(Rt||(c[Dt]=Rt=new ct(c)),_=Rt.add(y,_,A,ut,Y),_.proxy)return _;if(A=ti(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)z||(j=ut),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(xe(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ti(){function c(_){return y.call(c.src,c.listener,_)}const y=ei;return c}function tn(c,y,_,A,j){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)tn(c,y[Y],_,A,j);else A=m(A)?!!A.capture:!!A,_=Ur(_),c&&c[oe]?(c=c.i,Y=String(y).toString(),Y in c.g&&(y=c.g[Y],_=yt(y,_,A,j),_>-1&&(gt(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[Y],c.h--)))):c&&(c=Cn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=yt(y,_,A,j)),(_=c>-1?y[c]:null)&&zn(_))}function zn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[oe])_t(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(xe(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Cn(y))?(_t(_,c),_.h==0&&(_.src=null,y[Dt]=null)):gt(c)}}}function xe(c){return c in te?te[c]:te[c]="on"+c}function ei(c,y){if(c.da)c=!0;else{y=new zt(y,this);const _=c.listener,A=c.ha||c.src;c.fa&&zn(c),c=_.call(A,y)}return c}function Cn(c){return c=c[Dt],c instanceof ct?c:null}var Lr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ur(c){return typeof c=="function"?c:(c[Lr]||(c[Lr]=function(y){return c.handleEvent(y)}),c[Lr])}function he(){M.call(this),this.i=new ct(this),this.M=this,this.G=null}b(he,M),he.prototype[oe]=!0,he.prototype.removeEventListener=function(c,y,_,A){tn(this,c,y,_,A)};function ee(c,y){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var j=y;y=new O(A,c),lt(y,j)}j=!0;let Y,ut;if(_)for(ut=_.length-1;ut>=0;ut--)Y=y.g=_[ut],j=Bn(Y,A,!0,y)&&j;if(Y=y.g=c,j=Bn(Y,A,!0,y)&&j,j=Bn(Y,A,!1,y)&&j,_)for(ut=0;ut<_.length;ut++)Y=y.g=_[ut],j=Bn(Y,A,!1,y)&&j}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let A=0;A<_.length;A++)gt(_[A]);delete c.g[y],c.h--}}this.G=null},he.prototype.J=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},he.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Bn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let Y=0;Y<y.length;++Y){const ut=y[Y];if(ut&&!ut.da&&ut.capture==_){const Rt=ut.listener,Ae=ut.ha||ut.src;ut.fa&&_t(c.i,ut),j=Rt.call(Ae,A)!==!1&&j}}return j&&!A.defaultPrevented}function kr(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Da(c){c.g=kr(()=>{c.g=null,c.i&&(c.i=!1,Da(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Qe extends M{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Da(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(c){M.call(this),this.h=c,this.g={}}b(rr,M);var Na=[];function ni(c){wt(c.g,function(y,_){this.g.hasOwnProperty(_)&&zn(y)},c),c.g={}}rr.prototype.N=function(){rr.Z.N.call(this),ni(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=f.JSON.stringify,ar=f.JSON.parse,Ia=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Pn(){}function Oa(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){O.call(this,"d")}b(Be,O);function hn(){O.call(this,"c")}b(hn,O);var fe={},ps=null;function sr(){return ps=ps||new he}fe.Ia="serverreachability";function ys(c){O.call(this,fe.Ia,c)}b(ys,O);function ii(c){const y=sr();ee(y,new ys(y))}fe.STAT_EVENT="statevent";function or(c,y){O.call(this,fe.STAT_EVENT,c),this.stat=y}b(or,O);function Nt(c){const y=sr();ee(y,new or(y,c))}fe.Ja="timingevent";function de(c,y){O.call(this,fe.Ja,c),this.size=y}b(de,O);function me(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function De(){this.g=!0}De.prototype.ua=function(){this.g=!1};function fn(c,y,_,A,j,Y){c.info(function(){if(c.g)if(Y){var ut="",Rt=Y.split("&");for(let Qt=0;Qt<Rt.length;Qt++){var Ae=Rt[Qt].split("=");if(Ae.length>1){const ge=Ae[0];Ae=Ae[1];const oi=ge.split("_");ut=oi.length>=2&&oi[1]=="type"?ut+(ge+"="+Ae+"&"):ut+(ge+"=redacted&")}}}else ut=null;else ut=Y;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+_+`
`+ut})}function Ke(c,y,_,A,j,Y,ut){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+_+`
`+Y+" "+ut})}function Te(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Se(c,_)+(A?" "+A:"")})}function xn(c,y){c.info(function(){return"TIMEOUT: "+y})}De.prototype.info=function(){};function Se(c,y){if(!c.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var _=Y[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ut=1;ut<A.length;ut++)A[ut]=""}}}}return _n(Y)}catch{return y}}var dn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},En;function qn(){}b(qn,Pn),qn.prototype.g=function(){return new XMLHttpRequest},En=new qn;function bn(c){return encodeURIComponent(String(c))}function Hn(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function en(c,y,_,A){this.j=c,this.i=y,this.l=_,this.S=A||1,this.V=new rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Tn}function Tn(){this.i=null,this.g="",this.h=!1}var Ne={},Xe={};function Oi(c,y,_){c.M=1,c.A=Ma(Oe(y)),c.u=_,c.R=!0,vs(c,null)}function vs(c,y){c.F=Date.now(),Mi(c),c.B=Oe(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ts(_.i,"t",A),c.C=0,_=c.j.L,c.h=new Tn,c.g=Mu(c.j,_?y:null,!c.u),c.P>0&&(c.O=new Qe(p(c.Y,c,c.g),c.P)),y=c.V,_=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Na[0]=j.toString()),j=Na);for(let Y=0;Y<j.length;Y++){const ut=qt(_,j[Y],A||y.handleEvent,!1,y.h||y);if(!ut)break;y.g[ut.key]=ut}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ii(),fn(c.i,c.v,c.B,c.l,c.S,c.u)}en.prototype.ba=function(c){c=c.target;const y=this.O;y&&Ti(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)t:{const Rt=Ti(this.g),Ae=this.g.ya(),Qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Rt!=4||Ae==7||(Ae==8||Qt<=0?ii(3):ii(2)),Vi(this);var y=this.g.ca();this.X=y;var _=Kh(this);if(this.o=y==200,Ke(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var Y=A;break e}}Y=null}if(c=Y)Te(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,c);else{this.o=!1,this.m=3,Nt(12),Fn(this),ri(this);break t}}if(this.R){c=!0;let ge;for(;!this.K&&this.C<_.length;)if(ge=Eu(this,_),ge==Xe){Rt==4&&(this.m=4,Nt(14),c=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==Ne){this.m=4,Nt(15),Te(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Te(this.i,this.l,ge,null),Li(this,ge);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||_.length!=0||this.h.h||(this.m=1,Nt(16),c=!1),this.o=this.o&&c,!c)Te(this.i,this.l,_,"[Invalid Chunked Response]"),Fn(this),ri(this);else if(_.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Fo(ut),ut.P=!0,Nt(11))}}else Te(this.i,this.l,_,null),Li(this,_);Rt==4&&Fn(this),this.o&&!this.K&&(Rt==4?Du(this.j,this):(this.o=!1,Mi(this)))}else ur(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),Fn(this),ri(this)}}}catch{}};function Kh(c){if(!_u(c))return c.g.la();const y=nn(c.g);if(y==="")return"";let _="";const A=y.length,j=Ti(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Fn(c),ri(c),"";c.h.i=new f.TextDecoder}for(let Y=0;Y<A;Y++)c.h.h=!0,_+=c.h.i.decode(y[Y],{stream:!(j&&Y==A-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function _u(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Eu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?Xe:(_=Number(y.substring(_,A)),isNaN(_)?Ne:(A+=1,A+_>y.length?Xe:(y=y.slice(A,A+_),c.C=A+_,y)))}en.prototype.cancel=function(){this.K=!0,Fn(this)};function Mi(c){c.T=Date.now()+c.H,_s(c,c.H)}function _s(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=me(p(c.aa,c),y)}function Vi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}en.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(xn(this.i,this.B),this.M!=2&&(ii(),Nt(17)),Fn(this),this.m=2,ri(this)):_s(this,this.T-c)};function ri(c){c.j.I==0||c.K||Du(c.j,c)}function Fn(c){Vi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,ni(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Li(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||ki(_.h,c))){if(!c.L&&ki(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Cs(_),Gr(_);else break t;Pa(_),Nt(18)}}else _.xa=j[1],0<_.xa-_.K&&j[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=me(p(_.Va,_),6e3));Ui(_.h)<=1&&_.ta&&(_.ta=void 0)}else Hi(_,11)}else if((c.L||_.g==c)&&Cs(_),!N(y))for(j=_.Ba.g.parse(y),y=0;y<j.length;y++){let Qt=j[y];const ge=Qt[0];if(!(ge<=_.K))if(_.K=ge,Qt=Qt[1],_.I==2)if(Qt[0]=="c"){_.M=Qt[1],_.ba=Qt[2];const oi=Qt[3];oi!=null&&(_.ka=oi,_.j.info("VER="+_.ka));const Fi=Qt[4];Fi!=null&&(_.za=Fi,_.j.info("SVER="+_.za));const Si=Qt[5];Si!=null&&typeof Si=="number"&&Si>0&&(A=1.5*Si,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ai=c.g;if(Ai){const ja=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var Y=A.h;Y.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Oo(Y,Y.h),Y.h=null))}if(A.G){const xs=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;xs&&(A.wa=xs,Zt(A.J,A.G,xs))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var ut=c;if(A.na=Ou(A,A.L?A.ba:null,A.W),ut.L){Mo(A.h,ut);var Rt=ut,Ae=A.O;Ae&&(Rt.H=Ae),Rt.D&&(Vi(Rt),Mi(Rt)),A.g=ut}else Cu(A);_.i.length>0&&qi(_)}else Qt[0]!="stop"&&Qt[0]!="close"||Hi(_,7);else _.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Hi(_,7):qo(_):Qt[0]!="noop"&&_.l&&_.l.qa(Qt),_.A=0)}}ii(4)}catch{}}var Ie=class{constructor(c,y){this.g=c,this.map=y}};function No(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ui(c){return c.h?1:c.g?c.g.size:0}function ki(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Oo(c,y){c.g?c.g.add(y):c.h=y}function Mo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}No.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return D(c.i)}var bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Es(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let j,Y=null;A>=0?(j=c[_].substring(0,A),Y=c[_].substring(A+1)):j=c[_],y(j,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Gn?(this.l=c.l,$e(this,c.j),this.o=c.o,this.g=c.g,zr(this,c.u),this.h=c.h,Lo(this,wu(c.i)),this.m=c.m):c&&(y=String(c).match(bu))?(this.l=!1,$e(this,y[1]||"",!0),this.o=zi(y[2]||""),this.g=zi(y[3]||"",!0),zr(this,y[4]),this.h=zi(y[5]||"",!0),Lo(this,y[6]||"",!0),this.m=zi(y[7]||"")):(this.l=!1,this.i=new Pr(null,this.l))}Gn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Va(y,bs,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Va(y,bs,!0),"@"),c.push(bn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Va(_,_.charAt(0)=="/"?Uo:Tu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Va(_,Su)),c.join("")},Gn.prototype.resolve=function(c){const y=Oe(this);let _=!!c.j;_?$e(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var A=c.h;if(_)zr(y,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=y.h.lastIndexOf("/");j!=-1&&(A=y.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const Y=[];for(let ut=0;ut<j.length;){const Rt=j[ut++];Rt=="."?A&&ut==j.length&&Y.push(""):Rt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&ut==j.length&&Y.push("")):(Y.push(Rt),A=!0)}A=Y.join("/")}else A=j}return _?y.h=A:_=c.i.toString()!=="",_?Lo(y,wu(c.i)):_=!!c.m,_&&(y.m=c.m),y};function Oe(c){return new Gn(c)}function $e(c,y,_){c.j=_?zi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function zr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Lo(c,y,_){y instanceof Pr?(c.i=y,Ss(c.i,c.l)):(_||(y=Va(y,Br)),c.i=new Pr(y,c.l))}function Zt(c,y,_){c.i.set(y,_)}function Ma(c){return Zt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function zi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Va(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Dn),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Dn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var bs=/[#\/\?@]/g,Tu=/[#\?:]/g,Uo=/[#\?]/g,Br=/[#\?@]/g,Su=/#/g;function Pr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Es(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Pr.prototype,n.add=function(c,y){Nn(this),this.i=null,c=jr(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Au(c,y){Nn(c),y=jr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ko(c,y){return Nn(c),y=jr(c,y),c.g.has(y)}n.forEach=function(c,y){Nn(this),this.g.forEach(function(_,A){_.forEach(function(j){c.call(y,j,A,this)},this)},this)};function zo(c,y){Nn(c);let _=[];if(typeof y=="string")ko(c,y)&&(_=_.concat(c.g.get(jr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}n.set=function(c,y){return Nn(this),this.i=null,c=jr(this,c),ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=zo(this,c),c.length>0?String(c[0]):y):y};function Ts(c,y,_){Au(c,y),_.length>0&&(c.i=null,c.g.set(jr(c,y),D(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var _=y[A];const j=bn(_);_=zo(this,_);for(let Y=0;Y<_.length;Y++){let ut=j;_[Y]!==""&&(ut+="="+bn(_[Y])),c.push(ut)}}return this.i=c.join("&")};function wu(c){const y=new Pr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function jr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ss(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(_,A){const j=A.toLowerCase();A!=j&&(Au(this,A),Ts(this,j,_))},c)),c.j=y}function Ei(c,y){const _=new De;if(f.Image){const A=new Image;A.onload=E(ai,_,"TestLoadImage: loaded",!0,y,A),A.onerror=E(ai,_,"TestLoadImage: error",!1,y,A),A.onabort=E(ai,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(ai,_,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Bo(c,y){const _=new De,A=new AbortController,j=setTimeout(()=>{A.abort(),ai(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(j),Y.ok?ai(_,"TestPingServer: ok",!0,y):ai(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),ai(_,"TestPingServer: error",!1,y)})}function ai(c,y,_,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(_)}catch{}}function qr(){this.g=new Ia}function Bi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Bi,Pn),Bi.prototype.g=function(){return new La(this.i,this.h)};function La(c,y){he.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(La,he),n=La.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,bi(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;As(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function As(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Hr(this):bi(this),this.readyState==3&&As(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,Hr(this))},n.Na=function(c){this.g&&(this.response=c,Hr(this))},n.ga=function(){this.g&&Hr(this)};function Hr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,bi(c)}n.setRequestHeader=function(c,y){this.A.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function bi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(La.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function si(c){let y="";return wt(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Ua(c,y,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=si(_),typeof c=="string"?_!=null&&bn(_):Zt(c,y,_))}function ne(c){he.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ne,he);var Pi=/^https?$/i,Po=["POST","PUT"];n=ne.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():En.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){ka(this,Y);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)_.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())_.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Po,y,void 0)>=0)||A||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ut]of _)this.g.setRequestHeader(Y,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){ka(this,Y)}};function ka(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,jo(c),lr(c)}function jo(c){c.A||(c.A=!0,ee(c,"complete"),ee(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ee(this,"complete"),ee(this,"abort"),lr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lr(this,!0)),ne.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?za(this):this.Xa())},n.Xa=function(){za(this)};function za(c){if(c.h&&typeof u<"u"){if(c.v&&Ti(c)==4)setTimeout(c.Ca.bind(c),0);else if(ee(c,"readystatechange"),Ti(c)==4){c.h=!1;try{const Y=c.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var A;if(A=Y===0){let ut=String(c.D).match(bu)[1]||null;!ut&&f.self&&f.self.location&&(ut=f.self.location.protocol.slice(0,-1)),A=!Pi.test(ut?ut.toLowerCase():"")}_=A}if(_)ee(c,"complete"),ee(c,"success");else{c.o=6;try{var j=Ti(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",jo(c)}}finally{lr(c)}}}}function lr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||ee(c,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ti(c){return c.g?c.g.readyState:0}n.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ar(y)}};function nn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ur(c){const y={};c=(c.g&&Ti(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var _=Hn(c[A]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[j]||[];y[j]=Y,Y.push(_)}Bt(y,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Fr(c){this.za=0,this.i=[],this.j=new De,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,c),this.Za=ji("retryDelaySeedMs",1e4,c),this.Ta=ji("forwardChannelMaxRetries",2,c),this.va=ji("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new No(c&&c.concurrentRequestLimit),this.Ba=new qr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Fr.prototype,n.ka=8,n.I=1,n.connect=function(c,y,_,A){Nt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=Ou(this,null,this.W),qi(this)};function qo(c){if(ws(c),c.I==3){var y=c.V++,_=Oe(c.J);if(Zt(_,"SID",c.M),Zt(_,"RID",y),Zt(_,"TYPE","terminate"),Ba(c,_),y=new en(c,c.j,y),y.M=2,y.A=Ma(Oe(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.A,_=!0),_||(y.g=Mu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Mi(y)}Iu(c)}function Gr(c){c.g&&(Fo(c),c.g.cancel(),c.g=null)}function ws(c){Gr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Cs(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function qi(c){if(!Io(c.h)&&!c.m){c.m=!0;var y=c.Ea;at||w(),st||(at(),st=!0),R.add(y,c),c.D=0}}function Rs(c,y){return Ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=me(p(c.Ea,c,y),Nu(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new en(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=V(Y),lt(Y,this.U)):Y=this.U),this.u!==null||this.R||(j.J=Y,Y=null),this.S)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Ru(this,j,y),_=Oe(this.J),Zt(_,"RID",c),Zt(_,"CVER",22),this.G&&Zt(_,"X-HTTP-Session-Id",this.G),Ba(this,_),Y&&(this.R?y="headers="+bn(si(Y))+"&"+y:this.u&&Ua(_,this.u,Y)),Oo(this.h,j),this.Ra&&Zt(_,"TYPE","init"),this.S?(Zt(_,"$req",y),Zt(_,"SID","null"),j.U=!0,Oi(j,_,null)):Oi(j,_,y),this.I=2}}else this.I==3&&(c?Ho(this,c):this.i.length==0||Io(this.h)||Ho(this))};function Ho(c,y){var _;y?_=y.l:_=c.V++;const A=Oe(c.J);Zt(A,"SID",c.M),Zt(A,"RID",_),Zt(A,"AID",c.K),Ba(c,A),c.u&&c.o&&Ua(A,c.u,c.o),_=new en(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ru(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Oo(c.h,_),Oi(_,A,y)}function Ba(c,y){c.H&&wt(c.H,function(_,A){Zt(y,A,_)}),c.l&&wt({},function(_,A){Zt(y,A,_)})}function Ru(c,y,_){_=Math.min(c.i.length,_);const A=c.l?p(c.l.Ka,c.l,c):null;t:{var j=c.i;let Rt=-1;for(;;){const Ae=["count="+_];Rt==-1?_>0?(Rt=j[0].g,Ae.push("ofs="+Rt)):Rt=0:Ae.push("ofs="+Rt);let Qt=!0;for(let ge=0;ge<_;ge++){var Y=j[ge].g;const oi=j[ge].map;if(Y-=Rt,Y<0)Rt=Math.max(0,j[ge].g-100),Qt=!1;else try{Y="req"+Y+"_"||"";try{var ut=oi instanceof Map?oi:Object.entries(oi);for(const[Fi,Si]of ut){let Ai=Si;m(Si)&&(Ai=_n(Si)),Ae.push(Y+Fi+"="+encodeURIComponent(Ai))}}catch(Fi){throw Ae.push(Y+"type="+encodeURIComponent("_badmap")),Fi}}catch{A&&A(oi)}}if(Qt){ut=Ae.join("&");break t}}ut=void 0}return c=c.i.splice(0,_),y.G=c,ut}function Cu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;at||w(),st||(at(),st=!0),R.add(y,c),c.A=0}}function Pa(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=me(p(c.Da,c),Nu(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=me(p(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Gr(this),xu(this))};function Fo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function xu(c){c.g=new en(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Oe(c.na);Zt(y,"RID","rpc"),Zt(y,"SID",c.M),Zt(y,"AID",c.K),Zt(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Zt(y,"TO",c.ia),Zt(y,"TYPE","xmlhttp"),Ba(c,y),c.u&&c.o&&Ua(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Ma(Oe(y)),_.u=null,_.R=!0,vs(_,c)}n.Va=function(){this.C!=null&&(this.C=null,Gr(this),Pa(this),Nt(19))};function Cs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Du(c,y){var _=null;if(c.g==y){Cs(c),Fo(c),c.g=null;var A=2}else if(ki(c.h,y))_=y.G,Mo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;A=sr(),ee(A,new de(A,_)),qi(c)}else Cu(c);else if(j=y.m,j==3||j==0&&y.X>0||!(A==1&&Rs(c,y)||A==2&&Pa(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Hi(c,5);break;case 4:Hi(c,10);break;case 3:Hi(c,6);break;default:Hi(c,2)}}}function Nu(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Hi(c,y){if(c.j.info("Error code "+y),y==2){var _=p(c.bb,c),A=c.Ua;const j=!A;A=new Gn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$e(A,"https"),Ma(A),j?Ei(A.toString(),_):Bo(A.toString(),_)}else Nt(2);c.I=0,c.l&&c.l.pa(y),Iu(c),ws(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Iu(c){if(c.I=0,c.ja=[],c.l){const y=Vo(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ja,y),P(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function Ou(c,y,_){var A=_ instanceof Gn?Oe(_):new Gn(_);if(A.g!="")y&&(A.g=y+"."+A.g),zr(A,A.u);else{var j=f.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const Y=new Gn(null);A&&$e(Y,A),y&&(Y.g=y),j&&zr(Y,j),_&&(Y.h=_),A=Y}return _=c.G,y=c.wa,_&&y&&Zt(A,_,y),Zt(A,"VER",c.ka),Ba(c,A),A}function Mu(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new ne(new Bi({ab:_})):new ne(c.ma),y.Fa(c.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}n=Vu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Yr(){}Yr.prototype.g=function(c,y){return new Sn(c,y)};function Sn(c,y){he.call(this),this.g=new Fr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new cr(this)}b(Sn,he),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){qo(this.g)},Sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=_n(c),c=_);y.i.push(new Ie(y.Ya++,c)),y.I==3&&qi(y)},Sn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,Sn.Z.N.call(this)};function Lu(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Lu,Be);function Uu(){hn.call(this),this.status=1}b(Uu,hn);function cr(c){this.g=c}b(cr,Vu),cr.prototype.ra=function(){ee(this.g,"a")},cr.prototype.qa=function(c){ee(this.g,new Lu(c))},cr.prototype.pa=function(c){ee(this.g,new Uu)},cr.prototype.oa=function(){ee(this.g,"b")},Yr.prototype.createWebChannel=Yr.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,ZE=function(){return new Yr},$E=function(){return sr()},XE=fe,Sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dn.NO_ERROR=0,dn.TIMEOUT=8,dn.HTTP_ERROR=6,Zc=dn,mn.COMPLETE="complete",KE=mn,Oa.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",he.prototype.listen=he.prototype.J,Ll=Oa,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,QE=ne}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});class yn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let Ao="12.8.0";function hC(n){Ao=n}const os=new UE("@firebase/firestore");function ro(){return os.logLevel}function ht(n,...t){if(os.logLevel<=Ft.DEBUG){const i=t.map(eg);os.debug(`Firestore (${Ao}): ${n}`,...i)}}function Nr(n,...t){if(os.logLevel<=Ft.ERROR){const i=t.map(eg);os.error(`Firestore (${Ao}): ${n}`,...i)}}function go(n,...t){if(os.logLevel<=Ft.WARN){const i=t.map(eg);os.warn(`Firestore (${Ao}): ${n}`,...i)}}function eg(n){if(typeof n=="string")return n;try{return(function(i){return JSON.stringify(i)})(n)}catch{return n}}function bt(n,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,JE(n,a,i)}function JE(n,t,i){let a=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Nr(a),new Error(a)}function $t(n,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,n||JE(t,o,a)}function At(n,t){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends cs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class WE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(yn.UNAUTHENTICATED)))}shutdown(){}}class dC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class mC{constructor(t){this.t=t,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){$t(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let u=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Rr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Rr)}}),0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($t(typeof a.accessToken=="string",31837,{l:a}),new WE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new yn(t)}}class gC{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class pC{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new gC(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class G_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yC{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,PE(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){$t(this.o===void 0,3512);const a=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>a(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new G_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new G_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vC(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<n;a++)i[a]=Math.floor(256*Math.random());return i}class ng{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=vC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<i&&(a+=t.charAt(o[u]%62))}return a}}function Ut(n,t){return n<t?-1:n>t?1:0}function Am(n,t){const i=Math.min(n.length,t.length);for(let a=0;a<i;a++){const o=n.charAt(a),u=t.charAt(a);if(o!==u)return im(o)===im(u)?Ut(o,u):im(o)?1:-1}return Ut(n.length,t.length)}const _C=55296,EC=57343;function im(n){const t=n.charCodeAt(0);return t>=_C&&t<=EC}function po(n,t,i){return n.length===t.length&&n.every(((a,o)=>i(a,t[o])))}const Y_="__name__";class Xi{constructor(t,i,a){i===void 0?i=0:i>t.length&&bt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&bt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Xi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Xi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const u=Xi.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Xi.isNumericId(t),o=Xi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Xi.extractNumericId(t).compare(Xi.extractNumericId(i)):Am(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ba.fromString(t.substring(4,t.length-2))}}class ce extends Xi{construct(t,i,a){return new ce(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new mt(rt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ce(i)}static emptyPath(){return new ce([])}}const bC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Xi{construct(t,i,a){return new un(t,i,a)}static isValidIdentifier(t){return bC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new un([Y_])}static fromServerFormat(t){const i=[];let a="",o=0;const u=()=>{if(a.length===0)throw new mt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new mt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new mt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new mt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new un(i)}static emptyPath(){return new un([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ce.fromString(t))}static fromName(t){return new vt(ce.fromString(t).popFirst(5))}static empty(){return new vt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ce.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ce(t.slice()))}}function t1(n,t,i){if(!i)throw new mt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function TC(n,t,i,a){if(t===!0&&a===!0)throw new mt(rt.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function Q_(n){if(!vt.isDocumentKey(n))throw new mt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function K_(n){if(vt.isDocumentKey(n))throw new mt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function e1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ig(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":bt(12329,{type:typeof n})}function Ir(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ig(n);throw new mt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}function ze(n,t){const i={typeString:n};return t&&(i.value=t),i}function hu(n,t){if(!e1(n))throw new mt(rt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,u="value"in t[a]?{value:t[a].value}:void 0;if(!(a in n)){i=`JSON missing required field: '${a}'`;break}const f=n[a];if(o&&typeof f!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${a}' field to equal '${u.value}'`;break}}if(i)throw new mt(rt.INVALID_ARGUMENT,i);return!0}const X_=-62135596800,$_=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(t){return Xt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*$_);return new Xt(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new mt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<X_)throw new mt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(hu(t,Xt._jsonSchema))return new Xt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-X_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xt._jsonSchemaVersion="firestore/timestamp/1.0",Xt._jsonSchema={type:ze("string",Xt._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Xt(0,0))}static max(){return new Tt(new Xt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function SC(n,t){const i=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(a===1e9?new Xt(i+1,0):new Xt(i,a));return new Sa(o,vt.empty(),t)}function AC(n){return new Sa(n.readTime,n.key,tu)}class Sa{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Sa(Tt.min(),vt.empty(),tu)}static max(){return new Sa(Tt.max(),vt.empty(),tu)}}function wC(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(n.documentKey,t.documentKey),i!==0?i:Ut(n.largestBatchId,t.largestBatchId))}const RC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function wo(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==RC)throw n;ht("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new nt(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):nt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):nt.reject(i)}static resolve(t){return new nt(((i,a)=>{i(t)}))}static reject(t){return new nt(((i,a)=>{a(t)}))}static waitFor(t){return new nt(((i,a)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&i()}),(g=>a(g)))})),f=!0,u===o&&i()}))}static or(t){let i=nt.resolve(!1);for(const a of t)i=i.next((o=>o?nt.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,u)=>{a.push(i.call(this,o,u))})),this.waitFor(a)}static mapArray(t,i){return new nt(((a,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;i(t[p]).next((E=>{f[p]=E,++m,m===u&&a(f)}),(E=>o(E)))}}))}static doWhile(t,i){return new nt(((a,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):a()};u()}))}}function xC(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ro(n){return n.name==="IndexedDbTransactionError"}class Ih{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ih.ce=-1;const rg=-1;function Oh(n){return n==null}function dh(n){return n===0&&1/n==-1/0}function DC(n){return typeof n=="number"&&Number.isInteger(n)&&!dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const n1="";function NC(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=Z_(t)),t=IC(n.get(i),t);return Z_(t)}function IC(n,t){let i=t;const a=n.length;for(let o=0;o<a;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case n1:i+="";break;default:i+=u}}return i}function Z_(n){return n+n1+""}function J_(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function hs(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function i1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ye{constructor(t,i){this.comparator=t,this.root=i||ln.EMPTY}insert(t,i){return new ye(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ln.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hc(this.root,t,this.comparator,!0)}}class Hc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?a(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ln{constructor(t,i,a,o,u){this.key=t,this.value=i,this.color=a??ln.RED,this.left=o??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,u){return new ln(t??this.key,i??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,a),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,i,a,o,u){return this}insert(t,i,a){return new ln(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(t){return new W_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Fe(this.comparator);return i.data=t,i}}class W_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xi{constructor(t){this.fields=t,t.sort(un.comparator)}static empty(){return new xi([])}unionWith(t){let i=new Fe(un.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new xi(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return po(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class r1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new r1("Invalid base64 string: "+u):u}})(t);return new cn(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new cn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const OC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(n){if($t(!!n,39018),typeof n=="string"){let t=0;const i=OC.exec(n);if($t(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ce(n.seconds),nanos:Ce(n.nanos)}}function Ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wa(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}const a1="server_timestamp",s1="__type__",o1="__previous_value__",l1="__local_write_time__";function ag(n){return(n?.mapValue?.fields||{})[s1]?.stringValue===a1}function Mh(n){const t=n.mapValue.fields[o1];return ag(t)?Mh(t):t}function eu(n){const t=Aa(n.mapValue.fields[l1].timestampValue);return new Xt(t.seconds,t.nanos)}class MC{constructor(t,i,a,o,u,f,m,g,p,E,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E,this.apiKey=b}}const mh="(default)";class nu{constructor(t,i){this.projectId=t,this.database=i||mh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===mh}isEqual(t){return t instanceof nu&&t.projectId===this.projectId&&t.database===this.database}}function VC(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new mt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(n.options.projectId,t)}const u1="__type__",LC="__max__",Fc={mapValue:{}},c1="__vector__",gh="value";function Ra(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ag(n)?4:kC(n)?9007199254740991:UC(n)?10:11:bt(28295,{value:n})}function er(n,t){if(n===t)return!0;const i=Ra(n);if(i!==Ra(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return eu(n).isEqual(eu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Aa(o.timestampValue),m=Aa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return wa(o.bytesValue).isEqual(wa(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ce(o.geoPointValue.latitude)===Ce(u.geoPointValue.latitude)&&Ce(o.geoPointValue.longitude)===Ce(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ce(o.integerValue)===Ce(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ce(o.doubleValue),m=Ce(u.doubleValue);return f===m?dh(f)===dh(m):isNaN(f)&&isNaN(m)}return!1})(n,t);case 9:return po(n.arrayValue.values||[],t.arrayValue.values||[],er);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(J_(f)!==J_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!er(f[g],m[g])))return!1;return!0})(n,t);default:return bt(52216,{left:n})}}function iu(n,t){return(n.values||[]).find((i=>er(i,t)))!==void 0}function yo(n,t){if(n===t)return 0;const i=Ra(n),a=Ra(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Ce(u.integerValue||u.doubleValue),g=Ce(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(n,t);case 3:return t0(n.timestampValue,t.timestampValue);case 4:return t0(eu(n),eu(t));case 5:return Am(n.stringValue,t.stringValue);case 6:return(function(u,f){const m=wa(u),g=wa(f);return m.compareTo(g)})(n.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Ut(m[p],g[p]);if(E!==0)return E}return Ut(m.length,g.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Ut(Ce(u.latitude),Ce(f.latitude));return m!==0?m:Ut(Ce(u.longitude),Ce(f.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return e0(n.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},p=m[gh]?.arrayValue,E=g[gh]?.arrayValue,b=Ut(p?.values?.length||0,E?.values?.length||0);return b!==0?b:e0(p,E)})(n.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const S=Am(g[b],E[b]);if(S!==0)return S;const D=yo(m[g[b]],p[E[b]]);if(D!==0)return D}return Ut(g.length,E.length)})(n.mapValue,t.mapValue);default:throw bt(23264,{he:i})}}function t0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ut(n,t);const i=Aa(n),a=Aa(t),o=Ut(i.seconds,a.seconds);return o!==0?o:Ut(i.nanos,a.nanos)}function e0(n,t){const i=n.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const u=yo(i[o],a[o]);if(u)return u}return Ut(i.length,a.length)}function vo(n){return wm(n)}function wm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const a=Aa(i);return`time(${a.seconds},${a.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return wa(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return vt.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let a="[",o=!0;for(const u of i.values||[])o?o=!1:a+=",",a+=wm(u);return a+"]"})(n.arrayValue):"mapValue"in n?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${wm(i.fields[f])}`;return o+"}"})(n.mapValue):bt(61005,{value:n})}function Jc(n){switch(Ra(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Mh(n);return t?16+Jc(t):16;case 5:return 2*n.stringValue.length;case 6:return wa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Jc(u)),0)})(n.arrayValue);case 10:case 11:return(function(a){let o=0;return hs(a.fields,((u,f)=>{o+=u.length+Jc(f)})),o})(n.mapValue);default:throw bt(13486,{value:n})}}function Rm(n){return!!n&&"integerValue"in n}function sg(n){return!!n&&"arrayValue"in n}function n0(n){return!!n&&"nullValue"in n}function i0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wc(n){return!!n&&"mapValue"in n}function UC(n){return(n?.mapValue?.fields||{})[u1]?.stringValue===c1}function Hl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return hs(n.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Hl(a))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Hl(n.arrayValue.values[i]);return t}return{...n}}function kC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===LC}class yi{constructor(t){this.value=t}static empty(){return new yi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Wc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hl(i)}setAll(t){let i=un.emptyPath(),a={},o=[];t.forEach(((f,m)=>{if(!i.isImmediateParentOf(m)){const g=this.getFieldsMap(i);this.applyChanges(g,a,o),a={},o=[],i=m.popLast()}f?a[m.lastSegment()]=Hl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,a,o)}delete(t){const i=this.field(t.popLast());Wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return er(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){hs(i,((o,u)=>t[o]=u));for(const o of a)delete t[o]}clone(){return new yi(Hl(this.value))}}function h1(n){const t=[];return hs(n.fields,((i,a)=>{const o=new un([i]);if(Wc(a)){const u=h1(a.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new xi(t)}class vn{constructor(t,i,a,o,u,f,m){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new vn(t,0,Tt.min(),Tt.min(),Tt.min(),yi.empty(),0)}static newFoundDocument(t,i,a,o){return new vn(t,1,i,Tt.min(),a,o,0)}static newNoDocument(t,i){return new vn(t,2,i,Tt.min(),Tt.min(),yi.empty(),0)}static newUnknownDocument(t,i){return new vn(t,3,i,Tt.min(),Tt.min(),yi.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(t,i){this.position=t,this.inclusive=i}}function r0(n,t,i){let a=0;for(let o=0;o<n.position.length;o++){const u=t[o],f=n.position[o];if(u.field.isKeyField()?a=vt.comparator(vt.fromName(f.referenceValue),i.key):a=yo(f,i.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function a0(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!er(n.position[i],t.position[i]))return!1;return!0}class yh{constructor(t,i="asc"){this.field=t,this.dir=i}}function zC(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class f1{}class qe extends f1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new PC(t,i,a):i==="array-contains"?new HC(t,a):i==="in"?new FC(t,a):i==="not-in"?new GC(t,a):i==="array-contains-any"?new YC(t,a):new qe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new jC(t,a):new qC(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(yo(i,this.value)):i!==null&&Ra(this.value)===Ra(i)&&this.matchesComparison(yo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends f1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new nr(t,i)}matches(t){return d1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function d1(n){return n.op==="and"}function m1(n){return BC(n)&&d1(n)}function BC(n){for(const t of n.filters)if(t instanceof nr)return!1;return!0}function Cm(n){if(n instanceof qe)return n.field.canonicalString()+n.op.toString()+vo(n.value);if(m1(n))return n.filters.map((t=>Cm(t))).join(",");{const t=n.filters.map((i=>Cm(i))).join(",");return`${n.op}(${t})`}}function g1(n,t){return n instanceof qe?(function(a,o){return o instanceof qe&&a.op===o.op&&a.field.isEqual(o.field)&&er(a.value,o.value)})(n,t):n instanceof nr?(function(a,o){return o instanceof nr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,f,m)=>u&&g1(f,o.filters[m])),!0):!1})(n,t):void bt(19439)}function p1(n){return n instanceof qe?(function(i){return`${i.field.canonicalString()} ${i.op} ${vo(i.value)}`})(n):n instanceof nr?(function(i){return i.op.toString()+" {"+i.getFilters().map(p1).join(" ,")+"}"})(n):"Filter"}class PC extends qe{constructor(t,i,a){super(t,i,a),this.key=vt.fromName(a.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class jC extends qe{constructor(t,i){super(t,"in",i),this.keys=y1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class qC extends qe{constructor(t,i){super(t,"not-in",i),this.keys=y1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function y1(n,t){return(t.arrayValue?.values||[]).map((i=>vt.fromName(i.referenceValue)))}class HC extends qe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return sg(i)&&iu(i.arrayValue,this.value)}}class FC extends qe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&iu(this.value.arrayValue,i)}}class GC extends qe{constructor(t,i){super(t,"not-in",i)}matches(t){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!iu(this.value.arrayValue,i)}}class YC extends qe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!sg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>iu(this.value.arrayValue,a)))}}class QC{constructor(t,i=null,a=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function s0(n,t=null,i=[],a=[],o=null,u=null,f=null){return new QC(n,t,i,a,o,u,f)}function og(n){const t=At(n);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Cm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Oh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>vo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>vo(a))).join(",")),t.Te=i}return t.Te}function lg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!zC(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!g1(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!a0(n.startAt,t.startAt)&&a0(n.endAt,t.endAt)}function xm(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Vh{constructor(t,i=null,a=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function KC(n,t,i,a,o,u,f,m){return new Vh(n,t,i,a,o,u,f,m)}function ug(n){return new Vh(n)}function o0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function XC(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function $C(n){return n.collectionGroup!==null}function Fl(n){const t=At(n);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Fe(un.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new yh(u,a))})),i.has(un.keyField().canonicalString())||t.Ie.push(new yh(un.keyField(),a))}return t.Ie}function Zi(n){const t=At(n);return t.Ee||(t.Ee=ZC(t,Fl(n))),t.Ee}function ZC(n,t){if(n.limitType==="F")return s0(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new yh(o.field,u)}));const i=n.endAt?new ph(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new ph(n.startAt.position,n.startAt.inclusive):null;return s0(n.path,n.collectionGroup,t,n.filters,n.limit,i,a)}}function Dm(n,t,i){return new Vh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function Lh(n,t){return lg(Zi(n),Zi(t))&&n.limitType===t.limitType}function v1(n){return`${og(Zi(n))}|lt:${n.limitType}`}function ao(n){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>p1(o))).join(", ")}]`),Oh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>vo(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>vo(o))).join(",")),`Target(${a})`})(Zi(n))}; limitType=${n.limitType})`}function Uh(n,t){return t.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):vt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(n,t)&&(function(a,o){for(const u of Fl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(a,o){return!(a.startAt&&!(function(f,m,g){const p=r0(f,m,g);return f.inclusive?p<=0:p<0})(a.startAt,Fl(a),o)||a.endAt&&!(function(f,m,g){const p=r0(f,m,g);return f.inclusive?p>=0:p>0})(a.endAt,Fl(a),o))})(n,t)}function JC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _1(n){return(t,i)=>{let a=!1;for(const o of Fl(n)){const u=WC(o,t,i);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function WC(n,t,i){const a=n.field.isKeyField()?vt.comparator(t.key,i.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?yo(g,p):bt(42886)})(n.field,t,i);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return bt(19790,{direction:n.dir})}}class fs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){hs(this.inner,((i,a)=>{for(const[o,u]of a)t(o,u)}))}isEmpty(){return i1(this.inner)}size(){return this.innerSize}}const tx=new ye(vt.comparator);function Or(){return tx}const E1=new ye(vt.comparator);function Ul(...n){let t=E1;for(const i of n)t=t.insert(i.key,i);return t}function b1(n){let t=E1;return n.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function rs(){return Gl()}function T1(){return Gl()}function Gl(){return new fs((n=>n.toString()),((n,t)=>n.isEqual(t)))}const ex=new ye(vt.comparator),nx=new Fe(vt.comparator);function kt(...n){let t=nx;for(const i of n)t=t.add(i);return t}const ix=new Fe(Ut);function rx(){return ix}function cg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function S1(n){return{integerValue:""+n}}function ax(n,t){return DC(t)?S1(t):cg(n,t)}class kh{constructor(){this._=void 0}}function sx(n,t,i){return n instanceof vh?(function(o,u){const f={fields:{[s1]:{stringValue:a1},[l1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ag(u)&&(u=Mh(u)),u&&(f.fields[o1]=u),{mapValue:f}})(i,t):n instanceof ru?w1(n,t):n instanceof au?R1(n,t):(function(o,u){const f=A1(o,u),m=l0(f)+l0(o.Ae);return Rm(f)&&Rm(o.Ae)?S1(m):cg(o.serializer,m)})(n,t)}function ox(n,t,i){return n instanceof ru?w1(n,t):n instanceof au?R1(n,t):i}function A1(n,t){return n instanceof _h?(function(a){return Rm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(t)?t:{integerValue:0}:null}class vh extends kh{}class ru extends kh{constructor(t){super(),this.elements=t}}function w1(n,t){const i=C1(t);for(const a of n.elements)i.some((o=>er(o,a)))||i.push(a);return{arrayValue:{values:i}}}class au extends kh{constructor(t){super(),this.elements=t}}function R1(n,t){let i=C1(t);for(const a of n.elements)i=i.filter((o=>!er(o,a)));return{arrayValue:{values:i}}}class _h extends kh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function l0(n){return Ce(n.integerValue||n.doubleValue)}function C1(n){return sg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function lx(n,t){return n.field.isEqual(t.field)&&(function(a,o){return a instanceof ru&&o instanceof ru||a instanceof au&&o instanceof au?po(a.elements,o.elements,er):a instanceof _h&&o instanceof _h?er(a.Ae,o.Ae):a instanceof vh&&o instanceof vh})(n.transform,t.transform)}class ux{constructor(t,i){this.version=t,this.transformResults=i}}class Di{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Di}static exists(t){return new Di(void 0,t)}static updateTime(t){return new Di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function th(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class zh{}function x1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new hg(n.key,Di.none()):new fu(n.key,n.data,Di.none());{const i=n.data,a=yi.empty();let o=new Fe(un.comparator);for(let u of t.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new ds(n.key,a,new xi(o.toArray()),Di.none())}}function cx(n,t,i){n instanceof fu?(function(o,u,f){const m=o.value.clone(),g=c0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(n,t,i):n instanceof ds?(function(o,u,f){if(!th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=c0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(D1(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(n,t,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,i)}function Yl(n,t,i,a){return n instanceof fu?(function(u,f,m,g){if(!th(u.precondition,f))return m;const p=u.value.clone(),E=h0(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(n,t,i,a):n instanceof ds?(function(u,f,m,g){if(!th(u.precondition,f))return m;const p=h0(u.fieldTransforms,g,f),E=f.data;return E.setAll(D1(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(n,t,i,a):(function(u,f,m){return th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(n,t,i)}function hx(n,t){let i=null;for(const a of n.fieldTransforms){const o=t.data.field(a.field),u=A1(a.transform,o||null);u!=null&&(i===null&&(i=yi.empty()),i.set(a.field,u))}return i||null}function u0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&po(a,o,((u,f)=>lx(u,f)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class fu extends zh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends zh{constructor(t,i,a,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function D1(n){const t=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=n.data.field(i);t.set(i,a)}})),t}function c0(n,t,i){const a=new Map;$t(n.length===i.length,32656,{Ve:i.length,de:n.length});for(let o=0;o<i.length;o++){const u=n[o],f=u.transform,m=t.data.field(u.field);a.set(u.field,ox(f,m,i[o]))}return a}function h0(n,t,i){const a=new Map;for(const o of n){const u=o.transform,f=i.data.field(o.field);a.set(o.field,sx(u,f,t))}return a}class hg extends zh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fx extends zh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dx{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&cx(u,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Yl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Yl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=T1();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=i.has(o.key)?null:m;const g=x1(f,m);g!==null&&a.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&po(this.mutations,t.mutations,((i,a)=>u0(i,a)))&&po(this.baseMutations,t.baseMutations,((i,a)=>u0(i,a)))}}class fg{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){$t(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return ex})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new fg(t,i,a,o)}}class mx{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gx{constructor(t,i){this.count=t,this.unchangedNames=i}}var ke,Ht;function px(n){switch(n){case rt.OK:return bt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return bt(15467,{code:n})}}function N1(n){if(n===void 0)return Nr("GRPC error has no .code"),rt.UNKNOWN;switch(n){case ke.OK:return rt.OK;case ke.CANCELLED:return rt.CANCELLED;case ke.UNKNOWN:return rt.UNKNOWN;case ke.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case ke.INTERNAL:return rt.INTERNAL;case ke.UNAVAILABLE:return rt.UNAVAILABLE;case ke.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case ke.NOT_FOUND:return rt.NOT_FOUND;case ke.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case ke.ABORTED:return rt.ABORTED;case ke.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case ke.DATA_LOSS:return rt.DATA_LOSS;default:return bt(39323,{code:n})}}(Ht=ke||(ke={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function yx(){return new TextEncoder}const vx=new ba([4294967295,4294967295],0);function f0(n){const t=yx().encode(n),i=new YE;return i.update(t),new Uint8Array(i.digest())}function d0(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ba([i,a],0),new ba([o,u],0)]}class dg{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(a<0)throw new kl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ba.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(ba.fromNumber(a)));return o.compare(vx)===1&&(o=new ba([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=f0(t),[a,o]=d0(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new dg(u,o,i);return a.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const i=f0(t),[a,o]=d0(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.be(f)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bh{constructor(t,i,a,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,du.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Bh(Tt.min(),o,new ye(Ut),Or(),kt())}}class du{constructor(t,i,a,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new du(a,i,kt(),kt(),kt())}}class eh{constructor(t,i,a,o){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=o}}class I1{constructor(t,i){this.targetId=t,this.Ce=i}}class O1{constructor(t,i,a=cn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class m0{constructor(){this.ve=0,this.Fe=g0(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),a=kt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:bt(38017,{changeType:u})}})),new du(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=g0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class _x{constructor(t){this.Ge=t,this.ze=new Map,this.je=Or(),this.He=Gc(),this.Je=Gc(),this.Ze=new ye(Ut)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(xm(u))if(a===0){const f=new vt(u.path);this.et(i,f,vn.newNoDocument(f,Tt.min()))}else $t(a===1,20013,{expectedCount:a});else{const f=this._t(i);if(f!==a){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(i);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,p)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=i;let f,m;try{f=wa(a).toUint8Array()}catch(g){if(g instanceof r1)return go("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new dg(f,o,u)}catch(g){return go(g instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&xm(m.target)){const g=new vt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,vn.newNoDocument(g,t))}u.Be&&(i.set(f,u.ke()),u.Ke())}}));let a=kt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Bh(t,i,this.Ze,this.je,a);return this.je=Or(),this.He=Gc(),this.Je=Gc(),this.Ze=new ye(Ut),o}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new m0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Fe(Ut),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Fe(Ut),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new m0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Gc(){return new ye(vt.comparator)}function g0(){return new ye(vt.comparator)}const Ex={asc:"ASCENDING",desc:"DESCENDING"},bx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tx={and:"AND",or:"OR"};class Sx{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Nm(n,t){return n.useProto3Json||Oh(t)?t:{value:t}}function Eh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function M1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Ax(n,t){return Eh(n,t.toTimestamp())}function Ji(n){return $t(!!n,49232),Tt.fromTimestamp((function(i){const a=Aa(i);return new Xt(a.seconds,a.nanos)})(n))}function mg(n,t){return Im(n,t).canonicalString()}function Im(n,t){const i=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?i:i.child(t)}function V1(n){const t=ce.fromString(n);return $t(B1(t),10190,{key:t.toString()}),t}function Om(n,t){return mg(n.databaseId,t.path)}function rm(n,t){const i=V1(t);if(i.get(1)!==n.databaseId.projectId)throw new mt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new mt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new vt(U1(i))}function L1(n,t){return mg(n.databaseId,t)}function wx(n){const t=V1(n);return t.length===4?ce.emptyPath():U1(t)}function Mm(n){return new ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function U1(n){return $t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function p0(n,t,i){return{name:Om(n,t),fields:i.value.mapValue.fields}}function Rx(n,t){let i;if("targetChange"in t){t.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:bt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?($t(E===void 0||typeof E=="string",58123),cn.fromBase64String(E||"")):($t(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),cn.fromUint8Array(E||new Uint8Array))})(n,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?rt.UNKNOWN:N1(p.code);return new mt(E,p.message||"")})(f);i=new O1(a,o,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=rm(n,a.document.name),u=Ji(a.document.updateTime),f=a.document.createTime?Ji(a.document.createTime):Tt.min(),m=new yi({mapValue:{fields:a.document.fields}}),g=vn.newFoundDocument(o,u,f,m),p=a.targetIds||[],E=a.removedTargetIds||[];i=new eh(p,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=rm(n,a.document),u=a.readTime?Ji(a.readTime):Tt.min(),f=vn.newNoDocument(o,u),m=a.removedTargetIds||[];i=new eh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=rm(n,a.document),u=a.removedTargetIds||[];i=new eh([],u,o,null)}else{if(!("filter"in t))return bt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new gx(o,u),m=a.targetId;i=new I1(m,f)}}return i}function Cx(n,t){let i;if(t instanceof fu)i={update:p0(n,t.key,t.value)};else if(t instanceof hg)i={delete:Om(n,t.key)};else if(t instanceof ds)i={update:p0(n,t.key,t.data),updateMask:Ux(t.fieldMask)};else{if(!(t instanceof fx))return bt(16599,{dt:t.type});i={verify:Om(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(u,f){const m=f.transform;if(m instanceof vh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _h)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw bt(20930,{transform:f.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Ax(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:bt(27497)})(n,t.precondition)),i}function xx(n,t){return n&&n.length>0?($t(t!==void 0,14353),n.map((i=>(function(o,u){let f=o.updateTime?Ji(o.updateTime):Ji(u);return f.isEqual(Tt.min())&&(f=Ji(u)),new ux(f,o.transformResults||[])})(i,t)))):[]}function Dx(n,t){return{documents:[L1(n,t.path)]}}function Nx(n,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=L1(n,o);const u=(function(p){if(p.length!==0)return z1(nr.create(p,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(S){return{field:so(S.field),direction:Mx(S.dir)}})(E)))})(t.orderBy);f&&(i.structuredQuery.orderBy=f);const m=Nm(n,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:i,parent:o}}function Ix(n){let t=wx(n.parent);const i=n.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){$t(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];i.where&&(u=(function(b){const S=k1(b);return S instanceof nr&&m1(S)?S.getFilters():[S]})(i.where));let f=[];i.orderBy&&(f=(function(b){return b.map((S=>(function(P){return new yh(oo(P.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(S)))})(i.orderBy));let m=null;i.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,Oh(S)?null:S})(i.limit));let g=null;i.startAt&&(g=(function(b){const S=!!b.before,D=b.values||[];return new ph(D,S)})(i.startAt));let p=null;return i.endAt&&(p=(function(b){const S=!b.before,D=b.values||[];return new ph(D,S)})(i.endAt)),KC(t,o,f,u,m,"F",g,p)}function Ox(n,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function k1(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=oo(i.unaryFilter.field);return qe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(i.unaryFilter.field);return qe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(i.unaryFilter.field);return qe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=oo(i.unaryFilter.field);return qe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(n):n.fieldFilter!==void 0?(function(i){return qe.create(oo(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return nr.create(i.compositeFilter.filters.map((a=>k1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(n):bt(30097,{filter:n})}function Mx(n){return Ex[n]}function Vx(n){return bx[n]}function Lx(n){return Tx[n]}function so(n){return{fieldPath:n.canonicalString()}}function oo(n){return un.fromServerFormat(n.fieldPath)}function z1(n){return n instanceof qe?(function(i){if(i.op==="=="){if(i0(i.value))return{unaryFilter:{field:so(i.field),op:"IS_NAN"}};if(n0(i.value))return{unaryFilter:{field:so(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(i0(i.value))return{unaryFilter:{field:so(i.field),op:"IS_NOT_NAN"}};if(n0(i.value))return{unaryFilter:{field:so(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(i.field),op:Vx(i.op),value:i.value}}})(n):n instanceof nr?(function(i){const a=i.getFilters().map((o=>z1(o)));return a.length===1?a[0]:{compositeFilter:{op:Lx(i.op),filters:a}}})(n):bt(54877,{filter:n})}function Ux(n){const t=[];return n.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function B1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function P1(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class ya{constructor(t,i,a,o,u=Tt.min(),f=Tt.min(),m=cn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new ya(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class kx{constructor(t){this.yt=t}}function zx(n){const t=Ix({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Dm(t,t.limit,"L"):t}class Bx{constructor(){this.Sn=new Px}addToCollectionParentIndex(t,i){return this.Sn.add(i),nt.resolve()}getCollectionParents(t,i){return nt.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return nt.resolve()}deleteFieldIndex(t,i){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,i){return nt.resolve()}getDocumentsMatchingTarget(t,i){return nt.resolve(null)}getIndexType(t,i){return nt.resolve(0)}getFieldIndexes(t,i){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,i){return nt.resolve(Sa.min())}getMinOffsetFromCollectionGroup(t,i){return nt.resolve(Sa.min())}updateCollectionGroup(t,i,a){return nt.resolve()}updateIndexEntries(t,i){return nt.resolve()}}class Px{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Fe(ce.comparator),u=!o.has(a);return this.index[i]=o.add(a),u}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Fe(ce.comparator)).toArray()}}const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j1=41943040;class Un{static withCacheSize(t){return new Un(t,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(j1,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);class _o{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new _o(0)}static ar(){return new _o(-1)}}const v0="LruGarbageCollector",jx=1048576;function _0([n,t],[i,a]){const o=Ut(n,i);return o===0?Ut(t,a):o}class qx{constructor(t){this.Pr=t,this.buffer=new Fe(_0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();_0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Hx{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ht(v0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ro(i)?ht(v0,"Ignoring IndexedDB error during garbage collection: ",i):await wo(i)}await this.Ar(3e5)}))}}class Fx{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return nt.resolve(Ih.ce);const a=new qx(i);return this.Vr.forEachTarget(t,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(y0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(a=b,m=Date.now(),this.removeTargets(t,a,i)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(p=Date.now(),ro()<=Ft.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function Gx(n,t){return new Fx(n,t)}class Yx{constructor(){this.changes=new fs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,vn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?nt.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Qx{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Kx{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Yl(a.mutation,o,xi.empty(),Xt.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,kt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=kt()){const o=rs();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((u=>{let f=Ul();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,i){const a=rs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,kt())))}populateOverlays(t,i,a){const o=[];return a.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{i.set(f,m)}))}))}computeViews(t,i,a,o){let u=Or();const f=Gl(),m=(function(){return Gl()})();return i.forEach(((g,p)=>{const E=a.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof ds)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Yl(E.mutation,p,E.mutation.getFieldMask(),Xt.now())):f.set(p.key,xi.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((p,E)=>f.set(p,E))),i.forEach(((p,E)=>m.set(p,new Qx(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(t,i){const a=Gl();let o=new ye(((f,m)=>f-m)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=i.get(g);if(p===null)return;let E=a.get(g)||xi.empty();E=m.applyToLocalView(p,E),a.set(g,E);const b=(o.get(m.batchId)||kt()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,b=T1();E.forEach((S=>{if(!u.has(S)){const D=x1(i.get(S),a.get(S));D!==null&&b.set(S,D),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(t,p,b))}return nt.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return XC(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):$C(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-u.size):nt.resolve(rs());let m=tu,g=u;return f.next((p=>nt.forEach(p,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?nt.resolve():this.remoteDocumentCache.getEntry(t,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,g,p,kt()))).next((E=>({batchId:m,changes:b1(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next((a=>{let o=Ul();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const u=i.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(g=>{const p=(function(b,S){return new Vh(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,a,o).next((E=>{E.forEach(((b,S)=>{f=f.insert(b,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,u,o)))).next((f=>{u.forEach(((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,vn.newInvalidDocument(E)))}));let m=Ul();return f.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&Yl(E.mutation,p,xi.empty(),Xt.now()),Uh(i,p)&&(m=m.insert(g,p))})),m}))}}class Xx{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return nt.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ji(o.createTime)}})(i)),nt.resolve()}getNamedQuery(t,i){return nt.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:zx(o.bundledQuery),readTime:Ji(o.readTime)}})(i)),nt.resolve()}}class $x{constructor(){this.overlays=new ye(vt.comparator),this.Lr=new Map}getOverlay(t,i){return nt.resolve(this.overlays.get(i))}getOverlays(t,i){const a=rs();return nt.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,u)=>{this.bt(t,i,u)})),nt.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(a)),nt.resolve()}getOverlaysForCollection(t,i,a){const o=rs(),u=i.length+1,f=new vt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let u=new ye(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>a){let E=u.get(p.largestBatchId);E===null&&(E=rs(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=rs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return nt.resolve(m)}bt(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new mx(i,a));let u=this.Lr.get(i);u===void 0&&(u=kt(),this.Lr.set(i,u)),this.Lr.set(i,u.add(a.key))}}class Zx{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,nt.resolve()}}class gg{constructor(){this.kr=new Fe(Je.Kr),this.qr=new Fe(Je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Je(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Je(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new vt(new ce([])),a=new Je(i,t),o=new Je(i,t+1),u=[];return this.qr.forEachInRange([a,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new vt(new ce([])),a=new Je(i,t),o=new Je(i,t+1);let u=kt();return this.qr.forEachInRange([a,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const i=new Je(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Je{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return vt.comparator(t.key,i.key)||Ut(t.Hr,i.Hr)}static Ur(t,i){return Ut(t.Hr,i.Hr)||vt.comparator(t.key,i.key)}}class Jx{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Fe(Je.Kr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dx(u,i,a,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Je(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(f)}lookupMutationBatch(t,i){return nt.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Xr(a),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?rg:this.Yn-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Je(i,0),o=new Je(i,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([a,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Fe(Ut);return i.forEach((o=>{const u=new Je(o,0),f=new Je(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{a=a.add(m.Hr)}))})),nt.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let u=a;vt.isDocumentKey(u)||(u=u.child(""));const f=new Je(new vt(u),0);let m=new Fe(Ut);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),f),nt.resolve(this.Yr(m))}Yr(t){const i=[];return t.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){$t(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return nt.forEach(i.mutations,(o=>{const u=new Je(o.key,i.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Je(i,0),o=this.Jr.firstAfterOrEqual(a);return nt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Wx{constructor(t){this.ti=t,this.docs=(function(){return new ye(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),u=o?o.size:0,f=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return nt.resolve(a?a.document.mutableCopy():vn.newInvalidDocument(i))}getEntries(t,i){let a=Or();return i.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():vn.newInvalidDocument(o))})),nt.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let u=Or();const f=i.path,m=new vt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||wC(AC(E),a)<=0||(o.has(E.key)||Uh(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,i,a,o){bt(9500)}ni(t,i){return nt.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new tD(this)}getSize(t){return nt.resolve(this.size)}}class tD extends Yx{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(a)})),nt.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class eD{constructor(t){this.persistence=t,this.ri=new fs((i=>og(i)),lg),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new gg,this.targetCount=0,this.oi=_o._r()}forEachTarget(t,i){return this.ri.forEach(((a,o)=>i(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),nt.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new _o(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,nt.resolve()}updateTargetData(t,i){return this.lr(i),nt.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,i,a){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=i&&a.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return nt.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),nt.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),nt.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return nt.resolve(a)}containsKey(t,i){return nt.resolve(this.si.containsKey(i))}}class q1{constructor(t,i){this._i={},this.overlays={},this.ai=new Ih(0),this.ui=!1,this.ui=!0,this.ci=new Zx,this.referenceDelegate=t(this),this.li=new eD(this),this.indexManager=new Bx,this.remoteDocumentCache=(function(o){return new Wx(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new kx(i),this.Pi=new Xx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new $x,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new Jx(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){ht("MemoryPersistence","Starting transaction:",t);const o=new nD(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,i){return nt.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class nD extends CC{constructor(t){super(),this.currentSequenceNumber=t}}class pg{constructor(t){this.persistence=t,this.Ri=new gg,this.Ai=null}static Vi(t){return new pg(t)}get di(){if(this.Ai)return this.Ai;throw bt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),nt.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),nt.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),nt.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(a=>{const o=vt.fromPath(a);return this.mi(t,o).next((u=>{u||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return nt.or([()=>nt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class bh{constructor(t,i){this.persistence=t,this.fi=new fs((a=>NC(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Gx(this,i)}static Vi(t,i){return new bh(t,i)}Ti(){}Ii(t){return nt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return nt.forEach(this.fi,((a,o)=>this.wr(t,a,o).next((u=>u?nt.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(f=>this.wr(t,f,i).next((m=>{m||(a++,u.removeEntry(f,Tt.min()))})))).next((()=>u.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),nt.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),nt.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),nt.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Jc(t.data.value)),i}wr(t,i,a){return nt.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return nt.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class yg{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=o}static Es(t,i){let a=kt(),o=kt();for(const u of i.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yg(t,i.fromCache,a,o)}}class iD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class rD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return X2()?8:xC(Q2())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const u={result:null};return this.gs(t,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,i,o,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new iD;return this.ys(t,i,f).next((m=>{if(u.result=m,this.As)return this.ws(t,i,f,m.size)}))})).next((()=>u.result))}ws(t,i,a,o){return a.documentReadCount<this.Vs?(ro()<=Ft.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",ao(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(ro()<=Ft.DEBUG&&ht("QueryEngine","Query:",ao(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(ro()<=Ft.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",ao(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zi(i))):nt.resolve())}gs(t,i){if(o0(i))return nt.resolve(null);let a=Zi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Dm(i,null,"F"),a=Zi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((u=>{const f=kt(...u);return this.fs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,a).next((g=>{const p=this.bs(i,m);return this.Ss(i,p,f,g.readTime)?this.gs(t,Dm(i,null,"F")):this.Ds(t,p,i,g)}))))})))))}ps(t,i,a,o){return o0(i)||o.isEqual(Tt.min())?nt.resolve(null):this.fs.getDocuments(t,a).next((u=>{const f=this.bs(i,u);return this.Ss(i,f,a,o)?nt.resolve(null):(ro()<=Ft.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(i)),this.Ds(t,f,i,SC(o,tu)).next((m=>m)))}))}bs(t,i){let a=new Fe(_1(t));return i.forEach(((o,u)=>{Uh(t,u)&&(a=a.add(u))})),a}Ss(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,i,a){return ro()<=Ft.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",ao(i)),this.fs.getDocumentsMatchingQuery(t,i,Sa.min(),a)}Ds(t,i,a,o){return this.fs.getDocumentsMatchingQuery(t,a,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const vg="LocalStore",aD=3e8;class sD{constructor(t,i,a,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new ye(Ut),this.Fs=new fs((u=>og(u)),lg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Kx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function oD(n,t,i,a){return new sD(n,t,i,a)}async function H1(n,t){const i=At(n);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],m=[];let g=kt();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(a,g).next((p=>({Ns:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function lD(n,t){const i=At(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),u=i.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const b=p.batch,S=b.keys();let D=nt.resolve();return S.forEach((P=>{D=D.next((()=>E.getEntry(g,P))).next((k=>{const U=p.docVersions.get(P);$t(U!==null,48541),k.version.compareTo(U)<0&&(b.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),E.addEntry(k)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(i,a,t,u).next((()=>u.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let g=kt();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function F1(n){const t=At(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function uD(n,t){const i=At(n),a=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const m=[];t.targetChanges.forEach(((E,b)=>{const S=o.get(b);if(!S)return;m.push(i.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>i.li.addMatchingKeys(u,E.addedDocuments,b))));let D=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?D=D.withResumeToken(cn.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,a)),o=o.insert(b,D),(function(k,U,K){return k.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=aD?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(S,D,E)&&m.push(i.li.updateTargetData(u,D))}));let g=Or(),p=kt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(cD(u,f,t.documentUpdates).next((E=>{g=E.Bs,p=E.Ls}))),!a.isEqual(Tt.min())){const E=i.li.getLastRemoteSnapshotVersion(u).next((b=>i.li.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return nt.waitFor(m).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(i.vs=o,u)))}function cD(n,t,i){let a=kt(),o=kt();return i.forEach((u=>a=a.add(u))),t.getEntries(n,a).next((u=>{let f=Or();return i.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Tt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ht(vg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function hD(n,t){const i=At(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=rg),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function fD(n,t){const i=At(n);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,t).next((u=>u?(o=u,nt.resolve(o)):i.li.allocateTargetId(a).next((f=>(o=new ya(t,f,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function Vm(n,t,i){const a=At(n),o=a.vs.get(t),u=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ro(f))throw f;ht(vg,`Failed to update sequence numbers for target ${t}: ${f}`)}a.vs=a.vs.remove(t),a.Fs.delete(o.target)}function E0(n,t,i){const a=At(n);let o=Tt.min(),u=kt();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,E){const b=At(g),S=b.Fs.get(E);return S!==void 0?nt.resolve(b.vs.get(S)):b.li.getTargetData(p,E)})(a,f,Zi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>a.Cs.getDocumentsMatchingQuery(f,t,i?o:Tt.min(),i?u:kt()))).next((m=>(dD(a,JC(t),m),{documents:m,ks:u})))))}function dD(n,t,i){let a=n.Ms.get(t)||Tt.min();i.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),n.Ms.set(t,a)}class b0{constructor(){this.activeTargetIds=rx()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class mD{constructor(){this.vo=new b0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new b0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class gD{Mo(t){}shutdown(){}}const T0="ConnectivityMonitor";class S0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ht(T0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ht(T0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yc=null;function Lm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}const am="RestConnection",pD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class yD{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===mh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(t,i,a,o,u){const f=Lm(),m=this.Qo(t,i.toUriEncodedString());ht(am,`Sending RPC '${t}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:p}=new URL(m),E=cu(p);return this.zo(t,m,g,a,E).then((b=>(ht(am,`Received RPC '${t}' ${f}: `,b),b)),(b=>{throw go(am,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",a),b}))}jo(t,i,a,o,u,f){return this.Wo(t,i,a,o,u)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),a&&a.headers.forEach(((o,u)=>t[u]=o))}Qo(t,i){const a=pD[t];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class vD{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const pn="WebChannelConnection",Dl=(n,t,i)=>{n.listen(t,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class co extends yD{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!co.c_){const t=$E();Dl(t,XE.STAT_EVENT,(i=>{i.stat===Sm.PROXY?ht(pn,"STAT_EVENT: detected buffering proxy"):i.stat===Sm.NOPROXY&&ht(pn,"STAT_EVENT: detected no buffering proxy")})),co.c_=!0}}zo(t,i,a,o,u){const f=Lm();return new Promise(((m,g)=>{const p=new QE;p.setWithCredentials(!0),p.listenOnce(KE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Zc.NO_ERROR:const b=p.getResponseJson();ht(pn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case Zc.TIMEOUT:ht(pn,`RPC '${t}' ${f} timed out`),g(new mt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const S=p.getStatus();if(ht(pn,`RPC '${t}' ${f} failed with status:`,S,"response text:",p.getResponseText()),S>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const P=D?.error;if(P&&P.status&&P.message){const k=(function(K){const X=K.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(X)>=0?X:rt.UNKNOWN})(P.status);g(new mt(k,P.message))}else g(new mt(rt.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new mt(rt.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ht(pn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ht(pn,`RPC '${t}' ${f} sending request:`,o),p.send(i,"POST",E,a,15)}))}T_(t,i,a){const o=Lm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,i,a),m.encodeInitMessageHeaders=!0;const p=u.join("");ht(pn,`Creating RPC '${t}' stream ${o}: ${p}`,m);const E=f.createWebChannel(p,m);this.I_(E);let b=!1,S=!1;const D=new vD({Ho:P=>{S?ht(pn,`Not sending because RPC '${t}' stream ${o} is closed:`,P):(b||(ht(pn,`Opening RPC '${t}' stream ${o} transport.`),E.open(),b=!0),ht(pn,`RPC '${t}' stream ${o} sending:`,P),E.send(P))},Jo:()=>E.close()});return Dl(E,Ll.EventType.OPEN,(()=>{S||(ht(pn,`RPC '${t}' stream ${o} transport opened.`),D.i_())})),Dl(E,Ll.EventType.CLOSE,(()=>{S||(S=!0,ht(pn,`RPC '${t}' stream ${o} transport closed`),D.o_(),this.E_(E))})),Dl(E,Ll.EventType.ERROR,(P=>{S||(S=!0,go(pn,`RPC '${t}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),D.o_(new mt(rt.UNAVAILABLE,"The operation could not be completed")))})),Dl(E,Ll.EventType.MESSAGE,(P=>{if(!S){const k=P.data[0];$t(!!k,16349);const U=k,K=U?.error||U[0]?.error;if(K){ht(pn,`RPC '${t}' stream ${o} received error:`,K);const X=K.status;let $=(function(st){const R=ke[st];if(R!==void 0)return N1(R)})(X),it=K.message;$===void 0&&($=rt.INTERNAL,it="Unknown error status: "+X+" with message "+K.message),S=!0,D.o_(new mt($,it)),E.close()}else ht(pn,`RPC '${t}' stream ${o} received:`,k),D.__(k)}})),co.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ZE()}}function _D(n){return new co(n)}function sm(){return typeof document<"u"?document:null}function Ph(n){return new Sx(n,!0)}co.c_=!1;class G1{constructor(t,i,a=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const A0="PersistentStream";class Y1{constructor(t,i,a,o,u,f,m,g){this.Ci=t,this.b_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===rt.RESOURCE_EXHAUSTED?(Nr(i.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new mt(rt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(A0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ht(A0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ED extends Y1{constructor(t,i,a,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,f),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Rx(this.serializer,t),a=(function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?Ji(f.readTime):Tt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=Mm(this.serializer),i.addTarget=(function(u,f){let m;const g=f.target;if(m=xm(g)?{documents:Dx(u,g)}:{query:Nx(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=M1(u,f.resumeToken);const p=Nm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Tt.min())>0){m.readTime=Eh(u,f.snapshotVersion.toTimestamp());const p=Nm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,t);const a=Ox(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=Mm(this.serializer),i.removeTarget=t,this.K_(i)}}class bD extends Y1{constructor(t,i,a,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=xx(t.writeResults,t.commitTime),a=Ji(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Mm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Cx(this.serializer,a)))};this.K_(i)}}class TD{}class SD extends TD{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new mt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,Im(i,a),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt(rt.UNKNOWN,u.toString())}))}jo(t,i,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(t,Im(i,a),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new mt(rt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function AD(n,t,i,a){return new SD(n,t,i,a)}class wD{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nr(i),this.aa=!1):ht("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ls="RemoteStore";class RD{constructor(t,i,a,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{a.enqueueAndForget((async()=>{ms(this)&&(ht(ls,"Restarting streams for network reachability change."),await(async function(g){const p=At(g);p.Ea.add(4),await mu(p),p.Va.set("Unknown"),p.Ea.delete(4),await jh(p)})(this))}))})),this.Va=new wD(a,o)}}async function jh(n){if(ms(n))for(const t of n.Ra)await t(!0)}async function mu(n){for(const t of n.Ra)await t(!1)}function Q1(n,t){const i=At(n);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Tg(i)?bg(i):Co(i).O_()&&Eg(i,t))}function _g(n,t){const i=At(n),a=Co(i);i.Ia.delete(t),a.O_()&&K1(i,t),i.Ia.size===0&&(a.O_()?a.L_():ms(i)&&i.Va.set("Unknown"))}function Eg(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Co(n).Z_(t)}function K1(n,t){n.da.$e(t),Co(n).X_(t)}function bg(n){n.da=new _x({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Co(n).start(),n.Va.ua()}function Tg(n){return ms(n)&&!Co(n).x_()&&n.Ia.size>0}function ms(n){return At(n).Ea.size===0}function X1(n){n.da=void 0}async function CD(n){n.Va.set("Online")}async function xD(n){n.Ia.forEach(((t,i)=>{Eg(n,t)}))}async function DD(n,t){X1(n),Tg(n)?(n.Va.ha(t),bg(n)):n.Va.set("Unknown")}async function ND(n,t,i){if(n.Va.set("Online"),t instanceof O1&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(n,t)}catch(a){ht(ls,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Th(n,a)}else if(t instanceof eh?n.da.Xe(t):t instanceof I1?n.da.st(t):n.da.tt(t),!i.isEqual(Tt.min()))try{const a=await F1(n.localStore);i.compareTo(a)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(cn.EMPTY_BYTE_STRING,E.snapshotVersion)),K1(u,g);const b=new ya(E.target,g,p,E.sequenceNumber);Eg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(n,i)}catch(a){ht(ls,"Failed to raise snapshot:",a),await Th(n,a)}}async function Th(n,t,i){if(!Ro(t))throw t;n.Ea.add(1),await mu(n),n.Va.set("Offline"),i||(i=()=>F1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(ls,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await jh(n)}))}function $1(n,t){return t().catch((i=>Th(n,i,t)))}async function qh(n){const t=At(n),i=Ca(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:rg;for(;ID(t);)try{const o=await hD(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,OD(t,o)}catch(o){await Th(t,o)}Z1(t)&&J1(t)}function ID(n){return ms(n)&&n.Ta.length<10}function OD(n,t){n.Ta.push(t);const i=Ca(n);i.O_()&&i.Y_&&i.ea(t.mutations)}function Z1(n){return ms(n)&&!Ca(n).x_()&&n.Ta.length>0}function J1(n){Ca(n).start()}async function MD(n){Ca(n).ra()}async function VD(n){const t=Ca(n);for(const i of n.Ta)t.ea(i.mutations)}async function LD(n,t,i){const a=n.Ta.shift(),o=fg.from(a,t,i);await $1(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await qh(n)}async function UD(n,t){t&&Ca(n).Y_&&await(async function(a,o){if((function(f){return px(f)&&f!==rt.ABORTED})(o.code)){const u=a.Ta.shift();Ca(a).B_(),await $1(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await qh(a)}})(n,t),Z1(n)&&J1(n)}async function w0(n,t){const i=At(n);i.asyncQueue.verifyOperationInProgress(),ht(ls,"RemoteStore received new credentials");const a=ms(i);i.Ea.add(3),await mu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await jh(i)}async function kD(n,t){const i=At(n);t?(i.Ea.delete(2),await jh(i)):t||(i.Ea.add(2),await mu(i),i.Va.set("Unknown"))}function Co(n){return n.ma||(n.ma=(function(i,a,o){const u=At(i);return u.sa(),new ED(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:CD.bind(null,n),Yo:xD.bind(null,n),t_:DD.bind(null,n),J_:ND.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),Tg(n)?bg(n):n.Va.set("Unknown")):(await n.ma.stop(),X1(n))}))),n.ma}function Ca(n){return n.fa||(n.fa=(function(i,a,o){const u=At(i);return u.sa(),new bD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:MD.bind(null,n),t_:UD.bind(null,n),ta:VD.bind(null,n),na:LD.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await qh(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(ls,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Sg{constructor(t,i,a,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,u){const f=Date.now()+a,m=new Sg(t,i,f,o,u);return m.start(a),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(n,t){if(Nr("AsyncQueue",`${t}: ${n}`),Ro(n))return new mt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}class ho{static emptySet(t){return new ho(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||vt.comparator(i.key,a.key):(i,a)=>vt.comparator(i.key,a.key),this.keyedMap=Ul(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ho)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ho;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class R0{constructor(){this.ga=new ye(vt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):bt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Eo{constructor(t,i,a,o,u,f,m,g,p){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(t,i,a,o,u){const f=[];return i.forEach((m=>{f.push({type:0,doc:m})})),new Eo(t,i,ho.emptySet(i),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class zD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class BD{constructor(){this.queries=C0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),u=o.queries;o.queries=C0(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(a)}))})(this,new mt(rt.ABORTED,"Firestore shutting down"))}}function C0(){return new fs((n=>v1(n)),Lh)}async function W1(n,t){const i=At(n);let a=3;const o=t.query;let u=i.queries.get(o);u?!u.Sa()&&t.Da()&&(a=2):(u=new zD,a=t.Da()?0:1);try{switch(a){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=Ag(f,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,u),u.ba.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&wg(i)}async function tb(n,t){const i=At(n),a=t.query;let o=3;const u=i.queries.get(a);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function PD(n,t){const i=At(n);let a=!1;for(const o of t){const u=o.query,f=i.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(a=!0);f.wa=o}}a&&wg(i)}function jD(n,t,i){const a=At(n),o=a.queries.get(t);if(o)for(const u of o.ba)u.onError(i);a.queries.delete(t)}function wg(n){n.Ca.forEach((t=>{t.next()}))}var Um,x0;(x0=Um||(Um={})).Ma="default",x0.Cache="cache";class eb{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Eo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Um.Cache}}class nb{constructor(t){this.key=t}}class ib{constructor(t){this.key=t}}class qD{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=_1(t),this.tu=new ho(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new R0,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,b)=>{const S=o.get(E),D=Uh(this.query,b)?b:null,P=!!S&&this.mutatedKeys.has(S.key),k=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;S&&D?S.data.isEqual(D.data)?P!==k&&(a.track({type:3,doc:D}),U=!0):this.su(S,D)||(a.track({type:2,doc:D}),U=!0,(g&&this.eu(D,g)>0||p&&this.eu(D,p)<0)&&(m=!0)):!S&&D?(a.track({type:0,doc:D}),U=!0):S&&!D&&(a.track({type:1,doc:S}),U=!0,(g||p)&&(m=!0)),U&&(D?(f=f.add(D),u=k?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:f,iu:a,Ss:m,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,b)=>(function(D,P){const k=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Vt:U})}};return k(D)-k(P)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(a),o=o??!1;const m=i&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,f.length!==0||p?{snapshot:new Eo(this.query,t.tu,u,f,t.mutatedKeys,g===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=kt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new ib(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new nb(a))})),i}cu(t){this.Za=t.ks,this.Ya=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Rg="SyncEngine";class HD{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class FD{constructor(t){this.key=t,this.hu=!1}}class GD{constructor(t,i,a,o,u,f){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new fs((m=>v1(m)),Lh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ye(vt.comparator),this.Au=new Map,this.Vu=new gg,this.du={},this.mu=new Map,this.fu=_o.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YD(n,t,i=!0){const a=ub(n);let o;const u=a.Tu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await rb(a,t,i,!0),o}async function QD(n,t){const i=ub(n);await rb(i,t,!0,!1)}async function rb(n,t,i,a){const o=await fD(n.localStore,Zi(t)),u=o.targetId,f=n.sharedClientState.addLocalQueryTarget(u,i);let m;return a&&(m=await KD(n,t,u,f==="current",o.resumeToken)),n.isPrimaryClient&&i&&Q1(n.remoteStore,o),m}async function KD(n,t,i,a,o){n.pu=(b,S,D)=>(async function(k,U,K,X){let $=U.view.ru(K);$.Ss&&($=await E0(k.localStore,U.query,!1).then((({documents:R})=>U.view.ru(R,$))));const it=X&&X.targetChanges.get(U.targetId),at=X&&X.targetMismatches.get(U.targetId)!=null,st=U.view.applyChanges($,k.isPrimaryClient,it,at);return N0(k,U.targetId,st.au),st.snapshot})(n,b,S,D);const u=await E0(n.localStore,t,!0),f=new qD(t,u.ks),m=f.ru(u.documents),g=du.createSynthesizedTargetChangeForCurrentChange(i,a&&n.onlineState!=="Offline",o),p=f.applyChanges(m,n.isPrimaryClient,g);N0(n,i,p.au);const E=new HD(t,i,f);return n.Tu.set(t,E),n.Iu.has(i)?n.Iu.get(i).push(t):n.Iu.set(i,[t]),p.snapshot}async function XD(n,t,i){const a=At(n),o=a.Tu.get(t),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((f=>!Lh(f,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Vm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&_g(a.remoteStore,o.targetId),km(a,o.targetId)})).catch(wo)):(km(a,o.targetId),await Vm(a.localStore,o.targetId,!0))}async function $D(n,t){const i=At(n),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),_g(i.remoteStore,a.targetId))}async function ZD(n,t,i){const a=r4(n);try{const o=await(function(f,m){const g=At(f),p=Xt.now(),E=m.reduce(((D,P)=>D.add(P.key)),kt());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let P=Or(),k=kt();return g.xs.getEntries(D,E).next((U=>{P=U,P.forEach(((K,X)=>{X.isValidDocument()||(k=k.add(K))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,P))).next((U=>{b=U;const K=[];for(const X of m){const $=hx(X,b.get(X.key).overlayedDocument);$!=null&&K.push(new ds(X.key,$,h1($.value.mapValue),Di.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,K,m)})).next((U=>{S=U;const K=U.applyToLocalDocumentSet(b,k);return g.documentOverlayCache.saveOverlays(D,U.batchId,K)}))})).then((()=>({batchId:S.batchId,changes:b1(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.du[f.currentUser.toKey()];p||(p=new ye(Ut)),p=p.insert(m,g),f.du[f.currentUser.toKey()]=p})(a,o.batchId,i),await gu(a,o.changes),await qh(a.remoteStore)}catch(o){const u=Ag(o,"Failed to persist write");i.reject(u)}}async function ab(n,t){const i=At(n);try{const a=await uD(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?$t(f.hu,14607):o.removedDocuments.size>0&&($t(f.hu,42227),f.hu=!1))})),await gu(i,a,t)}catch(a){await wo(a)}}function D0(n,t,i){const a=At(n);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=At(f);g.onlineState=m;let p=!1;g.queries.forEach(((E,b)=>{for(const S of b.ba)S.va(m)&&(p=!0)})),p&&wg(g)})(a.eventManager,t),o.length&&a.Pu.J_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function JD(n,t,i){const a=At(n);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),u=o&&o.key;if(u){let f=new ye(vt.comparator);f=f.insert(u,vn.newNoDocument(u,Tt.min()));const m=kt().add(u),g=new Bh(Tt.min(),new Map,new ye(Ut),f,m);await ab(a,g),a.Ru=a.Ru.remove(u),a.Au.delete(t),Cg(a)}else await Vm(a.localStore,t,!1).then((()=>km(a,t,i))).catch(wo)}async function WD(n,t){const i=At(n),a=t.batch.batchId;try{const o=await lD(i.localStore,t);ob(i,a,null),sb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await gu(i,o)}catch(o){await wo(o)}}async function t4(n,t,i){const a=At(n);try{const o=await(function(f,m){const g=At(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>($t(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(a.localStore,t);ob(a,t,i),sb(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await gu(a,o)}catch(o){await wo(o)}}function sb(n,t){(n.mu.get(t)||[]).forEach((i=>{i.resolve()})),n.mu.delete(t)}function ob(n,t,i){const a=At(n);let o=a.du[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),a.du[a.currentUser.toKey()]=o}}function km(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const a of n.Iu.get(t))n.Tu.delete(a),i&&n.Pu.yu(a,i);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((a=>{n.Vu.containsKey(a)||lb(n,a)}))}function lb(n,t){n.Eu.delete(t.path.canonicalString());const i=n.Ru.get(t);i!==null&&(_g(n.remoteStore,i),n.Ru=n.Ru.remove(t),n.Au.delete(i),Cg(n))}function N0(n,t,i){for(const a of i)a instanceof nb?(n.Vu.addReference(a.key,t),e4(n,a)):a instanceof ib?(ht(Rg,"Document no longer in limbo: "+a.key),n.Vu.removeReference(a.key,t),n.Vu.containsKey(a.key)||lb(n,a.key)):bt(19791,{wu:a})}function e4(n,t){const i=t.key,a=i.path.canonicalString();n.Ru.get(i)||n.Eu.has(a)||(ht(Rg,"New document in limbo: "+i),n.Eu.add(a),Cg(n))}function Cg(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const i=new vt(ce.fromString(t)),a=n.fu.next();n.Au.set(a,new FD(i)),n.Ru=n.Ru.insert(i,a),Q1(n.remoteStore,new ya(Zi(ug(i.path)),a,"TargetPurposeLimboResolution",Ih.ce))}}async function gu(n,t,i){const a=At(n),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,g)=>{f.push(a.pu(g,t,i).then((p=>{if((p||i)&&a.isPrimaryClient){const E=p?!p.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=yg.Es(g.targetId,p);u.push(E)}})))})),await Promise.all(f),a.Pu.J_(o),await(async function(g,p){const E=At(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>nt.forEach(p,(S=>nt.forEach(S.Ts,(D=>E.persistence.referenceDelegate.addReference(b,S.targetId,D))).next((()=>nt.forEach(S.Is,(D=>E.persistence.referenceDelegate.removeReference(b,S.targetId,D)))))))))}catch(b){if(!Ro(b))throw b;ht(vg,"Failed to update sequence numbers: "+b)}for(const b of p){const S=b.targetId;if(!b.fromCache){const D=E.vs.get(S),P=D.snapshotVersion,k=D.withLastLimboFreeSnapshotVersion(P);E.vs=E.vs.insert(S,k)}}})(a.localStore,u))}async function n4(n,t){const i=At(n);if(!i.currentUser.isEqual(t)){ht(Rg,"User change. New user:",t.toKey());const a=await H1(i.localStore,t);i.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new mt(rt.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await gu(i,a.Ns)}}function i4(n,t){const i=At(n),a=i.Au.get(t);if(a&&a.hu)return kt().add(a.key);{let o=kt();const u=i.Iu.get(t);if(!u)return o;for(const f of u){const m=i.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function ub(n){const t=At(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=ab.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=i4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JD.bind(null,t),t.Pu.J_=PD.bind(null,t.eventManager),t.Pu.yu=jD.bind(null,t.eventManager),t}function r4(n){const t=At(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=t4.bind(null,t),t}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ph(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return oD(this.persistence,new rD,t.initialUser,this.serializer)}Cu(t){return new q1(pg.Vi,this.serializer)}Du(t){return new mD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class a4 extends Sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){$t(this.persistence.referenceDelegate instanceof bh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Hx(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new q1((a=>bh.Vi(a,i)),this.serializer)}}class zm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>D0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=n4.bind(null,this.syncEngine),await kD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new BD})()}createDatastore(t){const i=Ph(t.databaseInfo.databaseId),a=_D(t.databaseInfo);return AD(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,u,f,m){return new RD(a,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(i=>D0(this.syncEngine,i,0)),(function(){return S0.v()?new S0:new gD})())}createSyncEngine(t,i){return(function(o,u,f,m,g,p,E){const b=new GD(o,u,f,m,g,p);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);ht(ls,"RemoteStore shutting down."),a.Ea.add(5),await mu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};class cb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Nr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const xa="FirestoreClient";class s4{constructor(t,i,a,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{ht(xa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ht(xa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Ag(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function om(n,t){n.asyncQueue.verifyOperationInProgress(),ht(xa,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let a=i.initialUser;n.setCredentialChangeListener((async o=>{a.isEqual(o)||(await H1(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function I0(n,t){n.asyncQueue.verifyOperationInProgress();const i=await o4(n);ht(xa,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener((a=>w0(t.remoteStore,a))),n.setAppCheckTokenChangeListener(((a,o)=>w0(t.remoteStore,o))),n._onlineComponents=t}async function o4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(xa,"Using user provided OfflineComponentProvider");try{await om(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===rt.FAILED_PRECONDITION||o.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;go("Error using user provided cache. Falling back to memory cache: "+i),await om(n,new Sh)}}else ht(xa,"Using default OfflineComponentProvider"),await om(n,new a4(void 0));return n._offlineComponents}async function hb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(xa,"Using user provided OnlineComponentProvider"),await I0(n,n._uninitializedComponentsProvider._online)):(ht(xa,"Using default OnlineComponentProvider"),await I0(n,new zm))),n._onlineComponents}function l4(n){return hb(n).then((t=>t.syncEngine))}async function fb(n){const t=await hb(n),i=t.eventManager;return i.onListen=YD.bind(null,t.syncEngine),i.onUnlisten=XD.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=QD.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=$D.bind(null,t.syncEngine),i}function u4(n,t,i={}){const a=new Rr;return n.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const E=new cb({next:S=>{E.Nu(),f.enqueueAndForget((()=>tb(u,b)));const D=S.docs.has(m);!D&&S.fromCache?p.reject(new mt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&g&&g.source==="server"?p.reject(new mt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),b=new eb(ug(m.path),E,{includeMetadataChanges:!0,Ka:!0});return W1(u,b)})(await fb(n),n.asyncQueue,t,i,a))),a.promise}function c4(n,t,i={}){const a=new Rr;return n.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const E=new cb({next:S=>{E.Nu(),f.enqueueAndForget((()=>tb(u,b))),S.fromCache&&g.source==="server"?p.reject(new mt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),b=new eb(m,E,{includeMetadataChanges:!0,Ka:!0});return W1(u,b)})(await fb(n),n.asyncQueue,t,i,a))),a.promise}function h4(n,t){const i=new Rr;return n.asyncQueue.enqueueAndForget((async()=>ZD(await l4(n),t,i))),i.promise}function db(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const f4="ComponentProvider",O0=new Map;function d4(n,t,i,a,o){return new MC(n,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,db(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const mb="firestore.googleapis.com",M0=!0;class V0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mb,this.ssl=M0}else this.host=t.host,this.ssl=t.ssl??M0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=j1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<jx)throw new mt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}TC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=db(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hh{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new fC;switch(a.type){case"firstParty":return new pC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new mt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=O0.get(i);a&&(ht(f4,"Removing Datastore"),O0.delete(i),a.terminate())})(this),Promise.resolve()}}function m4(n,t,i,a={}){n=Ir(n,Hh);const o=cu(t),u=n._getSettings(),f={...u,emulatorOptions:n._getEmulatorOptions()},m=`${t}:${i}`;o&&(OE(`https://${m}`),VE("Firestore",!0)),u.host!==mb&&u.host!==m&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:a};if(!hh(g,f)&&(n._setSettings(g),a.mockUserToken)){let p,E;if(typeof a.mockUserToken=="string")p=a.mockUserToken,E=yn.MOCK_USER;else{p=ME(a.mockUserToken,n._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new mt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new yn(b)}n._authCredentials=new dC(new WE(p,E))}}class Fh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Fh(this.firestore,t,this._query)}}class He{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new He(this.firestore,t,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(hu(i,He._jsonSchema))return new He(t,a||null,new vt(ce.fromString(i.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:ze("string",He._jsonSchemaVersion),referencePath:ze("string")};class Ta extends Fh{constructor(t,i,a){super(t,i,ug(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new He(this.firestore,null,new vt(t))}withConverter(t){return new Ta(this.firestore,t,this._path)}}function L0(n,t,...i){if(n=xr(n),t1("collection","path",t),n instanceof Hh){const a=ce.fromString(t,...i);return K_(a),new Ta(n,null,a)}{if(!(n instanceof He||n instanceof Ta))throw new mt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(ce.fromString(t,...i));return K_(a),new Ta(n.firestore,null,a)}}function nh(n,t,...i){if(n=xr(n),arguments.length===1&&(t=ng.newId()),t1("doc","path",t),n instanceof Hh){const a=ce.fromString(t,...i);return Q_(a),new He(n,null,new vt(a))}{if(!(n instanceof He||n instanceof Ta))throw new mt(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(ce.fromString(t,...i));return Q_(a),new He(n.firestore,n instanceof Ta?n.converter:null,new vt(a))}}const U0="AsyncQueue";class k0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G1(this,"async_queue_retry"),this._c=()=>{const a=sm();a&&ht(U0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ro(t))throw t;ht(U0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Nr("INTERNAL UNHANDLED ERROR: ",z0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Sg.createAndSchedule(this,t,i,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function z0(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class xo extends Hh{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new k0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new k0(t),this._firestoreClient=void 0,await t}}}function g4(n,t){const i=typeof n=="object"?n:HE(),a=typeof n=="string"?n:mh,o=BE(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=NE("firestore");u&&m4(o,...u)}return o}function xg(n){if(n._terminated)throw new mt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||p4(n),n._firestoreClient}function p4(n){const t=n._freezeSettings(),i=d4(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new s4(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class vi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vi(cn.fromBase64String(t))}catch(i){throw new mt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new vi(cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(hu(t,vi._jsonSchema))return vi.fromBase64String(t.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:ze("string",vi._jsonSchemaVersion),bytes:ze("string")};class gb{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new mt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class pb{constructor(t){this._methodName=t}}class Wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new mt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new mt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(t){if(hu(t,Wi._jsonSchema))return new Wi(t.latitude,t.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:ze("string",Wi._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};class Ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(hu(t,Ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ni(t.vectorValues);throw new mt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:ze("string",Ni._jsonSchemaVersion),vectorValues:ze("object")};const y4=/^__.*__$/;class v4{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ds(t,this.data,this.fieldMask,i,this.fieldTransforms):new fu(t,this.data,i,this.fieldTransforms)}}function yb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{dataSource:n})}}class Dg{constructor(t,i,a,o,u,f){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Dg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Ah(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(yb(this.dataSource)&&y4.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class _4{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ph(t)}createContext(t,i,a,o=!1){return new Dg({dataSource:t,methodName:i,targetDoc:a,path:un.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vb(n){const t=n._freezeSettings(),i=Ph(n._databaseId);return new _4(n._databaseId,!!t.ignoreUndefinedProperties,i)}function _b(n,t,i,a,o,u={}){const f=n.createContext(u.merge||u.mergeFields?2:0,t,i,o);Sb("Data must be an object, but it was:",f,a);const m=bb(a,f);let g,p;if(u.merge)g=new xi(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=Ng(t,b,i);if(!f.contains(S))throw new mt(rt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);T4(E,S)||E.push(S)}g=new xi(E),p=f.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,p=f.fieldTransforms;return new v4(new yi(m),g,p)}function Eb(n,t){if(Tb(n=xr(n)))return Sb("Unsupported field value:",t,n),bb(n,t);if(n instanceof pb)return(function(a,o){if(!yb(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,o){const u=[];let f=0;for(const m of a){let g=Eb(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(n,t)}return(function(a,o){if((a=xr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ax(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Xt.fromDate(a);return{timestampValue:Eh(o.serializer,u)}}if(a instanceof Xt){const u=new Xt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(a instanceof Wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof vi)return{bytesValue:M1(o.serializer,a._byteString)};if(a instanceof He){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ni)return(function(f,m){const g=f instanceof Ni?f.toArray():f;return{mapValue:{fields:{[u1]:{stringValue:c1},[gh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return cg(m.serializer,E)}))}}}}}})(a,o);if(P1(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${ig(a)}`)})(n,t)}function bb(n,t){const i={};return i1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hs(n,((a,o)=>{const u=Eb(o,t.childContextForField(a));u!=null&&(i[a]=u)})),{mapValue:{fields:i}}}function Tb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xt||n instanceof Wi||n instanceof vi||n instanceof He||n instanceof pb||n instanceof Ni||P1(n))}function Sb(n,t,i){if(!Tb(i)||!e1(i)){const a=ig(i);throw a==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+a)}}function Ng(n,t,i){if((t=xr(t))instanceof gb)return t._internalPath;if(typeof t=="string")return b4(n,t);throw Ah("Field path arguments must be of type string or ",n,!1,void 0,i)}const E4=new RegExp("[~\\*/\\[\\]]");function b4(n,t,i){if(t.search(E4)>=0)throw Ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new gb(...t.split("."))._internalPath}catch{throw Ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function Ah(n,t,i,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${a}`),f&&(g+=` in document ${o}`),g+=")"),new mt(rt.INVALID_ARGUMENT,m+n+g)}function T4(n,t){return n.some((i=>i.isEqual(t)))}class S4{convertValue(t,i="none"){switch(Ra(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(wa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return hs(t,((o,u)=>{a[o]=this.convertValue(u,i)})),a}convertVectorValue(t){const i=t.fields?.[gh].arrayValue?.values?.map((a=>Ce(a.doubleValue)));return new Ni(i)}convertGeoPoint(t){return new Wi(Ce(t.latitude),Ce(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(eu(t));default:return null}}convertTimestamp(t){const i=Aa(t);return new Xt(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ce.fromString(t);$t(B1(a),9688,{name:t});const o=new nu(a.get(1),a.get(3)),u=new vt(a.popFirst(5));return o.isEqual(i)||Nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}class Ab extends S4{constructor(t){super(),this.firestore=t}convertBytes(t){return new vi(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new He(this.firestore,null,i)}}const B0="@firebase/firestore",P0="4.10.0";class wb{constructor(t,i,a,o,u){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new A4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Ng("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class A4 extends wb{data(){return super.data()}}function w4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Rb(n,t,i){let a;return a=n?i&&(i.merge||i.mergeFields)?n.toFirestore(t,i):n.toFirestore(t):t,a}class zl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class as extends wb{constructor(t,i,a,o,u,f){super(t,i,a,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Ng("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=as._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}as._jsonSchemaVersion="firestore/documentSnapshot/1.0",as._jsonSchema={type:ze("string",as._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class ih extends as{data(t={}){return super.data(t)}}class fo{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new zl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new ih(this._firestore,this._userDataWriter,a.key,a,new zl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:R4(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=fo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function R4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:n})}}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:ze("string",fo._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};function C4(n){n=Ir(n,He);const t=Ir(n.firestore,xo),i=xg(t);return u4(i,n._key).then((a=>O4(t,n,a)))}function x4(n){n=Ir(n,Fh);const t=Ir(n.firestore,xo),i=xg(t),a=new Ab(t);return w4(n._query),c4(i,n._query).then((o=>new fo(t,a,n,o)))}function D4(n,t,i){n=Ir(n,He);const a=Ir(n.firestore,xo),o=Rb(n.converter,t,i),u=vb(a);return Ig(a,[_b(u,"setDoc",n._key,o,n.converter!==null,i).toMutation(n._key,Di.none())])}function N4(n){return Ig(Ir(n.firestore,xo),[new hg(n._key,Di.none())])}function I4(n,t){const i=Ir(n.firestore,xo),a=nh(n),o=Rb(n.converter,t),u=vb(n.firestore);return Ig(i,[_b(u,"addDoc",a._key,o,n.converter!==null,{}).toMutation(a._key,Di.exists(!1))]).then((()=>a))}function Ig(n,t){const i=xg(n);return h4(i,t)}function O4(n,t,i){const a=i.docs.get(t._key),o=new Ab(n);return new as(n,o,t._key,a,new zl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){hC(jE),Jl(new mo("firestore",((a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new xo(new mC(a.getProvider("auth-internal")),new yC(f,a.getProvider("app-check-internal")),VC(f,o),f);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ea(B0,P0,t),Ea(B0,P0,"esm2020")})();const Cb="firebasestorage.googleapis.com",xb="storageBucket",M4=120*1e3,V4=600*1e3;class be extends cs{constructor(t,i,a=0){super(lm(t),`Firebase Storage: ${i} (${lm(t)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,be.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return lm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ee;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ee||(Ee={}));function lm(n){return"storage/"+n}function Og(){const n="An unknown error occurred, please check the error payload for server response.";return new be(Ee.UNKNOWN,n)}function L4(n){return new be(Ee.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function U4(n){return new be(Ee.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function k4(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new be(Ee.UNAUTHENTICATED,n)}function z4(){return new be(Ee.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function B4(n){return new be(Ee.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function P4(){return new be(Ee.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function j4(){return new be(Ee.CANCELED,"User canceled the upload/download.")}function q4(n){return new be(Ee.INVALID_URL,"Invalid URL '"+n+"'.")}function H4(n){return new be(Ee.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function F4(){return new be(Ee.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xb+"' property when initializing the app?")}function G4(){return new be(Ee.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Y4(){return new be(Ee.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Q4(n){return new be(Ee.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Bm(n){return new be(Ee.INVALID_ARGUMENT,n)}function Db(){return new be(Ee.APP_DELETED,"The Firebase app was deleted.")}function K4(n){return new be(Ee.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ql(n,t){return new be(Ee.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Nl(n){throw new be(Ee.INTERNAL_ERROR,"Internal error: "+n)}class Wn{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let a;try{a=Wn.makeFromUrl(t,i)}catch{return new Wn(t,"")}if(a.path==="")return a;throw H4(t)}static makeFromUrl(t,i){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(it){it.path.charAt(it.path.length-1)==="/"&&(it.path_=it.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function p(it){it.path_=decodeURIComponent(it.path)}const E="v[A-Za-z0-9_]+",b=i.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",D=new RegExp(`^https?://${b}/${E}/b/${o}/o${S}`,"i"),P={bucket:1,path:3},k=i===Cb?"(?:storage.googleapis.com|storage.cloud.google.com)":i,U="([^?#]*)",K=new RegExp(`^https?://${k}/${o}/${U}`,"i"),$=[{regex:m,indices:g,postModify:u},{regex:D,indices:P,postModify:p},{regex:K,indices:{bucket:1,path:2},postModify:p}];for(let it=0;it<$.length;it++){const at=$[it],st=at.regex.exec(t);if(st){const R=st[at.indices.bucket];let w=st[at.indices.path];w||(w=""),a=new Wn(R,w),at.postModify(a);break}}if(a==null)throw q4(t);return a}}class X4{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function $4(n,t,i){let a=1,o=null,u=null,f=!1,m=0;function g(){return m===2}let p=!1;function E(...U){p||(p=!0,t.apply(null,U))}function b(U){o=setTimeout(()=>{o=null,n(D,g())},U)}function S(){u&&clearTimeout(u)}function D(U,...K){if(p){S();return}if(U){S(),E.call(null,U,...K);return}if(g()||f){S(),E.call(null,U,...K);return}a<64&&(a*=2);let $;m===1?(m=2,$=0):$=(a+Math.random())*1e3,b($)}let P=!1;function k(U){P||(P=!0,S(),!p&&(o!==null?(U||(m=2),clearTimeout(o),b(0)):U||(m=1)))}return b(0),u=setTimeout(()=>{f=!0,k(!0)},i),k}function Z4(n){n(!1)}function J4(n){return n!==void 0}function W4(n){return typeof n=="object"&&!Array.isArray(n)}function Mg(n){return typeof n=="string"||n instanceof String}function j0(n){return Vg()&&n instanceof Blob}function Vg(){return typeof Blob<"u"}function q0(n,t,i,a){if(a<t)throw Bm(`Invalid value for '${n}'. Expected ${t} or greater.`);if(a>i)throw Bm(`Invalid value for '${n}'. Expected ${i} or less.`)}function Lg(n,t,i){let a=t;return i==null&&(a=`https://${t}`),`${i}://${a}/v0${n}`}function Nb(n){const t=encodeURIComponent;let i="?";for(const a in n)if(n.hasOwnProperty(a)){const o=t(a)+"="+t(n[a]);i=i+o+"&"}return i=i.slice(0,-1),i}var ss;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ss||(ss={}));function tN(n,t){const i=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,u=t.indexOf(n)!==-1;return i||o||u}class eN{constructor(t,i,a,o,u,f,m,g,p,E,b,S=!0,D=!1){this.url_=t,this.method_=i,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=E,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,k)=>{this.resolve_=P,this.reject_=k,this.start_()})}start_(){const t=(a,o)=>{if(o){a(!1,new Qc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===ss.NO_ERROR,g=u.getStatus();if(!m||tN(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ss.ABORT;a(!1,new Qc(!1,null,E));return}const p=this.successCodes_.indexOf(g)!==-1;a(!0,new Qc(p,u))})},i=(a,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());J4(g)?u(g):u()}catch(g){f(g)}else if(m!==null){const g=Og();g.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,g)):f(g)}else if(o.canceled){const g=this.appDelete_?Db():j4();f(g)}else{const g=P4();f(g)}};this.canceled_?i(!1,new Qc(!1,null,!0)):this.backoffId_=$4(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Z4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qc{constructor(t,i,a){this.wasSuccessCode=t,this.connection=i,this.canceled=!!a}}function nN(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function iN(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function rN(n,t){t&&(n["X-Firebase-GMPID"]=t)}function aN(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function sN(n,t,i,a,o,u,f=!0,m=!1){const g=Nb(n.urlParams),p=n.url+g,E=Object.assign({},n.headers);return rN(E,t),nN(E,i),iN(E,u),aN(E,a),new eN(p,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,f,m)}function oN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lN(...n){const t=oN();if(t!==void 0){const i=new t;for(let a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}else{if(Vg())return new Blob(n);throw new be(Ee.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uN(n,t,i){return n.webkitSlice?n.webkitSlice(t,i):n.mozSlice?n.mozSlice(t,i):n.slice?n.slice(t,i):null}function cN(n){if(typeof atob>"u")throw Q4("base-64");return atob(n)}const $i={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class um{constructor(t,i){this.data=t,this.contentType=i||null}}function hN(n,t){switch(n){case $i.RAW:return new um(Ib(t));case $i.BASE64:case $i.BASE64URL:return new um(Ob(n,t));case $i.DATA_URL:return new um(dN(t),mN(t))}throw Og()}function Ib(n){const t=[];for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);if(a<=127)t.push(a);else if(a<=2047)t.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(i<n.length-1&&(n.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{const u=a,f=n.charCodeAt(++i);a=65536|(u&1023)<<10|f&1023,t.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?t.push(239,191,189):t.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(t)}function fN(n){let t;try{t=decodeURIComponent(n)}catch{throw Ql($i.DATA_URL,"Malformed data URL.")}return Ib(t)}function Ob(n,t){switch(n){case $i.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw Ql(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case $i.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw Ql(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=cN(t)}catch(o){throw o.message.includes("polyfill")?o:Ql(n,"Invalid character found")}const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}class Mb{constructor(t){this.base64=!1,this.contentType=null;const i=t.match(/^data:([^,]+)?,/);if(i===null)throw Ql($i.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=i[1]||null;a!=null&&(this.base64=gN(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=t.substring(t.indexOf(",")+1)}}function dN(n){const t=new Mb(n);return t.base64?Ob($i.BASE64,t.rest):fN(t.rest)}function mN(n){return new Mb(n).contentType}function gN(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}class pa{constructor(t,i){let a=0,o="";j0(t)?(this.data_=t,a=t.size,o=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),a=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),a=t.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,i){if(j0(this.data_)){const a=this.data_,o=uN(a,t,i);return o===null?null:new pa(o)}else{const a=new Uint8Array(this.data_.buffer,t,i-t);return new pa(a,!0)}}static getBlob(...t){if(Vg()){const i=t.map(a=>a instanceof pa?a.data_:a);return new pa(lN.apply(null,i))}else{const i=t.map(f=>Mg(f)?hN($i.RAW,f).data:f.data_);let a=0;i.forEach(f=>{a+=f.byteLength});const o=new Uint8Array(a);let u=0;return i.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new pa(o,!0)}}uploadData(){return this.data_}}function Vb(n){let t;try{t=JSON.parse(n)}catch{return null}return W4(t)?t:null}function pN(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function yN(n,t){const i=t.split("/").filter(a=>a.length>0).join("/");return n.length===0?i:n+"/"+i}function Lb(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}function vN(n,t){return t}class wn{constructor(t,i,a,o){this.server=t,this.local=i||t,this.writable=!!a,this.xform=o||vN}}let Kc=null;function _N(n){return!Mg(n)||n.length<2?n:Lb(n)}function Ub(){if(Kc)return Kc;const n=[];n.push(new wn("bucket")),n.push(new wn("generation")),n.push(new wn("metageneration")),n.push(new wn("name","fullPath",!0));function t(u,f){return _N(f)}const i=new wn("name");i.xform=t,n.push(i);function a(u,f){return f!==void 0?Number(f):f}const o=new wn("size");return o.xform=a,n.push(o),n.push(new wn("timeCreated")),n.push(new wn("updated")),n.push(new wn("md5Hash",null,!0)),n.push(new wn("cacheControl",null,!0)),n.push(new wn("contentDisposition",null,!0)),n.push(new wn("contentEncoding",null,!0)),n.push(new wn("contentLanguage",null,!0)),n.push(new wn("contentType",null,!0)),n.push(new wn("metadata","customMetadata",!0)),Kc=n,Kc}function EN(n,t){function i(){const a=n.bucket,o=n.fullPath,u=new Wn(a,o);return t._makeStorageReference(u)}Object.defineProperty(n,"ref",{get:i})}function bN(n,t,i){const a={};a.type="file";const o=i.length;for(let u=0;u<o;u++){const f=i[u];a[f.local]=f.xform(a,t[f.server])}return EN(a,n),a}function kb(n,t,i){const a=Vb(t);return a===null?null:bN(n,a,i)}function TN(n,t,i,a){const o=Vb(t);if(o===null||!Mg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(p=>{const E=n.bucket,b=n.fullPath,S="/b/"+f(E)+"/o/"+f(b),D=Lg(S,i,a),P=Nb({alt:"media",token:p});return D+P})[0]}function SN(n,t){const i={},a=t.length;for(let o=0;o<a;o++){const u=t[o];u.writable&&(i[u.server]=n[u.local])}return JSON.stringify(i)}class zb{constructor(t,i,a,o){this.url=t,this.method=i,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Bb(n){if(!n)throw Og()}function AN(n,t){function i(a,o){const u=kb(n,o,t);return Bb(u!==null),u}return i}function wN(n,t){function i(a,o){const u=kb(n,o,t);return Bb(u!==null),TN(u,o,n.host,n._protocol)}return i}function Pb(n){function t(i,a){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=z4():o=k4():i.getStatus()===402?o=U4(n.bucket):i.getStatus()===403?o=B4(n.path):o=a,o.status=i.getStatus(),o.serverResponse=a.serverResponse,o}return t}function RN(n){const t=Pb(n);function i(a,o){let u=t(a,o);return a.getStatus()===404&&(u=L4(n.path)),u.serverResponse=o.serverResponse,u}return i}function CN(n,t,i){const a=t.fullServerUrl(),o=Lg(a,n.host,n._protocol),u="GET",f=n.maxOperationRetryTime,m=new zb(o,u,wN(n,i),f);return m.errorHandler=RN(t),m}function xN(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function DN(n,t,i){const a=Object.assign({},i);return a.fullPath=n.path,a.size=t.size(),a.contentType||(a.contentType=xN(null,t)),a}function NN(n,t,i,a,o){const u=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let $="";for(let it=0;it<2;it++)$=$+Math.random().toString().slice(2);return $}const g=m();f["Content-Type"]="multipart/related; boundary="+g;const p=DN(t,a,o),E=SN(p,i),b="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,S=`\r
--`+g+"--",D=pa.getBlob(b,a,S);if(D===null)throw G4();const P={name:p.fullPath},k=Lg(u,n.host,n._protocol),U="POST",K=n.maxUploadRetryTime,X=new zb(k,U,AN(n,i),K);return X.urlParams=P,X.headers=f,X.body=D.uploadData(),X.errorHandler=Pb(t),X}class IN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ss.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ss.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ss.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,a,o,u){if(this.sent_)throw Nl("cannot .send() more than once");if(cu(t)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,t,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class ON extends IN{initXhr(){this.xhr_.responseType="text"}}function jb(){return new ON}class us{constructor(t,i){this._service=t,i instanceof Wn?this._location=i:this._location=Wn.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new us(t,i)}get root(){const t=new Wn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Lb(this._location.path)}get storage(){return this._service}get parent(){const t=pN(this._location.path);if(t===null)return null;const i=new Wn(this._location.bucket,t);return new us(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw K4(t)}}function MN(n,t,i){n._throwIfRoot("uploadBytes");const a=NN(n.storage,n._location,Ub(),new pa(t,!0),i);return n.storage.makeRequestWithTokens(a,jb).then(o=>({metadata:o,ref:n}))}function VN(n){n._throwIfRoot("getDownloadURL");const t=CN(n.storage,n._location,Ub());return n.storage.makeRequestWithTokens(t,jb).then(i=>{if(i===null)throw Y4();return i})}function LN(n,t){const i=yN(n._location.path,t),a=new Wn(n._location.bucket,i);return new us(n.storage,a)}function UN(n){return/^[A-Za-z]+:\/\//.test(n)}function kN(n,t){return new us(n,t)}function qb(n,t){if(n instanceof Ug){const i=n;if(i._bucket==null)throw F4();const a=new us(i,i._bucket);return t!=null?qb(a,t):a}else return t!==void 0?LN(n,t):n}function zN(n,t){if(t&&UN(t)){if(n instanceof Ug)return kN(n,t);throw Bm("To use ref(service, url), the first argument must be a Storage instance.")}else return qb(n,t)}function H0(n,t){const i=t?.[xb];return i==null?null:Wn.makeFromBucketSpec(i,n)}function BN(n,t,i,a={}){n.host=`${t}:${i}`;const o=cu(t);o&&(OE(`https://${n.host}/b`),VE("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:u}=a;u&&(n._overrideAuthToken=typeof u=="string"?u:ME(u,n.app.options.projectId))}class Ug{constructor(t,i,a,o,u,f=!1){this.app=t,this._authProvider=i,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=Cb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=M4,this._maxUploadRetryTime=V4,this._requests=new Set,o!=null?this._bucket=Wn.makeFromBucketSpec(o,this._host):this._bucket=H0(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,t):this._bucket=H0(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){q0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){q0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(PE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new us(this,t)}_makeRequest(t,i,a,o,u=!0){if(this._deleted)return new X4(Db());{const f=sN(t,this._appId,a,o,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,i){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,a,o).getPromise()}}const F0="@firebase/storage",G0="0.14.0";const Hb="storage";function PN(n,t,i){return n=xr(n),MN(n,t,i)}function jN(n){return n=xr(n),VN(n)}function qN(n,t){return n=xr(n),zN(n,t)}function HN(n=HE(),t){n=xr(n);const a=BE(n,Hb).getImmediate({identifier:t}),o=NE("storage");return o&&FN(a,...o),a}function FN(n,t,i,a={}){BN(n,t,i,a)}function GN(n,{instanceIdentifier:t}){const i=n.getProvider("app").getImmediate(),a=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Ug(i,a,o,t,jE)}function YN(){Jl(new mo(Hb,GN,"PUBLIC").setMultipleInstances(!0)),Ea(F0,G0,""),Ea(F0,G0,"esm2020")}YN();const QN={apiKey:"AIzaSyC7DPgSTDQ2OjGzxIooVSYTQaiwH8JKg9Y",authDomain:"outdoor-trip-planner-32836.firebaseapp.com",projectId:"outdoor-trip-planner-32836",storageBucket:"outdoor-trip-planner-32836.firebasestorage.app",messagingSenderId:"102100531874",appId:"1:102100531874:web:b6928eb1745dbf0355f5fb"},Fb=qE(QN),Il=g4(Fb),KN=HN(Fb);let XN=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((t,i)=>(i&=63,i<36?t+=i.toString(36):i<62?t+=(i-26).toString(36).toUpperCase():i>62?t+="-":t+="_",t),"");const $N={async uploadImage(n,t="uploads"){try{const i=`${XN()}_${n.name}`,a=`${t}/${i}`,o=qN(KN,a),u=await PN(o,n);return{url:await jN(u.ref),path:a}}catch(i){throw console.error("Error uploading image: ",i),i}}};function ZN({day:n,onDelete:t,onDuplicate:i,onStatusChange:a,onUpdate:o,index:u}){const{attributes:f,listeners:m,setNodeRef:g,transform:p,transition:E,isDragging:b}=D2({id:n.id}),[S,D]=C.useState(!1),P={transform:$l.Transform.toString(p),transition:E,opacity:b?.5:1,marginBottom:"1rem",position:"relative"},k=async K=>{const X=K.target.files[0];if(X){D(!0);try{const $=await $N.uploadImage(X);o(n.id,"image",$.url)}catch($){alert(": "+$.message)}D(!1)}},U=()=>{confirm("")&&o(n.id,"image",null)};return q.jsxs("div",{ref:g,style:P,className:`card day-card ${n.status||"todo"}`,children:[q.jsxs("div",{className:"day-header",children:[q.jsx("div",{className:"drag-handle",...f,...m,children:q.jsx(pA,{size:20,className:"text-muted"})}),q.jsxs("select",{className:"status-select",value:n.status||"todo",onChange:K=>a(n.id,K.target.value),children:[q.jsx("option",{value:"todo",children:""}),q.jsx("option",{value:"active",children:""}),q.jsx("option",{value:"done",children:""})]}),q.jsx("input",{type:"text",value:n.title||"",onChange:K=>o(n.id,"title",K.target.value),className:"day-title-input",placeholder:`Day ${u+1} ...`}),q.jsxs("div",{className:"card-actions",children:[q.jsxs("label",{className:"icon-btn",title:"",style:{cursor:S?"wait":"pointer"},children:[S?q.jsx(qm,{size:18,className:"animate-spin"}):q.jsx(vA,{size:18}),q.jsx("input",{type:"file",accept:"image/*",onChange:k,style:{display:"none"},disabled:S})]}),q.jsx("button",{className:"icon-btn",onClick:()=>i(n.id),title:"",children:q.jsx(fA,{size:18})}),q.jsx("button",{className:"icon-btn danger",onClick:()=>t(n.id),title:"",children:q.jsx(VA,{size:18})})]})]}),q.jsxs("div",{className:"day-content",children:[q.jsx("textarea",{className:"content-editor",value:n.content||"",onChange:K=>o(n.id,"content",K.target.value),placeholder:"...",rows:3}),n.image&&q.jsxs("div",{className:"day-image-preview",children:[q.jsx("img",{src:n.image,alt:"Trip memory"}),q.jsx("button",{className:"remove-image-btn",onClick:U,title:"",children:q.jsx(zA,{size:16})})]})]}),q.jsx("style",{children:`
        .day-card {
          border-left: 4px solid var(--color-primary);
          background: var(--glass-bg);
          backdrop-filter: blur(8px);
          -webkit-backdrop-filter: blur(8px);
          border: 1px solid var(--glass-border);
          border-radius: var(--radius-lg);
          padding: var(--space-4);
          box-shadow: var(--shadow-sm);
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .day-card:hover {
          transform: translateY(-2px);
          box-shadow: var(--shadow-lg);
          border-color: var(--color-primary-light);
        }
        .day-card.active { border-left-color: var(--color-warning); }
        .day-card.done { border-left-color: var(--color-text-muted); opacity: 0.8; }
        
        .day-header {
          display: flex;
          align-items: center;
          gap: var(--space-2);
          margin-bottom: var(--space-2);
          padding-bottom: var(--space-2);
          border-bottom: 1px dashed var(--color-text-muted);
          opacity: 0.7;
        }
        .day-header:hover { opacity: 1; }

        .status-select {
          padding: 6px 10px;
          border-radius: var(--radius-full);
          border: 1px solid var(--glass-border);
          font-size: 0.85rem;
          background: rgba(255, 255, 255, 0.5);
          color: var(--color-text-main);
          font-weight: 500;
          cursor: pointer;
        }
        .drag-handle {
          cursor: grab;
          padding: 6px;
          border-radius: var(--radius-md);
          color: var(--color-text-muted);
        }
        .drag-handle:hover {
          background: rgba(0,0,0,0.05);
          color: var(--color-primary);
        }
        .day-title-input {
          flex: 1;
          border: none;
          font-size: 1.15rem;
          font-weight: 700;
          padding: 4px 8px;
          border-radius: var(--radius-md);
          background: transparent;
          color: var(--color-text-main);
          font-family: 'Noto Sans TC', sans-serif;
          transition: all 0.2s;
        }
        .day-title-input:focus {
          background: rgba(255,255,255,0.8);
          box-shadow: 0 0 0 2px var(--color-primary-light);
          outline: none;
        }
        .card-actions {
          display: flex;
          gap: 4px;
        }
        .icon-btn {
          background: transparent;
          border: none;
          padding: 8px;
          cursor: pointer;
          color: var(--color-text-muted);
          border-radius: 50%;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s;
        }
        .icon-btn:hover {
          background: rgba(5, 150, 105, 0.1);
          color: var(--color-primary);
          transform: scale(1.1);
        }
        .icon-btn.danger:hover {
          background: #fee2e2;
          color: #ef4444;
        }
        .content-editor {
          width: 100%;
          border: 1px solid transparent;
          padding: var(--space-3);
          border-radius: var(--radius-md);
          resize: vertical;
          font-family: 'Inter', 'Noto Sans TC', sans-serif;
          background: rgba(255,255,255,0.3);
          color: var(--color-text-main);
          line-height: 1.6;
          transition: all 0.2s;
        }
        .content-editor:focus {
          background: rgba(255,255,255,0.8);
          border-color: var(--color-primary);
          outline: none;
          box-shadow: var(--shadow-sm);
        }
        
        .day-image-preview {
            margin-top: var(--space-3);
            position: relative;
            border-radius: var(--radius-lg);
            overflow: hidden;
            max-width: 100%;
            display: inline-block;
            box-shadow: var(--shadow-md);
        }
        .day-image-preview img {
            max-height: 240px;
            width: 100%;
            object-fit: cover;
            display: block;
        }
        .remove-image-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(4px);
            color: white;
            border: 1px solid rgba(255,255,255,0.5);
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        .remove-image-btn:hover {
            background: #ef4444;
            border-color: #ef4444;
            transform: scale(1.1);
        }
      `})]})}const Ol="trips",Y0=(n={})=>({title:"",category:"hiking",status:"planning",startDate:Xt.now(),endDate:Xt.now(),passwords:{admin_pwd:"admin",participant_pwd:"team",viewer_pwd:"view"},is_private:!1,itinerary:[],gearList:[],...n}),wh={async getAllTrips(){try{return(await x4(L0(Il,Ol))).docs.map(t=>({id:t.id,...t.data()}))}catch(n){throw console.error("Error getting trips: ",n),n}},async getTripById(n){try{const t=nh(Il,Ol,n),i=await C4(t);return i.exists()?{id:i.id,...i.data()}:null}catch(t){return console.error("Error getting trip: ",t),null}},async saveTrip(n,t){try{const i={...t};if(i.startDate instanceof Date&&(i.startDate=Xt.fromDate(i.startDate)),i.endDate instanceof Date&&(i.endDate=Xt.fromDate(i.endDate)),i.lastUpdated=Xt.now(),n){const a=nh(Il,Ol,n);return await D4(a,i,{merge:!0}),n}else return(await I4(L0(Il,Ol),i)).id}catch(i){throw console.error("Error saving trip: ",i),i}},async deleteTrip(n){try{await N4(nh(Il,Ol,n))}catch(t){throw console.error("Error deleting trip: ",t),t}}},Q0=()=>Math.random().toString(36).substr(2,9);function JN(){const[n,t]=C.useState([]),[i,a]=C.useState(null),[o,u]=C.useState(null),[f,m]=C.useState(!1),[g,p]=C.useState(!1),[E,b]=C.useState(null);C.useEffect(()=>{async function it(){m(!0),b(null);try{const st=(await wh.getAllTrips()).sort((R,w)=>{const x=R.lastUpdated?.seconds||0;return(w.lastUpdated?.seconds||0)-x});if(st.length>0){const R=st[0];console.log("Loaded Trip:",R),u(R.id),a(R),R.itinerary&&R.itinerary.length>0?t(R.itinerary):R.days&&R.days.length>0&&t(R.days)}else{const R=Y0({title:"",itinerary:[{id:"1",title:"Day 1: ",content:"08:00 ",status:"done"},{id:"2",title:"Day 2: ",content:"05:00 ",status:"active"}]});a(R),t(R.itinerary)}}catch(at){console.error(at),b(": "+at.message);const st=Y0({title:" (/)",itinerary:[{id:"1",title:"Day 1: ",content:"08:00 ",status:"done"},{id:"2",title:"Day 2: ",content:"05:00 ",status:"active"}]});a(st),t(st.itinerary)}m(!1)}it()},[]);const S=async()=>{p(!0);try{const it={itinerary:n,lastUpdated:new Date};let at=it;!o&&i&&(at={...i,...it});const st=await wh.saveTrip(o,at);u(st),alert("")}catch(it){alert(""+it.message)}p(!1)},D=ow(E_(Zm),E_(Xm,{coordinateGetter:O2}));function P(it){const{active:at,over:st}=it;at.id!==st.id&&t(R=>{const w=R.findIndex(M=>M.id===at.id),x=R.findIndex(M=>M.id===st.id);return Jm(R,w,x)})}const k=()=>{t([...n,{id:Q0(),title:"",content:"",status:"todo"}])},U=it=>{confirm("")&&t(n.filter(at=>at.id!==it))},K=it=>{const at=n.find(st=>st.id===it);if(at){const st={...at,id:Q0(),title:`${at.title} ()`,status:"todo"},R=n.findIndex(x=>x.id===it),w=[...n];w.splice(R+1,0,st),t(w)}},X=(it,at)=>{t(n.map(st=>st.id===it?{...st,status:at}:st))},$=(it,at,st)=>{t(n.map(R=>R.id===it?{...R,[at]:st}:R))};return q.jsxs("div",{className:"itinerary-manager",children:[q.jsxs("div",{className:"manager-header flex-col",style:{marginBottom:"1rem"},children:[q.jsxs("div",{className:"flex-row justify-between items-center",children:[q.jsxs("h2",{children:[" (",n.length," )"]}),q.jsxs("div",{className:"flex-row gap-2",children:[q.jsxs("button",{className:"btn btn-secondary",onClick:S,disabled:g,children:[g?q.jsx(qm,{className:"animate-spin",size:18}):q.jsx(iE,{size:18}),g?"...":""]}),q.jsxs("button",{className:"btn btn-primary",onClick:k,children:[q.jsx(CA,{size:18})," "]})]})]}),E&&q.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"#fee2e2",color:"#b91c1c",borderRadius:"4px",fontSize:"0.9rem"},children:[" ",E]})]}),q.jsx(u2,{sensors:D,collisionDetection:uw,onDragEnd:P,children:q.jsx(T2,{items:n.map(it=>it.id),strategy:E2,children:n.map((it,at)=>q.jsx(ZN,{day:it,index:at,onDelete:U,onDuplicate:K,onStatusChange:X,onUpdate:$},it.id))})})]})}const K0={hiking_day:{id:"hiking_day",label:"",categories:[{id:"essentials",name:"",items:[{id:"backpack",name:" (15-25L)",checked:!1},{id:"shoes",name:"/",checked:!1},{id:"water",name:" (1-2L)",checked:!1},{id:"rain",name:"/",checked:!1}]},{id:"navigation",name:"",items:[{id:"phone",name:" & ",checked:!1},{id:"powerbank",name:" & ",checked:!1}]}]},hiking_multiday:{id:"hiking_multiday",label:"",categories:[{id:"sleep",name:"",items:[{id:"tent",name:"",checked:!1},{id:"sleeping_bag",name:"",checked:!1},{id:"mat",name:"",checked:!1}]},{id:"cook",name:"",items:[{id:"stove",name:"",checked:!1},{id:"gas",name:"",checked:!1},{id:"pot",name:"",checked:!1}]}]},camping:{id:"camping",label:"",categories:[{id:"living",name:"",items:[{id:"tarp",name:"/",checked:!1},{id:"chair",name:"",checked:!1},{id:"table",name:"",checked:!1}]}]}};function WN(){const[n,t]=C.useState([]),[i,a]=C.useState(null),[o,u]=C.useState(!1),[f,m]=C.useState(!1);C.useEffect(()=>{async function S(){u(!0);try{const P=(await wh.getAllTrips()).sort((k,U)=>{const K=k.lastUpdated?.seconds||0;return(U.lastUpdated?.seconds||0)-K});if(P.length>0){const k=P[0];a(k.id),k.gearList&&t(k.gearList)}}catch(D){console.error("Failed to load gear list:",D)}u(!1)}S()},[]);const g=async()=>{if(!i){alert("");return}m(!0);try{await wh.saveTrip(i,{gearList:n,lastUpdated:new Date}),alert("")}catch(S){alert(""+S.message)}m(!1)},p=S=>{const D=K0[S];if(!D)return;const P=[...n];D.categories.forEach(k=>{const U=P.find(K=>K.name===k.name);if(U){const K=new Set(U.items.map($=>$.name)),X=k.items.filter($=>!K.has($.name));U.items=[...U.items,...X]}else P.push({...k,id:Math.random().toString(36).substr(2,9)})}),t(P)},E=(S,D)=>{const P=[...n];P[S].items[D].checked=!P[S].items[D].checked,t(P)},b=()=>{let S=0,D=0;return n.forEach(P=>{P.items.forEach(k=>{S++,k.checked&&D++})}),S===0?0:Math.round(D/S*100)};return q.jsxs("div",{className:"gear-manager card",children:[q.jsxs("div",{className:"manager-header",style:{marginBottom:"1.5rem"},children:[q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[q.jsxs("h2",{className:"flex-row items-center gap-2",children:[q.jsx(wA,{size:24,className:"text-primary"}),""]}),q.jsxs("button",{className:"btn btn-secondary",onClick:g,disabled:f||!i,children:[f?q.jsx(qm,{className:"animate-spin",size:16}):q.jsx(iE,{size:16}),f?"...":""]})]}),q.jsxs("div",{className:"progress-bar-container",children:[q.jsxs("div",{className:"progress-text",children:[": ",b(),"%"]}),q.jsx("div",{className:"progress-track",children:q.jsx("div",{className:"progress-fill",style:{width:`${b()}%`}})})]})]}),q.jsxs("div",{className:"import-actions",style:{marginBottom:"1.5rem",display:"flex",gap:"8px",flexWrap:"wrap"},children:[q.jsx("span",{className:"text-muted",style:{fontSize:"0.9rem",alignSelf:"center"},children:""}),Object.entries(K0).map(([S,D])=>q.jsxs("button",{className:"btn btn-secondary",style:{fontSize:"0.85rem",padding:"4px 12px"},onClick:()=>p(S),children:["+ ",D.label]},S))]}),q.jsx("div",{className:"gear-categories",children:n.length===0?q.jsx("div",{className:"empty-state",children:q.jsx("p",{children:""})}):n.map((S,D)=>q.jsxs("div",{className:"gear-category",style:{marginBottom:"1.5rem"},children:[q.jsx("h3",{className:"category-title",style:{fontSize:"1rem",fontWeight:"bold",marginBottom:"0.5rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"4px"},children:S.name}),q.jsx("div",{className:"items-grid",children:S.items.map((P,k)=>q.jsxs("label",{className:`gear-item ${P.checked?"checked":""}`,children:[q.jsx("input",{type:"checkbox",checked:P.checked,onChange:()=>E(D,k)}),q.jsx("span",{className:"item-name",children:P.name})]},P.id))})]},S.id))}),q.jsx("style",{children:`
        .text-primary { color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l)); }
        .text-muted { color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l)); }
        
        .progress-bar-container {
            margin-top: 8px;
        }
        .progress-text {
            font-size: 0.85rem;
            color: hsl(var(--color-text-muted-h), var(--color-text-muted-s), var(--color-text-muted-l));
            margin-bottom: 4px;
            text-align: right;
        }
        .progress-track {
            height: 6px;
            background: #e5e7eb;
            border-radius: 99px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
            transition: width 0.3s ease;
        }

        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 8px;
        }
        .gear-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .gear-item:hover {
            background: rgba(0,0,0,0.03);
        }
        .gear-item.checked .item-name {
            text-decoration: line-through;
            color: #9ca3af;
        }
        .gear-item input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: hsl(var(--color-p-h), var(--color-p-s), var(--color-p-l));
        }
        
        .empty-state {
            padding: 2rem;
            text-align: center;
            color: #9ca3af;
            background: #f9fafb;
            border-radius: 8px;
            border: 1px dashed #d1d5db;
        }
      `})]})}function tI(){return q.jsx(PA,{children:q.jsxs("div",{className:"trip-content",children:[q.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem"},children:""}),q.jsx(YA,{children:q.jsxs("div",{className:"card",style:{marginBottom:"2rem",borderLeft:"4px solid var(--color-warning)"},children:[q.jsxs("h2",{style:{fontSize:"1.2rem",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"8px"},children:[q.jsx(NA,{size:20})," "]}),q.jsxs("div",{style:{display:"grid",gap:"8px"},children:[q.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[q.jsx(UA,{size:16}),"  $3,500 ()"]}),q.jsx("div",{children:" 05001234567"}),q.jsx("div",{children:" 0912-345-678"})]}),q.jsx("p",{style:{marginTop:"8px",fontSize:"0.85rem",color:"var(--color-danger)"},children:"*  (Viewer )"})]})}),q.jsx(JN,{}),q.jsx("div",{style:{marginTop:"2rem"},children:q.jsx(WN,{})})]})})}function eI(){return q.jsx(qA,{children:q.jsx(FA,{children:q.jsx(tI,{})})})}var X0="popstate";function nI(n={}){function t(a,o){let{pathname:u,search:f,hash:m}=a.location;return Pm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:su(o)}return rI(t,i,null,n)}function Ge(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ir(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iI(){return Math.random().toString(36).substring(2,10)}function $0(n,t){return{usr:n.state,key:n.key,idx:t}}function Pm(n,t,i=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?pu(t):t,state:i,key:t&&t.key||a||iI()}}function su({pathname:n="/",search:t="",hash:i=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function pu(n){let t={};if(n){let i=n.indexOf("#");i>=0&&(t.hash=n.substring(i),n=n.substring(0,i));let a=n.indexOf("?");a>=0&&(t.search=n.substring(a),n=n.substring(0,a)),n&&(t.pathname=n)}return t}function rI(n,t,i,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let U=E(),K=U==null?null:U-p;p=U,g&&g({action:m,location:k.location,delta:K})}function S(U,K){m="PUSH";let X=Pm(k.location,U,K);p=E()+1;let $=$0(X,p),it=k.createHref(X);try{f.pushState($,"",it)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;o.location.assign(it)}u&&g&&g({action:m,location:k.location,delta:1})}function D(U,K){m="REPLACE";let X=Pm(k.location,U,K);p=E();let $=$0(X,p),it=k.createHref(X);f.replaceState($,"",it),u&&g&&g({action:m,location:k.location,delta:0})}function P(U){return aI(U)}let k={get action(){return m},get location(){return n(o,f)},listen(U){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(X0,b),g=U,()=>{o.removeEventListener(X0,b),g=null}},createHref(U){return t(o,U)},createURL:P,encodeLocation(U){let K=P(U);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:D,go(U){return f.go(U)}};return k}function aI(n,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(i,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:su(n);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function Gb(n,t,i="/"){return sI(n,t,i,!1)}function sI(n,t,i,a){let o=typeof t=="string"?pu(t):t,u=Mr(o.pathname||"/",i);if(u==null)return null;let f=Yb(n);oI(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=vI(u);m=pI(f[g],p,a)}return m}function Yb(n,t=[],i=[],a="",o=!1){let u=(f,m,g=o,p)=>{let E={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(a)&&g)return;Ge(E.relativePath.startsWith(a),`Absolute route path "${E.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(a.length)}let b=Cr([a,E.relativePath]),S=i.concat(E);f.children&&f.children.length>0&&(Ge(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Yb(f.children,t,S,b,g)),!(f.path==null&&!f.index)&&t.push({path:b,score:mI(b,f.index),routesMeta:S})};return n.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of Qb(f.path))u(f,m,!0,g)}),t}function Qb(n){let t=n.split("/");if(t.length===0)return[];let[i,...a]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=Qb(a.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function oI(n){n.sort((t,i)=>t.score!==i.score?i.score-t.score:gI(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var lI=/^:[\w-]+$/,uI=3,cI=2,hI=1,fI=10,dI=-2,Z0=n=>n==="*";function mI(n,t){let i=n.split("/"),a=i.length;return i.some(Z0)&&(a+=dI),t&&(a+=cI),i.filter(o=>!Z0(o)).reduce((o,u)=>o+(lI.test(u)?uI:u===""?hI:fI),a)}function gI(n,t){return n.length===t.length&&n.slice(0,-1).every((a,o)=>a===t[o])?n[n.length-1]-t[t.length-1]:0}function pI(n,t,i=!1){let{routesMeta:a}=n,o={},u="/",f=[];for(let m=0;m<a.length;++m){let g=a[m],p=m===a.length-1,E=u==="/"?t:t.slice(u.length)||"/",b=Rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),S=g.route;if(!b&&p&&i&&!a[a.length-1].route.index&&(b=Rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Cr([u,b.pathname]),pathnameBase:TI(Cr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=Cr([u,b.pathnameBase]))}return f}function Rh(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,a]=yI(n.path,n.caseSensitive,n.end),o=t.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((p,{paramName:E,isOptional:b},S)=>{if(E==="*"){let P=m[S]||"";f=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const D=m[S];return b&&!D?p[E]=void 0:p[E]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:n}}function yI(n,t=!1,i=!0){ir(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function vI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ir(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Mr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=n.charAt(i);return a&&a!=="/"?null:n.slice(i)||"/"}var _I=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function EI(n,t="/"){let{pathname:i,search:a="",hash:o=""}=typeof n=="string"?pu(n):n,u;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?u=J0(i.substring(1),"/"):u=J0(i,t)):u=t,{pathname:u,search:SI(a),hash:AI(o)}}function J0(n,t){let i=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function cm(n,t,i,a){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bI(n){return n.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Kb(n){let t=bI(n);return t.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase)}function Xb(n,t,i,a=!1){let o;typeof n=="string"?o=pu(n):(o={...n},Ge(!o.pathname||!o.pathname.includes("?"),cm("?","pathname","search",o)),Ge(!o.pathname||!o.pathname.includes("#"),cm("#","pathname","hash",o)),Ge(!o.search||!o.search.includes("#"),cm("#","search","hash",o)));let u=n===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=i;else{let b=t.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?t[b]:"/"}let g=EI(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var Cr=n=>n.join("/").replace(/\/\/+/g,"/"),TI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,AI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,wI=class{constructor(n,t,i,a=!1){this.status=n,this.statusText=t||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function RI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function CI(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zb(n,t){let i=n;if(typeof i!="string"||!_I.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let a=i,o=!1;if($b)try{let u=new URL(window.location.href),f=i.startsWith("//")?new URL(u.protocol+i):new URL(i),m=Mr(f.pathname,t);f.origin===u.origin&&m!=null?i=m+f.search+f.hash:o=!0}catch{ir(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Jb=["POST","PUT","PATCH","DELETE"];new Set(Jb);var xI=["GET",...Jb];new Set(xI);var Do=C.createContext(null);Do.displayName="DataRouter";var Gh=C.createContext(null);Gh.displayName="DataRouterState";var DI=C.createContext(!1),Wb=C.createContext({isTransitioning:!1});Wb.displayName="ViewTransition";var NI=C.createContext(new Map);NI.displayName="Fetchers";var II=C.createContext(null);II.displayName="Await";var _i=C.createContext(null);_i.displayName="Navigation";var Yh=C.createContext(null);Yh.displayName="Location";var Vr=C.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var kg=C.createContext(null);kg.displayName="RouteError";var tT="REACT_ROUTER_ERROR",OI="REDIRECT",MI="ROUTE_ERROR_RESPONSE";function VI(n){if(n.startsWith(`${tT}:${OI}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function LI(n){if(n.startsWith(`${tT}:${MI}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new wI(t.status,t.statusText,t.data)}catch{}}function UI(n,{relative:t}={}){Ge(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=C.useContext(_i),{hash:o,pathname:u,search:f}=vu(n,{relative:t}),m=u;return i!=="/"&&(m=u==="/"?i:Cr([i,u])),a.createHref({pathname:m,search:f,hash:o})}function yu(){return C.useContext(Yh)!=null}function gs(){return Ge(yu(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Yh).location}var eT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nT(n){C.useContext(_i).static||C.useLayoutEffect(n)}function kI(){let{isDataRoute:n}=C.useContext(Vr);return n?$I():zI()}function zI(){Ge(yu(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(Do),{basename:t,navigator:i}=C.useContext(_i),{matches:a}=C.useContext(Vr),{pathname:o}=gs(),u=JSON.stringify(Kb(a)),f=C.useRef(!1);return nT(()=>{f.current=!0}),C.useCallback((g,p={})=>{if(ir(f.current,eT),!f.current)return;if(typeof g=="number"){i.go(g);return}let E=Xb(g,JSON.parse(u),o,p.relative==="path");n==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Cr([t,E.pathname])),(p.replace?i.replace:i.push)(E,p.state,p)},[t,i,u,o,n])}C.createContext(null);function vu(n,{relative:t}={}){let{matches:i}=C.useContext(Vr),{pathname:a}=gs(),o=JSON.stringify(Kb(i));return C.useMemo(()=>Xb(n,JSON.parse(o),a,t==="path"),[n,o,a,t])}function BI(n,t,i,a,o){Ge(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=C.useContext(_i),{matches:f}=C.useContext(Vr),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let X=b&&b.path||"";rT(p,!b||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=gs(),D;D=S;let P=D.pathname||"/",k=P;if(E!=="/"){let X=E.replace(/^\//,"").split("/");k="/"+P.replace(/^\//,"").split("/").slice(X.length).join("/")}let U=Gb(n,{pathname:k});return ir(b||U!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),ir(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),FI(U&&U.map(X=>Object.assign({},X,{params:Object.assign({},g,X.params),pathname:Cr([E,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:Cr([E,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),f,i,a,o)}function PI(){let n=XI(),t=RI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),i?C.createElement("pre",{style:o},i):null,f)}var jI=C.createElement(PI,null),iT=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const i=LI(n.digest);i&&(n=i)}let t=n!==void 0?C.createElement(Vr.Provider,{value:this.props.routeContext},C.createElement(kg.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?C.createElement(qI,{error:n},t):t}};iT.contextType=DI;var hm=new WeakMap;function qI({children:n,error:t}){let{basename:i}=C.useContext(_i);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=VI(t.digest);if(a){let o=hm.get(t);if(o)throw o;let u=Zb(a.location,i);if($b&&!hm.get(t))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw hm.set(t,f),f}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function HI({routeContext:n,match:t,children:i}){let a=C.useContext(Do);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Vr.Provider,{value:n},i)}function FI(n,t=[],i=null,a=null,o=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let u=n,f=i?.errors;if(f!=null){let E=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);Ge(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(i)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=E),b.route.id){let{loaderData:S,errors:D}=i,P=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!D||D[b.route.id]===void 0);if(b.route.lazy||P){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=i&&a?(E,b)=>{a(E,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:CI(i.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,S)=>{let D,P=!1,k=null,U=null;i&&(D=f&&b.route.id?f[b.route.id]:void 0,k=b.route.errorElement||jI,m&&(g<0&&S===0?(rT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,U=null):g===S&&(P=!0,U=b.route.hydrateFallbackElement||null)));let K=t.concat(u.slice(0,S+1)),X=()=>{let $;return D?$=k:P?$=U:b.route.Component?$=C.createElement(b.route.Component,null):b.route.element?$=b.route.element:$=E,C.createElement(HI,{match:b,routeContext:{outlet:E,matches:K,isDataRoute:i!=null},children:$})};return i&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?C.createElement(iT,{location:i.location,revalidation:i.revalidation,component:k,error:D,children:X(),routeContext:{outlet:null,matches:K,isDataRoute:!0},onError:p}):X()},null)}function zg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GI(n){let t=C.useContext(Do);return Ge(t,zg(n)),t}function YI(n){let t=C.useContext(Gh);return Ge(t,zg(n)),t}function QI(n){let t=C.useContext(Vr);return Ge(t,zg(n)),t}function Bg(n){let t=QI(n),i=t.matches[t.matches.length-1];return Ge(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function KI(){return Bg("useRouteId")}function XI(){let n=C.useContext(kg),t=YI("useRouteError"),i=Bg("useRouteError");return n!==void 0?n:t.errors?.[i]}function $I(){let{router:n}=GI("useNavigate"),t=Bg("useNavigate"),i=C.useRef(!1);return nT(()=>{i.current=!0}),C.useCallback(async(o,u={})=>{ir(i.current,eT),i.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:t,...u}))},[n,t])}var W0={};function rT(n,t,i){!t&&!W0[n]&&(W0[n]=!0,ir(!1,i))}C.memo(ZI);function ZI({routes:n,future:t,state:i,onError:a}){return BI(n,void 0,i,a,t)}function JI({basename:n="/",children:t=null,location:i,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Ge(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),g=C.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof i=="string"&&(i=pu(i));let{pathname:p="/",search:E="",hash:b="",state:S=null,key:D="default"}=i,P=C.useMemo(()=>{let k=Mr(p,m);return k==null?null:{location:{pathname:k,search:E,hash:b,state:S,key:D},navigationType:a}},[m,p,E,b,S,D,a]);return ir(P!=null,`<Router basename="${m}"> is not able to match the URL "${p}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:C.createElement(_i.Provider,{value:g},C.createElement(Yh.Provider,{children:t,value:P}))}var rh="get",ah="application/x-www-form-urlencoded";function Qh(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function WI(n){return Qh(n)&&n.tagName.toLowerCase()==="button"}function tO(n){return Qh(n)&&n.tagName.toLowerCase()==="form"}function eO(n){return Qh(n)&&n.tagName.toLowerCase()==="input"}function nO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iO(n,t){return n.button===0&&(!t||t==="_self")&&!nO(n)}var Xc=null;function rO(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var aO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(n){return n!=null&&!aO.has(n)?(ir(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):n}function sO(n,t){let i,a,o,u,f;if(tO(n)){let m=n.getAttribute("action");a=m?Mr(m,t):null,i=n.getAttribute("method")||rh,o=fm(n.getAttribute("enctype"))||ah,u=new FormData(n)}else if(WI(n)||eO(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(a=g?Mr(g,t):null,i=n.getAttribute("formmethod")||m.getAttribute("method")||rh,o=fm(n.getAttribute("formenctype"))||fm(m.getAttribute("enctype"))||ah,u=new FormData(m,n),!rO()){let{name:p,type:E,value:b}=n;if(E==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,b)}}else{if(Qh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=rh,a=null,o=ah,f=n}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pg(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function oO(n,t,i,a){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:t&&Mr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function lO(n,t){if(n.id in t)return t[n.id];try{let i=await import(n.module);return t[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function cO(n,t,i){let a=await Promise.all(n.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await lO(u,i);return f.links?f.links():[]}return[]}));return mO(a.flat(1).filter(uO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function tE(n,t,i,a,o,u){let f=(g,p)=>i[p]?g.route.id!==i[p].route.id:!0,m=(g,p)=>i[p].pathname!==g.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?t.filter((g,p)=>{let E=a.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function hO(n,t,{includeHydrateFallback:i}={}){return fO(n.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function fO(n){return[...new Set(n)]}function dO(n){let t={},i=Object.keys(n).sort();for(let a of i)t[a]=n[a];return t}function mO(n,t){let i=new Set;return new Set(t),n.reduce((a,o)=>{let u=JSON.stringify(dO(o));return i.has(u)||(i.add(u),a.push({key:u,link:o})),a},[])}function aT(){let n=C.useContext(Do);return Pg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gO(){let n=C.useContext(Gh);return Pg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jg=C.createContext(void 0);jg.displayName="FrameworkContext";function sT(){let n=C.useContext(jg);return Pg(n,"You must render this element inside a <HydratedRouter> element"),n}function pO(n,t){let i=C.useContext(jg),[a,o]=C.useState(!1),[u,f]=C.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:b}=t,S=C.useRef(null);C.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let k=K=>{K.forEach(X=>{f(X.isIntersecting)})},U=new IntersectionObserver(k,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[n]),C.useEffect(()=>{if(a){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[a]);let D=()=>{o(!0)},P=()=>{o(!1),f(!1)};return i?n!=="intent"?[u,S,{}]:[u,S,{onFocus:Ml(m,D),onBlur:Ml(g,P),onMouseEnter:Ml(p,D),onMouseLeave:Ml(E,P),onTouchStart:Ml(b,D)}]:[!1,S,{}]}function Ml(n,t){return i=>{n&&n(i),i.defaultPrevented||t(i)}}function yO({page:n,...t}){let{router:i}=aT(),a=C.useMemo(()=>Gb(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?C.createElement(_O,{page:n,matches:a,...t}):null}function vO(n){let{manifest:t,routeModules:i}=sT(),[a,o]=C.useState([]);return C.useEffect(()=>{let u=!1;return cO(n,t,i).then(f=>{u||o(f)}),()=>{u=!0}},[n,t,i]),a}function _O({page:n,matches:t,...i}){let a=gs(),{future:o,manifest:u,routeModules:f}=sT(),{basename:m}=aT(),{loaderData:g,matches:p}=gO(),E=C.useMemo(()=>tE(n,t,p,u,a,"data"),[n,t,p,u,a]),b=C.useMemo(()=>tE(n,t,p,u,a,"assets"),[n,t,p,u,a]),S=C.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let k=new Set,U=!1;if(t.forEach(X=>{let $=u.routes[X.route.id];!$||!$.hasLoader||(!E.some(it=>it.route.id===X.route.id)&&X.route.id in g&&f[X.route.id]?.shouldRevalidate||$.hasClientLoader?U=!0:k.add(X.route.id))}),k.size===0)return[];let K=oO(n,m,o.unstable_trailingSlashAwareDataRequests,"data");return U&&k.size>0&&K.searchParams.set("_routes",t.filter(X=>k.has(X.route.id)).map(X=>X.route.id).join(",")),[K.pathname+K.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,a,u,E,t,n,f]),D=C.useMemo(()=>hO(b,u),[b,u]),P=vO(b);return C.createElement(C.Fragment,null,S.map(k=>C.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...i})),D.map(k=>C.createElement("link",{key:k,rel:"modulepreload",href:k,...i})),P.map(({key:k,link:U})=>C.createElement("link",{key:k,nonce:i.nonce,...U,crossOrigin:U.crossOrigin??i.crossOrigin})))}function EO(...n){return t=>{n.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var bO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bO&&(window.__reactRouterVersion="7.13.0")}catch{}function TO({basename:n,children:t,unstable_useTransitions:i,window:a}){let o=C.useRef();o.current==null&&(o.current=nI({window:a,v5Compat:!0}));let u=o.current,[f,m]=C.useState({action:u.action,location:u.location}),g=C.useCallback(p=>{i===!1?m(p):C.startTransition(()=>m(p))},[i]);return C.useLayoutEffect(()=>u.listen(g),[u,g]),C.createElement(JI,{basename:n,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:i})}var oT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lT=C.forwardRef(function({onClick:t,discover:i="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S,...D},P){let{basename:k,unstable_useTransitions:U}=C.useContext(_i),K=typeof p=="string"&&oT.test(p),X=Zb(p,k);p=X.to;let $=UI(p,{relative:o}),[it,at,st]=pO(a,D),R=RO(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:U});function w(M){t&&t(M),M.defaultPrevented||R(M)}let x=C.createElement("a",{...D,...st,href:X.absoluteURL||$,onClick:X.isExternal||u?t:w,ref:EO(P,at),target:g,"data-discover":!K&&i==="render"?"true":void 0});return it&&!K?C.createElement(C.Fragment,null,x,C.createElement(yO,{page:$})):x});lT.displayName="Link";var SO=C.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let b=vu(f,{relative:p.relative}),S=gs(),D=C.useContext(Gh),{navigator:P,basename:k}=C.useContext(_i),U=D!=null&&IO(b)&&m===!0,K=P.encodeLocation?P.encodeLocation(b).pathname:b.pathname,X=S.pathname,$=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;i||(X=X.toLowerCase(),$=$?$.toLowerCase():null,K=K.toLowerCase()),$&&k&&($=Mr($,k)||$);const it=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let at=X===K||!o&&X.startsWith(K)&&X.charAt(it)==="/",st=$!=null&&($===K||!o&&$.startsWith(K)&&$.charAt(K.length)==="/"),R={isActive:at,isPending:st,isTransitioning:U},w=at?t:void 0,x;typeof a=="function"?x=a(R):x=[a,at?"active":null,st?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(R):u;return C.createElement(lT,{...p,"aria-current":w,className:x,ref:E,style:M,to:f,viewTransition:m},typeof g=="function"?g(R):g)});SO.displayName="NavLink";var AO=C.forwardRef(({discover:n="render",fetcherKey:t,navigate:i,reloadDocument:a,replace:o,state:u,method:f=rh,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S,...D},P)=>{let{unstable_useTransitions:k}=C.useContext(_i),U=DO(),K=NO(m,{relative:p}),X=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&oT.test(m),it=at=>{if(g&&g(at),at.defaultPrevented)return;at.preventDefault();let st=at.nativeEvent.submitter,R=st?.getAttribute("formmethod")||f,w=()=>U(st||at.currentTarget,{fetcherKey:t,method:R,navigate:i,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:S});k&&i!==!1?C.startTransition(()=>w()):w()};return C.createElement("form",{ref:P,method:X,action:K,onSubmit:a?g:it,...D,"data-discover":!$&&n==="render"?"true":void 0})});AO.displayName="Form";function wO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uT(n){let t=C.useContext(Do);return Ge(t,wO(n)),t}function RO(n,{target:t,replace:i,state:a,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=kI(),E=gs(),b=vu(n,{relative:u});return C.useCallback(S=>{if(iO(S,t)){S.preventDefault();let D=i!==void 0?i:su(E)===su(b),P=()=>p(n,{replace:D,state:a,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?C.startTransition(()=>P()):P()}},[E,p,b,i,a,t,n,o,u,f,m,g])}var CO=0,xO=()=>`__${String(++CO)}__`;function DO(){let{router:n}=uT("useSubmit"),{basename:t}=C.useContext(_i),i=KI(),a=n.fetch,o=n.navigate;return C.useCallback(async(u,f={})=>{let{action:m,method:g,encType:p,formData:E,body:b}=sO(u,t);if(f.navigate===!1){let S=f.fetcherKey||xO();await a(S,i,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||g,formEncType:f.encType||p,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||g,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[a,o,t,i])}function NO(n,{relative:t}={}){let{basename:i}=C.useContext(_i),a=C.useContext(Vr);Ge(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...vu(n||".",{relative:t})},f=gs();if(n==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Cr([i,u.pathname])),su(u)}function IO(n,{relative:t}={}){let i=C.useContext(Wb);Ge(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=uT("useViewTransitionState"),o=vu(n,{relative:t});if(!i.isTransitioning)return!1;let u=Mr(i.currentLocation.pathname,a)||i.currentLocation.pathname,f=Mr(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Rh(o.pathname,f)!=null||Rh(o.pathname,u)!=null}class OO extends Rn.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,i){console.error("Uncaught error:",t,i)}render(){return this.state.hasError?q.jsxs("div",{style:{padding:"2rem",maxWidth:"600px",margin:"2rem auto",background:"white",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",fontFamily:"sans-serif",color:"#333"},children:[q.jsx("h2",{style:{color:"#ef4444",margin:"0 0 1rem 0"},children:""}),q.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:""}),q.jsxs("div",{style:{background:"#bee3f8",padding:"10px",borderRadius:"4px",marginBottom:"10px",color:"#2c5282"},children:[q.jsx("strong",{children:"Error:"})," ",this.state.error?.message||"Unknown Error"]}),q.jsx("pre",{style:{background:"#f3f4f6",padding:"1rem",borderRadius:"4px",overflowX:"auto",fontSize:"0.85rem",color:"#333",textAlign:"left"},children:this.state.error?.stack||this.state.error?.toString()}),q.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",background:"#059669",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:""})]}):this.props.children}}XS.createRoot(document.getElementById("root")).render(q.jsx(C.StrictMode,{children:q.jsx(OO,{children:q.jsx(TO,{basename:"/outdoor-trip-planner",children:q.jsx(eI,{})})})}));
